{"version":3,"file":"vendors-node_modules_theia_plugin-ext_lib_plugin-ext-frontend-module_js.js","mappings":"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CA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;;;;;ACvCF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,mBAAO,CAAC,qDAAO;AAC7B,eAAe,mBAAO,CAAC,8DAAU;AACjC;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,qDAAqD,kCAAkC;AACvF;AACA,SAAS;AACT;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,wCAAwC,0CAA0C,IAAI;AAC9I;AACA;AACA;AACA;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,YAAY;AACnD;AACA;AACA,0EAA0E,kBAAkB;AAC5F;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;;;;;AClHF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,GAAG,wBAAwB,GAAG,iBAAiB;AACjE,iBAAiB;AACjB,wBAAwB;AACxB,kBAAkB;;;;;;;;;;;;ACLL;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,GAAG,mBAAmB,GAAG,iBAAiB,GAAG,aAAa;AAC5E,cAAc,mBAAO,CAAC,qDAAO;AAC7B,cAAc,mBAAO,CAAC,4DAAS;AAC/B,yCAAwC,EAAE,qCAAqC,2BAA2B,EAAC;AAC3G,kBAAkB,mBAAO,CAAC,oEAAa;AACvC,6CAA4C,EAAE,qCAAqC,+BAA+B,EAAC;AACnH,oBAAoB,mBAAO,CAAC,wEAAe;AAC3C,+CAA8C,EAAE,qCAAqC,qCAAqC,EAAC;AAC3H,mBAAmB,mBAAO,CAAC,sEAAc;AACzC,8CAA6C,EAAE,qCAAqC,mCAAmC,EAAC;AACxH,qBAAqB,mBAAO,CAAC,8DAAU;;;;;;;;;;;;ACZ1B;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,eAAe,mBAAO,CAAC,8DAAU;AACjC,oBAAoB,mBAAO,CAAC,wEAAe;AAC3C;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA,kBAAkB;;;;;;;;;;;;ACXL;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,cAAc,mBAAO,CAAC,qDAAO;AAC7B;AACA,eAAe,mBAAO,CAAC,8DAAU;AACjC;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,sDAAsD,8BAA8B;AACpF;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,gCAAgC,yBAAyB;AACzD,gCAAgC,yBAAyB;AACzD,qCAAqC,8BAA8B;AACnE;AACA;AACA,mBAAmB;;;;;;;;;;;;;;;;;;;;ACxGnB;AAC+G;AACjB;AAC9F,8BAA8B,sEAA2B,CAAC,+EAAqC;AAC/F;AAC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A;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,6IAA6I,OAAO,cAAc,MAAM,YAAY,WAAW,OAAO,KAAK,YAAY,WAAW,UAAU,UAAU,UAAU,YAAY,OAAO,MAAM,YAAY,WAAW,UAAU,UAAU,UAAU,UAAU,YAAY,WAAW,YAAY,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,OAAO,KAAK,UAAU,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,UAAU,YAAY,WAAW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","sources":["webpack:///../../node_modules/@theia/ai-mcp/src/common/index.ts?","webpack:///../../node_modules/@theia/ai-mcp/src/common/mcp-server-manager.ts?","webpack:///../../node_modules/@theia/callhierarchy/src/browser/index.ts?","webpack:///../../node_modules/@theia/core/shared/@theia/request/index.js?","webpack:///../../node_modules/@theia/editor-preview/src/browser/editor-preview-widget.ts?","webpack:///../../node_modules/@theia/monaco/src/browser/textmate/index.ts?","webpack:///../../node_modules/@theia/notebook/src/browser/index.ts?","webpack:///../../node_modules/@theia/notebook/src/browser/notebook-types.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/common/language-pack-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/hosted/browser/hosted-plugin-watcher.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/hosted/browser/hosted-plugin.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/hosted/browser/plugin-worker.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/hosted/common/hosted-plugin.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/authentication-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/clipboard-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/command-registry-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/commands.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/comments/comment-glyph-widget.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/comments/comment-thread-widget.tsx?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/comments/comments-context.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/comments/comments-contribution.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/comments/comments-decorator.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/comments/comments-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/comments/comments-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/custom-editors/custom-editor-opener.tsx?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/custom-editors/custom-editor-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/custom-editors/custom-editor-undo-redo-handler.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/custom-editors/custom-editor-widget-factory.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/custom-editors/custom-editor-widget.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/custom-editors/custom-editors-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/custom-editors/plugin-custom-editor-registry.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/debug/debug-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/debug/plugin-debug-adapter-contribution.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/debug/plugin-debug-configuration-provider.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/debug/plugin-debug-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/debug/plugin-debug-session-contribution-registry.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/debug/plugin-debug-session-factory.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/decorations/decorations-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/dialogs-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/dialogs/modal-notification.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/documents-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/editors-and-documents-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/env-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/file-system-main-impl.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/keybindings/keybindings-contribution-handler.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/label-service-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/languages-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/lm-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/localization-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/logger-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/main-context.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/main-file-system-event-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/menus/menus-contribution-handler.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/menus/plugin-menu-command-adapter.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/menus/vscode-theia-menu-mappings.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/message-registry-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notebooks/notebook-documents-and-editors-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notebooks/notebook-documents-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notebooks/notebook-dto.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notebooks/notebook-editors-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notebooks/notebook-kernels-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notebooks/notebook-renderers-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notebooks/notebooks-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notebooks/renderers/cell-output-webview.tsx?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notebooks/renderers/output-webview-internal.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/notification-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/output-channel-registry-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-authentication-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-contribution-handler.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-ext-argument-processor.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-ext-frontend-module.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-ext-widget.tsx?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-frontend-contribution.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-frontend-view-contribution.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-icon-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-icon-theme-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-shared-style.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-storage.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/plugin-terminal-registry.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/preference-registry-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/quick-open-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/scm-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/secrets-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/selection-provider-command.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/status-bar-message-registry-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/tabs/tabs-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/tasks-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/terminal-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/test-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/text-editor-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/text-editor-model-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/text-editors-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/theme-icon-override.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/theming-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/timeline-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/uri-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/view/dnd-file-content-store.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/view/plugin-tree-view-node-label-provider.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/view/plugin-view-registry.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/view/plugin-view-widget.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/view/tree-view-decorator-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/view/tree-view-widget.tsx?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/view/tree-views-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/view/view-context-key-service.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview-views/webview-views-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-context-keys.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-environment.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-frontend-preference-contribution.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-frontend-security-warnings.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-resource-cache.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-secondary-window-support.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-theme-data-provider.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-widget-factory.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webview/webview.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/webviews-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/window-activity-tracker.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/window-state-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/workspace-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/common/basic-message-registry-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/common/basic-notification-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/common/env-main.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/common/plugin-paths-protocol.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/common/webview-preferences.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/main/common/webview-protocol.ts?","webpack:///../../node_modules/@theia/plugin-ext/src/plugin-ext-frontend-module.ts?","webpack:///../../node_modules/@theia/plugin-ext/node_modules/mime/Mime.js?","webpack:///../../node_modules/@theia/plugin-ext/node_modules/mime/index.js?","webpack:///../../node_modules/@theia/plugin-ext/node_modules/mime/types/other.js?","webpack:///../../node_modules/@theia/plugin-ext/node_modules/mime/types/standard.js?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/dialogs/style/modal-notification.css?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/style/comments.css?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/style/index.css?","webpack:///../../node_modules/@theia/plugin-ext/src/main/style/status-bar.css?","webpack:///../../node_modules/@theia/task/src/browser/index.ts?","webpack:///../../node_modules/@theia/typehierarchy/src/browser/index.ts?","webpack:///../../node_modules/@theia/typehierarchy/src/browser/typehierarchy.ts?","webpack:///../../node_modules/async-mutex/lib/Mutex.js?","webpack:///../../node_modules/async-mutex/lib/Semaphore.js?","webpack:///../../node_modules/async-mutex/lib/errors.js?","webpack:///../../node_modules/async-mutex/lib/index.js?","webpack:///../../node_modules/async-mutex/lib/tryAcquire.js?","webpack:///../../node_modules/async-mutex/lib/withTimeout.js?","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/dialogs/style/modal-notification.css?../../node_modules/css-loader/dist/cjs.js","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/style/comments.css?../../node_modules/css-loader/dist/cjs.js","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/style/index.css?../../node_modules/css-loader/dist/cjs.js","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/style/plugin-sidebar.css?../../node_modules/css-loader/dist/cjs.js","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/style/tree.css?../../node_modules/css-loader/dist/cjs.js","webpack:///../../node_modules/@theia/plugin-ext/src/main/browser/style/webview.css?../../node_modules/css-loader/dist/cjs.js","webpack:///../../node_modules/@theia/plugin-ext/src/main/style/status-bar.css?../../node_modules/css-loader/dist/cjs.js"],"sourcesContent":["// *****************************************************************************\n// Copyright (C) 2024 EclipseSource GmbH.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nexport * from './mcp-server-manager';\n","// *****************************************************************************\n// Copyright (C) 2024 EclipseSource GmbH.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport type { CallToolResult, ListResourcesResult, ListToolsResult, ReadResourceResult } from '@modelcontextprotocol/sdk/types';\nimport { Event } from '@theia/core/lib/common/event';\n\nexport const MCPFrontendService = Symbol('MCPFrontendService');\nexport interface MCPFrontendService {\n    startServer(serverName: string): Promise<void>;\n    hasServer(serverName: string): Promise<boolean>;\n    isServerStarted(serverName: string): Promise<boolean>;\n    registerToolsForAllStartedServers(): Promise<void>;\n    stopServer(serverName: string): Promise<void>;\n    addOrUpdateServer(description: MCPServerDescription): Promise<void>;\n    getStartedServers(): Promise<string[]>;\n    getServerNames(): Promise<string[]>;\n    getServerDescription(name: string): Promise<MCPServerDescription | undefined>;\n    getTools(serverName: string): Promise<ListToolsResult | undefined>;\n    getPromptTemplateId(serverName: string): string;\n}\n\nexport const MCPFrontendNotificationService = Symbol('MCPFrontendNotificationService');\nexport interface MCPFrontendNotificationService {\n    readonly onDidUpdateMCPServers: Event<void>;\n    didUpdateMCPServers(): void;\n}\n\nexport interface MCPServer {\n    callTool(toolName: string, arg_string: string): Promise<CallToolResult>;\n    getTools(): Promise<ListToolsResult>;\n    readResource(resourceId: string): Promise<ReadResourceResult>;\n    getResources(): Promise<ListResourcesResult>;\n    description: MCPServerDescription;\n}\n\nexport interface MCPServerManager {\n    callTool(serverName: string, toolName: string, arg_string: string): Promise<CallToolResult>;\n    removeServer(name: string): void;\n    addOrUpdateServer(description: MCPServerDescription): void;\n    getTools(serverName: string): Promise<ListToolsResult>;\n    getServerNames(): Promise<string[]>;\n    getServerDescription(name: string): Promise<MCPServerDescription | undefined>;\n    startServer(serverName: string): Promise<void>;\n    stopServer(serverName: string): Promise<void>;\n    getRunningServers(): Promise<string[]>;\n    setClient(client: MCPFrontendNotificationService): void;\n    disconnectClient(client: MCPFrontendNotificationService): void;\n    readResource(serverName: string, resourceId: string): Promise<ReadResourceResult>;\n    getResources(serverName: string): Promise<ListResourcesResult>;\n}\n\nexport interface ToolInformation {\n    name: string;\n    description?: string;\n}\n\nexport enum MCPServerStatus {\n    NotRunning = 'Not Running',\n    NotConnected = 'Not Connected',\n    Starting = 'Starting',\n    Connecting = 'Connecting',\n    Running = 'Running',\n    Connected = 'Connected',\n    Errored = 'Errored'\n}\n\nexport interface BaseMCPServerDescription {\n    /**\n     * The unique name of the MCP server.\n     */\n    name: string;\n\n    /**\n     * Flag indicating whether the server should automatically start when the application starts.\n     */\n    autostart?: boolean;\n\n    /**\n     * The current status of the server. Optional because only set by the server.\n     */\n    status?: MCPServerStatus;\n\n    /**\n     * Last error message that the server has returned.\n     */\n    error?: string;\n\n    /**\n     * List of available tools for the server. Returns the name and description if available.\n     */\n    tools?: ToolInformation[];\n\n    /**\n     * Optional resolve function that gets called during server definition resolution.\n     * This function can be used to dynamically modify server configurations,\n     * resolve environment variables, validate configurations, or perform any\n     * necessary preprocessing before the server starts.\n     *\n     * @param description The current server description\n     * @returns A promise that resolves to the processed server description\n     */\n    resolve?: (description: MCPServerDescription) => Promise<MCPServerDescription>;\n}\n\nexport interface LocalMCPServerDescription extends BaseMCPServerDescription {\n    /**\n     * The command to execute the MCP server.\n     */\n    command: string;\n\n    /**\n     * An array of arguments to pass to the command.\n     */\n    args?: string[];\n\n    /**\n     * Optional environment variables to set when starting the server.\n     */\n    env?: { [key: string]: string };\n}\n\nexport interface RemoteMCPServerDescription extends BaseMCPServerDescription {\n    /**\n     * The URL of the remote MCP server.\n     */\n    serverUrl: string;\n\n    /**\n     * The authentication token for the server, if required.\n     */\n    serverAuthToken?: string;\n\n    /**\n     * The header name to use for the server authentication token.\n     */\n    serverAuthTokenHeader?: string;\n\n    /**\n     * Optional additional headers to include in requests to the server.\n     */\n    headers?: Record<string, string>;\n}\n\nexport type MCPServerDescription = LocalMCPServerDescription | RemoteMCPServerDescription;\n\nexport function isLocalMCPServerDescription(description: MCPServerDescription): description is LocalMCPServerDescription {\n    return (description as LocalMCPServerDescription).command !== undefined;\n}\nexport function isRemoteMCPServerDescription(description: MCPServerDescription): description is RemoteMCPServerDescription {\n    return (description as RemoteMCPServerDescription).serverUrl !== undefined;\n}\n\nexport const MCPServerManager = Symbol('MCPServerManager');\nexport const MCPServerManagerPath = '/services/mcpservermanager';\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './callhierarchy';\nexport * from './callhierarchy-contribution';\nexport * from './callhierarchy-frontend-module';\nexport * from './callhierarchy-service';\n","module.exports = require('@theia/request');\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { TabBar, Widget, PINNED_CLASS } from '@theia/core/lib/browser';\nimport { EditorWidget, TextEditor } from '@theia/editor/lib/browser';\nimport { Disposable, DisposableCollection, Emitter, SelectionService, UNTITLED_SCHEME } from '@theia/core/lib/common';\n\nconst PREVIEW_TITLE_CLASS = 'theia-editor-preview-title-unpinned';\nexport class EditorPreviewWidget extends EditorWidget {\n    protected _isPreview = false;\n\n    protected readonly onDidChangePreviewStateEmitter = new Emitter<void>();\n    readonly onDidChangePreviewState = this.onDidChangePreviewStateEmitter.event;\n\n    get isPreview(): boolean {\n        return this._isPreview;\n    }\n\n    constructor(\n        editor: TextEditor,\n        selectionService: SelectionService\n    ) {\n        super(editor, selectionService);\n        this.toDispose.push(this.onDidChangePreviewStateEmitter);\n    }\n\n    initializePreview(): void {\n        const oneTimeListeners = new DisposableCollection();\n        this._isPreview = true;\n        this.title.className += ` ${PREVIEW_TITLE_CLASS}`;\n        const oneTimeDirtyChangeListener = this.saveable.onDirtyChanged(() => {\n            this.convertToNonPreview();\n            oneTimeListeners.dispose();\n        });\n        oneTimeListeners.push(oneTimeDirtyChangeListener);\n        const oneTimeTitleChangeHandler = () => {\n            if (this.title.className.includes(PINNED_CLASS)) {\n                this.convertToNonPreview();\n                oneTimeListeners.dispose();\n            }\n        };\n        this.title.changed.connect(oneTimeTitleChangeHandler);\n        oneTimeListeners.push(Disposable.create(() => this.title.changed.disconnect(oneTimeTitleChangeHandler)));\n        this.toDispose.push(oneTimeListeners);\n    }\n\n    convertToNonPreview(): void {\n        if (this._isPreview) {\n            this._isPreview = false;\n            this.currentTabbar = undefined;\n            this.title.className = this.title.className.replace(PREVIEW_TITLE_CLASS, '');\n            this.onDidChangePreviewStateEmitter.fire();\n            this.onDidChangePreviewStateEmitter.dispose();\n        }\n    }\n\n    protected override handleTabBarChange(oldTabBar?: TabBar<Widget> | undefined, newTabBar?: TabBar<Widget> | undefined): void {\n        super.handleTabBarChange(oldTabBar, newTabBar);\n        if (this._isPreview) {\n            if (oldTabBar && newTabBar) { this.convertToNonPreview(); }\n        }\n    }\n\n    override storeState(): { isPreview: boolean, editorState: object } | undefined {\n        if (this.getResourceUri()?.scheme !== UNTITLED_SCHEME) {\n            const { _isPreview: isPreview } = this;\n            return { isPreview, editorState: this.editor.storeViewState() };\n        }\n    }\n\n    override restoreState(oldState: { isPreview: boolean, editorState: object }): void {\n        if (!oldState.isPreview) {\n            this.convertToNonPreview();\n        }\n        this.editor.restoreViewState(oldState.editorState);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './textmate-registry';\nexport * from './textmate-contribution';\nexport * from './monaco-textmate-service';\nexport * from './monaco-textmate-frontend-bindings';\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './notebook-type-registry';\nexport * from './notebook-renderer-registry';\nexport * from './notebook-editor-widget';\nexport * from './service/notebook-service';\nexport * from './service/notebook-editor-widget-service';\nexport * from './service/notebook-kernel-service';\nexport * from './service/notebook-execution-state-service';\nexport * from './service/notebook-model-resolver-service';\nexport * from './service/notebook-renderer-messaging-service';\nexport * from './service/notebook-cell-editor-service';\nexport * from './renderers/cell-output-webview';\nexport * from './notebook-types';\nexport * from './notebook-editor-split-contribution';\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    CellData, CellEditType, CellMetadataEdit, CellOutput, CellOutputItem, CellRange, NotebookCellContentChangeEvent,\n    NotebookCellInternalMetadata,\n    NotebookCellMetadata,\n    NotebookCellsChangeInternalMetadataEvent,\n    NotebookCellsChangeLanguageEvent,\n    NotebookCellsChangeMetadataEvent,\n    NotebookCellsChangeType, NotebookCellTextModelSplice, NotebookDocumentMetadata\n} from '../common';\nimport { NotebookCell } from './view-model/notebook-cell-model';\n\nexport interface NotebookTextModelChangedEvent {\n    readonly rawEvents: NotebookContentChangedEvent[];\n    // readonly versionId: number;\n    readonly synchronous?: boolean;\n    readonly endSelectionState?: SelectionState;\n};\n\nexport type NotebookContentChangedEvent = (NotebookCellsInitializeEvent<NotebookCell> | NotebookDocumentChangeMetadataEvent | NotebookCellContentChangeEvent |\n    NotebookCellsModelChangedEvent<NotebookCell> | NotebookCellsModelMoveEvent<NotebookCell> | NotebookOutputChangedEvent | NotebookOutputItemChangedEvent |\n    NotebookCellsChangeLanguageEvent | NotebookCellsChangeMetadataEvent |\n    NotebookCellsChangeInternalMetadataEvent | NotebookDocumentUnknownChangeEvent); // & { transient: boolean };\n\nexport interface NotebookCellsInitializeEvent<T> {\n    readonly kind: NotebookCellsChangeType.Initialize;\n    readonly changes: NotebookCellTextModelSplice<T>[];\n}\n\nexport interface NotebookDocumentChangeMetadataEvent {\n    readonly kind: NotebookCellsChangeType.ChangeDocumentMetadata;\n    readonly metadata: NotebookDocumentMetadata;\n}\n\nexport interface NotebookCellsModelChangedEvent<T> {\n    readonly kind: NotebookCellsChangeType.ModelChange;\n    readonly changes: NotebookCellTextModelSplice<T>[];\n}\n\nexport interface NotebookModelWillAddRemoveEvent {\n    readonly rawEvent: NotebookCellsModelChangedEvent<CellData>;\n};\n\nexport interface NotebookCellsModelMoveEvent<T> {\n    readonly kind: NotebookCellsChangeType.Move;\n    readonly index: number;\n    readonly length: number;\n    readonly newIdx: number;\n    readonly cells: T[];\n}\n\nexport interface NotebookOutputChangedEvent {\n    readonly kind: NotebookCellsChangeType.Output;\n    readonly index: number;\n    readonly outputs: CellOutput[];\n    readonly append: boolean;\n}\n\nexport interface NotebookOutputItemChangedEvent {\n    readonly kind: NotebookCellsChangeType.OutputItem;\n    readonly index: number;\n    readonly outputId: string;\n    readonly outputItems: CellOutputItem[];\n    readonly append: boolean;\n}\n\nexport interface NotebookDocumentUnknownChangeEvent {\n    readonly kind: NotebookCellsChangeType.Unknown;\n}\n\nexport enum SelectionStateType {\n    Handle = 0,\n    Index = 1\n}\n\nexport interface SelectionHandleState {\n    kind: SelectionStateType.Handle;\n    primary: number | null;\n    selections: number[];\n}\n\nexport interface SelectionIndexState {\n    kind: SelectionStateType.Index;\n    focus: CellRange;\n    selections: CellRange[];\n}\n\nexport type SelectionState = SelectionHandleState | SelectionIndexState;\n\nexport interface NotebookModelWillAddRemoveEvent {\n    readonly newCellIds?: number[];\n    readonly rawEvent: NotebookCellsModelChangedEvent<CellData>;\n    readonly externalEvent?: boolean;\n};\n\nexport interface CellOutputEdit {\n    editType: CellEditType.Output;\n    index: number;\n    outputs: CellOutput[];\n    deleteCount?: number;\n    append?: boolean;\n}\n\nexport interface CellOutputEditByHandle {\n    editType: CellEditType.Output;\n    handle: number;\n    outputs: CellOutput[];\n    deleteCount?: number;\n    append?: boolean;\n}\n\nexport interface CellOutputItemEdit {\n    editType: CellEditType.OutputItems;\n    items: CellOutputItem[];\n    outputId: string;\n    append?: boolean;\n}\n\nexport interface CellLanguageEdit {\n    editType: CellEditType.CellLanguage;\n    index: number;\n    language: string;\n}\n\nexport interface DocumentMetadataEdit {\n    editType: CellEditType.DocumentMetadata;\n    metadata: NotebookDocumentMetadata;\n}\n\nexport interface CellMoveEdit {\n    editType: CellEditType.Move;\n    index: number;\n    length: number;\n    newIdx: number;\n}\n\nexport interface CellReplaceEdit {\n    editType: CellEditType.Replace;\n    index: number;\n    count: number;\n    cells: CellData[];\n}\n\nexport interface CellPartialMetadataEdit {\n    editType: CellEditType.PartialMetadata;\n    index: number;\n    metadata: NullablePartialNotebookCellMetadata;\n}\n\nexport type ImmediateCellEditOperation = CellOutputEditByHandle | CellOutputItemEdit | CellPartialInternalMetadataEditByHandle; // add more later on\nexport type CellEditOperation = ImmediateCellEditOperation | CellReplaceEdit | CellOutputEdit |\n    CellMetadataEdit | CellLanguageEdit | DocumentMetadataEdit | CellMoveEdit | CellPartialMetadataEdit; // add more later on\n\nexport type NullablePartialNotebookCellInternalMetadata = {\n    [Key in keyof Partial<NotebookCellInternalMetadata>]: NotebookCellInternalMetadata[Key] | null\n};\n\nexport type NullablePartialNotebookCellMetadata = {\n    [Key in keyof Partial<NotebookCellMetadata>]: NotebookCellMetadata[Key] | null\n};\n\nexport interface CellPartialInternalMetadataEditByHandle {\n    editType: CellEditType.PartialInternalMetadata;\n    handle: number;\n    internalMetadata: NullablePartialNotebookCellInternalMetadata;\n}\n\nexport interface NotebookCellOutputsSplice {\n    start: number;\n    deleteCount: number;\n    newOutputs: CellOutput[];\n};\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * Starting with vscode 1.73.0, language pack bundles have changed their shape to accommodate the new `l10n` API.\n * They are now a record of { [englishValue]: translation }\n */\nexport interface LanguagePackBundle {\n    contents: Record<string, string>\n    uri: string\n}\n\nexport const languagePackServicePath = '/services/languagePackService';\n\nexport const LanguagePackService = Symbol('LanguagePackService');\n\nexport interface LanguagePackService {\n    storeBundle(pluginId: string, locale: string, bundle: LanguagePackBundle): void;\n    deleteBundle(pluginId: string, locale?: string): void;\n    getBundle(pluginId: string, locale: string): Promise<LanguagePackBundle | undefined>;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { HostedPluginClient } from '../../common/plugin-protocol';\nimport { LogPart } from '../../common/types';\n\n@injectable()\nexport class HostedPluginWatcher {\n    private onPostMessage = new Emitter<{ pluginHostId: string, message: Uint8Array }>();\n\n    private onLogMessage = new Emitter<LogPart>();\n\n    private readonly onDidDeployEmitter = new Emitter<void>();\n    readonly onDidDeploy = this.onDidDeployEmitter.event;\n\n    getHostedPluginClient(): HostedPluginClient {\n        const messageEmitter = this.onPostMessage;\n        const logEmitter = this.onLogMessage;\n        return {\n            postMessage(pluginHostId, message: Uint8Array): Promise<void> {\n                messageEmitter.fire({ pluginHostId, message });\n                return Promise.resolve();\n            },\n            log(logPart: LogPart): Promise<void> {\n                logEmitter.fire(logPart);\n                return Promise.resolve();\n            },\n            onDidDeploy: () => this.onDidDeployEmitter.fire(undefined)\n        };\n    }\n\n    get onPostMessageEvent(): Event<{ pluginHostId: string, message: Uint8Array }> {\n        return this.onPostMessage.event;\n    }\n\n    get onLogMessageEvent(): Event<LogPart> {\n        return this.onLogMessage.event;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/da5fb7d5b865aa522abc7e82c10b746834b98639/src/vs/workbench/api/node/extHostExtensionService.ts\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { generateUuid } from '@theia/core/lib/common/uuid';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { PluginWorker } from './plugin-worker';\nimport { getPluginId, DeployedPlugin, HostedPluginServer } from '../../common/plugin-protocol';\nimport { HostedPluginWatcher } from './hosted-plugin-watcher';\nimport { ExtensionKind, MAIN_RPC_CONTEXT, PluginManagerExt, UIKind } from '../../common/plugin-api-rpc';\nimport { setUpPluginApi } from '../../main/browser/main-context';\nimport { RPCProtocol, RPCProtocolImpl } from '../../common/rpc-protocol';\nimport {\n    Disposable, DisposableCollection, isCancelled,\n    CommandRegistry, WillExecuteCommandEvent,\n    CancellationTokenSource, ProgressService, nls,\n    RpcProxy\n} from '@theia/core';\nimport { PreferenceServiceImpl, PreferenceProviderProvider } from '@theia/core/lib/common/preferences';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { PluginContributionHandler } from '../../main/browser/plugin-contribution-handler';\nimport { getQueryParameters } from '../../main/browser/env-main';\nimport { getPreferences } from '../../main/browser/preference-registry-main';\nimport { Deferred, waitForEvent } from '@theia/core/lib/common/promise-util';\nimport { DebugSessionManager } from '@theia/debug/lib/browser/debug-session-manager';\nimport { DebugConfigurationManager } from '@theia/debug/lib/browser/debug-configuration-manager';\nimport { Event, WaitUntilEvent } from '@theia/core/lib/common/event';\nimport { FileSearchService } from '@theia/file-search/lib/common/file-search-service';\nimport { FrontendApplicationStateService } from '@theia/core/lib/browser/frontend-application-state';\nimport { PluginViewRegistry } from '../../main/browser/view/plugin-view-registry';\nimport { WillResolveTaskProvider, TaskProviderRegistry, TaskResolverRegistry } from '@theia/task/lib/browser/task-contribution';\nimport { TaskDefinitionRegistry } from '@theia/task/lib/browser/task-definition-registry';\nimport { WebviewEnvironment } from '../../main/browser/webview/webview-environment';\nimport { WebviewWidget } from '../../main/browser/webview/webview';\nimport { WidgetManager } from '@theia/core/lib/browser/widget-manager';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport URI from '@theia/core/lib/common/uri';\nimport { FrontendApplicationConfigProvider } from '@theia/core/lib/browser/frontend-application-config-provider';\nimport { environment } from '@theia/core/shared/@theia/application-package/lib/environment';\nimport { JsonSchemaStore } from '@theia/core/lib/browser/json-schema-store';\nimport { FileService, FileSystemProviderActivationEvent } from '@theia/filesystem/lib/browser/file-service';\nimport { PluginCustomEditorRegistry } from '../../main/browser/custom-editors/plugin-custom-editor-registry';\nimport { CustomEditorWidget } from '../../main/browser/custom-editors/custom-editor-widget';\nimport { StandaloneServices } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneServices';\nimport { ILanguageService } from '@theia/monaco-editor-core/esm/vs/editor/common/languages/language';\nimport { LanguageService } from '@theia/monaco-editor-core/esm/vs/editor/common/services/languageService';\nimport { Uint8ArrayReadBuffer, Uint8ArrayWriteBuffer } from '@theia/core/lib/common/message-rpc/uint8-array-message-buffer';\nimport { BasicChannel } from '@theia/core/lib/common/message-rpc/channel';\nimport { NotebookTypeRegistry, NotebookService, NotebookRendererMessagingService } from '@theia/notebook/lib/browser';\nimport { ApplicationServer } from '@theia/core/lib/common/application-protocol';\nimport {\n    AbstractHostedPluginSupport, PluginContributions, PluginHost,\n    ALL_ACTIVATION_EVENT, isConnectionScopedBackendPlugin\n} from '../common/hosted-plugin';\nimport { isRemote } from '@theia/core/lib/browser/browser';\n\nexport type DebugActivationEvent = 'onDebugResolve' | 'onDebugInitialConfigurations' | 'onDebugAdapterProtocolTracker' | 'onDebugDynamicConfigurations';\n\nexport const PluginProgressLocation = 'plugin';\n\n@injectable()\nexport class HostedPluginSupport extends AbstractHostedPluginSupport<PluginManagerExt, RpcProxy<HostedPluginServer>> {\n\n    protected static ADDITIONAL_ACTIVATION_EVENTS_ENV = 'ADDITIONAL_ACTIVATION_EVENTS';\n    protected static BUILTIN_ACTIVATION_EVENTS = [\n        '*',\n        'onLanguage',\n        'onCommand',\n        'onDebug',\n        'onDebugInitialConfigurations',\n        'onDebugResolve',\n        'onDebugAdapterProtocolTracker',\n        'onDebugDynamicConfigurations',\n        'onTaskType',\n        'workspaceContains',\n        'onView',\n        'onUri',\n        'onTerminalProfile',\n        'onWebviewPanel',\n        'onFileSystem',\n        'onCustomEditor',\n        'onStartupFinished',\n        'onAuthenticationRequest',\n        'onNotebook',\n        'onNotebookSerializer'\n    ];\n\n    @inject(HostedPluginWatcher)\n    protected readonly watcher: HostedPluginWatcher;\n\n    @inject(PluginContributionHandler)\n    protected readonly contributionHandler: PluginContributionHandler;\n\n    @inject(PreferenceProviderProvider)\n    protected readonly preferenceProviderProvider: PreferenceProviderProvider;\n\n    @inject(PreferenceServiceImpl)\n    protected readonly preferenceServiceImpl: PreferenceServiceImpl;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(NotebookService)\n    protected readonly notebookService: NotebookService;\n\n    @inject(NotebookRendererMessagingService)\n    protected readonly notebookRendererMessagingService: NotebookRendererMessagingService;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(DebugSessionManager)\n    protected readonly debugSessionManager: DebugSessionManager;\n\n    @inject(DebugConfigurationManager)\n    protected readonly debugConfigurationManager: DebugConfigurationManager;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(FileSearchService)\n    protected readonly fileSearchService: FileSearchService;\n\n    @inject(FrontendApplicationStateService)\n    protected readonly appState: FrontendApplicationStateService;\n\n    @inject(NotebookTypeRegistry)\n    protected readonly notebookTypeRegistry: NotebookTypeRegistry;\n\n    @inject(PluginViewRegistry)\n    protected readonly viewRegistry: PluginViewRegistry;\n\n    @inject(TaskProviderRegistry)\n    protected readonly taskProviderRegistry: TaskProviderRegistry;\n\n    @inject(TaskResolverRegistry)\n    protected readonly taskResolverRegistry: TaskResolverRegistry;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(ProgressService)\n    protected readonly progressService: ProgressService;\n\n    @inject(WebviewEnvironment)\n    protected readonly webviewEnvironment: WebviewEnvironment;\n\n    @inject(WidgetManager)\n    protected readonly widgets: WidgetManager;\n\n    @inject(TerminalService)\n    protected readonly terminalService: TerminalService;\n\n    @inject(JsonSchemaStore)\n    protected readonly jsonSchemaStore: JsonSchemaStore;\n\n    @inject(PluginCustomEditorRegistry)\n    protected readonly customEditorRegistry: PluginCustomEditorRegistry;\n\n    @inject(ApplicationServer)\n    protected readonly applicationServer: ApplicationServer;\n\n    constructor() {\n        super(generateUuid());\n    }\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n\n        this.workspaceService.onWorkspaceChanged(() => this.updateStoragePath());\n\n        const languageService = (StandaloneServices.get(ILanguageService) as LanguageService);\n        for (const language of languageService['_requestedBasicLanguages'] as Set<string>) {\n            this.activateByLanguage(language);\n        }\n        languageService.onDidRequestBasicLanguageFeatures(language => this.activateByLanguage(language));\n        this.commands.onWillExecuteCommand(event => this.ensureCommandHandlerRegistration(event));\n        this.debugSessionManager.onWillStartDebugSession(event => this.ensureDebugActivation(event));\n        this.debugSessionManager.onWillResolveDebugConfiguration(event => this.ensureDebugActivation(event, 'onDebugResolve', event.debugType));\n        this.debugConfigurationManager.onWillProvideDebugConfiguration(event => this.ensureDebugActivation(event, 'onDebugInitialConfigurations'));\n        // Activate all providers of dynamic configurations, i.e. Let the user pick a configuration from all the available ones.\n        this.debugConfigurationManager.onWillProvideDynamicDebugConfiguration(event => this.ensureDebugActivation(event, 'onDebugDynamicConfigurations', ALL_ACTIVATION_EVENT));\n        this.viewRegistry.onDidExpandView(id => this.activateByView(id));\n        this.taskProviderRegistry.onWillProvideTaskProvider(event => this.ensureTaskActivation(event));\n        this.taskResolverRegistry.onWillProvideTaskResolver(event => this.ensureTaskActivation(event));\n        this.fileService.onWillActivateFileSystemProvider(event => this.ensureFileSystemActivation(event));\n        this.customEditorRegistry.onWillOpenCustomEditor(event => this.activateByCustomEditor(event));\n        this.notebookService.onWillOpenNotebook(async event => this.activateByNotebook(event));\n        this.notebookRendererMessagingService.onWillActivateRenderer(rendererId => this.activateByNotebookRenderer(rendererId));\n\n        this.widgets.onDidCreateWidget(({ factoryId, widget }) => {\n            // note: state restoration of custom editors is handled in `PluginCustomEditorRegistry.init`\n            if (factoryId === WebviewWidget.FACTORY_ID && widget instanceof WebviewWidget) {\n                const storeState = widget.storeState.bind(widget);\n                const restoreState = widget.restoreState.bind(widget);\n\n                widget.storeState = () => {\n                    if (this.webviewRevivers.has(widget.viewType)) {\n                        return storeState();\n                    }\n                    return undefined;\n                };\n\n                widget.restoreState = state => {\n                    if (state.viewType) {\n                        restoreState(state);\n                        this.preserveWebview(widget);\n                    } else {\n                        widget.dispose();\n                    }\n                };\n            }\n        });\n    }\n\n    protected createTheiaReadyPromise(): Promise<unknown> {\n        return Promise.all([this.preferenceServiceImpl.ready, this.workspaceService.roots]);\n    }\n\n    protected override runOperation(operation: () => Promise<void>): Promise<void> {\n        return this.progressService.withProgress('', PluginProgressLocation, () => this.doLoad());\n    }\n\n    protected override afterStart(): void {\n        this.watcher.onDidDeploy(() => this.load());\n        this.server.onDidOpenConnection(() => this.load());\n    }\n\n    // Only load connection-scoped plugins\n    protected acceptPlugin(plugin: DeployedPlugin): boolean {\n        return isConnectionScopedBackendPlugin(plugin);\n    }\n\n    protected override async beforeSyncPlugins(toDisconnect: DisposableCollection): Promise<void> {\n        await super.beforeSyncPlugins(toDisconnect);\n\n        toDisconnect.push(Disposable.create(() => this.preserveWebviews()));\n        this.server.onDidCloseConnection(() => toDisconnect.dispose());\n    }\n\n    protected override async beforeLoadContributions(toDisconnect: DisposableCollection): Promise<void> {\n        // make sure that the previous state, including plugin widgets, is restored\n        // and core layout is initialized, i.e. explorer, scm, debug views are already added to the shell\n        // but shell is not yet revealed\n        await this.appState.reachedState('initialized_layout');\n    }\n\n    protected override async afterLoadContributions(toDisconnect: DisposableCollection): Promise<void> {\n        await this.viewRegistry.initWidgets();\n        // remove restored plugin widgets which were not registered by contributions\n        this.viewRegistry.removeStaleWidgets();\n    }\n\n    protected handleContributions(plugin: DeployedPlugin): Disposable {\n        return this.contributionHandler.handleContributions(this.clientId, plugin);\n    }\n\n    protected override handlePluginStarted(manager: PluginManagerExt, plugin: DeployedPlugin): void {\n        this.activateByWorkspaceContains(manager, plugin);\n    }\n\n    protected async obtainManager(host: string, hostContributions: PluginContributions[], toDisconnect: DisposableCollection): Promise<PluginManagerExt | undefined> {\n        let manager = this.managers.get(host);\n        if (!manager) {\n            const pluginId = getPluginId(hostContributions[0].plugin.metadata.model);\n            const rpc = this.initRpc(host, pluginId);\n            toDisconnect.push(rpc);\n\n            manager = rpc.getProxy(MAIN_RPC_CONTEXT.HOSTED_PLUGIN_MANAGER_EXT);\n            this.managers.set(host, manager);\n            toDisconnect.push(Disposable.create(() => this.managers.delete(host)));\n\n            const [extApi, globalState, workspaceState, webviewResourceRoot, webviewCspSource, defaultShell, jsonValidation] = await Promise.all([\n                this.server.getExtPluginAPI(),\n                this.pluginServer.getAllStorageValues(undefined),\n                this.pluginServer.getAllStorageValues({\n                    workspace: this.workspaceService.workspace?.resource.toString(),\n                    roots: this.workspaceService.tryGetRoots().map(root => root.resource.toString())\n                }),\n                this.webviewEnvironment.resourceRoot(host),\n                this.webviewEnvironment.cspSource(),\n                this.terminalService.getDefaultShell(),\n                this.jsonSchemaStore.schemas\n            ]);\n            if (toDisconnect.disposed) {\n                return undefined;\n            }\n\n            const isElectron = environment.electron.is();\n\n            const supportedActivationEvents = [...HostedPluginSupport.BUILTIN_ACTIVATION_EVENTS];\n            const [additionalActivationEvents, appRoot] = await Promise.all([\n                this.envServer.getValue(HostedPluginSupport.ADDITIONAL_ACTIVATION_EVENTS_ENV),\n                this.applicationServer.getApplicationRoot()\n            ]);\n            if (additionalActivationEvents && additionalActivationEvents.value) {\n                additionalActivationEvents.value.split(',').forEach(event => supportedActivationEvents.push(event));\n            }\n\n            await manager.$init({\n                preferences: getPreferences(this.preferenceProviderProvider, this.workspaceService.tryGetRoots()),\n                globalState,\n                workspaceState,\n                env: {\n                    queryParams: getQueryParameters(),\n                    language: nls.locale || nls.defaultLocale,\n                    shell: defaultShell,\n                    uiKind: isElectron ? UIKind.Desktop : UIKind.Web,\n                    appName: FrontendApplicationConfigProvider.get().applicationName,\n                    appHost: isElectron ? 'desktop' : 'web', // TODO: 'web' could be the embedder's name, e.g. 'github.dev'\n                    appRoot,\n                    appUriScheme: FrontendApplicationConfigProvider.get().electron.uriScheme\n                },\n                extApi,\n                webview: {\n                    webviewResourceRoot,\n                    webviewCspSource\n                },\n                jsonValidation,\n                pluginKind: isRemote ? ExtensionKind.Workspace : ExtensionKind.UI,\n                supportedActivationEvents\n            });\n            if (toDisconnect.disposed) {\n                return undefined;\n            }\n            this.activationEvents.forEach(event => manager!.$activateByEvent(event));\n        }\n        return manager;\n    }\n\n    protected initRpc(host: PluginHost, pluginId: string): RPCProtocol {\n        const rpc = host === 'frontend' ? new PluginWorker().rpc : this.createServerRpc(host);\n        setUpPluginApi(rpc, this.container);\n        this.mainPluginApiProviders.getContributions().forEach(p => p.initialize(rpc, this.container));\n        return rpc;\n    }\n\n    protected createServerRpc(pluginHostId: string): RPCProtocol {\n\n        const channel = new BasicChannel(() => {\n            const writer = new Uint8ArrayWriteBuffer();\n            writer.onCommit(buffer => {\n                this.server.onMessage(pluginHostId, buffer);\n            });\n            return writer;\n        });\n\n        // Create RPC protocol before adding the listener to the watcher to receive the watcher's cached messages after the rpc protocol was created.\n        const rpc = new RPCProtocolImpl(channel);\n\n        this.watcher.onPostMessageEvent(received => {\n            if (pluginHostId === received.pluginHostId) {\n                channel.onMessageEmitter.fire(() => new Uint8ArrayReadBuffer(received.message));\n            }\n        });\n\n        return rpc;\n    }\n\n    protected async updateStoragePath(): Promise<void> {\n        const path = await this.getStoragePath();\n        for (const manager of this.managers.values()) {\n            manager.$updateStoragePath(path);\n        }\n    }\n\n    protected async getStoragePath(): Promise<string | undefined> {\n        const roots = await this.workspaceService.roots;\n        return this.pluginPathsService.getHostStoragePath(this.workspaceService.workspace?.resource.toString(), roots.map(root => root.resource.toString()));\n    }\n\n    protected async getHostGlobalStoragePath(): Promise<string> {\n        const configDirUri = await this.envServer.getConfigDirUri();\n        const globalStorageFolderUri = new URI(configDirUri).resolve('globalStorage');\n\n        // Make sure that folder by the path exists\n        if (!await this.fileService.exists(globalStorageFolderUri)) {\n            await this.fileService.createFolder(globalStorageFolderUri, { fromUserGesture: false });\n        }\n        const globalStorageFolderFsPath = await this.fileService.fsPath(globalStorageFolderUri);\n        if (!globalStorageFolderFsPath) {\n            throw new Error(`Could not resolve the FS path for URI: ${globalStorageFolderUri}`);\n        }\n        return globalStorageFolderFsPath;\n    }\n\n    async activateByViewContainer(viewContainerId: string): Promise<void> {\n        await Promise.all(this.viewRegistry.getContainerViews(viewContainerId).map(viewId => this.activateByView(viewId)));\n    }\n\n    async activateByView(viewId: string): Promise<void> {\n        await this.activateByEvent(`onView:${viewId}`);\n    }\n\n    async activateByLanguage(languageId: string): Promise<void> {\n        await this.activateByEvent('onLanguage');\n        await this.activateByEvent(`onLanguage:${languageId}`);\n    }\n\n    async activateByUri(scheme: string, authority: string): Promise<void> {\n        await this.activateByEvent(`onUri:${scheme}://${authority}`);\n    }\n\n    async activateByCommand(commandId: string): Promise<void> {\n        await this.activateByEvent(`onCommand:${commandId}`);\n    }\n\n    async activateByTaskType(taskType: string): Promise<void> {\n        await this.activateByEvent(`onTaskType:${taskType}`);\n    }\n\n    async activateByCustomEditor(viewType: string): Promise<void> {\n        await this.activateByEvent(`onCustomEditor:${viewType}`);\n    }\n\n    async activateByNotebook(viewType: string): Promise<void> {\n        await this.activateByEvent(`onNotebook:${viewType}`);\n    }\n\n    async activateByNotebookSerializer(viewType: string): Promise<void> {\n        await this.activateByEvent(`onNotebookSerializer:${viewType}`);\n    }\n\n    async activateByNotebookRenderer(rendererId: string): Promise<void> {\n        await this.activateByEvent(`onRenderer:${rendererId}`);\n    }\n\n    activateByFileSystem(event: FileSystemProviderActivationEvent): Promise<void> {\n        return this.activateByEvent(`onFileSystem:${event.scheme}`);\n    }\n\n    activateByTerminalProfile(profileId: string): Promise<void> {\n        return this.activateByEvent(`onTerminalProfile:${profileId}`);\n    }\n\n    protected ensureFileSystemActivation(event: FileSystemProviderActivationEvent): void {\n        event.waitUntil(this.activateByFileSystem(event).then(() => {\n            if (!this.fileService.hasProvider(event.scheme)) {\n                return waitForEvent(Event.filter(this.fileService.onDidChangeFileSystemProviderRegistrations,\n                    ({ added, scheme }) => added && scheme === event.scheme), 3000);\n            }\n        }));\n    }\n\n    protected ensureCommandHandlerRegistration(event: WillExecuteCommandEvent): void {\n        const activation = this.activateByCommand(event.commandId);\n        if (this.commands.getCommand(event.commandId) &&\n            (!this.contributionHandler.hasCommand(event.commandId) ||\n                this.contributionHandler.hasCommandHandler(event.commandId))) {\n            return;\n        }\n        const waitForCommandHandler = new Deferred<void>();\n        const listener = this.contributionHandler.onDidRegisterCommandHandler(id => {\n            if (id === event.commandId) {\n                listener.dispose();\n                waitForCommandHandler.resolve();\n            }\n        });\n        const p = Promise.all([\n            activation,\n            waitForCommandHandler.promise\n        ]);\n        p.then(() => listener.dispose(), () => listener.dispose());\n        event.waitUntil(p);\n    }\n\n    protected ensureTaskActivation(event: WillResolveTaskProvider): void {\n        const promises = [this.activateByCommand('workbench.action.tasks.runTask')];\n        const taskType = event.taskType;\n        if (taskType) {\n            if (taskType === ALL_ACTIVATION_EVENT) {\n                for (const taskDefinition of this.taskDefinitionRegistry.getAll()) {\n                    promises.push(this.activateByTaskType(taskDefinition.taskType));\n                }\n            } else {\n                promises.push(this.activateByTaskType(taskType));\n            }\n        }\n\n        event.waitUntil(Promise.all(promises));\n    }\n\n    protected ensureDebugActivation(event: WaitUntilEvent, activationEvent?: DebugActivationEvent, debugType?: string): void {\n        event.waitUntil(this.activateByDebug(activationEvent, debugType));\n    }\n\n    async activateByDebug(activationEvent?: DebugActivationEvent, debugType?: string): Promise<void> {\n        const promises = [this.activateByEvent('onDebug')];\n        if (activationEvent) {\n            promises.push(this.activateByEvent(activationEvent));\n            if (debugType) {\n                promises.push(this.activateByEvent(activationEvent + ':' + debugType));\n            }\n        }\n        await Promise.all(promises);\n    }\n\n    protected async activateByWorkspaceContains(manager: PluginManagerExt, plugin: DeployedPlugin): Promise<void> {\n        const activationEvents = plugin.contributes && plugin.contributes.activationEvents;\n        if (!activationEvents) {\n            return;\n        }\n        const paths: string[] = [];\n        const includePatterns: string[] = [];\n        // should be aligned with https://github.com/microsoft/vscode/blob/da5fb7d5b865aa522abc7e82c10b746834b98639/src/vs/workbench/api/node/extHostExtensionService.ts#L460-L469\n        for (const activationEvent of activationEvents) {\n            if (/^workspaceContains:/.test(activationEvent)) {\n                const fileNameOrGlob = activationEvent.substring('workspaceContains:'.length);\n                if (fileNameOrGlob.indexOf(ALL_ACTIVATION_EVENT) >= 0 || fileNameOrGlob.indexOf('?') >= 0) {\n                    includePatterns.push(fileNameOrGlob);\n                } else {\n                    paths.push(fileNameOrGlob);\n                }\n            }\n        }\n        const activatePlugin = () => manager.$activateByEvent(`onPlugin:${plugin.metadata.model.id}`);\n        const promises: Promise<boolean>[] = [];\n        if (paths.length) {\n            promises.push(this.workspaceService.containsSome(paths));\n        }\n        if (includePatterns.length) {\n            const tokenSource = new CancellationTokenSource();\n            const searchTimeout = setTimeout(() => {\n                tokenSource.cancel();\n                // activate eagerly if took to long to search\n                activatePlugin();\n            }, 7000);\n            promises.push((async () => {\n                try {\n                    const result = await this.fileSearchService.find('', {\n                        rootUris: this.workspaceService.tryGetRoots().map(r => r.resource.toString()),\n                        includePatterns,\n                        limit: 1\n                    }, tokenSource.token);\n                    return result.length > 0;\n                } catch (e) {\n                    if (!isCancelled(e)) {\n                        console.error(e);\n                    }\n                    return false;\n                } finally {\n                    clearTimeout(searchTimeout);\n                }\n            })());\n        }\n        if (promises.length && await Promise.all(promises).then(exists => exists.some(v => v))) {\n            await activatePlugin();\n        }\n    }\n\n    protected readonly webviewsToRestore = new Map<string, WebviewWidget>();\n    protected readonly webviewRevivers = new Map<string, (webview: WebviewWidget) => Promise<void>>();\n\n    registerWebviewReviver(viewType: string, reviver: (webview: WebviewWidget) => Promise<void>): void {\n        if (this.webviewRevivers.has(viewType)) {\n            throw new Error(`Reviver for ${viewType} already registered`);\n        }\n        this.webviewRevivers.set(viewType, reviver);\n\n        if (this.webviewsToRestore.has(viewType)) {\n            this.restoreWebview(this.webviewsToRestore.get(viewType) as WebviewWidget);\n        }\n    }\n\n    unregisterWebviewReviver(viewType: string): void {\n        this.webviewRevivers.delete(viewType);\n    }\n\n    protected async preserveWebviews(): Promise<void> {\n        for (const webview of this.widgets.getWidgets(WebviewWidget.FACTORY_ID)) {\n            this.preserveWebview(webview as WebviewWidget);\n        }\n        for (const webview of this.widgets.getWidgets(CustomEditorWidget.FACTORY_ID)) {\n            (webview as CustomEditorWidget).modelRef.dispose();\n            if ((webview as any)['closeWithoutSaving']) {\n                delete (webview as any)['closeWithoutSaving'];\n            }\n            this.customEditorRegistry.resolveWidget(webview as CustomEditorWidget);\n        }\n    }\n\n    protected preserveWebview(webview: WebviewWidget): void {\n        if (!this.webviewsToRestore.has(webview.viewType)) {\n            this.activateByEvent(`onWebviewPanel:${webview.viewType}`);\n            this.webviewsToRestore.set(webview.viewType, webview);\n            webview.disposed.connect(() => this.webviewsToRestore.delete(webview.viewType));\n        }\n    }\n\n    protected async restoreWebview(webview: WebviewWidget): Promise<void> {\n        const restore = this.webviewRevivers.get(webview.viewType);\n        if (restore) {\n            try {\n                await restore(webview);\n            } catch (e) {\n                webview.setHTML(this.getDeserializationFailedContents(`\n                An error occurred while restoring '${webview.viewType}' view. Please check logs.\n                `));\n                console.error('Failed to restore the webview', e);\n            }\n        }\n    }\n\n    protected getDeserializationFailedContents(message: string): string {\n        return `<!DOCTYPE html>\n        <html>\n            <head>\n                <meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\">\n                <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none';\">\n            </head>\n            <body>${message}</body>\n        </html>`;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { BasicChannel } from '@theia/core/lib/common/message-rpc/channel';\nimport { Uint8ArrayReadBuffer, Uint8ArrayWriteBuffer } from '@theia/core/lib/common/message-rpc/uint8-array-message-buffer';\nimport { injectable } from '@theia/core/shared/inversify';\nimport { RPCProtocol, RPCProtocolImpl } from '../../common/rpc-protocol';\n\n@injectable()\nexport class PluginWorker {\n\n    private worker: Worker;\n\n    public readonly rpc: RPCProtocol;\n\n    constructor() {\n        this.worker = new Worker(new URL('./worker/worker-main',\n            // @ts-expect-error (TS1343)\n            // We compile to CommonJS but `import.meta` is still available in the browser\n            import.meta.url));\n\n        const channel = new BasicChannel(() => {\n            const writer = new Uint8ArrayWriteBuffer();\n            writer.onCommit(buffer => {\n                this.worker.postMessage(buffer);\n            });\n            return writer;\n        });\n\n        this.rpc = new RPCProtocolImpl(channel);\n\n        // eslint-disable-next-line arrow-body-style\n        this.worker.onmessage = buffer => channel.onMessageEmitter.fire(() => {\n            return new Uint8ArrayReadBuffer(buffer.data);\n        });\n\n        this.worker.onerror = e => channel.onErrorEmitter.fire(e);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/da5fb7d5b865aa522abc7e82c10b746834b98639/src/vs/workbench/api/node/extHostExtensionService.ts\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport debounce = require('@theia/core/shared/lodash.debounce');\nimport { injectable, inject, interfaces, named, postConstruct, unmanaged } from '@theia/core/shared/inversify';\nimport { PluginMetadata, HostedPluginServer, DeployedPlugin, PluginServer, PluginIdentifiers } from '../../common/plugin-protocol';\nimport { AbstractPluginManagerExt, ConfigStorage } from '../../common/plugin-api-rpc';\nimport {\n    Disposable, DisposableCollection, Emitter,\n    ILogger, ContributionProvider,\n    RpcProxy\n} from '@theia/core';\nimport { MainPluginApiProvider } from '../../common/plugin-ext-api-contribution';\nimport { PluginPathsService } from '../../main/common/plugin-paths-protocol';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { environment } from '@theia/core/shared/@theia/application-package/lib/environment';\nimport { Measurement, Stopwatch } from '@theia/core/lib/common';\n\nexport type PluginHost = 'frontend' | string;\n\nexport const ALL_ACTIVATION_EVENT = '*';\n\nexport function isConnectionScopedBackendPlugin(plugin: DeployedPlugin): boolean {\n    const entryPoint = plugin.metadata.model.entryPoint;\n\n    // A plugin doesn't have to have any entry-point if it doesn't need the activation handler,\n    // in which case it's assumed to be a backend plugin.\n    return !entryPoint.headless || !!entryPoint.backend;\n}\n\n@injectable()\nexport abstract class AbstractHostedPluginSupport<PM extends AbstractPluginManagerExt<any>, HPS extends HostedPluginServer | RpcProxy<HostedPluginServer>> {\n\n    protected container: interfaces.Container;\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(HostedPluginServer)\n    protected readonly server: HPS;\n\n    @inject(ContributionProvider)\n    @named(MainPluginApiProvider)\n    protected readonly mainPluginApiProviders: ContributionProvider<MainPluginApiProvider>;\n\n    @inject(PluginServer)\n    protected readonly pluginServer: PluginServer;\n\n    @inject(PluginPathsService)\n    protected readonly pluginPathsService: PluginPathsService;\n\n    @inject(EnvVariablesServer)\n    protected readonly envServer: EnvVariablesServer;\n\n    @inject(Stopwatch)\n    protected readonly stopwatch: Stopwatch;\n\n    protected theiaReadyPromise: Promise<unknown>;\n\n    protected readonly managers = new Map<string, PM>();\n\n    protected readonly contributions = new Map<PluginIdentifiers.UnversionedId, PluginContributions>();\n\n    protected readonly activationEvents = new Set<string>();\n\n    protected readonly onDidChangePluginsEmitter = new Emitter<void>();\n    readonly onDidChangePlugins = this.onDidChangePluginsEmitter.event;\n\n    protected readonly deferredWillStart = new Deferred<void>();\n    /**\n     * Resolves when the initial plugins are loaded and about to be started.\n     */\n    get willStart(): Promise<void> {\n        return this.deferredWillStart.promise;\n    }\n\n    protected readonly deferredDidStart = new Deferred<void>();\n    /**\n     * Resolves when the initial plugins are started.\n     */\n    get didStart(): Promise<void> {\n        return this.deferredDidStart.promise;\n    }\n\n    constructor(@unmanaged() protected readonly clientId: string) { }\n\n    @postConstruct()\n    protected init(): void {\n        this.theiaReadyPromise = this.createTheiaReadyPromise();\n    }\n\n    protected abstract createTheiaReadyPromise(): Promise<unknown>;\n\n    get plugins(): PluginMetadata[] {\n        const plugins: PluginMetadata[] = [];\n        this.contributions.forEach(contributions => plugins.push(contributions.plugin.metadata));\n        return plugins;\n    }\n\n    getPlugin(id: PluginIdentifiers.UnversionedId): DeployedPlugin | undefined {\n        const contributions = this.contributions.get(id);\n        return contributions && contributions.plugin;\n    }\n\n    /** do not call it, except from the plugin frontend contribution */\n    onStart(container: interfaces.Container): void {\n        this.container = container;\n        this.load();\n        this.afterStart();\n    }\n\n    protected afterStart(): void {\n        // Nothing to do in the abstract\n    }\n\n    protected loadQueue: Promise<void> = Promise.resolve(undefined);\n    load = debounce(() => this.loadQueue = this.loadQueue.then(async () => {\n        try {\n            await this.runOperation(() => this.doLoad());\n        } catch (e) {\n            console.error('Failed to load plugins:', e);\n        }\n    }), 50, { leading: true });\n\n    protected runOperation(operation: () => Promise<void>): Promise<void> {\n        return operation();\n    }\n\n    protected async doLoad(): Promise<void> {\n        const toDisconnect = new DisposableCollection(Disposable.create(() => { /* mark as connected */ }));\n\n        await this.beforeSyncPlugins(toDisconnect);\n\n        // process empty plugins as well in order to properly remove stale plugin widgets\n        await this.syncPlugins();\n\n        // it has to be resolved before awaiting layout is initialized\n        // otherwise clients can hang forever in the initialization phase\n        this.deferredWillStart.resolve();\n\n        await this.beforeLoadContributions(toDisconnect);\n\n        if (toDisconnect.disposed) {\n            // if disconnected then don't try to load plugin contributions\n            return;\n        }\n        const contributionsByHost = this.loadContributions(toDisconnect);\n\n        await this.afterLoadContributions(toDisconnect);\n\n        await this.theiaReadyPromise;\n        if (toDisconnect.disposed) {\n            // if disconnected then don't try to init plugin code and dynamic contributions\n            return;\n        }\n        await this.startPlugins(contributionsByHost, toDisconnect);\n\n        this.deferredDidStart.resolve();\n    }\n\n    protected beforeSyncPlugins(toDisconnect: DisposableCollection): Promise<void> {\n        // Nothing to do in the abstract\n        return Promise.resolve();\n    }\n\n    protected beforeLoadContributions(toDisconnect: DisposableCollection): Promise<void> {\n        // Nothing to do in the abstract\n        return Promise.resolve();\n    }\n\n    protected afterLoadContributions(toDisconnect: DisposableCollection): Promise<void> {\n        // Nothing to do in the abstract\n        return Promise.resolve();\n    }\n\n    /**\n     * Sync loaded and deployed plugins:\n     * - undeployed plugins are unloaded\n     * - newly deployed plugins are initialized\n     */\n    protected async syncPlugins(): Promise<void> {\n        let initialized = 0;\n        const waitPluginsMeasurement = this.measure('waitForDeployment');\n        let syncPluginsMeasurement: Measurement | undefined;\n\n        const toUnload = new Set(this.contributions.keys());\n        let didChangeInstallationStatus = false;\n        try {\n            const newPluginIds: PluginIdentifiers.VersionedId[] = [];\n            const [deployedPluginIds, uninstalledPluginIds, disabledPlugins] = await Promise.all(\n                [this.server.getDeployedPluginIds(), this.server.getUninstalledPluginIds(), this.server.getDisabledPluginIds()]);\n\n            waitPluginsMeasurement.log('Waiting for backend deployment');\n            syncPluginsMeasurement = this.measure('syncPlugins');\n            for (const versionedId of deployedPluginIds) {\n                const unversionedId = PluginIdentifiers.unversionedFromVersioned(versionedId);\n                toUnload.delete(unversionedId);\n                if (!this.contributions.has(unversionedId)) {\n                    newPluginIds.push(versionedId);\n                }\n            }\n            for (const pluginId of toUnload) {\n                this.contributions.get(pluginId)?.dispose();\n            }\n            for (const versionedId of uninstalledPluginIds) {\n                const plugin = this.getPlugin(PluginIdentifiers.unversionedFromVersioned(versionedId));\n                if (plugin && PluginIdentifiers.componentsToVersionedId(plugin.metadata.model) === versionedId && !plugin.metadata.outOfSync) {\n                    plugin.metadata.outOfSync = didChangeInstallationStatus = true;\n                }\n            }\n            for (const unversionedId of disabledPlugins) {\n                const plugin = this.getPlugin(unversionedId);\n                if (plugin && PluginIdentifiers.componentsToUnversionedId(plugin.metadata.model) === unversionedId && !plugin.metadata.outOfSync) {\n                    plugin.metadata.outOfSync = didChangeInstallationStatus = true;\n                }\n            }\n            for (const contribution of this.contributions.values()) {\n                if (contribution.plugin.metadata.outOfSync && !(\n                    uninstalledPluginIds.includes(PluginIdentifiers.componentsToVersionedId(contribution.plugin.metadata.model))\n                    || disabledPlugins.includes(PluginIdentifiers.componentsToUnversionedId(contribution.plugin.metadata.model))\n                )) {\n                    contribution.plugin.metadata.outOfSync = false;\n                    didChangeInstallationStatus = true;\n                }\n            }\n            if (newPluginIds.length) {\n                const deployedPlugins = await this.server.getDeployedPlugins(newPluginIds);\n\n                const plugins: DeployedPlugin[] = [];\n                for (const plugin of deployedPlugins) {\n                    const accepted = this.acceptPlugin(plugin);\n                    if (typeof accepted === 'object') {\n                        plugins.push(accepted);\n                    } else if (accepted) {\n                        plugins.push(plugin);\n                    }\n                }\n\n                for (const plugin of plugins) {\n                    const pluginId = PluginIdentifiers.componentsToUnversionedId(plugin.metadata.model);\n                    const contributions = new PluginContributions(plugin);\n                    this.contributions.set(pluginId, contributions);\n                    contributions.push(Disposable.create(() => this.contributions.delete(pluginId)));\n                    initialized++;\n                }\n            }\n        } finally {\n            if (initialized || toUnload.size || didChangeInstallationStatus) {\n                this.onDidChangePluginsEmitter.fire(undefined);\n            }\n\n            if (!syncPluginsMeasurement) {\n                // await didn't complete normally\n                waitPluginsMeasurement.error('Backend deployment failed.');\n            }\n        }\n        if (initialized > 0) {\n            // Only log sync measurement if there are were plugins to sync.\n            syncPluginsMeasurement?.log(`Sync of ${this.getPluginCount(initialized)}`);\n        } else {\n            syncPluginsMeasurement?.stop();\n        }\n    }\n\n    /**\n     * Accept a deployed plugin to load in this host, or reject it, or adapt it for loading.\n     * The result may be a boolean to accept (`true`) or reject (`false`) the plugin as is,\n     * or else an adaptation of the original `plugin` to load in its stead.\n     */\n    protected abstract acceptPlugin(plugin: DeployedPlugin): boolean | DeployedPlugin;\n\n    /**\n     * Always synchronous in order to simplify handling disconnections.\n     * @throws never\n     */\n    protected loadContributions(toDisconnect: DisposableCollection): Map<PluginHost, PluginContributions[]> {\n        let loaded = 0;\n        const loadPluginsMeasurement = this.measure('loadPlugins');\n\n        const hostContributions = new Map<PluginHost, PluginContributions[]>();\n        console.log(`[${this.clientId}] Loading plugin contributions`);\n        for (const contributions of this.contributions.values()) {\n            const plugin = contributions.plugin.metadata;\n            const pluginId = plugin.model.id;\n\n            if (contributions.state === PluginContributions.State.INITIALIZING) {\n                contributions.state = PluginContributions.State.LOADING;\n                contributions.push(Disposable.create(() => console.log(`[${pluginId}]: Unloaded plugin.`)));\n                contributions.push(this.handleContributions(contributions.plugin));\n                contributions.state = PluginContributions.State.LOADED;\n                console.debug(`[${this.clientId}][${pluginId}]: Loaded contributions.`);\n                loaded++;\n            }\n\n            if (contributions.state === PluginContributions.State.LOADED) {\n                contributions.state = PluginContributions.State.STARTING;\n                const host = plugin.model.entryPoint.frontend ? 'frontend' : plugin.host;\n                const dynamicContributions = hostContributions.get(host) || [];\n                dynamicContributions.push(contributions);\n                hostContributions.set(host, dynamicContributions);\n                toDisconnect.push(Disposable.create(() => {\n                    contributions!.state = PluginContributions.State.LOADED;\n                    console.debug(`[${this.clientId}][${pluginId}]: Disconnected.`);\n                }));\n            }\n        }\n        if (loaded > 0) {\n            // Only log load measurement if there are were plugins to load.\n            loadPluginsMeasurement?.log(`Load contributions of ${this.getPluginCount(loaded)}`);\n        } else {\n            loadPluginsMeasurement.stop();\n        }\n\n        return hostContributions;\n    }\n\n    protected abstract handleContributions(plugin: DeployedPlugin): Disposable;\n\n    protected async startPlugins(contributionsByHost: Map<PluginHost, PluginContributions[]>, toDisconnect: DisposableCollection): Promise<void> {\n        let started = 0;\n        const startPluginsMeasurement = this.measure('startPlugins');\n\n        const [hostLogPath, hostStoragePath, hostGlobalStoragePath] = await Promise.all([\n            this.pluginPathsService.getHostLogPath(),\n            this.getStoragePath(),\n            this.getHostGlobalStoragePath()\n        ]);\n\n        if (toDisconnect.disposed) {\n            return;\n        }\n\n        const thenable: Promise<void>[] = [];\n        const configStorage: ConfigStorage = {\n            hostLogPath,\n            hostStoragePath,\n            hostGlobalStoragePath\n        };\n\n        for (const [host, hostContributions] of contributionsByHost) {\n            // do not start plugins for electron browser\n            if (host === 'frontend' && environment.electron.is()) {\n                continue;\n            }\n\n            const manager = await this.obtainManager(host, hostContributions, toDisconnect);\n            if (!manager) {\n                continue;\n            }\n\n            const plugins = hostContributions.map(contributions => contributions.plugin.metadata);\n            thenable.push((async () => {\n                try {\n                    const activationEvents = [...this.activationEvents];\n                    await manager.$start({ plugins, configStorage, activationEvents });\n                    if (toDisconnect.disposed) {\n                        return;\n                    }\n                    console.log(`[${this.clientId}] Starting plugins.`);\n                    for (const contributions of hostContributions) {\n                        started++;\n                        const plugin = contributions.plugin;\n                        const id = plugin.metadata.model.id;\n                        contributions.state = PluginContributions.State.STARTED;\n                        console.debug(`[${this.clientId}][${id}]: Started plugin.`);\n                        toDisconnect.push(contributions.push(Disposable.create(() => {\n                            console.debug(`[${this.clientId}][${id}]: Stopped plugin.`);\n                            manager.$stop(id);\n                        })));\n\n                        this.handlePluginStarted(manager, plugin);\n                    }\n                } catch (e) {\n                    console.error(`Failed to start plugins for '${host}' host`, e);\n                }\n            })());\n        }\n\n        await Promise.all(thenable);\n        await this.activateByEvent('onStartupFinished');\n        if (toDisconnect.disposed) {\n            return;\n        }\n\n        if (started > 0) {\n            startPluginsMeasurement.log(`Start of ${this.getPluginCount(started)}`);\n        } else {\n            startPluginsMeasurement.stop();\n        }\n    }\n\n    protected abstract obtainManager(host: string, hostContributions: PluginContributions[],\n        toDisconnect: DisposableCollection): Promise<PM | undefined>;\n\n    protected abstract getStoragePath(): Promise<string | undefined>;\n\n    protected abstract getHostGlobalStoragePath(): Promise<string>;\n\n    async activateByEvent(activationEvent: string): Promise<void> {\n        if (this.activationEvents.has(activationEvent)) {\n            return;\n        }\n        this.activationEvents.add(activationEvent);\n        await Promise.all(Array.from(this.managers.values(), manager => manager.$activateByEvent(activationEvent)));\n    }\n\n    async activatePlugin(id: string): Promise<void> {\n        const activation = [];\n        for (const manager of this.managers.values()) {\n            activation.push(manager.$activatePlugin(id));\n        }\n        await Promise.all(activation);\n    }\n\n    protected handlePluginStarted(manager: PM, plugin: DeployedPlugin): void {\n        // Nothing to do in the abstract\n    }\n\n    protected measure(name: string): Measurement {\n        return this.stopwatch.start(name, { context: this.clientId });\n    }\n\n    protected getPluginCount(plugins: number): string {\n        return `${plugins} plugin${plugins === 1 ? '' : 's'}`;\n    }\n\n}\n\nexport class PluginContributions extends DisposableCollection {\n    constructor(\n        readonly plugin: DeployedPlugin\n    ) {\n        super();\n    }\n    state: PluginContributions.State = PluginContributions.State.INITIALIZING;\n}\n\nexport namespace PluginContributions {\n    export enum State {\n        INITIALIZING = 0,\n        LOADING = 1,\n        LOADED = 2,\n        STARTING = 3,\n        STARTED = 4\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// code copied and modified from https://github.com/microsoft/vscode/blob/1.47.3/src/vs/workbench/api/browser/mainThreadAuthentication.ts\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { AuthenticationExt, AuthenticationMain, MAIN_RPC_CONTEXT } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { ConfirmDialog, Dialog, StorageService } from '@theia/core/lib/browser';\nimport {\n    AuthenticationProvider,\n    AuthenticationProviderSessionOptions,\n    AuthenticationService,\n    AuthenticationSession,\n    AuthenticationSessionAccountInformation,\n    readAllowedExtensions\n} from '@theia/core/lib/browser/authentication-service';\nimport { QuickPickService } from '@theia/core/lib/common/quick-pick-service';\nimport * as theia from '@theia/plugin';\nimport { QuickPickValue } from '@theia/core/lib/browser/quick-input/quick-input-service';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { isObject } from '@theia/core';\n\nexport function getAuthenticationProviderActivationEvent(id: string): string { return `onAuthenticationRequest:${id}`; }\n\nexport class AuthenticationMainImpl implements AuthenticationMain {\n    private readonly proxy: AuthenticationExt;\n    private readonly messageService: MessageService;\n    private readonly storageService: StorageService;\n    private readonly authenticationService: AuthenticationService;\n    private readonly quickPickService: QuickPickService;\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.AUTHENTICATION_EXT);\n        this.messageService = container.get(MessageService);\n        this.storageService = container.get(StorageService);\n        this.authenticationService = container.get(AuthenticationService);\n        this.quickPickService = container.get(QuickPickService);\n\n        this.authenticationService.onDidChangeSessions(e => {\n            this.proxy.$onDidChangeAuthenticationSessions({ id: e.providerId, label: e.label });\n        });\n    }\n\n    async $registerAuthenticationProvider(id: string, label: string, supportsMultipleAccounts: boolean): Promise<void> {\n        const provider = new AuthenticationProviderImpl(this.proxy, id, label, supportsMultipleAccounts, this.storageService, this.messageService);\n        this.authenticationService.registerAuthenticationProvider(id, provider);\n    }\n\n    async $unregisterAuthenticationProvider(id: string): Promise<void> {\n        this.authenticationService.unregisterAuthenticationProvider(id);\n    }\n\n    async $updateSessions(id: string, event: theia.AuthenticationProviderAuthenticationSessionsChangeEvent): Promise<void> {\n        this.authenticationService.updateSessions(id, event);\n    }\n\n    $logout(providerId: string, sessionId: string): Promise<void> {\n        return this.authenticationService.logout(providerId, sessionId);\n    }\n\n    $getAccounts(providerId: string): Thenable<readonly theia.AuthenticationSessionAccountInformation[]> {\n        return this.authenticationService.getSessions(providerId).then(sessions => sessions.map(session => session.account));\n    }\n\n    async $getSession(providerId: string, scopeListOrRequest: ReadonlyArray<string> | theia.AuthenticationWwwAuthenticateRequest, extensionId: string, extensionName: string,\n        options: theia.AuthenticationGetSessionOptions): Promise<theia.AuthenticationSession | undefined> {\n        const sessions = await this.authenticationService.getSessions(providerId, scopeListOrRequest, options?.account);\n\n        // Error cases\n        if (options.forceNewSession && options.createIfNone) {\n            throw new Error('Invalid combination of options. Please remove one of the following: forceNewSession, createIfNone');\n        }\n        if (options.forceNewSession && options.silent) {\n            throw new Error('Invalid combination of options. Please remove one of the following: forceNewSession, silent');\n        }\n        if (options.createIfNone && options.silent) {\n            throw new Error('Invalid combination of options. Please remove one of the following: createIfNone, silent');\n        }\n\n        const supportsMultipleAccounts = this.authenticationService.supportsMultipleAccounts(providerId);\n        // Check if the sessions we have are valid\n        if (!options.forceNewSession && sessions.length) {\n            if (supportsMultipleAccounts) {\n                if (options.clearSessionPreference) {\n                    await this.storageService.setData(`authentication-session-${extensionName}-${providerId}`, undefined);\n                } else {\n                    const existingSessionPreference = await this.storageService.getData(`authentication-session-${extensionName}-${providerId}`);\n                    if (existingSessionPreference) {\n                        const matchingSession = sessions.find(session => session.id === existingSessionPreference);\n                        if (matchingSession && await this.isAccessAllowed(providerId, matchingSession.account.label, extensionId)) {\n                            return matchingSession;\n                        }\n                    }\n                }\n            } else if (await this.isAccessAllowed(providerId, sessions[0].account.label, extensionId)) {\n                return sessions[0];\n            }\n        }\n\n        // We may need to prompt because we don't have a valid session modal flows\n        if (options.createIfNone || options.forceNewSession) {\n            const providerName = this.authenticationService.getLabel(providerId);\n            let detail: string | undefined;\n            if (isAuthenticationGetSessionPresentationOptions(options.forceNewSession)) {\n                detail = options.forceNewSession.detail;\n            } else if (isAuthenticationGetSessionPresentationOptions(options.createIfNone)) {\n                detail = options.createIfNone.detail;\n            }\n            const shouldForceNewSession = !!options.forceNewSession;\n            const recreatingSession = shouldForceNewSession && !sessions.length;\n\n            const isAllowed = await this.loginPrompt(providerName, extensionName, recreatingSession, detail);\n            if (!isAllowed) {\n                throw new Error('User did not consent to login.');\n            }\n\n            const session = sessions?.length && !shouldForceNewSession && supportsMultipleAccounts\n                ? await this.selectSession(providerId, providerName, extensionId, extensionName, sessions, scopeListOrRequest, !!options.clearSessionPreference)\n                : await this.authenticationService.login(providerId, scopeListOrRequest);\n            await this.setTrustedExtensionAndAccountPreference(providerId, session.account.label, extensionId, extensionName, session.id);\n            return session;\n        }\n\n        // passive flows (silent or default)\n        const validSession = sessions.find(s => this.isAccessAllowed(providerId, s.account.label, extensionId));\n        if (!options.silent && !validSession) {\n            this.authenticationService.requestNewSession(providerId, scopeListOrRequest, extensionId, extensionName);\n        }\n        return validSession;\n    }\n\n    protected async selectSession(providerId: string, providerName: string, extensionId: string, extensionName: string,\n        potentialSessions: Readonly<AuthenticationSession[]>, scopeListOrRequest: ReadonlyArray<string> | theia.AuthenticationWwwAuthenticateRequest,\n        clearSessionPreference: boolean): Promise<theia.AuthenticationSession> {\n\n        if (!potentialSessions.length) {\n            throw new Error('No potential sessions found');\n        }\n\n        return new Promise(async (resolve, reject) => {\n            const items: QuickPickValue<{ session?: AuthenticationSession, account?: AuthenticationSessionAccountInformation }>[] = potentialSessions.map(session => ({\n                label: session.account.label,\n                value: { session }\n            }));\n            items.push({\n                label: nls.localizeByDefault('Sign in to another account'),\n                value: {}\n            });\n\n            // VS Code has code here that pushes accounts that have no active sessions. However, since we do not store\n            // any accounts that don't have sessions, we dont' do this.\n            const selected = await this.quickPickService.show(items,\n                {\n                    title: nls.localizeByDefault(\"The extension '{0}' wants to access a {1} account\", extensionName, providerName),\n                    ignoreFocusOut: true\n                });\n            if (selected) {\n\n                // if we ever have accounts without sessions, pass the account to the login call\n                const session = selected.value?.session ?? await this.authenticationService.login(providerId, scopeListOrRequest);\n                const accountName = session.account.label;\n\n                const allowList = await readAllowedExtensions(this.storageService, providerId, accountName);\n                if (!allowList.find(allowed => allowed.id === extensionId)) {\n                    allowList.push({ id: extensionId, name: extensionName });\n                    this.storageService.setData(`authentication-trusted-extensions-${providerId}-${accountName}`, JSON.stringify(allowList));\n                }\n\n                this.storageService.setData(`authentication-session-${extensionName}-${providerId}`, session.id);\n\n                resolve(session);\n\n            } else {\n                reject('User did not consent to account access');\n            }\n        });\n    }\n\n    protected async getSessionsPrompt(providerId: string, accountName: string, providerName: string, extensionId: string, extensionName: string): Promise<boolean> {\n        const allowList = await readAllowedExtensions(this.storageService, providerId, accountName);\n        const extensionData = allowList.find(extension => extension.id === extensionId);\n        if (extensionData) {\n            addAccountUsage(this.storageService, providerId, accountName, extensionId, extensionName);\n            return true;\n        }\n        const choice = await this.messageService.info(`The extension '${extensionName}' wants to access the ${providerName} account '${accountName}'.`, 'Allow', 'Cancel');\n\n        const allow = choice === 'Allow';\n        if (allow) {\n            await addAccountUsage(this.storageService, providerId, accountName, extensionId, extensionName);\n            allowList.push({ id: extensionId, name: extensionName });\n            this.storageService.setData(`authentication-trusted-extensions-${providerId}-${accountName}`, JSON.stringify(allowList));\n        }\n\n        return allow;\n    }\n\n    protected async loginPrompt(providerName: string, extensionName: string, recreatingSession: boolean, detail?: string): Promise<boolean> {\n        const msg = document.createElement('span');\n        msg.textContent = recreatingSession\n            ? nls.localizeByDefault(\"The extension '{0}' wants you to sign in again using {1}.\", extensionName, providerName)\n            : nls.localizeByDefault(\"The extension '{0}' wants to sign in using {1}.\", extensionName, providerName);\n\n        if (detail) {\n            const detailElement = document.createElement('p');\n            detailElement.textContent = detail;\n            msg.appendChild(detailElement);\n        }\n\n        return !!await new ConfirmDialog({\n            title: nls.localize('theia/plugin-ext/authentication-main/loginTitle', 'Login'),\n            msg,\n            ok: nls.localizeByDefault('Allow'),\n            cancel: Dialog.CANCEL\n        }).open();\n    }\n\n    protected async isAccessAllowed(providerId: string, accountName: string, extensionId: string): Promise<boolean> {\n        const allowList = await readAllowedExtensions(this.storageService, providerId, accountName);\n        return !!allowList.find(allowed => allowed.id === extensionId);\n    }\n\n    protected async setTrustedExtensionAndAccountPreference(providerId: string, accountName: string, extensionId: string, extensionName: string, sessionId: string): Promise<void> {\n        const allowList = await readAllowedExtensions(this.storageService, providerId, accountName);\n        if (!allowList.find(allowed => allowed.id === extensionId)) {\n            allowList.push({ id: extensionId, name: extensionName });\n            this.storageService.setData(`authentication-trusted-extensions-${providerId}-${accountName}`, JSON.stringify(allowList));\n        }\n        this.storageService.setData(`authentication-session-${extensionName}-${providerId}`, sessionId);\n    }\n\n    $onDidChangeSessions(providerId: string, event: theia.AuthenticationProviderAuthenticationSessionsChangeEvent): void {\n        this.authenticationService.updateSessions(providerId, event);\n    }\n}\n\nfunction isAuthenticationGetSessionPresentationOptions(arg: unknown): arg is theia.AuthenticationGetSessionPresentationOptions {\n    return isObject<theia.AuthenticationGetSessionPresentationOptions>(arg) && typeof arg.detail === 'string';\n}\n\nasync function addAccountUsage(storageService: StorageService, providerId: string, accountName: string, extensionId: string, extensionName: string): Promise<void> {\n    const accountKey = `authentication-${providerId}-${accountName}-usages`;\n    const usages = await readAccountUsages(storageService, providerId, accountName);\n\n    const existingUsageIndex = usages.findIndex(usage => usage.extensionId === extensionId);\n    if (existingUsageIndex > -1) {\n        usages.splice(existingUsageIndex, 1, {\n            extensionId,\n            extensionName,\n            lastUsed: Date.now()\n        });\n    } else {\n        usages.push({\n            extensionId,\n            extensionName,\n            lastUsed: Date.now()\n        });\n    }\n\n    await storageService.setData(accountKey, JSON.stringify(usages));\n}\n\ninterface AccountUsage {\n    extensionId: string;\n    extensionName: string;\n    lastUsed: number;\n}\n\nexport class AuthenticationProviderImpl implements AuthenticationProvider {\n    /** map from account name to session ids */\n    private accounts = new Map<string, string[]>();\n    /** map from session id to account name */\n    private sessions = new Map<string, string>();\n\n    readonly onDidChangeSessions: theia.Event<theia.AuthenticationProviderAuthenticationSessionsChangeEvent>;\n\n    constructor(\n        private readonly proxy: AuthenticationExt,\n        public readonly id: string,\n        public readonly label: string,\n        public readonly supportsMultipleAccounts: boolean,\n        private readonly storageService: StorageService,\n        private readonly messageService: MessageService\n    ) { }\n\n    public hasSessions(): boolean {\n        return !!this.sessions.size;\n    }\n\n    private registerSession(session: theia.AuthenticationSession): void {\n        this.sessions.set(session.id, session.account.label);\n\n        const existingSessionsForAccount = this.accounts.get(session.account.label);\n        if (existingSessionsForAccount) {\n            this.accounts.set(session.account.label, existingSessionsForAccount.concat(session.id));\n            return;\n        } else {\n            this.accounts.set(session.account.label, [session.id]);\n        }\n    }\n\n    async signOut(accountName: string): Promise<void> {\n        const accountUsages = await readAccountUsages(this.storageService, this.id, accountName);\n        const sessionsForAccount = this.accounts.get(accountName);\n        const result = await this.messageService.info(accountUsages.length\n            ? nls.localizeByDefault(\"The account '{0}' has been used by: \\n\\n{1}\\n\\n Sign out from these extensions?\", accountName,\n                accountUsages.map(usage => usage.extensionName).join(', '))\n            : nls.localizeByDefault(\"Sign out of '{0}'?\", accountName),\n            nls.localizeByDefault('Sign Out'),\n            Dialog.CANCEL);\n\n        if (result && result === nls.localizeByDefault('Sign Out') && sessionsForAccount) {\n            sessionsForAccount.forEach(sessionId => this.removeSession(sessionId));\n            removeAccountUsage(this.storageService, this.id, accountName);\n        }\n    }\n\n    async getSessions(scopes?: string[], account?: AuthenticationSessionAccountInformation): Promise<ReadonlyArray<theia.AuthenticationSession>> {\n        return this.proxy.$getSessions(this.id, scopes, { account: account });\n    }\n\n    async updateSessionItems(event: theia.AuthenticationProviderAuthenticationSessionsChangeEvent): Promise<void> {\n        const { added, removed } = event;\n        const session = await this.proxy.$getSessions(this.id, undefined, {});\n        const addedSessions = added ? session.filter(s => added.some(addedSession => addedSession.id === s.id)) : [];\n\n        removed?.forEach(removedSession => {\n            const sessionId = removedSession.id;\n            if (sessionId) {\n                const accountName = this.sessions.get(sessionId);\n                if (accountName) {\n                    this.sessions.delete(sessionId);\n                    const sessionsForAccount = this.accounts.get(accountName) || [];\n                    const sessionIndex = sessionsForAccount.indexOf(sessionId);\n                    sessionsForAccount.splice(sessionIndex);\n\n                    if (!sessionsForAccount.length) {\n                        this.accounts.delete(accountName);\n                    }\n                }\n            }\n        });\n\n        addedSessions.forEach(s => this.registerSession(s));\n    }\n\n    async login(scopes: string[], options: AuthenticationProviderSessionOptions): Promise<theia.AuthenticationSession> {\n        return this.createSession(scopes, options);\n    }\n\n    async logout(sessionId: string): Promise<void> {\n        return this.removeSession(sessionId);\n    }\n\n    createSession(scopes: string[], options: AuthenticationProviderSessionOptions): Thenable<theia.AuthenticationSession> {\n        return this.proxy.$createSession(this.id, scopes, options);\n    }\n\n    removeSession(sessionId: string): Thenable<void> {\n        return this.proxy.$removeSession(this.id, sessionId)\n            .then(() => {\n                this.messageService.info(nls.localize('theia/plugin-ext/authentication-main/signedOut', 'Successfully signed out.'));\n            });\n    }\n}\n\nasync function readAccountUsages(storageService: StorageService, providerId: string, accountName: string): Promise<AccountUsage[]> {\n    const accountKey = `authentication-${providerId}-${accountName}-usages`;\n    const storedUsages: string | undefined = await storageService.getData(accountKey);\n    let usages: AccountUsage[] = [];\n    if (storedUsages) {\n        try {\n            usages = JSON.parse(storedUsages);\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    return usages;\n}\n\nfunction removeAccountUsage(storageService: StorageService, providerId: string, accountName: string): void {\n    const accountKey = `authentication-${providerId}-${accountName}-usages`;\n    storageService.setData(accountKey, undefined);\n}\n","// *****************************************************************************\n// Copyright (C) 2019 RedHat and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { ClipboardMain } from '../../common';\nimport { ClipboardService } from '@theia/core/lib/browser/clipboard-service';\n\nexport class ClipboardMainImpl implements ClipboardMain {\n\n    protected readonly clipboardService: ClipboardService;\n\n    constructor(container: interfaces.Container) {\n        this.clipboardService = container.get(ClipboardService);\n    }\n\n    async $readText(): Promise<string> {\n        const result = await this.clipboardService.readText();\n        return result;\n    }\n\n    async $writeText(value: string): Promise<void> {\n        await this.clipboardService.writeText(value);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport * as theia from '@theia/plugin';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { CommandRegistryMain, CommandRegistryExt, MAIN_RPC_CONTEXT } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { KeybindingRegistry } from '@theia/core/lib/browser';\nimport { PluginContributionHandler } from './plugin-contribution-handler';\nimport { ArgumentProcessor } from '../../common/commands';\nimport { ContributionProvider } from '@theia/core';\n\nexport const ArgumentProcessorContribution = Symbol('ArgumentProcessorContribution');\n\nexport class CommandRegistryMainImpl implements CommandRegistryMain, Disposable {\n    private readonly proxy: CommandRegistryExt;\n    private readonly commands = new Map<string, Disposable>();\n    private readonly handlers = new Map<string, Disposable>();\n    private readonly delegate: CommandRegistry;\n    private readonly keyBinding: KeybindingRegistry;\n    private readonly contributions: PluginContributionHandler;\n\n    private readonly argumentProcessors: ArgumentProcessor[] = [];\n\n    protected readonly toDispose = new DisposableCollection();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.COMMAND_REGISTRY_EXT);\n        this.delegate = container.get(CommandRegistry);\n        this.keyBinding = container.get(KeybindingRegistry);\n        this.contributions = container.get(PluginContributionHandler);\n\n        container.getNamed<ContributionProvider<ArgumentProcessor>>(ContributionProvider, ArgumentProcessorContribution).getContributions().forEach(processor => {\n            this.registerArgumentProcessor(processor);\n        });\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    registerArgumentProcessor(processor: ArgumentProcessor): Disposable {\n        this.argumentProcessors.push(processor);\n        return Disposable.create(() => {\n            const index = this.argumentProcessors.lastIndexOf(processor);\n            if (index >= 0) {\n                this.argumentProcessors.splice(index, 1);\n            }\n        });\n    }\n\n    $registerCommand(command: theia.CommandDescription): void {\n        const id = command.id;\n        this.commands.set(id, this.contributions.registerCommand(command));\n        this.toDispose.push(Disposable.create(() => this.$unregisterCommand(id)));\n    }\n    $unregisterCommand(id: string): void {\n        const command = this.commands.get(id);\n        if (command) {\n            command.dispose();\n            this.commands.delete(id);\n        }\n    }\n\n    $registerHandler(id: string): void {\n        this.handlers.set(id, this.contributions.registerCommandHandler(id, (...args) =>\n            this.proxy.$executeCommand(id, ...args.map(arg => this.argumentProcessors.reduce((currentValue, processor) => processor.processArgument(currentValue), arg)))\n        ));\n        this.toDispose.push(Disposable.create(() => this.$unregisterHandler(id)));\n    }\n    $unregisterHandler(id: string): void {\n        const handler = this.handlers.get(id);\n        if (handler) {\n            handler.dispose();\n            this.handlers.delete(id);\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async $executeCommand<T>(id: string, ...args: any[]): Promise<T | undefined> {\n        if (!this.delegate.getCommand(id)) {\n            throw new Error(`Command with id '${id}' is not registered.`);\n        }\n        try {\n            return await this.delegate.executeCommand<T>(id, ...args);\n        } catch (e) {\n            // Command handler may be not active at the moment so the error must be caught. See https://github.com/eclipse-theia/theia/pull/6687#discussion_r354810079\n            if ('code' in e && e['code'] === 'NO_ACTIVE_HANDLER') {\n                return;\n            } else {\n                throw e;\n            }\n        }\n    }\n\n    $getKeyBinding(commandId: string): PromiseLike<theia.CommandKeyBinding[] | undefined> {\n        try {\n            const keyBindings = this.keyBinding.getKeybindingsForCommand(commandId);\n            if (keyBindings) {\n                // transform inner type to CommandKeyBinding\n                return Promise.resolve(keyBindings.map(keyBinding => ({ id: commandId, value: keyBinding.keybinding })));\n            } else {\n                return Promise.resolve(undefined);\n            }\n\n        } catch (e) {\n            return Promise.reject(e);\n        }\n    }\n\n    $getCommands(): PromiseLike<string[]> {\n        return Promise.resolve(this.delegate.commandIds);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Command, CommandService } from '@theia/core/lib/common/command';\nimport { AbstractDialog } from '@theia/core/lib/browser';\nimport { WindowService } from '@theia/core/lib/browser/window/window-service';\nimport * as DOMPurify from '@theia/core/shared/dompurify';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class OpenUriCommandHandler {\n    public static readonly COMMAND_METADATA: Command = {\n        id: 'theia.open'\n    };\n\n    private openNewTabDialog: OpenNewTabDialog;\n\n    constructor(\n        @inject(WindowService)\n        protected readonly windowService: WindowService,\n        @inject(CommandService)\n        protected readonly commandService: CommandService\n    ) {\n        this.openNewTabDialog = new OpenNewTabDialog(windowService);\n    }\n\n    public execute(resource: URI | string | undefined): void {\n        if (!resource) {\n            return;\n        }\n\n        const uriString = resource.toString();\n        if (uriString.startsWith('http://') || uriString.startsWith('https://')) {\n            this.openWebUri(uriString);\n        } else {\n            this.commandService.executeCommand('editor.action.openLink', uriString);\n        }\n    }\n\n    private openWebUri(uri: string): void {\n        try {\n            this.windowService.openNewWindow(uri);\n        } catch (err) {\n            // browser has blocked opening of a new tab\n            this.openNewTabDialog.showOpenNewTabDialog(uri);\n        }\n    }\n}\n\nclass OpenNewTabDialog extends AbstractDialog<string> {\n    protected readonly windowService: WindowService;\n    protected readonly openButton: HTMLButtonElement;\n    protected readonly messageNode: HTMLDivElement;\n    protected readonly linkNode: HTMLAnchorElement;\n    value: string;\n\n    constructor(windowService: WindowService) {\n        super({\n            title: nls.localize('theia/plugin/blockNewTab', 'Your browser prevented opening of a new tab')\n        });\n        this.windowService = windowService;\n\n        this.linkNode = document.createElement('a');\n        this.linkNode.target = '_blank';\n        this.linkNode.setAttribute('style', 'color: var(--theia-editorWidget-foreground);');\n        this.contentNode.appendChild(this.linkNode);\n\n        const messageNode = document.createElement('div');\n        messageNode.innerText = 'You are going to open: ';\n        messageNode.appendChild(this.linkNode);\n        this.contentNode.appendChild(messageNode);\n\n        this.appendCloseButton();\n        this.openButton = this.appendAcceptButton(nls.localizeByDefault('Open'));\n    }\n\n    showOpenNewTabDialog(uri: string): void {\n        this.value = uri;\n\n        this.linkNode.innerHTML = DOMPurify.sanitize(uri);\n        this.linkNode.href = uri;\n        this.openButton.onclick = () => {\n            this.windowService.openNewWindow(uri);\n        };\n\n        // show dialog window to user\n        this.open();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { Disposable } from '@theia/core/lib/common';\nimport * as monaco from '@theia/monaco-editor-core';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/1.49.3/src/vs/workbench/contrib/comments/browser/commentGlyphWidget.ts\n\nexport class CommentGlyphWidget implements Disposable {\n\n    private lineNumber!: number;\n    private editor: monaco.editor.ICodeEditor;\n    private commentsDecorations: string[] = [];\n    readonly commentsOptions: monaco.editor.IModelDecorationOptions;\n    constructor(editor: monaco.editor.ICodeEditor) {\n        this.commentsOptions = {\n            isWholeLine: true,\n            linesDecorationsClassName: 'comment-range-glyph comment-thread'\n        };\n        this.editor = editor;\n    }\n\n    getPosition(): number {\n        const model = this.editor.getModel();\n        const range = model && this.commentsDecorations && this.commentsDecorations.length\n            ? model.getDecorationRange(this.commentsDecorations[0])\n            : null;\n\n        return range ? range.startLineNumber : this.lineNumber;\n    }\n\n    setLineNumber(lineNumber: number): void {\n        this.lineNumber = lineNumber;\n        const commentsDecorations = [{\n            range: {\n                startLineNumber: lineNumber, startColumn: 1,\n                endLineNumber: lineNumber, endColumn: 1\n            },\n            options: this.commentsOptions\n        }];\n\n        this.commentsDecorations = this.editor.deltaDecorations(this.commentsDecorations, commentsDecorations);\n    }\n\n    dispose(): void {\n        if (this.commentsDecorations) {\n            this.editor.deltaDecorations(this.commentsDecorations, []);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { MonacoEditorZoneWidget } from '@theia/monaco/lib/browser/monaco-editor-zone-widget';\nimport {\n    Comment,\n    CommentMode,\n    CommentThread,\n    CommentThreadState,\n    CommentThreadCollapsibleState\n} from '../../../common/plugin-api-rpc-model';\nimport { CommentGlyphWidget } from './comment-glyph-widget';\nimport { BaseWidget, DISABLED_CLASS } from '@theia/core/lib/browser';\nimport * as React from '@theia/core/shared/react';\nimport { MouseTargetType } from '@theia/editor/lib/browser';\nimport { CommentsService } from './comments-service';\nimport {\n    CommandMenu,\n    CommandRegistry,\n    CompoundMenuNode,\n    isObject,\n    DisposableCollection,\n    MenuModelRegistry,\n    MenuPath\n} from '@theia/core/lib/common';\nimport { CommentsContext } from './comments-context';\nimport { RefObject } from '@theia/core/shared/react';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { createRoot, Root } from '@theia/core/shared/react-dom/client';\nimport { CommentAuthorInformation } from '@theia/plugin';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/1.49.3/src/vs/workbench/contrib/comments/browser/commentThreadWidget.ts\n\nexport const COMMENT_THREAD_CONTEXT: MenuPath = ['comment_thread-context-menu'];\nexport const COMMENT_CONTEXT: MenuPath = ['comment-context-menu'];\nexport const COMMENT_TITLE: MenuPath = ['comment-title-menu'];\n\nexport class CommentThreadWidget extends BaseWidget {\n\n    protected readonly zoneWidget: MonacoEditorZoneWidget;\n    protected readonly containerNodeRoot: Root;\n    protected readonly commentGlyphWidget: CommentGlyphWidget;\n    protected readonly commentFormRef: RefObject<CommentForm> = React.createRef<CommentForm>();\n\n    protected isExpanded?: boolean;\n\n    constructor(\n        editor: monaco.editor.IStandaloneCodeEditor,\n        private _owner: string,\n        private _commentThread: CommentThread,\n        private commentService: CommentsService,\n        protected readonly menus: MenuModelRegistry,\n        protected readonly commentsContext: CommentsContext,\n        protected readonly contextKeyService: ContextKeyService,\n        protected readonly commands: CommandRegistry\n    ) {\n        super();\n        this.toDispose.push(this.zoneWidget = new MonacoEditorZoneWidget(editor));\n        this.containerNodeRoot = createRoot(this.zoneWidget.containerNode);\n        this.toDispose.push(this.commentGlyphWidget = new CommentGlyphWidget(editor));\n        this.toDispose.push(this._commentThread.onDidChangeCollapsibleState(state => {\n            if (state === CommentThreadCollapsibleState.Expanded && !this.isExpanded) {\n                const lineNumber = this._commentThread.range?.startLineNumber ?? 0;\n\n                this.display({ afterLineNumber: lineNumber, afterColumn: 1, heightInLines: 2 });\n                return;\n            }\n\n            if (state === CommentThreadCollapsibleState.Collapsed && this.isExpanded) {\n                this.hide();\n                return;\n            }\n        }));\n        this.commentsContext.commentIsEmpty.set(true);\n        this.toDispose.push(this.zoneWidget.editor.onMouseDown(e => this.onEditorMouseDown(e)));\n\n        this.toDispose.push(this._commentThread.onDidChangeCanReply(_canReply => {\n            const commentForm = this.commentFormRef.current;\n            if (commentForm) {\n                commentForm.update();\n            }\n        }));\n        this.toDispose.push(this._commentThread.onDidChangeState(_state => {\n            this.update();\n        }));\n        const contextMenu = this.menus.getMenu(COMMENT_THREAD_CONTEXT);\n        contextMenu?.children.forEach(node => {\n            if (node.onDidChange) {\n                this.toDispose.push(node.onDidChange(() => {\n                    const commentForm = this.commentFormRef.current;\n                    if (commentForm) {\n                        commentForm.update();\n                    }\n                }));\n            }\n        });\n    }\n\n    public getGlyphPosition(): number {\n        return this.commentGlyphWidget.getPosition();\n    }\n\n    public collapse(): void {\n        this._commentThread.collapsibleState = CommentThreadCollapsibleState.Collapsed;\n        if (this._commentThread.comments && this._commentThread.comments.length === 0) {\n            this.deleteCommentThread();\n        }\n\n        this.hide();\n    }\n\n    private deleteCommentThread(): void {\n        this.dispose();\n        this.commentService.disposeCommentThread(this.owner, this._commentThread.threadId);\n    }\n\n    override dispose(): void {\n        super.dispose();\n        if (this.commentGlyphWidget) {\n            this.commentGlyphWidget.dispose();\n        }\n    }\n\n    toggleExpand(lineNumber: number): void {\n        if (this.isExpanded) {\n            this._commentThread.collapsibleState = CommentThreadCollapsibleState.Collapsed;\n            this.hide();\n            if (!this._commentThread.comments || !this._commentThread.comments.length) {\n                this.deleteCommentThread();\n            }\n        } else {\n            this._commentThread.collapsibleState = CommentThreadCollapsibleState.Expanded;\n            this.display({ afterLineNumber: lineNumber, afterColumn: 1, heightInLines: 2 });\n        }\n    }\n\n    override hide(): void {\n        this.zoneWidget.hide();\n        this.isExpanded = false;\n        super.hide();\n    }\n\n    display(options: MonacoEditorZoneWidget.Options): void {\n        this.isExpanded = true;\n        if (this._commentThread.collapsibleState && this._commentThread.collapsibleState !== CommentThreadCollapsibleState.Expanded) {\n            return;\n        }\n        this.commentGlyphWidget.setLineNumber(options.afterLineNumber);\n        this._commentThread.collapsibleState = CommentThreadCollapsibleState.Expanded;\n        this.zoneWidget.show(options);\n        this.update();\n    }\n\n    private onEditorMouseDown(e: monaco.editor.IEditorMouseEvent): void {\n        const range = e.target.range;\n\n        if (!range) {\n            return;\n        }\n\n        if (!e.event.leftButton) {\n            return;\n        }\n\n        if (e.target.type !== MouseTargetType.GUTTER_LINE_DECORATIONS) {\n            return;\n        }\n\n        const data = e.target.detail;\n        const gutterOffsetX = data.offsetX - data.glyphMarginWidth - data.lineNumbersWidth - data.glyphMarginLeft;\n\n        // don't collide with folding and git decorations\n        if (gutterOffsetX > 14) {\n            return;\n        }\n\n        const mouseDownInfo = { lineNumber: range.startLineNumber };\n\n        const { lineNumber } = mouseDownInfo;\n\n        if (!range || range.startLineNumber !== lineNumber) {\n            return;\n        }\n\n        if (e.target.type !== MouseTargetType.GUTTER_LINE_DECORATIONS) {\n            return;\n        }\n\n        if (!e.target.element) {\n            return;\n        }\n\n        if (this.commentGlyphWidget && this.commentGlyphWidget.getPosition() !== lineNumber) {\n            return;\n        }\n\n        if (e.target.element.className.indexOf('comment-thread') >= 0) {\n            this.toggleExpand(lineNumber);\n            return;\n        }\n\n        if (this._commentThread.collapsibleState === CommentThreadCollapsibleState.Collapsed) {\n            this.display({ afterLineNumber: mouseDownInfo.lineNumber, heightInLines: 2 });\n        } else {\n            this.hide();\n        }\n    }\n\n    public get owner(): string {\n        return this._owner;\n    }\n\n    public get commentThread(): CommentThread {\n        return this._commentThread;\n    }\n\n    private getThreadLabel(): string {\n        let label: string | undefined;\n        label = this._commentThread.label;\n\n        if (label === undefined) {\n            if (this._commentThread.comments && this._commentThread.comments.length) {\n                const onlyUnique = (value: Comment, index: number, self: Comment[]) => self.indexOf(value) === index;\n                const participantsList = this._commentThread.comments.filter(onlyUnique).map(comment => `@${comment.userName}`).join(', ');\n                const resolutionState = this._commentThread.state === CommentThreadState.Resolved ? '(Resolved)' : '(Unresolved)';\n                label = `Participants: ${participantsList} ${resolutionState}`;\n            } else {\n                label = 'Start discussion';\n            }\n        }\n\n        return label;\n    }\n\n    override update(): void {\n        if (!this.isExpanded) {\n            return;\n        }\n        this.render();\n        const headHeight = Math.ceil(this.zoneWidget.editor.getOption(monaco.editor.EditorOption.lineHeight) * 1.2);\n        const lineHeight = this.zoneWidget.editor.getOption(monaco.editor.EditorOption.lineHeight);\n        const arrowHeight = Math.round(lineHeight / 3);\n        const frameThickness = Math.round(lineHeight / 9) * 2;\n        const body = this.zoneWidget.containerNode.getElementsByClassName('body')[0];\n\n        const computedLinesNumber = Math.ceil((headHeight + (body?.clientHeight ?? 0) + arrowHeight + frameThickness + 8 /** margin bottom to avoid margin collapse */)\n            / lineHeight);\n        this.zoneWidget.show({ afterLineNumber: this._commentThread.range?.startLineNumber ?? 0, heightInLines: computedLinesNumber });\n    }\n\n    protected render(): void {\n        const headHeight = Math.ceil(this.zoneWidget.editor.getOption(monaco.editor.EditorOption.lineHeight) * 1.2);\n        this.containerNodeRoot.render(<div className={'review-widget'}>\n            <div className={'head'} style={{ height: headHeight, lineHeight: `${headHeight}px` }}>\n                <div className={'review-title'}>\n                    <span className={'filename'}>{this.getThreadLabel()}</span>\n                </div>\n                <div className={'review-actions'}>\n                    <div className={'monaco-action-bar animated'}>\n                        <ul className={'actions-container'} role={'toolbar'}>\n                            <li className={'action-item'} role={'presentation'}>\n                                <a className={'action-label codicon expand-review-action codicon-chevron-up'}\n                                    role={'button'}\n                                    tabIndex={0}\n                                    title={'Collapse'}\n                                    onClick={() => this.collapse()}\n                                />\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            <div className={'body'}>\n                <div className={'comments-container'} role={'presentation'} tabIndex={0}>\n                    {this._commentThread.comments?.map((comment, index) => <ReviewComment\n                        key={index}\n                        contextKeyService={this.contextKeyService}\n                        commentsContext={this.commentsContext}\n                        menus={this.menus}\n                        comment={comment}\n                        commentForm={this.commentFormRef}\n                        commands={this.commands}\n                        commentThread={this._commentThread}\n                    />)}\n                </div>\n                <CommentForm contextKeyService={this.contextKeyService}\n                    commentsContext={this.commentsContext}\n                    commands={this.commands}\n                    commentThread={this._commentThread}\n                    menus={this.menus}\n                    widget={this}\n                    ref={this.commentFormRef}\n                />\n            </div>\n        </div>);\n    }\n}\n\nnamespace CommentForm {\n    export interface Props {\n        menus: MenuModelRegistry,\n        commentThread: CommentThread;\n        commands: CommandRegistry;\n        contextKeyService: ContextKeyService;\n        commentsContext: CommentsContext;\n        widget: CommentThreadWidget;\n    }\n\n    export interface State {\n        expanded: boolean\n    }\n}\n\nexport class CommentForm<P extends CommentForm.Props = CommentForm.Props> extends React.Component<P, CommentForm.State> {\n    private inputRef: RefObject<HTMLTextAreaElement> = React.createRef<HTMLTextAreaElement>();\n    private inputValue: string = '';\n    private readonly getInput = () => this.inputValue;\n    private toDisposeOnUnmount = new DisposableCollection();\n    private readonly clearInput: () => void = () => {\n        const input = this.inputRef.current;\n        if (input) {\n            this.inputValue = '';\n            input.value = this.inputValue;\n            this.props.commentsContext.commentIsEmpty.set(true);\n        }\n    };\n\n    update(): void {\n        this.setState(this.state);\n    }\n\n    protected expand = () => {\n        this.setState({ expanded: true });\n        // Wait for the widget to be rendered.\n        setTimeout(() => {\n            // Update the widget's height.\n            this.props.widget.update();\n            this.inputRef.current?.focus();\n        }, 100);\n    };\n    protected collapse = () => {\n        this.setState({ expanded: false });\n        // Wait for the widget to be rendered.\n        setTimeout(() => {\n            // Update the widget's height.\n            this.props.widget.update();\n        }, 100);\n    };\n\n    override componentDidMount(): void {\n        // Wait for the widget to be rendered.\n        setTimeout(() => {\n            this.inputRef.current?.focus();\n        }, 100);\n    }\n\n    override componentWillUnmount(): void {\n        this.toDisposeOnUnmount.dispose();\n    }\n\n    private readonly onInput: (event: React.FormEvent) => void = (event: React.FormEvent) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const value = (event.target as any).value;\n        if (this.inputValue.length === 0 || value.length === 0) {\n            this.props.commentsContext.commentIsEmpty.set(value.length === 0);\n        }\n        this.inputValue = value;\n    };\n\n    constructor(props: P) {\n        super(props);\n        this.state = {\n            expanded: false\n        };\n\n        const setState = this.setState.bind(this);\n        this.setState = newState => {\n            setState(newState);\n        };\n    }\n\n    /**\n     * Renders the comment form with textarea, actions, and reply button.\n     *\n     * @returns The rendered comment form\n     */\n    protected renderCommentForm(): React.ReactNode {\n        const { commentThread, commentsContext, contextKeyService, menus } = this.props;\n        const hasExistingComments = commentThread.comments && commentThread.comments.length > 0;\n\n        // Determine when to show the expanded form:\n        // - When state.expanded is true (user clicked the reply button)\n        // - When there are no existing comments (new thread)\n        const shouldShowExpanded = this.state.expanded || (commentThread.comments && commentThread.comments.length === 0);\n\n        return commentThread.canReply ? (\n            <div className={`comment-form${shouldShowExpanded ? ' expand' : ''}`}>\n                <div className={'theia-comments-input-message-container'}>\n                    <textarea className={'theia-comments-input-message theia-input'}\n                        spellCheck={false}\n                        placeholder={hasExistingComments ? 'Reply...' : 'Type a new comment'}\n                        onInput={this.onInput}\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        onBlur={(event: any) => {\n                            if (event.target.value.length > 0) {\n                                return;\n                            }\n                            if (event.relatedTarget && event.relatedTarget.className === 'comments-button comments-text-button theia-button') {\n                                this.state = { expanded: false };\n                                return;\n                            }\n                            this.collapse();\n                        }}\n                        ref={this.inputRef}>\n                    </textarea>\n                </div>\n                <CommentActions menu={menus.getMenu(COMMENT_THREAD_CONTEXT)}\n                    menuPath={[]}\n                    contextKeyService={contextKeyService}\n                    commentsContext={commentsContext}\n                    commentThread={commentThread}\n                    getInput={this.getInput}\n                    clearInput={this.clearInput}\n                />\n                <button className={'review-thread-reply-button'} title={'Reply...'} onClick={this.expand}>Reply...</button>\n            </div>\n        ) : null;\n    }\n\n    /**\n     * Renders the author information section.\n     *\n     * @param authorInfo The author information to display\n     * @returns The rendered author information section\n     */\n    protected renderAuthorInfo(authorInfo: CommentAuthorInformation): React.ReactNode {\n        return (\n            <div className={'avatar-container'}>\n                {authorInfo.iconPath && (\n                    <img className={'avatar'} src={authorInfo.iconPath.toString()} />\n                )}\n            </div>\n        );\n    }\n\n    override render(): React.ReactNode {\n        const { commentThread } = this.props;\n\n        if (!commentThread.canReply) {\n            return null;\n        }\n\n        // If there's author info, wrap in a container with author info on the left\n        if (isCommentAuthorInformation(commentThread.canReply)) {\n            return (\n                <div className={'review-comment'}>\n                    {this.renderAuthorInfo(commentThread.canReply)}\n                    <div className={'review-comment-contents'}>\n                        <div className={'comment-title monaco-mouse-cursor-text'}>\n                            <strong className={'author'}>{commentThread.canReply.name}</strong>\n                        </div>\n                        {this.renderCommentForm()}\n                    </div>\n                </div>\n            );\n        }\n\n        // Otherwise, just return the comment form\n        return (\n            <div className={'review-comment'}>\n                <div className={'review-comment-contents'}>\n                    {this.renderCommentForm()}\n                </div>\n            </div>);\n    }\n}\n\nfunction isCommentAuthorInformation(item: unknown): item is CommentAuthorInformation {\n    return isObject(item) && 'name' in item;\n}\n\nnamespace ReviewComment {\n    export interface Props {\n        menus: MenuModelRegistry,\n        comment: Comment;\n        commentThread: CommentThread;\n        contextKeyService: ContextKeyService;\n        commentsContext: CommentsContext;\n        commands: CommandRegistry;\n        commentForm: RefObject<CommentForm>;\n    }\n\n    export interface State {\n        hover: boolean\n    }\n}\n\nexport class ReviewComment<P extends ReviewComment.Props = ReviewComment.Props> extends React.Component<P, ReviewComment.State> {\n\n    constructor(props: P) {\n        super(props);\n        this.state = {\n            hover: false\n        };\n\n        const setState = this.setState.bind(this);\n        this.setState = newState => {\n            setState(newState);\n        };\n    }\n\n    protected detectHover = (element: HTMLElement | null) => {\n        if (element) {\n            window.requestAnimationFrame(() => {\n                const hover = element.matches(':hover');\n                this.setState({ hover });\n            });\n        }\n    };\n\n    protected showHover = () => this.setState({ hover: true });\n    protected hideHover = () => this.setState({ hover: false });\n\n    override render(): React.ReactNode {\n        const { comment, commentForm, contextKeyService, commentsContext, menus, commands, commentThread } = this.props;\n        const commentUniqueId = comment.uniqueIdInThread;\n        const { hover } = this.state;\n        commentsContext.comment.set(comment.contextValue);\n        return <div className={'review-comment'}\n            tabIndex={-1}\n            aria-label={`${comment.userName}, ${comment.body.value}`}\n            ref={this.detectHover}\n            onMouseEnter={this.showHover}\n            onMouseLeave={this.hideHover}>\n            <div className={'avatar-container'}>\n                <img className={'avatar'} src={comment.userIconPath} />\n            </div>\n            <div className={'review-comment-contents'}>\n                <div className={'comment-title monaco-mouse-cursor-text'}>\n                    <strong className={'author'}>{comment.userName}</strong>\n                    <small className={'timestamp'}>{this.localeDate(comment.timestamp)}</small>\n                    <span className={'isPending'}>{comment.label}</span>\n                    <div className={'theia-comments-inline-actions-container'}>\n                        <div className={'theia-comments-inline-actions'} role={'toolbar'}>\n                            {hover && menus.getMenuNode(COMMENT_TITLE) && menus.getMenu(COMMENT_TITLE)?.children.map((node, index): React.ReactNode => CommandMenu.is(node) &&\n                                <CommentsInlineAction key={index} {...{\n                                    node, nodePath: [...COMMENT_TITLE, node.id], commands, commentThread, commentUniqueId,\n                                    contextKeyService, commentsContext\n                                }} />)}\n                        </div>\n                    </div>\n                </div>\n                <CommentBody value={comment.body.value}\n                    isVisible={comment.mode === undefined || comment.mode === CommentMode.Preview} />\n                <CommentEditContainer contextKeyService={contextKeyService}\n                    commentsContext={commentsContext}\n                    menus={menus}\n                    comment={comment}\n                    commentThread={commentThread}\n                    commentForm={commentForm}\n                    commands={commands} />\n            </div>\n        </div>;\n    }\n    protected localeDate(timestamp: string | undefined): string {\n        if (timestamp === undefined) {\n            return '';\n        }\n        const date = new Date(timestamp);\n        if (!isNaN(date.getTime())) {\n            return date.toLocaleString();\n        }\n        return '';\n    }\n}\n\nnamespace CommentBody {\n    export interface Props {\n        value: string\n        isVisible: boolean\n    }\n}\n\nexport class CommentBody extends React.Component<CommentBody.Props> {\n    override render(): React.ReactNode {\n        const { value, isVisible } = this.props;\n        if (!isVisible) {\n            return false;\n        }\n        return <div className={'comment-body monaco-mouse-cursor-text'}>\n            <div>\n                <p>{value}</p>\n            </div>\n        </div>;\n    }\n}\n\nnamespace CommentEditContainer {\n    export interface Props {\n        contextKeyService: ContextKeyService;\n        commentsContext: CommentsContext;\n        menus: MenuModelRegistry,\n        comment: Comment;\n        commentThread: CommentThread;\n        commentForm: RefObject<CommentForm>;\n        commands: CommandRegistry;\n    }\n}\n\nexport class CommentEditContainer extends React.Component<CommentEditContainer.Props> {\n    private readonly inputRef: RefObject<HTMLTextAreaElement> = React.createRef<HTMLTextAreaElement>();\n    private dirtyCommentMode: CommentMode | undefined;\n    private dirtyCommentFormState: boolean | undefined;\n\n    override componentDidUpdate(prevProps: Readonly<CommentEditContainer.Props>, prevState: Readonly<{}>): void {\n        const commentFormState = this.props.commentForm.current?.state;\n        const mode = this.props.comment.mode;\n        if (this.dirtyCommentMode !== mode || (this.dirtyCommentFormState !== commentFormState?.expanded && !commentFormState?.expanded)) {\n            const currentInput = this.inputRef.current;\n            if (currentInput) {\n                // Wait for the widget to be rendered.\n                setTimeout(() => {\n                    currentInput.focus();\n                    currentInput.setSelectionRange(currentInput.value.length, currentInput.value.length);\n                }, 50);\n            }\n        }\n        this.dirtyCommentMode = mode;\n        this.dirtyCommentFormState = commentFormState?.expanded;\n    }\n\n    override render(): React.ReactNode {\n        const { menus, comment, commands, commentThread, contextKeyService, commentsContext } = this.props;\n        if (!(comment.mode === CommentMode.Editing)) {\n            return false;\n        }\n        return <div className={'edit-container'}>\n            <div className={'edit-textarea'}>\n                <div className={'theia-comments-input-message-container'}>\n                    <textarea className={'theia-comments-input-message theia-input'}\n                        spellCheck={false}\n                        defaultValue={comment.body.value}\n                        ref={this.inputRef} />\n                </div>\n            </div>\n            <div className={'form-actions'}>\n                {menus.getMenu(COMMENT_CONTEXT)?.children.map((node, index): React.ReactNode => {\n                    const onClick = () => {\n                        commands.executeCommand(node.id, {\n                            commentControlHandle: commentThread.controllerHandle,\n                            commentThreadHandle: commentThread.commentThreadHandle,\n                            commentUniqueId: comment.uniqueIdInThread,\n                            text: this.inputRef.current ? this.inputRef.current.value : ''\n                        });\n                    };\n                    return CommandMenu.is(node) &&\n                        <CommentAction key={index} {...{\n                            node, nodePath: [...COMMENT_CONTEXT, node.id], comment,\n                            commands, onClick, contextKeyService, commentsContext, commentThread\n                        }} />;\n                }\n                )}\n            </div>\n        </div>;\n    }\n}\n\nnamespace CommentsInlineAction {\n    export interface Props {\n        nodePath: MenuPath,\n        node: CommandMenu;\n        commentThread: CommentThread;\n        commentUniqueId: number;\n        commands: CommandRegistry;\n        contextKeyService: ContextKeyService;\n        commentsContext: CommentsContext;\n    }\n}\n\nexport class CommentsInlineAction extends React.Component<CommentsInlineAction.Props> {\n    override render(): React.ReactNode {\n        const { node, nodePath, commands, contextKeyService, commentThread, commentUniqueId } = this.props;\n        if (node.isVisible(nodePath, contextKeyService, undefined, {\n            thread: commentThread,\n            commentUniqueId\n        })) {\n            return false;\n        }\n        return <div className='theia-comments-inline-action'>\n            <a className={node.icon}\n                title={node.label}\n                onClick={() => {\n                    commands.executeCommand(node.id, {\n                        thread: commentThread,\n                        commentUniqueId: commentUniqueId\n                    });\n                }} />\n        </div>;\n    }\n}\n\nnamespace CommentActions {\n    export interface Props {\n        contextKeyService: ContextKeyService;\n        commentsContext: CommentsContext;\n        menuPath: MenuPath,\n        menu: CompoundMenuNode | undefined;\n        commentThread: CommentThread;\n        getInput: () => string;\n        clearInput: () => void;\n    }\n}\n\nexport class CommentActions extends React.Component<CommentActions.Props> {\n    override render(): React.ReactNode {\n        const { contextKeyService, commentsContext, menuPath, menu, commentThread, getInput, clearInput } = this.props;\n        return <div className={'form-actions'}>\n            {menu?.children.map((node, index) => CommandMenu.is(node) &&\n                <CommentAction key={index}\n                    nodePath={menuPath}\n                    node={node}\n                    onClick={() => {\n                        node.run(\n                            [...menuPath, menu.id], {\n                            thread: commentThread,\n                            text: getInput()\n                        });\n                        clearInput();\n                    }}\n                    commentThread={commentThread}\n                    contextKeyService={contextKeyService}\n                    commentsContext={commentsContext}\n                />)}\n        </div>;\n    }\n}\nnamespace CommentAction {\n    export interface Props {\n        commentThread: CommentThread;\n        contextKeyService: ContextKeyService;\n        commentsContext: CommentsContext;\n        nodePath: MenuPath,\n        node: CommandMenu;\n        onClick: () => void;\n    }\n}\n\nexport class CommentAction extends React.Component<CommentAction.Props> {\n    override render(): React.ReactNode {\n        const classNames = ['comments-button', 'comments-text-button', 'theia-button'];\n        const { node, nodePath, contextKeyService, onClick, commentThread } = this.props;\n        if (!node.isVisible(nodePath, contextKeyService, undefined, {\n            thread: commentThread\n        })) {\n            return false;\n        }\n        const isEnabled = node.isEnabled(nodePath, {\n            thread: commentThread\n        });\n        if (!isEnabled) {\n            classNames.push(DISABLED_CLASS);\n        }\n        return <button\n            className={classNames.join(' ')}\n            tabIndex={0}\n            role={'button'}\n            onClick={() => {\n                if (isEnabled) {\n                    onClick();\n                }\n            }}>{node.label}\n        </button>;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { ContextKeyService, ContextKey } from '@theia/core/lib/browser/context-key-service';\n\n@injectable()\nexport class CommentsContext {\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n    protected readonly contextKeys: Set<string> = new Set();\n    protected _commentIsEmpty: ContextKey<boolean>;\n    protected _commentController: ContextKey<string | undefined>;\n    protected _comment: ContextKey<string | undefined>;\n\n    get commentController(): ContextKey<string | undefined> {\n        return this._commentController;\n    }\n\n    get comment(): ContextKey<string | undefined> {\n        return this._comment;\n    }\n\n    get commentIsEmpty(): ContextKey<boolean> {\n        return this._commentIsEmpty;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.contextKeys.add('commentIsEmpty');\n        this._commentController = this.contextKeyService.createKey<string | undefined>('commentController', undefined);\n        this._comment = this.contextKeyService.createKey<string | undefined>('comment', undefined);\n        this._commentIsEmpty = this.contextKeyService.createKey<boolean>('commentIsEmpty', true);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { CommentingRangeDecorator } from './comments-decorator';\nimport { EditorManager, EditorMouseEvent, EditorWidget } from '@theia/editor/lib/browser';\nimport { MonacoDiffEditor } from '@theia/monaco/lib/browser/monaco-diff-editor';\nimport { CommentThreadWidget } from './comment-thread-widget';\nimport { CommentsService, CommentInfoMain } from './comments-service';\nimport { CommentThread } from '../../../common/plugin-api-rpc-model';\nimport { CommandRegistry, DisposableCollection, MenuModelRegistry } from '@theia/core/lib/common';\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { Uri } from '@theia/plugin';\nimport { CommentsContext } from './comments-context';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/1.49.3/src/vs/workbench/contrib/comments/browser/comments.contribution.ts\n\n@injectable()\nexport class CommentsContribution {\n\n    private addInProgress!: boolean;\n    private commentWidgets: CommentThreadWidget[];\n    private commentInfos: CommentInfoMain[];\n    private emptyThreadsToAddQueue: [number, EditorMouseEvent | undefined][] = [];\n\n    @inject(MenuModelRegistry) protected readonly menus: MenuModelRegistry;\n    @inject(CommentsContext) protected readonly commentsContext: CommentsContext;\n    @inject(ContextKeyService) protected readonly contextKeyService: ContextKeyService;\n    @inject(CommandRegistry) protected readonly commands: CommandRegistry;\n\n    constructor(@inject(CommentingRangeDecorator) protected readonly rangeDecorator: CommentingRangeDecorator,\n        @inject(CommentsService) protected readonly commentService: CommentsService,\n        @inject(EditorManager) protected readonly editorManager: EditorManager) {\n        this.commentWidgets = [];\n        this.commentInfos = [];\n        this.commentService.onDidSetResourceCommentInfos(e => {\n            const editor = this.getCurrentEditor();\n            const editorURI = editor && editor.editor instanceof MonacoDiffEditor && editor.editor.diffEditor.getModifiedEditor().getModel();\n            if (editorURI && editorURI.toString() === e.resource.toString()) {\n                this.setComments(e.commentInfos.filter(commentInfo => commentInfo !== null));\n            }\n        });\n        this.editorManager.onCreated(async widget => {\n            const disposables = new DisposableCollection();\n            const editor = widget.editor;\n            if (editor instanceof MonacoDiffEditor) {\n                const originalEditorModel = editor.diffEditor.getOriginalEditor().getModel();\n                if (originalEditorModel) {\n                    // need to cast because of vscode issue https://github.com/microsoft/vscode/issues/190584\n                    const originalComments = await this.commentService.getComments(originalEditorModel.uri as Uri);\n                    if (originalComments) {\n                        this.rangeDecorator.update(editor.diffEditor.getOriginalEditor(), <CommentInfoMain[]>originalComments.filter(c => !!c));\n                    }\n                }\n                const modifiedEditorModel = editor.diffEditor.getModifiedEditor().getModel();\n                if (modifiedEditorModel) {\n                    // need to cast because of vscode issue https://github.com/microsoft/vscode/issues/190584\n                    const modifiedComments = await this.commentService.getComments(modifiedEditorModel.uri as Uri);\n                    if (modifiedComments) {\n                        this.rangeDecorator.update(editor.diffEditor.getModifiedEditor(), <CommentInfoMain[]>modifiedComments.filter(c => !!c));\n                    }\n                }\n                disposables.push(editor.onMouseDown(e => this.onEditorMouseDown(e)));\n                disposables.push(this.commentService.onDidUpdateCommentThreads(async e => {\n                    const editorURI = editor.document.uri;\n                    const commentInfo = this.commentInfos.filter(info => info.owner === e.owner);\n                    if (!commentInfo || !commentInfo.length) {\n                        return;\n                    }\n\n                    const added = e.added.filter(thread => thread.resource && thread.resource.toString() === editorURI.toString());\n                    const removed = e.removed.filter(thread => thread.resource && thread.resource.toString() === editorURI.toString());\n                    const changed = e.changed.filter(thread => thread.resource && thread.resource.toString() === editorURI.toString());\n\n                    removed.forEach(thread => {\n                        const matchedZones = this.commentWidgets.filter(zoneWidget => zoneWidget.owner === e.owner\n                            && zoneWidget.commentThread.threadId === thread.threadId && zoneWidget.commentThread.threadId !== '');\n                        if (matchedZones.length) {\n                            const matchedZone = matchedZones[0];\n                            const index = this.commentWidgets.indexOf(matchedZone);\n                            this.commentWidgets.splice(index, 1);\n                            matchedZone.dispose();\n                        }\n                    });\n\n                    changed.forEach(thread => {\n                        const matchedZones = this.commentWidgets.filter(zoneWidget => zoneWidget.owner === e.owner\n                            && zoneWidget.commentThread.threadId === thread.threadId);\n                        if (matchedZones.length) {\n                            const matchedZone = matchedZones[0];\n                            matchedZone.update();\n                        }\n                    });\n                    added.forEach(thread => {\n                        this.displayCommentThread(e.owner, thread);\n                        this.commentInfos.filter(info => info.owner === e.owner)[0].threads.push(thread);\n                    });\n                })\n                );\n                editor.onDispose(() => {\n                    disposables.dispose();\n                });\n                this.beginCompute();\n            }\n        });\n    }\n\n    private onEditorMouseDown(e: EditorMouseEvent): void {\n        let mouseDownInfo = null;\n\n        const range = e.target.range;\n\n        if (!range) {\n            return;\n        }\n\n        if (e.target.type !== monaco.editor.MouseTargetType.GUTTER_LINE_DECORATIONS) {\n            return;\n        }\n\n        const data = e.target.detail;\n        const gutterOffsetX = data.offsetX - data.glyphMarginWidth - data.lineNumbersWidth - data.glyphMarginLeft;\n\n        // don't collide with folding and git decorations\n        if (gutterOffsetX > 14) {\n            return;\n        }\n\n        mouseDownInfo = { lineNumber: range.start };\n\n        const { lineNumber } = mouseDownInfo;\n        mouseDownInfo = null;\n\n        if (!range || range.start !== lineNumber) {\n            return;\n        }\n\n        if (!e.target.element) {\n            return;\n        }\n\n        if (e.target.element.className.indexOf('comment-diff-added') >= 0) {\n            this.addOrToggleCommentAtLine(e.target.position!.line + 1, e);\n        }\n    }\n\n    private async beginCompute(): Promise<void> {\n        const editorModel = this.editor && this.editor.getModel();\n        const editorURI = this.editor && editorModel && editorModel.uri;\n        if (editorURI) {\n            // need to cast because of vscode issue https://github.com/microsoft/vscode/issues/190584\n            const comments = await this.commentService.getComments(editorURI as Uri);\n            this.setComments(<CommentInfoMain[]>comments.filter(c => !!c));\n        }\n    }\n\n    private setComments(commentInfos: CommentInfoMain[]): void {\n        if (!this.editor) {\n            return;\n        }\n\n        this.commentInfos = commentInfos;\n    }\n\n    get editor(): monaco.editor.IStandaloneCodeEditor | undefined {\n        const editor = this.getCurrentEditor();\n        if (editor && editor.editor instanceof MonacoDiffEditor) {\n            return editor.editor.diffEditor.getModifiedEditor();\n        }\n    }\n\n    private displayCommentThread(owner: string, thread: CommentThread): void {\n        const editor = this.editor;\n        if (editor) {\n            const provider = this.commentService.getCommentController(owner);\n            if (provider) {\n                this.commentsContext.commentController.set(provider.id);\n            }\n            const zoneWidget = new CommentThreadWidget(editor, owner, thread, this.commentService, this.menus, this.commentsContext, this.contextKeyService, this.commands);\n            zoneWidget.display({ afterLineNumber: thread.range?.startLineNumber || 0, heightInLines: 5 });\n            const currentEditor = this.getCurrentEditor();\n            if (currentEditor) {\n                currentEditor.onDispose(() => zoneWidget.dispose());\n            }\n            this.commentWidgets.push(zoneWidget);\n        }\n    }\n\n    public async addOrToggleCommentAtLine(lineNumber: number, e: EditorMouseEvent | undefined): Promise<void> {\n        // If an add is already in progress, queue the next add and process it after the current one finishes to\n        // prevent empty comment threads from being added to the same line.\n        if (!this.addInProgress) {\n            this.addInProgress = true;\n            // The widget's position is undefined until the widget has been displayed, so rely on the glyph position instead\n            const existingCommentsAtLine = this.commentWidgets.filter(widget => widget.getGlyphPosition() === lineNumber);\n            if (existingCommentsAtLine.length) {\n                existingCommentsAtLine.forEach(widget => widget.toggleExpand(lineNumber));\n                this.processNextThreadToAdd();\n                return;\n            } else {\n                this.addCommentAtLine(lineNumber, e);\n            }\n        } else {\n            this.emptyThreadsToAddQueue.push([lineNumber, e]);\n        }\n    }\n\n    private processNextThreadToAdd(): void {\n        this.addInProgress = false;\n        const info = this.emptyThreadsToAddQueue.shift();\n        if (info) {\n            this.addOrToggleCommentAtLine(info[0], info[1]);\n        }\n    }\n\n    private getCurrentEditor(): EditorWidget | undefined {\n        return this.editorManager.currentEditor;\n    }\n\n    public addCommentAtLine(lineNumber: number, e: EditorMouseEvent | undefined): Promise<void> {\n        const newCommentInfos = this.rangeDecorator.getMatchedCommentAction(lineNumber);\n        const editor = this.getCurrentEditor();\n        if (!editor) {\n            return Promise.resolve();\n        }\n        if (!newCommentInfos.length) {\n            return Promise.resolve();\n        }\n\n        const { ownerId } = newCommentInfos[0]!;\n        this.addCommentAtLine2(lineNumber, ownerId);\n\n        return Promise.resolve();\n    }\n\n    public addCommentAtLine2(lineNumber: number, ownerId: string): void {\n        const editorModel = this.editor && this.editor.getModel();\n        const editorURI = this.editor && editorModel && editorModel.uri;\n        if (editorURI) {\n            this.commentService.createCommentThreadTemplate(ownerId, URI.parse(editorURI.toString()), {\n                startLineNumber: lineNumber,\n                endLineNumber: lineNumber,\n                startColumn: 1,\n                endColumn: 1\n            });\n            this.processNextThreadToAdd();\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { CommentInfoMain } from './comments-service';\nimport { CommentingRanges, Range } from '../../../common/plugin-api-rpc-model';\nimport * as monaco from '@theia/monaco-editor-core';\n\n@injectable()\nexport class CommentingRangeDecorator {\n\n    private decorationOptions: monaco.editor.IModelDecorationOptions;\n    private commentingRangeDecorations: CommentingRangeDecoration[] = [];\n\n    constructor() {\n        this.decorationOptions = {\n            isWholeLine: true,\n            linesDecorationsClassName: 'comment-range-glyph comment-diff-added'\n        };\n    }\n\n    public update(editor: monaco.editor.ICodeEditor, commentInfos: CommentInfoMain[]): void {\n        const model = editor.getModel();\n        if (!model) {\n            return;\n        }\n\n        const commentingRangeDecorations: CommentingRangeDecoration[] = [];\n        for (const info of commentInfos) {\n            info.commentingRanges.ranges.forEach(range => {\n                commentingRangeDecorations.push(new CommentingRangeDecoration(editor, info.owner, info.extensionId, info.label,\n                    range, this.decorationOptions, info.commentingRanges));\n            });\n        }\n\n        const oldDecorations = this.commentingRangeDecorations.map(decoration => decoration.id);\n        editor.deltaDecorations(oldDecorations, []);\n\n        this.commentingRangeDecorations = commentingRangeDecorations;\n    }\n\n    public getMatchedCommentAction(line: number): { ownerId: string, extensionId: string | undefined, label: string | undefined, commentingRangesInfo: CommentingRanges }[] {\n        const result = [];\n        for (const decoration of this.commentingRangeDecorations) {\n            const range = decoration.getActiveRange();\n            if (range && range.startLineNumber <= line && line <= range.endLineNumber) {\n                result.push(decoration.getCommentAction());\n            }\n        }\n\n        return result;\n    }\n}\n\nclass CommentingRangeDecoration {\n    private decorationId: string;\n\n    public get id(): string {\n        return this.decorationId;\n    }\n\n    constructor(private _editor: monaco.editor.ICodeEditor, private _ownerId: string, private _extensionId: string | undefined,\n        private _label: string | undefined, private _range: Range, commentingOptions: monaco.editor.IModelDecorationOptions,\n        private commentingRangesInfo: CommentingRanges) {\n        const startLineNumber = _range.startLineNumber;\n        const endLineNumber = _range.endLineNumber;\n        const commentingRangeDecorations = [{\n            range: {\n                startLineNumber: startLineNumber, startColumn: 1,\n                endLineNumber: endLineNumber, endColumn: 1\n            },\n            options: commentingOptions\n        }];\n\n        this.decorationId = this._editor.deltaDecorations([], commentingRangeDecorations)[0];\n    }\n\n    public getCommentAction(): { ownerId: string, extensionId: string | undefined, label: string | undefined, commentingRangesInfo: CommentingRanges } {\n        return {\n            extensionId: this._extensionId,\n            label: this._label,\n            ownerId: this._ownerId,\n            commentingRangesInfo: this.commentingRangesInfo\n        };\n    }\n\n    public getOriginalRange(): Range {\n        return this._range;\n    }\n\n    public getActiveRange(): Range | undefined {\n        const range = this._editor.getModel()!.getDecorationRange(this.decorationId);\n        if (range) {\n            return range;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    Range,\n    Comment,\n    CommentInput,\n    CommentOptions,\n    CommentThread,\n    CommentThreadChangedEvent\n} from '../../../common/plugin-api-rpc-model';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport { CommentThreadCollapsibleState, CommentThreadState } from '../../../plugin/types-impl';\nimport {\n    CommentProviderFeatures,\n    CommentsExt,\n    CommentsMain,\n    CommentThreadChanges,\n    MAIN_RPC_CONTEXT\n} from '../../../common/plugin-api-rpc';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { CommentsService, CommentInfoMain } from './comments-service';\nimport { UriComponents } from '../../../common/uri-components';\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport { CancellationToken } from '@theia/core/lib/common';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { generateUuid } from '@theia/core/lib/common/uuid';\nimport { CommentsContribution } from './comments-contribution';\nimport { CommentAuthorInformation } from '@theia/plugin';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/1.49.3/src/vs/workbench/api/browser/mainThreadComments.ts\n\nexport class CommentThreadImpl implements CommentThread, Disposable {\n    private _input?: CommentInput;\n    get input(): CommentInput | undefined {\n        return this._input;\n    }\n\n    set input(value: CommentInput | undefined) {\n        this._input = value;\n        this.onDidChangeInputEmitter.fire(value);\n    }\n\n    private readonly onDidChangeInputEmitter = new Emitter<CommentInput | undefined>();\n    get onDidChangeInput(): Event<CommentInput | undefined> { return this.onDidChangeInputEmitter.event; }\n\n    private _label: string | undefined;\n\n    get label(): string | undefined {\n        return this._label;\n    }\n\n    set label(label: string | undefined) {\n        this._label = label;\n        this.onDidChangeLabelEmitter.fire(this._label);\n    }\n\n    private readonly onDidChangeLabelEmitter = new Emitter<string | undefined>();\n    readonly onDidChangeLabel: Event<string | undefined> = this.onDidChangeLabelEmitter.event;\n\n    private _contextValue: string | undefined;\n\n    get contextValue(): string | undefined {\n        return this._contextValue;\n    }\n\n    set contextValue(context: string | undefined) {\n        this._contextValue = context;\n    }\n\n    private _comments: Comment[] | undefined;\n\n    public get comments(): Comment[] | undefined {\n        return this._comments;\n    }\n\n    public set comments(newComments: Comment[] | undefined) {\n        this._comments = newComments;\n        this.onDidChangeCommentsEmitter.fire(this._comments);\n    }\n\n    private readonly onDidChangeCommentsEmitter = new Emitter<Comment[] | undefined>();\n    get onDidChangeComments(): Event<Comment[] | undefined> { return this.onDidChangeCommentsEmitter.event; }\n\n    set range(range: Range | undefined) {\n        this._range = range;\n        this.onDidChangeRangeEmitter.fire(this._range);\n    }\n\n    get range(): Range | undefined {\n        return this._range;\n    }\n\n    private readonly onDidChangeRangeEmitter = new Emitter<Range | undefined>();\n    public onDidChangeRange = this.onDidChangeRangeEmitter.event;\n\n    private _collapsibleState: CommentThreadCollapsibleState | undefined;\n    get collapsibleState(): CommentThreadCollapsibleState | undefined {\n        return this._collapsibleState;\n    }\n\n    set collapsibleState(newState: CommentThreadCollapsibleState | undefined) {\n        this._collapsibleState = newState;\n        this.onDidChangeCollapsibleStateEmitter.fire(this._collapsibleState);\n    }\n\n    private readonly onDidChangeCollapsibleStateEmitter = new Emitter<CommentThreadCollapsibleState | undefined>();\n    readonly onDidChangeCollapsibleState = this.onDidChangeCollapsibleStateEmitter.event;\n\n    private _state: CommentThreadState | undefined;\n    get state(): CommentThreadState | undefined {\n        return this._state;\n    }\n\n    set state(newState: CommentThreadState | undefined) {\n        if (this._state !== newState) {\n            this._state = newState;\n            this.onDidChangeStateEmitter.fire(this._state);\n        }\n    }\n\n    private readonly onDidChangeStateEmitter = new Emitter<CommentThreadState | undefined>();\n    readonly onDidChangeState = this.onDidChangeStateEmitter.event;\n\n    private readonly onDidChangeCanReplyEmitter = new Emitter<boolean | CommentAuthorInformation>();\n    readonly onDidChangeCanReply = this.onDidChangeCanReplyEmitter.event;\n\n    private _isDisposed: boolean;\n\n    get isDisposed(): boolean {\n        return this._isDisposed;\n    }\n\n    private _canReply: boolean | CommentAuthorInformation = true;\n    get canReply(): boolean | CommentAuthorInformation {\n        return this._canReply;\n    }\n\n    set canReply(canReply: boolean | CommentAuthorInformation) {\n        this._canReply = canReply;\n        this.onDidChangeCanReplyEmitter.fire(this._canReply);\n    }\n\n    constructor(\n        public commentThreadHandle: number,\n        public controllerHandle: number,\n        public extensionId: string,\n        public threadId: string,\n        public resource: string,\n        private _range: Range | undefined\n    ) {\n        this._isDisposed = false;\n    }\n\n    batchUpdate(changes: CommentThreadChanges): void {\n        const modified = (value: keyof CommentThreadChanges): boolean =>\n            Object.prototype.hasOwnProperty.call(changes, value);\n\n        if (modified('range')) { this._range = changes.range; }\n        if (modified('label')) { this._label = changes.label; }\n        if (modified('contextValue')) { this._contextValue = changes.contextValue; }\n        if (modified('comments')) { this._comments = changes.comments; }\n        if (modified('collapseState')) { this._collapsibleState = changes.collapseState; }\n        if (modified('state')) { this._state = changes.state; }\n        if (modified('canReply')) { this._canReply = changes.canReply!; }\n    }\n\n    dispose(): void {\n        this._isDisposed = true;\n        this.onDidChangeCollapsibleStateEmitter.dispose();\n        this.onDidChangeStateEmitter.dispose();\n        this.onDidChangeCommentsEmitter.dispose();\n        this.onDidChangeInputEmitter.dispose();\n        this.onDidChangeLabelEmitter.dispose();\n        this.onDidChangeRangeEmitter.dispose();\n        this.onDidChangeCanReplyEmitter.dispose();\n    }\n}\n\nexport class CommentController {\n    get handle(): number {\n        return this._handle;\n    }\n\n    get id(): string {\n        return this._id;\n    }\n\n    get contextValue(): string {\n        return this._id;\n    }\n\n    get proxy(): CommentsExt {\n        return this._proxy;\n    }\n\n    get label(): string {\n        return this._label;\n    }\n\n    get options(): CommentOptions | undefined {\n        return this._features.options;\n    }\n\n    private readonly threads: Map<number, CommentThreadImpl> = new Map<number, CommentThreadImpl>();\n    public activeCommentThread?: CommentThread;\n\n    get features(): CommentProviderFeatures {\n        return this._features;\n    }\n\n    constructor(\n        private readonly _proxy: CommentsExt,\n        private readonly _commentService: CommentsService,\n        private readonly _handle: number,\n        private readonly _uniqueId: string,\n        private readonly _id: string,\n        private readonly _label: string,\n        private _features: CommentProviderFeatures\n    ) { }\n\n    updateFeatures(features: CommentProviderFeatures): void {\n        this._features = features;\n    }\n\n    createCommentThread(extensionId: string,\n        commentThreadHandle: number,\n        threadId: string,\n        resource: UriComponents,\n        range: Range | undefined,\n    ): CommentThread {\n        const thread = new CommentThreadImpl(\n            commentThreadHandle,\n            this.handle,\n            extensionId,\n            threadId,\n            URI.revive(resource).toString(),\n            range\n        );\n\n        this.threads.set(commentThreadHandle, thread);\n\n        this._commentService.updateComments(this._uniqueId, {\n            added: [thread],\n            removed: [],\n            changed: []\n        });\n\n        return thread;\n    }\n\n    updateCommentThread(commentThreadHandle: number,\n        threadId: string,\n        resource: UriComponents,\n        changes: CommentThreadChanges): void {\n        const thread = this.getKnownThread(commentThreadHandle);\n        thread.batchUpdate(changes);\n\n        this._commentService.updateComments(this._uniqueId, {\n            added: [],\n            removed: [],\n            changed: [thread]\n        });\n    }\n\n    deleteCommentThread(commentThreadHandle: number): void {\n        const thread = this.getKnownThread(commentThreadHandle);\n        this.threads.delete(commentThreadHandle);\n\n        this._commentService.updateComments(this._uniqueId, {\n            added: [],\n            removed: [thread],\n            changed: []\n        });\n\n        thread.dispose();\n    }\n\n    deleteCommentThreadMain(commentThreadId: string): void {\n        this.threads.forEach(thread => {\n            if (thread.threadId === commentThreadId) {\n                this._proxy.$deleteCommentThread(this._handle, thread.commentThreadHandle);\n            }\n        });\n    }\n\n    updateInput(input: string): void {\n        const thread = this.activeCommentThread;\n\n        if (thread && thread.input) {\n            const commentInput = thread.input;\n            commentInput.value = input;\n            thread.input = commentInput;\n        }\n    }\n\n    private getKnownThread(commentThreadHandle: number): CommentThreadImpl {\n        const thread = this.threads.get(commentThreadHandle);\n        if (!thread) {\n            throw new Error('unknown thread');\n        }\n        return thread;\n    }\n\n    async getDocumentComments(resource: URI, token: CancellationToken): Promise<CommentInfoMain> {\n        const ret: CommentThread[] = [];\n        for (const thread of [...this.threads.keys()]) {\n            const commentThread = this.threads.get(thread)!;\n            if (commentThread.resource === resource.toString()) {\n                ret.push(commentThread);\n            }\n        }\n\n        const commentingRanges = await this._proxy.$provideCommentingRanges(this.handle, resource, token);\n\n        return <CommentInfoMain>{\n            owner: this._uniqueId,\n            label: this.label,\n            threads: ret,\n            commentingRanges: {\n                resource: resource,\n                ranges: commentingRanges?.ranges || [],\n                fileComments: !!commentingRanges?.fileComments\n            }\n        };\n    }\n\n    async getCommentingRanges(resource: URI, token: CancellationToken): Promise<{ ranges: Range[]; fileComments: boolean } | undefined> {\n        const commentingRanges = await this._proxy.$provideCommentingRanges(this.handle, resource, token);\n        return commentingRanges;\n    }\n\n    getAllComments(): CommentThread[] {\n        const ret: CommentThread[] = [];\n        for (const thread of [...this.threads.keys()]) {\n            ret.push(this.threads.get(thread)!);\n        }\n\n        return ret;\n    }\n\n    createCommentThreadTemplate(resource: UriComponents, range: Range): void {\n        this._proxy.$createCommentThreadTemplate(this.handle, resource, range);\n    }\n\n    async updateCommentThreadTemplate(threadHandle: number, range: Range): Promise<void> {\n        await this._proxy.$updateCommentThreadTemplate(this.handle, threadHandle, range);\n    }\n}\n\nexport class CommentsMainImp implements CommentsMain {\n    private readonly proxy: CommentsExt;\n    private documentProviders = new Map<number, Disposable>();\n    private workspaceProviders = new Map<number, Disposable>();\n    private handlers = new Map<number, string>();\n    private commentControllers = new Map<number, CommentController>();\n\n    private activeCommentThread?: CommentThread;\n    private readonly commentService: CommentsService;\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.COMMENTS_EXT);\n        container.get(CommentsContribution);\n        this.commentService = container.get(CommentsService);\n        this.commentService.onDidChangeActiveCommentThread(async thread => {\n            const handle = (thread as CommentThread).controllerHandle;\n            const controller = this.commentControllers.get(handle);\n\n            if (!controller) {\n                return;\n            }\n\n            this.activeCommentThread = thread as CommentThread;\n            controller.activeCommentThread = this.activeCommentThread;\n        });\n    }\n\n    $registerCommentController(handle: number, id: string, label: string): void {\n        const providerId = generateUuid();\n        this.handlers.set(handle, providerId);\n\n        const provider = new CommentController(this.proxy, this.commentService, handle, providerId, id, label, {});\n        this.commentService.registerCommentController(providerId, provider);\n        this.commentControllers.set(handle, provider);\n        this.commentService.setWorkspaceComments(String(handle), []);\n    }\n\n    $unregisterCommentController(handle: number): void {\n        const providerId = this.handlers.get(handle);\n        if (typeof providerId !== 'string') {\n            throw new Error('unknown handler');\n        }\n        this.commentService.unregisterCommentController(providerId);\n        this.handlers.delete(handle);\n        this.commentControllers.delete(handle);\n    }\n\n    $updateCommentControllerFeatures(handle: number, features: CommentProviderFeatures): void {\n        const provider = this.commentControllers.get(handle);\n\n        if (!provider) {\n            return undefined;\n        }\n\n        provider.updateFeatures(features);\n    }\n\n    $createCommentThread(handle: number,\n        commentThreadHandle: number,\n        threadId: string,\n        resource: UriComponents,\n        range: Range | undefined,\n        extensionId: string\n    ): CommentThread | undefined {\n        const provider = this.commentControllers.get(handle);\n\n        if (!provider) {\n            return undefined;\n        }\n\n        return provider.createCommentThread(extensionId, commentThreadHandle, threadId, resource, range);\n    }\n\n    $updateCommentThread(handle: number,\n        commentThreadHandle: number,\n        threadId: string,\n        resource: UriComponents,\n        changes: CommentThreadChanges): void {\n        const provider = this.commentControllers.get(handle);\n\n        if (!provider) {\n            return undefined;\n        }\n\n        return provider.updateCommentThread(commentThreadHandle, threadId, resource, changes);\n    }\n\n    $deleteCommentThread(handle: number, commentThreadHandle: number): void {\n        const provider = this.commentControllers.get(handle);\n\n        if (!provider) {\n            return;\n        }\n\n        return provider.deleteCommentThread(commentThreadHandle);\n    }\n\n    private getHandler(handle: number): string {\n        if (!this.handlers.has(handle)) {\n            throw new Error('Unknown handler');\n        }\n        return this.handlers.get(handle)!;\n    }\n\n    $onDidCommentThreadsChange(handle: number, event: CommentThreadChangedEvent): void {\n        const providerId = this.getHandler(handle);\n        this.commentService.updateComments(providerId, event);\n    }\n\n    dispose(): void {\n        this.workspaceProviders.forEach(value => value.dispose());\n        this.workspaceProviders.clear();\n        this.documentProviders.forEach(value => value.dispose());\n        this.documentProviders.clear();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport {\n    Range,\n    CommentInfo,\n    CommentingRanges,\n    CommentThread,\n    CommentThreadChangedEvent,\n    CommentThreadChangedEventMain\n} from '../../../common/plugin-api-rpc-model';\nimport { CommentController } from './comments-main';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/1.49.3/src/vs/workbench/contrib/comments/browser/commentService.ts\n\nexport interface ResourceCommentThreadEvent {\n    resource: URI;\n    commentInfos: CommentInfoMain[];\n}\n\nexport interface CommentInfoMain extends CommentInfo {\n    owner: string;\n    label?: string;\n}\n\nexport interface WorkspaceCommentThreadsEventMain {\n    ownerId: string;\n    commentThreads: CommentThread[];\n}\n\nexport const CommentsService = Symbol('CommentsService');\n\nexport interface CommentsService {\n    readonly onDidSetResourceCommentInfos: Event<ResourceCommentThreadEvent>;\n    readonly onDidSetAllCommentThreads: Event<WorkspaceCommentThreadsEventMain>;\n    readonly onDidUpdateCommentThreads: Event<CommentThreadChangedEventMain>;\n    readonly onDidChangeActiveCommentThread: Event<CommentThread | null>;\n    readonly onDidChangeActiveCommentingRange: Event<{ range: Range, commentingRangesInfo: CommentingRanges }>;\n    readonly onDidSetDataProvider: Event<void>;\n    readonly onDidDeleteDataProvider: Event<string>;\n\n    setDocumentComments(resource: URI, commentInfos: CommentInfoMain[]): void;\n\n    setWorkspaceComments(owner: string, commentsByResource: CommentThread[]): void;\n\n    removeWorkspaceComments(owner: string): void;\n\n    registerCommentController(owner: string, commentControl: CommentController): void;\n\n    unregisterCommentController(owner: string): void;\n\n    getCommentController(owner: string): CommentController | undefined;\n\n    createCommentThreadTemplate(owner: string, resource: URI, range: Range): void;\n\n    updateCommentThreadTemplate(owner: string, threadHandle: number, range: Range): Promise<void>;\n\n    updateComments(ownerId: string, event: CommentThreadChangedEvent): void;\n\n    disposeCommentThread(ownerId: string, threadId: string): void;\n\n    getComments(resource: URI): Promise<(CommentInfoMain | null)[]>;\n\n    getCommentingRanges(resource: URI): Promise<Range[]>;\n\n    setActiveCommentThread(commentThread: CommentThread | null): void;\n}\n\n@injectable()\nexport class PluginCommentService implements CommentsService {\n\n    private readonly onDidSetDataProviderEmitter: Emitter<void> = new Emitter<void>();\n    readonly onDidSetDataProvider: Event<void> = this.onDidSetDataProviderEmitter.event;\n\n    private readonly onDidDeleteDataProviderEmitter: Emitter<string> = new Emitter<string>();\n    readonly onDidDeleteDataProvider: Event<string> = this.onDidDeleteDataProviderEmitter.event;\n\n    private readonly onDidSetResourceCommentInfosEmitter: Emitter<ResourceCommentThreadEvent> = new Emitter<ResourceCommentThreadEvent>();\n    readonly onDidSetResourceCommentInfos: Event<ResourceCommentThreadEvent> = this.onDidSetResourceCommentInfosEmitter.event;\n\n    private readonly onDidSetAllCommentThreadsEmitter: Emitter<WorkspaceCommentThreadsEventMain> = new Emitter<WorkspaceCommentThreadsEventMain>();\n    readonly onDidSetAllCommentThreads: Event<WorkspaceCommentThreadsEventMain> = this.onDidSetAllCommentThreadsEmitter.event;\n\n    private readonly onDidUpdateCommentThreadsEmitter: Emitter<CommentThreadChangedEventMain> = new Emitter<CommentThreadChangedEventMain>();\n    readonly onDidUpdateCommentThreads: Event<CommentThreadChangedEventMain> = this.onDidUpdateCommentThreadsEmitter.event;\n\n    private readonly onDidChangeActiveCommentThreadEmitter = new Emitter<CommentThread | null>();\n    readonly onDidChangeActiveCommentThread = this.onDidChangeActiveCommentThreadEmitter.event;\n\n    private readonly onDidChangeActiveCommentingRangeEmitter = new Emitter<{ range: Range, commentingRangesInfo: CommentingRanges }>();\n    readonly onDidChangeActiveCommentingRange: Event<{ range: Range, commentingRangesInfo: CommentingRanges }> = this.onDidChangeActiveCommentingRangeEmitter.event;\n\n    private commentControls = new Map<string, CommentController>();\n\n    setActiveCommentThread(commentThread: CommentThread | null): void {\n        this.onDidChangeActiveCommentThreadEmitter.fire(commentThread);\n    }\n\n    setDocumentComments(resource: URI, commentInfos: CommentInfoMain[]): void {\n        this.onDidSetResourceCommentInfosEmitter.fire({ resource, commentInfos });\n    }\n\n    setWorkspaceComments(owner: string, commentsByResource: CommentThread[]): void {\n        this.onDidSetAllCommentThreadsEmitter.fire({ ownerId: owner, commentThreads: commentsByResource });\n    }\n\n    removeWorkspaceComments(owner: string): void {\n        this.onDidSetAllCommentThreadsEmitter.fire({ ownerId: owner, commentThreads: [] });\n    }\n\n    registerCommentController(owner: string, commentControl: CommentController): void {\n        this.commentControls.set(owner, commentControl);\n        this.onDidSetDataProviderEmitter.fire();\n    }\n\n    unregisterCommentController(owner: string): void {\n        this.commentControls.delete(owner);\n        this.onDidDeleteDataProviderEmitter.fire(owner);\n    }\n\n    getCommentController(owner: string): CommentController | undefined {\n        return this.commentControls.get(owner);\n    }\n\n    createCommentThreadTemplate(owner: string, resource: URI, range: Range): void {\n        const commentController = this.commentControls.get(owner);\n\n        if (!commentController) {\n            return;\n        }\n\n        commentController.createCommentThreadTemplate(resource, range);\n    }\n\n    async updateCommentThreadTemplate(owner: string, threadHandle: number, range: Range): Promise<void> {\n        const commentController = this.commentControls.get(owner);\n\n        if (!commentController) {\n            return;\n        }\n\n        await commentController.updateCommentThreadTemplate(threadHandle, range);\n    }\n\n    disposeCommentThread(owner: string, threadId: string): void {\n        const controller = this.getCommentController(owner);\n        if (controller) {\n            controller.deleteCommentThreadMain(threadId);\n        }\n    }\n\n    updateComments(ownerId: string, event: CommentThreadChangedEvent): void {\n        const evt: CommentThreadChangedEventMain = Object.assign({}, event, { owner: ownerId });\n        this.onDidUpdateCommentThreadsEmitter.fire(evt);\n    }\n\n    async getComments(resource: URI): Promise<(CommentInfoMain | null)[]> {\n        const commentControlResult: Promise<CommentInfoMain | null>[] = [];\n\n        this.commentControls.forEach(control => {\n            commentControlResult.push(control.getDocumentComments(resource, CancellationToken.None)\n                .catch(e => {\n                    console.log(e);\n                    return null;\n                }));\n        });\n\n        return Promise.all(commentControlResult);\n    }\n\n    async getCommentingRanges(resource: URI): Promise<Range[]> {\n        const commentControlResult: Promise<{ ranges: Range[]; fileComments: boolean } | undefined>[] = [];\n\n        this.commentControls.forEach(control => {\n            commentControlResult.push(control.getCommentingRanges(resource, CancellationToken.None));\n        });\n\n        const ret = await Promise.all(commentControlResult);\n        return ret.reduce<Range[]>((prev, curr) => {\n            if (curr) {\n                prev.push(...curr.ranges);\n            }\n            return prev;\n        }, []);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport {\n    ApplicationShell, DiffUris, OpenHandler, OpenerOptions, SplitWidget, Widget, WidgetManager, WidgetOpenerOptions, getDefaultHandler, defaultHandlerPriority\n} from '@theia/core/lib/browser';\nimport { CustomEditor, CustomEditorPriority, CustomEditorSelector } from '../../../common';\nimport { CustomEditorWidget } from './custom-editor-widget';\nimport { PluginCustomEditorRegistry } from './plugin-custom-editor-registry';\nimport { generateUuid } from '@theia/core/lib/common/uuid';\nimport { DisposableCollection, Emitter, PreferenceService } from '@theia/core';\nimport { match } from '@theia/core/lib/common/glob';\n\nexport class CustomEditorOpener implements OpenHandler {\n\n    readonly id: string;\n    readonly label: string;\n\n    private readonly onDidOpenCustomEditorEmitter = new Emitter<[CustomEditorWidget, WidgetOpenerOptions?]>();\n    readonly onDidOpenCustomEditor = this.onDidOpenCustomEditorEmitter.event;\n\n    constructor(\n        private readonly editor: CustomEditor,\n        protected readonly shell: ApplicationShell,\n        protected readonly widgetManager: WidgetManager,\n        protected readonly editorRegistry: PluginCustomEditorRegistry,\n        protected readonly preferenceService: PreferenceService\n    ) {\n        this.id = CustomEditorOpener.toCustomEditorId(this.editor.viewType);\n        this.label = this.editor.displayName;\n    }\n\n    static toCustomEditorId(editorViewType: string): string {\n        return `custom-editor-${editorViewType}`;\n    }\n\n    canHandle(uri: URI, options?: OpenerOptions): number {\n        let priority = 0;\n        const { selector } = this.editor;\n        if (DiffUris.isDiffUri(uri)) {\n            const [left, right] = DiffUris.decode(uri);\n            if (this.matches(selector, right) && this.matches(selector, left)) {\n                if (getDefaultHandler(right, this.preferenceService) === this.editor.viewType) {\n                    priority = defaultHandlerPriority;\n                } else {\n                    priority = this.getPriority();\n                }\n            }\n        } else if (this.matches(selector, uri)) {\n            if (getDefaultHandler(uri, this.preferenceService) === this.editor.viewType) {\n                priority = defaultHandlerPriority;\n            } else {\n                priority = this.getPriority();\n            }\n        }\n        return priority;\n    }\n\n    canOpenWith(uri: URI): number {\n        if (this.matches(this.editor.selector, uri)) {\n            return this.getPriority();\n        }\n        return 0;\n    }\n\n    getPriority(): number {\n        switch (this.editor.priority) {\n            case CustomEditorPriority.default: return 500;\n            case CustomEditorPriority.builtin: return 400;\n            /** `option` should not open the custom-editor by default. */\n            case CustomEditorPriority.option: return 1;\n            default: return 200;\n        }\n    }\n\n    protected readonly pendingWidgetPromises = new Map<string, Promise<CustomEditorWidget>>();\n    protected async openCustomEditor(uri: URI, options?: WidgetOpenerOptions): Promise<CustomEditorWidget> {\n        let widget: CustomEditorWidget | undefined;\n        let isNewWidget = false;\n        const uriString = uri.toString();\n        let widgetPromise = this.pendingWidgetPromises.get(uriString);\n        if (widgetPromise) {\n            widget = await widgetPromise;\n        } else {\n            const widgets = this.widgetManager.getWidgets(CustomEditorWidget.FACTORY_ID) as CustomEditorWidget[];\n            widget = widgets.find(w => w.viewType === this.editor.viewType && w.resource.toString() === uriString);\n            if (!widget) {\n                isNewWidget = true;\n                const id = generateUuid();\n                widgetPromise = this.widgetManager.getOrCreateWidget<CustomEditorWidget>(CustomEditorWidget.FACTORY_ID, { id }).then(async w => {\n                    try {\n                        w.viewType = this.editor.viewType;\n                        w.resource = uri;\n                        await this.editorRegistry.resolveWidget(w);\n                        if (options?.widgetOptions) {\n                            await this.shell.addWidget(w, options.widgetOptions);\n                        }\n                        return w;\n                    } catch (e) {\n                        w.dispose();\n                        throw e;\n                    }\n                }).finally(() => this.pendingWidgetPromises.delete(uriString));\n                this.pendingWidgetPromises.set(uriString, widgetPromise);\n                widget = await widgetPromise;\n            }\n        }\n        if (options?.mode === 'activate') {\n            await this.shell.activateWidget(widget.id);\n        } else if (options?.mode === 'reveal') {\n            await this.shell.revealWidget(widget.id);\n        }\n        if (isNewWidget) {\n            this.onDidOpenCustomEditorEmitter.fire([widget, options]);\n        }\n        return widget;\n    }\n\n    protected async openSideBySide(uri: URI, options?: WidgetOpenerOptions): Promise<Widget | undefined> {\n        const [leftUri, rightUri] = DiffUris.decode(uri);\n        const widget = await this.widgetManager.getOrCreateWidget<SplitWidget>(\n            CustomEditorWidget.SIDE_BY_SIDE_FACTORY_ID, { uri: uri.toString(), viewType: this.editor.viewType });\n        if (!widget.panes.length) { // a new widget\n            const trackedDisposables = new DisposableCollection(widget);\n            try {\n                const createPane = async (paneUri: URI) => {\n                    let pane = await this.openCustomEditor(paneUri);\n                    if (pane.isAttached) {\n                        await this.shell.closeWidget(pane.id);\n                        if (!pane.isDisposed) { // user canceled\n                            return undefined;\n                        }\n                        pane = await this.openCustomEditor(paneUri);\n                    }\n                    return pane;\n                };\n\n                const rightPane = await createPane(rightUri);\n                if (!rightPane) {\n                    trackedDisposables.dispose();\n                    return undefined;\n                }\n                trackedDisposables.push(rightPane);\n\n                const leftPane = await createPane(leftUri);\n                if (!leftPane) {\n                    trackedDisposables.dispose();\n                    return undefined;\n                }\n                trackedDisposables.push(leftPane);\n\n                widget.addPane(leftPane);\n                widget.addPane(rightPane);\n\n                // dispose the widget if either of its panes gets externally disposed\n                leftPane.disposed.connect(() => widget.dispose());\n                rightPane.disposed.connect(() => widget.dispose());\n\n                if (options?.widgetOptions) {\n                    await this.shell.addWidget(widget, options.widgetOptions);\n                }\n            } catch (e) {\n                trackedDisposables.dispose();\n                console.error(e);\n                throw e;\n            }\n        }\n        if (options?.mode === 'activate') {\n            await this.shell.activateWidget(widget.id);\n        } else if (options?.mode === 'reveal') {\n            await this.shell.revealWidget(widget.id);\n        }\n        return widget;\n    }\n\n    async open(uri: URI, options?: WidgetOpenerOptions): Promise<Widget | undefined> {\n        options = { ...options };\n        options.mode ??= 'activate';\n        options.widgetOptions ??= { area: 'main' };\n        return DiffUris.isDiffUri(uri) ? this.openSideBySide(uri, options) : this.openCustomEditor(uri, options);\n    }\n\n    matches(selectors: CustomEditorSelector[], resource: URI): boolean {\n        return selectors.some(selector => this.selectorMatches(selector, resource));\n    }\n\n    selectorMatches(selector: CustomEditorSelector, resource: URI): boolean {\n        if (selector.filenamePattern) {\n            if (match(selector.filenamePattern.toLowerCase(), resource.path.name.toLowerCase() + resource.path.ext.toLowerCase())) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// copied and modified from https://github.com/microsoft/vscode/blob/53eac52308c4611000a171cc7bf1214293473c78/src/vs/workbench/contrib/customEditor/browser/customEditors.ts\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Reference } from '@theia/core/lib/common/reference';\nimport { CustomEditorModel } from './custom-editors-main';\n\n@injectable()\nexport class CustomEditorService {\n    protected _models = new CustomEditorModelManager();\n    get models(): CustomEditorModelManager { return this._models; }\n}\n\nexport class CustomEditorModelManager {\n\n    private readonly references = new Map<string, {\n        readonly viewType: string,\n        readonly model: Promise<CustomEditorModel>,\n        counter: number\n    }>();\n\n    add(resource: URI, viewType: string, model: Promise<CustomEditorModel>): Promise<Reference<CustomEditorModel>> {\n        const key = this.key(resource, viewType);\n        const existing = this.references.get(key);\n        if (existing) {\n            throw new Error('Model already exists');\n        }\n\n        this.references.set(key, { viewType, model, counter: 0 });\n        return this.tryRetain(resource, viewType)!;\n    }\n\n    async get(resource: URI, viewType: string): Promise<CustomEditorModel | undefined> {\n        const key = this.key(resource, viewType);\n        const entry = this.references.get(key);\n        return entry?.model;\n    }\n\n    tryRetain(resource: URI, viewType: string): Promise<Reference<CustomEditorModel>> | undefined {\n        const key = this.key(resource, viewType);\n\n        const entry = this.references.get(key);\n        if (!entry) {\n            return undefined;\n        }\n\n        entry.counter++;\n\n        return entry.model.then(model => ({\n            object: model,\n            dispose: once(() => {\n                if (--entry!.counter <= 0) {\n                    entry.model.then(x => x.dispose());\n                    this.references.delete(key);\n                }\n            }),\n        }));\n    }\n\n    disposeAllModelsForView(viewType: string): void {\n        for (const [key, value] of this.references) {\n            if (value.viewType === viewType) {\n                value.model.then(x => x.dispose());\n                this.references.delete(key);\n            }\n        }\n    }\n\n    private key(resource: URI, viewType: string): string {\n        return `${resource.toString()}@@@${viewType}`;\n    }\n}\n\nexport function once<T extends Function>(this: unknown, fn: T): T {\n    const _this = this;\n    let didCall = false;\n    let result: unknown;\n\n    return function (): unknown {\n        if (didCall) {\n            return result;\n        }\n\n        didCall = true;\n        result = fn.apply(_this, arguments);\n\n        return result;\n    } as unknown as T;\n}\n","// *****************************************************************************\n// Copyright (C) 2024 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { ApplicationShell, UndoRedoHandler } from '@theia/core/lib/browser';\nimport { CustomEditorWidget } from './custom-editor-widget';\n\n@injectable()\nexport class CustomEditorUndoRedoHandler implements UndoRedoHandler<CustomEditorWidget> {\n\n    @inject(ApplicationShell)\n    protected readonly applicationShell: ApplicationShell;\n\n    priority = 190;\n    select(): CustomEditorWidget | undefined {\n        const current = this.applicationShell.currentWidget;\n        if (current instanceof CustomEditorWidget) {\n            return current;\n        }\n        return undefined;\n    }\n    undo(item: CustomEditorWidget): void {\n        item.undo();\n    }\n    redo(item: CustomEditorWidget): void {\n        item.redo();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { CustomEditorWidget } from '../custom-editors/custom-editor-widget';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { WebviewWidgetIdentifier, WebviewWidgetExternalEndpoint } from '../webview/webview';\nimport { WebviewEnvironment } from '../webview/webview-environment';\n\nexport class CustomEditorWidgetFactory {\n\n    readonly id = CustomEditorWidget.FACTORY_ID;\n\n    protected readonly container: interfaces.Container;\n\n    constructor(container: interfaces.Container) {\n        this.container = container;\n    }\n\n    async createWidget(identifier: WebviewWidgetIdentifier): Promise<CustomEditorWidget> {\n        const externalEndpoint = await this.container.get(WebviewEnvironment).externalEndpoint();\n        let endpoint = externalEndpoint.replace('{{uuid}}', identifier.id);\n        if (endpoint[endpoint.length - 1] === '/') {\n            endpoint = endpoint.slice(0, endpoint.length - 1);\n        }\n        const child = this.container.createChild();\n        child.bind(WebviewWidgetIdentifier).toConstantValue(identifier);\n        child.bind(WebviewWidgetExternalEndpoint).toConstantValue(endpoint);\n        return child.get(CustomEditorWidget);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { FileOperation } from '@theia/filesystem/lib/common/files';\nimport { ApplicationShell, DelegatingSaveable, NavigatableWidget, Saveable, SaveableSource } from '@theia/core/lib/browser';\nimport { SaveableService } from '@theia/core/lib/browser/saveable-service';\nimport { Reference } from '@theia/core/lib/common/reference';\nimport { WebviewWidget } from '../webview/webview';\nimport { CustomEditorModel } from './custom-editors-main';\nimport { CustomEditorWidget as CustomEditorWidgetShape } from '@theia/editor/lib/browser';\n\n@injectable()\nexport class CustomEditorWidget extends WebviewWidget implements CustomEditorWidgetShape, SaveableSource, NavigatableWidget {\n    static override FACTORY_ID = 'plugin-custom-editor';\n    static readonly SIDE_BY_SIDE_FACTORY_ID = CustomEditorWidget.FACTORY_ID + '.side-by-side';\n\n    resource: URI;\n\n    protected _modelRef: Reference<CustomEditorModel | undefined> = { object: undefined, dispose: () => { } };\n    get modelRef(): Reference<CustomEditorModel | undefined> {\n        return this._modelRef;\n    }\n    set modelRef(modelRef: Reference<CustomEditorModel>) {\n        this._modelRef.dispose();\n        this._modelRef = modelRef;\n        this.delegatingSaveable.delegate = modelRef.object;\n        this.doUpdateContent();\n    }\n\n    // ensures that saveable is available even if modelRef.object is undefined\n    protected readonly delegatingSaveable = new DelegatingSaveable();\n    get saveable(): Saveable {\n        return this.delegatingSaveable;\n    }\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(SaveableService)\n    protected readonly saveService: SaveableService;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.id = CustomEditorWidget.FACTORY_ID + ':' + this.identifier.id;\n        this.toDispose.push(this.fileService.onDidRunOperation(e => {\n            if (e.isOperation(FileOperation.MOVE)) {\n                this.doMove(e.target.resource);\n            }\n        }));\n    }\n\n    undo(): void {\n        this._modelRef.object?.undo();\n    }\n\n    redo(): void {\n        this._modelRef.object?.redo();\n    }\n\n    getResourceUri(): URI | undefined {\n        return this.resource;\n    }\n\n    createMoveToUri(resourceUri: URI): URI | undefined {\n        return this.resource.withPath(resourceUri.path);\n    }\n\n    override storeState(): CustomEditorWidget.State {\n        return {\n            ...super.storeState(),\n            strResource: this.resource.toString(),\n        };\n    }\n\n    override restoreState(oldState: CustomEditorWidget.State): void {\n        const { strResource } = oldState;\n        this.resource = new URI(strResource);\n        super.restoreState(oldState);\n    }\n\n    onMove(handler: (newResource: URI) => Promise<void>): void {\n        this._moveHandler = handler;\n    }\n\n    private _moveHandler?: (newResource: URI) => void;\n\n    private doMove(target: URI): void {\n        if (this._moveHandler) {\n            this._moveHandler(target);\n        }\n    }\n}\n\nexport namespace CustomEditorWidget {\n    export interface State extends WebviewWidget.State {\n        strResource: string\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/53eac52308c4611000a171cc7bf1214293473c78/src/vs/workbench/api/browser/mainThreadCustomEditors.ts\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { MAIN_RPC_CONTEXT, CustomEditorsMain, CustomEditorsExt, CustomTextEditorCapabilities } from '../../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { HostedPluginSupport } from '../../../hosted/browser/hosted-plugin';\nimport { PluginCustomEditorRegistry } from './plugin-custom-editor-registry';\nimport { Emitter } from '@theia/core';\nimport { UriComponents } from '../../../common/uri-components';\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport TheiaURI from '@theia/core/lib/common/uri';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Reference } from '@theia/core/lib/common/reference';\nimport { CancellationToken, CancellationTokenSource } from '@theia/core/lib/common/cancellation';\nimport { MonacoEditorModel } from '@theia/monaco/lib/browser/monaco-editor-model';\nimport { EditorModelService } from '../text-editor-model-service';\nimport { CustomEditorService } from './custom-editor-service';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { UndoRedoService } from '@theia/editor/lib/browser/undo-redo-service';\nimport { WebviewsMainImpl } from '../webviews-main';\nimport { WidgetManager } from '@theia/core/lib/browser/widget-manager';\nimport { ApplicationShell, LabelProvider, Saveable, SaveAsOptions, SaveOptions } from '@theia/core/lib/browser';\nimport { WebviewPanelOptions } from '@theia/plugin';\nimport { EditorPreferences } from '@theia/editor/lib/common/editor-preferences';\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\n\nconst enum CustomEditorModelType {\n    Custom,\n    Text,\n}\n\nexport class CustomEditorsMainImpl implements CustomEditorsMain, Disposable {\n    protected readonly pluginService: HostedPluginSupport;\n    protected readonly shell: ApplicationShell;\n    protected readonly textModelService: EditorModelService;\n    protected readonly fileService: FileService;\n    protected readonly customEditorService: CustomEditorService;\n    protected readonly undoRedoService: UndoRedoService;\n    protected readonly customEditorRegistry: PluginCustomEditorRegistry;\n    protected readonly labelProvider: LabelProvider;\n    protected readonly widgetManager: WidgetManager;\n    protected readonly editorPreferences: EditorPreferences;\n    private readonly proxy: CustomEditorsExt;\n    private readonly editorProviders = new Map<string, Disposable>();\n\n    constructor(rpc: RPCProtocol,\n        container: interfaces.Container,\n        readonly webviewsMain: WebviewsMainImpl,\n    ) {\n        this.pluginService = container.get(HostedPluginSupport);\n        this.shell = container.get(ApplicationShell);\n        this.textModelService = container.get(EditorModelService);\n        this.fileService = container.get(FileService);\n        this.customEditorService = container.get(CustomEditorService);\n        this.undoRedoService = container.get(UndoRedoService);\n        this.customEditorRegistry = container.get(PluginCustomEditorRegistry);\n        this.labelProvider = container.get(LabelProvider);\n        this.editorPreferences = container.get(EditorPreferences);\n        this.widgetManager = container.get(WidgetManager);\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.CUSTOM_EDITORS_EXT);\n    }\n\n    dispose(): void {\n        for (const disposable of this.editorProviders.values()) {\n            disposable.dispose();\n        }\n        this.editorProviders.clear();\n    }\n\n    $registerTextEditorProvider(\n        viewType: string, options: WebviewPanelOptions, capabilities: CustomTextEditorCapabilities): void {\n        this.registerEditorProvider(CustomEditorModelType.Text, viewType, options, capabilities, true);\n    }\n\n    $registerCustomEditorProvider(viewType: string, options: WebviewPanelOptions, supportsMultipleEditorsPerDocument: boolean): void {\n        this.registerEditorProvider(CustomEditorModelType.Custom, viewType, options, {}, supportsMultipleEditorsPerDocument);\n    }\n\n    protected async registerEditorProvider(\n        modelType: CustomEditorModelType,\n        viewType: string,\n        options: WebviewPanelOptions,\n        capabilities: CustomTextEditorCapabilities,\n        supportsMultipleEditorsPerDocument: boolean,\n    ): Promise<void> {\n        if (this.editorProviders.has(viewType)) {\n            throw new Error(`Provider for ${viewType} already registered`);\n        }\n\n        const disposables = new DisposableCollection();\n\n        disposables.push(\n            this.customEditorRegistry.registerResolver(viewType, async widget => {\n\n                const { resource, identifier } = widget;\n                widget.options = options;\n\n                const cancellationSource = new CancellationTokenSource();\n                let modelRef = await this.getOrCreateCustomEditorModel(modelType, resource, viewType, cancellationSource.token);\n                widget.modelRef = modelRef;\n\n                widget.onDidDispose(() => {\n                    // If the model is still dirty, make sure we have time to save it\n                    if (modelRef.object.dirty) {\n                        const sub = modelRef.object.onDirtyChanged(() => {\n                            if (!modelRef.object.dirty) {\n                                sub.dispose();\n                                modelRef.dispose();\n                            }\n                        });\n                        return;\n                    }\n\n                    modelRef.dispose();\n                });\n\n                if (capabilities.supportsMove) {\n                    const onMoveCancelTokenSource = new CancellationTokenSource();\n                    widget.onMove(async (newResource: TheiaURI) => {\n                        const oldModel = modelRef;\n                        modelRef = await this.getOrCreateCustomEditorModel(modelType, newResource, viewType, onMoveCancelTokenSource.token);\n                        this.proxy.$onMoveCustomEditor(identifier.id, newResource.toComponents(), viewType);\n                        oldModel.dispose();\n                    });\n                }\n\n                this.webviewsMain.hookWebview(widget);\n                widget.title.label = this.labelProvider.getName(resource);\n\n                const _cancellationSource = new CancellationTokenSource();\n                await this.proxy.$resolveWebviewEditor(\n                    resource.toComponents(),\n                    identifier.id,\n                    viewType,\n                    widget.title.label,\n                    widget.viewState.position,\n                    options,\n                    _cancellationSource.token\n                );\n            })\n        );\n\n        this.editorProviders.set(viewType, disposables);\n    }\n\n    $unregisterEditorProvider(viewType: string): void {\n        const provider = this.editorProviders.get(viewType);\n        if (!provider) {\n            throw new Error(`No provider for ${viewType} registered`);\n        }\n\n        provider.dispose();\n        this.editorProviders.delete(viewType);\n\n        this.customEditorService.models.disposeAllModelsForView(viewType);\n    }\n\n    protected async getOrCreateCustomEditorModel(\n        modelType: CustomEditorModelType,\n        resource: TheiaURI,\n        viewType: string,\n        cancellationToken: CancellationToken,\n    ): Promise<Reference<CustomEditorModel>> {\n        const existingModel = this.customEditorService.models.tryRetain(resource, viewType);\n        if (existingModel) {\n            return existingModel;\n        }\n\n        switch (modelType) {\n            case CustomEditorModelType.Text: {\n                const model = CustomTextEditorModel.create(viewType, resource, this.textModelService);\n                return this.customEditorService.models.add(resource, viewType, model);\n            }\n            case CustomEditorModelType.Custom: {\n                const model = MainCustomEditorModel.create(this.proxy, viewType, resource, this.undoRedoService, this.fileService, cancellationToken);\n                return this.customEditorService.models.add(resource, viewType, model);\n            }\n        }\n    }\n\n    protected async getCustomEditorModel(resourceComponents: UriComponents, viewType: string): Promise<MainCustomEditorModel> {\n        const resource = URI.revive(resourceComponents);\n        const model = await this.customEditorService.models.get(new TheiaURI(resource), viewType);\n        if (!model || !(model instanceof MainCustomEditorModel)) {\n            throw new Error('Could not find model for custom editor');\n        }\n        return model;\n    }\n\n    async $onDidEdit(resourceComponents: UriComponents, viewType: string, editId: number, label: string | undefined): Promise<void> {\n        const model = await this.getCustomEditorModel(resourceComponents, viewType);\n        model.pushEdit(editId, label);\n    }\n\n    async $onContentChange(resourceComponents: UriComponents, viewType: string): Promise<void> {\n        const model = await this.getCustomEditorModel(resourceComponents, viewType);\n        model.changeContent();\n    }\n}\n\nexport interface CustomEditorModel extends Saveable, Disposable {\n    readonly viewType: string;\n    readonly resource: URI;\n    readonly readonly: boolean;\n    readonly dirty: boolean;\n\n    revert(options?: Saveable.RevertOptions): Promise<void>;\n    saveCustomEditor(options?: SaveOptions): Promise<void>;\n    saveCustomEditorAs?(resource: TheiaURI, targetResource: TheiaURI, options?: SaveOptions): Promise<void>;\n\n    undo(): void;\n    redo(): void;\n}\n\nexport class MainCustomEditorModel implements CustomEditorModel {\n    private currentEditIndex: number = -1;\n    private savePoint: number = -1;\n    private isDirtyFromContentChange = false;\n    private ongoingSave?: CancellationTokenSource;\n    private readonly edits: Array<number> = [];\n    private readonly toDispose = new DisposableCollection();\n\n    private readonly onDirtyChangedEmitter = new Emitter<void>();\n    readonly onDirtyChanged = this.onDirtyChangedEmitter.event;\n\n    private readonly onContentChangedEmitter = new Emitter<void>();\n    readonly onContentChanged = this.onContentChangedEmitter.event;\n\n    static async create(\n        proxy: CustomEditorsExt,\n        viewType: string,\n        resource: TheiaURI,\n        undoRedoService: UndoRedoService,\n        fileService: FileService,\n        cancellation: CancellationToken,\n    ): Promise<MainCustomEditorModel> {\n        const { editable } = await proxy.$createCustomDocument(resource.toComponents(), viewType, {}, cancellation);\n        return new MainCustomEditorModel(proxy, viewType, resource, editable, undoRedoService, fileService);\n    }\n\n    constructor(\n        private proxy: CustomEditorsExt,\n        readonly viewType: string,\n        private readonly editorResource: TheiaURI,\n        private readonly editable: boolean,\n        private readonly undoRedoService: UndoRedoService,\n        private readonly fileService: FileService\n    ) {\n        this.toDispose.push(this.onDirtyChangedEmitter);\n    }\n\n    get resource(): URI {\n        return URI.from(this.editorResource.toComponents());\n    }\n\n    get dirty(): boolean {\n        if (this.isDirtyFromContentChange) {\n            return true;\n        }\n        if (this.edits.length > 0) {\n            return this.savePoint !== this.currentEditIndex;\n        }\n        return false;\n    }\n\n    get readonly(): boolean {\n        return !this.editable;\n    }\n\n    setProxy(proxy: CustomEditorsExt): void {\n        this.proxy = proxy;\n    }\n\n    dispose(): void {\n        if (this.editable) {\n            this.undoRedoService.removeElements(this.editorResource);\n        }\n        this.proxy.$disposeCustomDocument(this.resource, this.viewType);\n    }\n\n    changeContent(): void {\n        this.change(() => {\n            this.isDirtyFromContentChange = true;\n        });\n    }\n\n    pushEdit(editId: number, label: string | undefined): void {\n        if (!this.editable) {\n            throw new Error('Document is not editable');\n        }\n\n        this.change(() => {\n            this.spliceEdits(editId);\n            this.currentEditIndex = this.edits.length - 1;\n        });\n\n        this.undoRedoService.pushElement(\n            this.editorResource,\n            () => this.undo(),\n            () => this.redo(),\n        );\n    }\n\n    async revert(options?: Saveable.RevertOptions): Promise<void> {\n        if (!this.editable) {\n            return;\n        }\n\n        if (this.currentEditIndex === this.savePoint && !this.isDirtyFromContentChange) {\n            return;\n        }\n\n        const cancellationSource = new CancellationTokenSource();\n        await this.proxy.$revert(this.resource, this.viewType, cancellationSource.token);\n        this.change(() => {\n            this.isDirtyFromContentChange = false;\n            this.currentEditIndex = this.savePoint;\n            this.spliceEdits();\n        });\n    }\n\n    async save(options?: SaveOptions): Promise<void> {\n        await this.saveCustomEditor(options);\n    }\n\n    async saveCustomEditor(options?: SaveOptions): Promise<void> {\n        if (!this.editable) {\n            return;\n        }\n\n        const cancelable = new CancellationTokenSource();\n        const savePromise = this.proxy.$save(this.resource, this.viewType, cancelable.token);\n        this.ongoingSave?.cancel();\n        this.ongoingSave = cancelable;\n\n        try {\n            await savePromise;\n\n            if (this.ongoingSave === cancelable) { // Make sure we are still doing the same save\n                this.change(() => {\n                    this.isDirtyFromContentChange = false;\n                    this.savePoint = this.currentEditIndex;\n                });\n            }\n        } finally {\n            if (this.ongoingSave === cancelable) { // Make sure we are still doing the same save\n                this.ongoingSave = undefined;\n            }\n        }\n    }\n\n    async saveAs(options: SaveAsOptions): Promise<void> {\n        await this.saveCustomEditorAs(new TheiaURI(this.resource), options.target, options);\n    }\n\n    async saveCustomEditorAs(resource: TheiaURI, targetResource: TheiaURI, options?: SaveOptions): Promise<void> {\n        if (this.editable) {\n            const source = new CancellationTokenSource();\n            await this.proxy.$saveAs(this.resource, this.viewType, targetResource.toComponents(), source.token);\n            this.change(() => {\n                this.savePoint = this.currentEditIndex;\n            });\n        } else {\n            // Since the editor is readonly, just copy the file over\n            await this.fileService.copy(resource, targetResource, { overwrite: false });\n        }\n    }\n\n    async undo(): Promise<void> {\n        if (!this.editable) {\n            return;\n        }\n\n        if (this.currentEditIndex < 0) {\n            // nothing to undo\n            return;\n        }\n\n        const undoneEdit = this.edits[this.currentEditIndex];\n        this.change(() => {\n            --this.currentEditIndex;\n        });\n        await this.proxy.$undo(this.resource, this.viewType, undoneEdit, this.dirty);\n    }\n\n    async redo(): Promise<void> {\n        if (!this.editable) {\n            return;\n        }\n\n        if (this.currentEditIndex >= this.edits.length - 1) {\n            // nothing to redo\n            return;\n        }\n\n        const redoneEdit = this.edits[this.currentEditIndex + 1];\n        this.change(() => {\n            ++this.currentEditIndex;\n        });\n        await this.proxy.$redo(this.resource, this.viewType, redoneEdit, this.dirty);\n    }\n\n    private spliceEdits(editToInsert?: number): void {\n        const start = this.currentEditIndex + 1;\n        const toRemove = this.edits.length - this.currentEditIndex;\n\n        const removedEdits = typeof editToInsert === 'number'\n            ? this.edits.splice(start, toRemove, editToInsert)\n            : this.edits.splice(start, toRemove);\n\n        if (removedEdits.length) {\n            this.proxy.$disposeEdits(this.resource, this.viewType, removedEdits);\n        }\n    }\n\n    private change(makeEdit: () => void): void {\n        const wasDirty = this.dirty;\n        makeEdit();\n\n        if (this.dirty !== wasDirty) {\n            this.onDirtyChangedEmitter.fire();\n        }\n        this.onContentChangedEmitter.fire();\n    }\n\n}\n\n// copied from https://github.com/microsoft/vscode/blob/53eac52308c4611000a171cc7bf1214293473c78/src/vs/workbench/contrib/customEditor/common/customTextEditorModel.ts\nexport class CustomTextEditorModel implements CustomEditorModel {\n    private readonly toDispose = new DisposableCollection();\n    private readonly onDirtyChangedEmitter = new Emitter<void>();\n    readonly onDirtyChanged = this.onDirtyChangedEmitter.event;\n    private readonly onContentChangedEmitter = new Emitter<void>();\n    readonly onContentChanged = this.onContentChangedEmitter.event;\n\n    static async create(\n        viewType: string,\n        resource: TheiaURI,\n        editorModelService: EditorModelService\n    ): Promise<CustomTextEditorModel> {\n        const model = await editorModelService.createModelReference(resource);\n        model.object.suppressOpenEditorWhenDirty = true;\n        return new CustomTextEditorModel(viewType, resource, model);\n    }\n\n    constructor(\n        readonly viewType: string,\n        readonly editorResource: TheiaURI,\n        private readonly model: Reference<MonacoEditorModel>\n    ) {\n        this.toDispose.push(\n            this.editorTextModel.onDirtyChanged(e => {\n                this.onDirtyChangedEmitter.fire();\n            })\n        );\n        this.toDispose.push(\n            this.editorTextModel.onContentChanged(e => {\n                this.onContentChangedEmitter.fire();\n            })\n        );\n        this.toDispose.push(this.onDirtyChangedEmitter);\n        this.toDispose.push(this.onContentChangedEmitter);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n        this.model.dispose();\n    }\n\n    get resource(): URI {\n        return URI.from(this.editorResource.toComponents());\n    }\n\n    get dirty(): boolean {\n        return this.editorTextModel.dirty;\n    };\n\n    get readonly(): boolean {\n        return Boolean(this.editorTextModel.readOnly);\n    }\n\n    get editorTextModel(): MonacoEditorModel {\n        return this.model.object;\n    }\n\n    revert(options?: Saveable.RevertOptions): Promise<void> {\n        return this.editorTextModel.revert(options);\n    }\n\n    save(options?: SaveOptions): Promise<void> {\n        return this.saveCustomEditor(options);\n    }\n\n    serialize(): Promise<BinaryBuffer> {\n        return this.editorTextModel.serialize();\n    }\n\n    saveCustomEditor(options?: SaveOptions): Promise<void> {\n        return this.editorTextModel.save(options);\n    }\n\n    undo(): void {\n        this.editorTextModel.undo();\n    }\n\n    redo(): void {\n        this.editorTextModel.redo();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { CustomEditor, DeployedPlugin } from '../../../common';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { CustomEditorOpener } from './custom-editor-opener';\nimport { Emitter, PreferenceService } from '@theia/core';\nimport { ApplicationShell, DefaultOpenerService, OpenWithService, WidgetManager } from '@theia/core/lib/browser';\nimport { CustomEditorWidget } from './custom-editor-widget';\n\n@injectable()\nexport class PluginCustomEditorRegistry {\n    private readonly editors = new Map<string, CustomEditor>();\n    private readonly pendingEditors = new Map<CustomEditorWidget, { deferred: Deferred<void>, disposable: Disposable }>();\n    private readonly resolvers = new Map<string, (widget: CustomEditorWidget) => Promise<void>>();\n\n    private readonly onWillOpenCustomEditorEmitter = new Emitter<string>();\n    readonly onWillOpenCustomEditor = this.onWillOpenCustomEditorEmitter.event;\n\n    @inject(DefaultOpenerService)\n    protected readonly defaultOpenerService: DefaultOpenerService;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(OpenWithService)\n    protected readonly openWithService: OpenWithService;\n\n    @inject(PreferenceService)\n    protected readonly preferenceService: PreferenceService;\n\n    @postConstruct()\n    protected init(): void {\n        this.widgetManager.onDidCreateWidget(({ factoryId, widget }) => {\n            if (factoryId === CustomEditorWidget.FACTORY_ID && widget instanceof CustomEditorWidget) {\n                const restoreState = widget.restoreState.bind(widget);\n\n                widget.restoreState = state => {\n                    if (state.viewType && state.strResource) {\n                        restoreState(state);\n                        this.resolveWidget(widget);\n                    } else {\n                        widget.dispose();\n                    }\n                };\n            }\n        });\n    }\n\n    registerCustomEditor(editor: CustomEditor, plugin: DeployedPlugin): Disposable {\n        if (this.editors.has(editor.viewType)) {\n            console.warn('editor with such id already registered: ', JSON.stringify(editor));\n            return Disposable.NULL;\n        }\n        this.editors.set(editor.viewType, editor);\n\n        const toDispose = new DisposableCollection();\n        toDispose.push(Disposable.create(() => this.editors.delete(editor.viewType)));\n\n        const editorOpenHandler = new CustomEditorOpener(\n            editor,\n            this.shell,\n            this.widgetManager,\n            this,\n            this.preferenceService\n        );\n        toDispose.push(this.defaultOpenerService.addHandler(editorOpenHandler));\n        toDispose.push(\n            this.openWithService.registerHandler({\n                id: editor.viewType,\n                label: editorOpenHandler.label,\n                providerName: plugin.metadata.model.displayName,\n                canHandle: uri => editorOpenHandler.canOpenWith(uri),\n                open: uri => editorOpenHandler.open(uri)\n            })\n        );\n        return toDispose;\n    }\n\n    async resolveWidget(widget: CustomEditorWidget): Promise<void> {\n        const resolver = this.resolvers.get(widget.viewType);\n        if (resolver) {\n            await resolver(widget);\n        } else {\n            const deferred = new Deferred<void>();\n            const disposable = widget.onDidDispose(() => this.pendingEditors.delete(widget));\n            this.pendingEditors.set(widget, { deferred, disposable });\n            this.onWillOpenCustomEditorEmitter.fire(widget.viewType);\n            return deferred.promise;\n        }\n    };\n\n    registerResolver(viewType: string, resolver: (widget: CustomEditorWidget) => Promise<void>): Disposable {\n        if (this.resolvers.has(viewType)) {\n            throw new Error(`Resolver for ${viewType} already registered`);\n        }\n\n        for (const [editorWidget, { deferred, disposable }] of this.pendingEditors.entries()) {\n            if (editorWidget.viewType === viewType) {\n                resolver(editorWidget).then(() => deferred.resolve(), err => deferred.reject(err)).finally(() => disposable.dispose());\n                this.pendingEditors.delete(editorWidget);\n            }\n        }\n\n        this.resolvers.set(viewType, resolver);\n        return Disposable.create(() => this.resolvers.delete(viewType));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport {\n    DebugConfigurationProviderDescriptor,\n    DebugMain,\n    DebugExt,\n    MAIN_RPC_CONTEXT\n} from '../../../common/plugin-api-rpc';\nimport { DebugSessionManager } from '@theia/debug/lib/browser/debug-session-manager';\nimport { Breakpoint, DebugStackFrameDTO, DebugThreadDTO, WorkspaceFolder } from '../../../common/plugin-api-rpc-model';\nimport { LabelProvider } from '@theia/core/lib/browser';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { BreakpointManager, BreakpointsChangeEvent } from '@theia/debug/lib/browser/breakpoint/breakpoint-manager';\nimport { DebugSourceBreakpoint } from '@theia/debug/lib/browser/model/debug-source-breakpoint';\nimport { URI as Uri } from '@theia/core/shared/vscode-uri';\nimport { SourceBreakpoint, FunctionBreakpoint } from '@theia/debug/lib/browser/breakpoint/breakpoint-marker';\nimport { DebugConfiguration, DebugSessionOptions } from '@theia/debug/lib/common/debug-configuration';\nimport { DebuggerDescription } from '@theia/debug/lib/common/debug-service';\nimport { DebugProtocol } from '@vscode/debugprotocol';\nimport { DebugConfigurationManager } from '@theia/debug/lib/browser/debug-configuration-manager';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { MessageClient } from '@theia/core/lib/common/message-service-protocol';\nimport { OutputChannelManager } from '@theia/output/lib/browser/output-channel';\nimport { DebugPreferences } from '@theia/debug/lib/common/debug-preferences';\nimport { PluginDebugAdapterContribution } from './plugin-debug-adapter-contribution';\nimport { PluginDebugConfigurationProvider } from './plugin-debug-configuration-provider';\nimport { PluginDebugSessionContributionRegistrator, PluginDebugSessionContributionRegistry } from './plugin-debug-session-contribution-registry';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { PluginDebugSessionFactory } from './plugin-debug-session-factory';\nimport { PluginDebugService } from './plugin-debug-service';\nimport { HostedPluginSupport } from '../../../hosted/browser/hosted-plugin';\nimport { DebugFunctionBreakpoint } from '@theia/debug/lib/browser/model/debug-function-breakpoint';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { ConsoleSessionManager } from '@theia/console/lib/browser/console-session-manager';\nimport { DebugConsoleSession } from '@theia/debug/lib/browser/console/debug-console-session';\nimport { CommandService, ContributionProvider } from '@theia/core/lib/common';\nimport { DebugContribution } from '@theia/debug/lib/browser/debug-contribution';\nimport { ConnectionImpl } from '../../../common/connection';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { DebugSessionOptions as TheiaDebugSessionOptions } from '@theia/debug/lib/browser/debug-session-options';\nimport { DebugStackFrame } from '@theia/debug/lib/browser/model/debug-stack-frame';\nimport { DebugThread } from '@theia/debug/lib/browser/model/debug-thread';\nimport { TestService } from '@theia/test/lib/browser/test-service';\n\nexport class DebugMainImpl implements DebugMain, Disposable {\n    private readonly debugExt: DebugExt;\n\n    private readonly sessionManager: DebugSessionManager;\n    private readonly labelProvider: LabelProvider;\n    private readonly editorManager: EditorManager;\n    private readonly breakpointsManager: BreakpointManager;\n    private readonly consoleSessionManager: ConsoleSessionManager;\n    private readonly configurationManager: DebugConfigurationManager;\n    private readonly terminalService: TerminalService;\n    private readonly messages: MessageClient;\n    private readonly outputChannelManager: OutputChannelManager;\n    private readonly debugPreferences: DebugPreferences;\n    private readonly sessionContributionRegistrator: PluginDebugSessionContributionRegistrator;\n    private readonly pluginDebugService: PluginDebugService;\n    private readonly fileService: FileService;\n    private readonly pluginService: HostedPluginSupport;\n    private readonly debugContributionProvider: ContributionProvider<DebugContribution>;\n    private readonly testService: TestService;\n    private readonly workspaceService: WorkspaceService;\n    private readonly commandService: CommandService;\n\n    private readonly debuggerContributions = new Map<string, DisposableCollection>();\n    private readonly configurationProviders = new Map<number, DisposableCollection>();\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(rpc: RPCProtocol, readonly connectionMain: ConnectionImpl, container: interfaces.Container) {\n        this.debugExt = rpc.getProxy(MAIN_RPC_CONTEXT.DEBUG_EXT);\n        this.sessionManager = container.get(DebugSessionManager);\n        this.labelProvider = container.get(LabelProvider);\n        this.editorManager = container.get(EditorManager);\n        this.breakpointsManager = container.get(BreakpointManager);\n        this.consoleSessionManager = container.get(ConsoleSessionManager);\n        this.configurationManager = container.get(DebugConfigurationManager);\n        this.terminalService = container.get(TerminalService);\n        this.messages = container.get(MessageClient);\n        this.outputChannelManager = container.get(OutputChannelManager);\n        this.debugPreferences = container.get(DebugPreferences);\n        this.pluginDebugService = container.get(PluginDebugService);\n        this.sessionContributionRegistrator = container.get(PluginDebugSessionContributionRegistry);\n        this.debugContributionProvider = container.getNamed(ContributionProvider, DebugContribution);\n        this.fileService = container.get(FileService);\n        this.pluginService = container.get(HostedPluginSupport);\n        this.testService = container.get(TestService);\n        this.workspaceService = container.get(WorkspaceService);\n        this.commandService = container.get(CommandService);\n\n        const fireDidChangeBreakpoints = ({ added, removed, changed }: BreakpointsChangeEvent<SourceBreakpoint | FunctionBreakpoint>) => {\n            this.debugExt.$breakpointsDidChange(\n                this.toTheiaPluginApiBreakpoints(added),\n                removed.map(b => b.id),\n                this.toTheiaPluginApiBreakpoints(changed)\n            );\n        };\n        this.debugExt.$breakpointsDidChange(this.toTheiaPluginApiBreakpoints(this.breakpointsManager.getBreakpoints()), [], []);\n        this.debugExt.$breakpointsDidChange(this.toTheiaPluginApiBreakpoints(this.breakpointsManager.getFunctionBreakpoints()), [], []);\n\n        this.toDispose.pushAll([\n            this.breakpointsManager.onDidChangeBreakpoints(fireDidChangeBreakpoints),\n            this.breakpointsManager.onDidChangeFunctionBreakpoints(fireDidChangeBreakpoints),\n            this.sessionManager.onDidCreateDebugSession(debugSession => this.debugExt.$sessionDidCreate(debugSession.id)),\n            this.sessionManager.onDidStartDebugSession(debugSession => this.debugExt.$sessionDidStart(debugSession.id)),\n            this.sessionManager.onDidDestroyDebugSession(debugSession => this.debugExt.$sessionDidDestroy(debugSession.id)),\n            this.sessionManager.onDidChangeActiveDebugSession(event => this.debugExt.$sessionDidChange(event.current && event.current.id)),\n            this.sessionManager.onDidReceiveDebugSessionCustomEvent(event => this.debugExt.$onSessionCustomEvent(event.session.id, event.event, event.body)),\n            this.sessionManager.onDidFocusStackFrame(stackFrame => this.debugExt.$onDidChangeActiveFrame(this.toDebugStackFrameDTO(stackFrame))),\n            this.sessionManager.onDidFocusThread(debugThread => this.debugExt.$onDidChangeActiveThread(this.toDebugThreadDTO(debugThread))),\n        ]);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    async $appendToDebugConsole(value: string): Promise<void> {\n        const session = this.consoleSessionManager.selectedSession;\n        if (session instanceof DebugConsoleSession) {\n            session.append(value);\n        }\n    }\n\n    async $appendLineToDebugConsole(value: string): Promise<void> {\n        const session = this.consoleSessionManager.selectedSession;\n        if (session instanceof DebugConsoleSession) {\n            session.appendLine(value);\n        }\n    }\n\n    async $registerDebuggerContribution(description: DebuggerDescription): Promise<void> {\n        const debugType = description.type;\n        const terminalOptionsExt = await this.debugExt.$getTerminalCreationOptions(debugType);\n        if (this.toDispose.disposed) {\n            return;\n        }\n\n        const debugSessionFactory = new PluginDebugSessionFactory(\n            this.terminalService,\n            this.editorManager,\n            this.breakpointsManager,\n            this.labelProvider,\n            this.messages,\n            this.outputChannelManager,\n            this.debugPreferences,\n            async (sessionId: string) => {\n                const connection = await this.connectionMain.ensureConnection(sessionId);\n                return connection;\n            },\n            this.fileService,\n            terminalOptionsExt,\n            this.debugContributionProvider,\n            this.testService,\n            this.workspaceService,\n            this.commandService,\n        );\n\n        const toDispose = new DisposableCollection(\n            Disposable.create(() => this.debuggerContributions.delete(debugType))\n        );\n        this.debuggerContributions.set(debugType, toDispose);\n        toDispose.pushAll([\n            this.pluginDebugService.registerDebugAdapterContribution(\n                new PluginDebugAdapterContribution(description, this.debugExt, this.pluginService)\n            ),\n            this.sessionContributionRegistrator.registerDebugSessionContribution({\n                debugType: description.type,\n                debugSessionFactory: () => debugSessionFactory\n            })\n        ]);\n        this.toDispose.push(Disposable.create(() => this.$unregisterDebuggerConfiguration(debugType)));\n    }\n\n    async $unregisterDebuggerConfiguration(debugType: string): Promise<void> {\n        const disposable = this.debuggerContributions.get(debugType);\n        if (disposable) {\n            disposable.dispose();\n        }\n    }\n\n    $registerDebugConfigurationProvider(description: DebugConfigurationProviderDescriptor): void {\n        const handle = description.handle;\n        const toDispose = new DisposableCollection(\n            Disposable.create(() => this.configurationProviders.delete(handle))\n        );\n        this.configurationProviders.set(handle, toDispose);\n\n        toDispose.push(\n            this.pluginDebugService.registerDebugConfigurationProvider(new PluginDebugConfigurationProvider(description, this.debugExt))\n        );\n\n        this.toDispose.push(Disposable.create(() => this.$unregisterDebugConfigurationProvider(handle)));\n    }\n\n    async $unregisterDebugConfigurationProvider(handle: number): Promise<void> {\n        const disposable = this.configurationProviders.get(handle);\n        if (disposable) {\n            disposable.dispose();\n        }\n    }\n\n    async $addBreakpoints(breakpoints: Breakpoint[]): Promise<void> {\n        const newBreakpoints = new Map<string, Breakpoint>();\n        breakpoints.forEach(b => newBreakpoints.set(b.id, b));\n        this.breakpointsManager.findMarkers({\n            dataFilter: data => {\n                // install only new breakpoints\n                if (newBreakpoints.has(data.id)) {\n                    newBreakpoints.delete(data.id);\n                }\n                return false;\n            }\n        });\n        let addedFunctionBreakpoints = false;\n        const functionBreakpoints = this.breakpointsManager.getFunctionBreakpoints();\n        for (const breakpoint of functionBreakpoints) {\n            // install only new breakpoints\n            if (newBreakpoints.has(breakpoint.id)) {\n                newBreakpoints.delete(breakpoint.id);\n            }\n        }\n        for (const breakpoint of newBreakpoints.values()) {\n            if (breakpoint.location) {\n                const location = breakpoint.location;\n                const column = breakpoint.location.range.startColumn;\n                this.breakpointsManager.addBreakpoint({\n                    id: breakpoint.id,\n                    uri: Uri.revive(location.uri).toString(),\n                    enabled: breakpoint.enabled,\n                    raw: {\n                        line: breakpoint.location.range.startLineNumber + 1,\n                        column: column > 0 ? column + 1 : undefined,\n                        condition: breakpoint.condition,\n                        hitCondition: breakpoint.hitCondition,\n                        logMessage: breakpoint.logMessage\n                    }\n                });\n            } else if (breakpoint.functionName) {\n                addedFunctionBreakpoints = true;\n                functionBreakpoints.push({\n                    id: breakpoint.id,\n                    enabled: breakpoint.enabled,\n                    raw: {\n                        name: breakpoint.functionName\n                    }\n                });\n            }\n        }\n        if (addedFunctionBreakpoints) {\n            this.breakpointsManager.setFunctionBreakpoints(functionBreakpoints);\n        }\n    }\n\n    async $getDebugProtocolBreakpoint(sessionId: string, breakpointId: string): Promise<DebugProtocol.Breakpoint | undefined> {\n        const session = this.sessionManager.getSession(sessionId);\n        if (session) {\n            return session.getBreakpoint(breakpointId)?.raw;\n        } else {\n            throw new Error(`Debug session '${sessionId}' not found`);\n        }\n    }\n\n    async $removeBreakpoints(breakpoints: string[]): Promise<void> {\n        const { labelProvider, breakpointsManager, editorManager } = this;\n        const session = this.sessionManager.currentSession;\n\n        const ids = new Set<string>(breakpoints);\n        for (const origin of this.breakpointsManager.findMarkers({ dataFilter: data => ids.has(data.id) })) {\n            const breakpoint = new DebugSourceBreakpoint(origin.data, { labelProvider, breakpoints: breakpointsManager, editorManager, session }, this.commandService);\n            breakpoint.remove();\n        }\n        for (const origin of this.breakpointsManager.getFunctionBreakpoints()) {\n            if (ids.has(origin.id)) {\n                const breakpoint = new DebugFunctionBreakpoint(origin, { labelProvider, breakpoints: breakpointsManager, editorManager, session });\n                breakpoint.remove();\n            }\n        }\n    }\n\n    async $customRequest(sessionId: string, command: string, args?: any): Promise<DebugProtocol.Response> {\n        const session = this.sessionManager.getSession(sessionId);\n        if (session) {\n            return session.sendCustomRequest(command, args);\n        }\n\n        throw new Error(`Debug session '${sessionId}' not found`);\n    }\n\n    async $startDebugging(folder: WorkspaceFolder | undefined, nameOrConfiguration: string | DebugConfiguration, options: DebugSessionOptions): Promise<boolean> {\n        // search for matching options\n        let sessionOptions: TheiaDebugSessionOptions | undefined;\n        if (typeof nameOrConfiguration === 'string') {\n            for (const configOptions of this.configurationManager.all) {\n                if (configOptions.name === nameOrConfiguration) {\n                    sessionOptions = configOptions;\n                }\n            }\n        } else {\n            sessionOptions = {\n                name: nameOrConfiguration.name,\n                configuration: nameOrConfiguration\n            };\n        }\n\n        if (!sessionOptions) {\n            console.error(`There is no debug configuration for ${nameOrConfiguration}`);\n            return false;\n        }\n\n        // translate given extra data\n        const workspaceFolderUri = folder && Uri.revive(folder.uri).toString();\n        if (TheiaDebugSessionOptions.isConfiguration(sessionOptions)) {\n            sessionOptions = { ...sessionOptions, configuration: { ...sessionOptions.configuration, ...options }, workspaceFolderUri };\n        } else {\n            sessionOptions = { ...sessionOptions, ...options, workspaceFolderUri };\n        }\n        sessionOptions.testRun = options.testRun;\n\n        // start options\n        const session = await this.sessionManager.start(sessionOptions);\n        return !!session;\n    }\n\n    async $stopDebugging(sessionId?: string): Promise<void> {\n        if (sessionId) {\n            const session = this.sessionManager.getSession(sessionId);\n            return this.sessionManager.terminateSession(session);\n        }\n        // Terminate all sessions if no session is provided.\n        for (const session of this.sessionManager.sessions) {\n            this.sessionManager.terminateSession(session);\n        }\n    }\n\n    private toDebugStackFrameDTO(stackFrame: DebugStackFrame | undefined): DebugStackFrameDTO | undefined {\n        return stackFrame ? {\n            sessionId: stackFrame.session.id,\n            frameId: stackFrame.frameId,\n            threadId: stackFrame.thread.threadId\n        } : undefined;\n    }\n\n    private toDebugThreadDTO(debugThread: DebugThread | undefined): DebugThreadDTO | undefined {\n        return debugThread ? {\n            sessionId: debugThread.session.id,\n            threadId: debugThread.threadId\n        } : undefined;\n    }\n\n    private toTheiaPluginApiBreakpoints(breakpoints: (SourceBreakpoint | FunctionBreakpoint)[]): Breakpoint[] {\n        return breakpoints.map(b => this.toTheiaPluginApiBreakpoint(b));\n    }\n\n    private toTheiaPluginApiBreakpoint(breakpoint: SourceBreakpoint | FunctionBreakpoint): Breakpoint {\n        if ('uri' in breakpoint) {\n            const raw = breakpoint.raw;\n            return {\n                id: breakpoint.id,\n                enabled: breakpoint.enabled,\n                condition: breakpoint.raw.condition,\n                hitCondition: breakpoint.raw.hitCondition,\n                logMessage: raw.logMessage,\n                location: {\n                    uri: Uri.parse(breakpoint.uri),\n                    range: {\n                        startLineNumber: raw.line - 1,\n                        startColumn: (raw.column || 1) - 1,\n                        endLineNumber: raw.line - 1,\n                        endColumn: (raw.column || 1) - 1\n                    }\n                }\n            };\n        }\n        return {\n            id: breakpoint.id,\n            enabled: breakpoint.enabled,\n            functionName: breakpoint.raw.name\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DebugExt } from '../../../common/plugin-api-rpc';\nimport { DebugConfiguration } from '@theia/debug/lib/common/debug-configuration';\nimport { MaybePromise } from '@theia/core/lib/common/types';\nimport { DebuggerDescription } from '@theia/debug/lib/common/debug-service';\nimport { HostedPluginSupport } from '../../../hosted/browser/hosted-plugin';\n\n/**\n * Plugin [DebugAdapterContribution](#DebugAdapterContribution).\n */\nexport class PluginDebugAdapterContribution {\n    constructor(\n        protected readonly description: DebuggerDescription,\n        protected readonly debugExt: DebugExt,\n        protected readonly pluginService: HostedPluginSupport) { }\n\n    get type(): string {\n        return this.description.type;\n    }\n\n    get label(): MaybePromise<string | undefined> {\n        return this.description.label;\n    }\n\n    async createDebugSession(config: DebugConfiguration, workspaceFolder: string | undefined): Promise<string> {\n        await this.pluginService.activateByDebug('onDebugAdapterProtocolTracker', config.type);\n        return this.debugExt.$createDebugSession(config, workspaceFolder);\n    }\n\n    async terminateDebugSession(sessionId: string): Promise<void> {\n        this.debugExt.$terminateDebugSession(sessionId);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    DebugConfigurationProvider,\n    DebugConfigurationProviderDescriptor,\n    DebugConfigurationProviderTriggerKind,\n    DebugExt\n} from '../../../common/plugin-api-rpc';\nimport { DebugConfiguration } from '@theia/debug/lib/common/debug-configuration';\n\nexport class PluginDebugConfigurationProvider implements DebugConfigurationProvider {\n    /**\n     * After https://github.com/eclipse-theia/theia/pull/13196, the debug config handles might change.\n     * Store the original handle to be able to call the extension host when getting by handle.\n     */\n    protected readonly originalHandle: number;\n    public handle: number;\n    public type: string;\n    public triggerKind: DebugConfigurationProviderTriggerKind;\n    provideDebugConfigurations: (folder: string | undefined) => Promise<DebugConfiguration[]>;\n    resolveDebugConfiguration: (\n        folder: string | undefined,\n        debugConfiguration: DebugConfiguration\n    ) => Promise<DebugConfiguration | undefined | null>;\n    resolveDebugConfigurationWithSubstitutedVariables: (\n        folder: string | undefined,\n        debugConfiguration: DebugConfiguration\n    ) => Promise<DebugConfiguration | undefined | null>;\n\n    constructor(\n        description: DebugConfigurationProviderDescriptor,\n        protected readonly debugExt: DebugExt\n    ) {\n        this.handle = description.handle;\n        this.originalHandle = this.handle;\n        this.type = description.type;\n        this.triggerKind = description.trigger;\n\n        if (description.provideDebugConfiguration) {\n            this.provideDebugConfigurations = async (folder: string | undefined) => this.debugExt.$provideDebugConfigurationsByHandle(this.originalHandle, folder);\n        }\n\n        if (description.resolveDebugConfigurations) {\n            this.resolveDebugConfiguration =\n                async (folder: string | undefined, debugConfiguration: DebugConfiguration) =>\n                    this.debugExt.$resolveDebugConfigurationByHandle(this.originalHandle, folder, debugConfiguration);\n        }\n\n        if (description.resolveDebugConfigurationWithSubstitutedVariables) {\n            this.resolveDebugConfigurationWithSubstitutedVariables =\n                async (folder: string | undefined, debugConfiguration: DebugConfiguration) =>\n                    this.debugExt.$resolveDebugConfigurationWithSubstitutedVariablesByHandle(this.originalHandle, folder, debugConfiguration);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DebuggerDescription, DebugPath, DebugService } from '@theia/debug/lib/common/debug-service';\nimport debounce = require('@theia/core/shared/lodash.debounce');\nimport { deepClone, Emitter, Event, nls } from '@theia/core';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { DebugConfiguration } from '@theia/debug/lib/common/debug-configuration';\nimport { IJSONSchema, IJSONSchemaSnippet } from '@theia/core/lib/common/json-schema';\nimport { PluginDebugAdapterContribution } from './plugin-debug-adapter-contribution';\nimport { PluginDebugConfigurationProvider } from './plugin-debug-configuration-provider';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { WebSocketConnectionProvider } from '@theia/core/lib/browser/messaging/ws-connection-provider';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { CommandIdVariables } from '@theia/variable-resolver/lib/common/variable-types';\nimport { DebugConfigurationProviderTriggerKind } from '../../../common/plugin-api-rpc';\nimport { DebuggerContribution } from '../../../common/plugin-protocol';\nimport { DebugRequestTypes } from '@theia/debug/lib/browser/debug-session-connection';\nimport * as theia from '@theia/plugin';\n\n/**\n * Debug service to work with plugin and extension contributions.\n */\n@injectable()\nexport class PluginDebugService implements DebugService {\n\n    protected readonly onDidChangeDebuggersEmitter = new Emitter<void>();\n    get onDidChangeDebuggers(): Event<void> {\n        return this.onDidChangeDebuggersEmitter.event;\n    }\n\n    protected readonly debuggers: DebuggerContribution[] = [];\n    protected readonly contributors = new Map<string, PluginDebugAdapterContribution>();\n    protected readonly configurationProviders = new Map<number, PluginDebugConfigurationProvider>();\n    protected readonly toDispose = new DisposableCollection(this.onDidChangeDebuggersEmitter);\n\n    protected readonly onDidChangeDebugConfigurationProvidersEmitter = new Emitter<void>();\n    get onDidChangeDebugConfigurationProviders(): Event<void> {\n        return this.onDidChangeDebugConfigurationProvidersEmitter.event;\n    }\n\n    // maps session and contribution\n    protected readonly sessionId2contrib = new Map<string, PluginDebugAdapterContribution>();\n    protected delegated: DebugService;\n\n    @inject(WebSocketConnectionProvider)\n    protected readonly connectionProvider: WebSocketConnectionProvider;\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @postConstruct()\n    protected init(): void {\n        this.delegated = this.connectionProvider.createProxy<DebugService>(DebugPath);\n        this.toDispose.pushAll([\n            Disposable.create(() => this.delegated.dispose()),\n            Disposable.create(() => {\n                for (const sessionId of this.sessionId2contrib.keys()) {\n                    const contrib = this.sessionId2contrib.get(sessionId)!;\n                    contrib.terminateDebugSession(sessionId);\n                }\n                this.sessionId2contrib.clear();\n            })]);\n    }\n\n    registerDebugAdapterContribution(contrib: PluginDebugAdapterContribution): Disposable {\n        const { type } = contrib;\n\n        if (this.contributors.has(type)) {\n            console.warn(`Debugger with type '${type}' already registered.`);\n            return Disposable.NULL;\n        }\n\n        this.contributors.set(type, contrib);\n        return Disposable.create(() => this.unregisterDebugAdapterContribution(type));\n    }\n\n    unregisterDebugAdapterContribution(debugType: string): void {\n        this.contributors.delete(debugType);\n    }\n\n    // debouncing to send a single notification for multiple registrations at initialization time\n    fireOnDidConfigurationProvidersChanged = debounce(() => {\n        this.onDidChangeDebugConfigurationProvidersEmitter.fire();\n    }, 100);\n\n    registerDebugConfigurationProvider(provider: PluginDebugConfigurationProvider): Disposable {\n        if (this.configurationProviders.has(provider.handle)) {\n            const configuration = this.configurationProviders.get(provider.handle);\n            if (configuration && configuration.type !== provider.type) {\n                console.warn(`Different debug configuration provider with type '${configuration.type}' already registered.`);\n                provider.handle = this.configurationProviders.size;\n            }\n        }\n        const handle = provider.handle;\n        this.configurationProviders.set(handle, provider);\n        this.fireOnDidConfigurationProvidersChanged();\n        return Disposable.create(() => this.unregisterDebugConfigurationProvider(handle));\n    }\n\n    unregisterDebugConfigurationProvider(handle: number): void {\n        this.configurationProviders.delete(handle);\n        this.fireOnDidConfigurationProvidersChanged();\n    }\n\n    async debugTypes(): Promise<string[]> {\n        const debugTypes = new Set(await this.delegated.debugTypes());\n        for (const contribution of this.debuggers) {\n            debugTypes.add(contribution.type);\n        }\n        for (const debugType of this.contributors.keys()) {\n            debugTypes.add(debugType);\n        }\n        return [...debugTypes];\n    }\n\n    async provideDebugConfigurations(debugType: keyof DebugRequestTypes, workspaceFolderUri: string | undefined): Promise<theia.DebugConfiguration[]> {\n        const pluginProviders =\n            Array.from(this.configurationProviders.values()).filter(p => (\n                p.triggerKind === DebugConfigurationProviderTriggerKind.Initial &&\n                (p.type === debugType || p.type === '*') &&\n                p.provideDebugConfigurations\n            ));\n\n        if (pluginProviders.length === 0) {\n            return this.delegated.provideDebugConfigurations(debugType, workspaceFolderUri);\n        }\n\n        const results: DebugConfiguration[] = [];\n        await Promise.all(pluginProviders.map(async p => {\n            const result = await p.provideDebugConfigurations(workspaceFolderUri);\n            if (result) {\n                results.push(...result);\n            }\n        }));\n\n        return results;\n    }\n\n    async fetchDynamicDebugConfiguration(name: string, providerType: string, folder?: string): Promise<DebugConfiguration | undefined> {\n        const pluginProviders =\n            Array.from(this.configurationProviders.values()).filter(p => (\n                p.triggerKind === DebugConfigurationProviderTriggerKind.Dynamic &&\n                p.type === providerType &&\n                p.provideDebugConfigurations\n            ));\n\n        for (const provider of pluginProviders) {\n            const configurations = await provider.provideDebugConfigurations(folder);\n            for (const configuration of configurations) {\n                if (configuration.name === name) {\n                    return configuration;\n                }\n            }\n        }\n    }\n\n    async provideDynamicDebugConfigurations(folder?: string): Promise<Record<string, DebugConfiguration[]>> {\n        const pluginProviders =\n            Array.from(this.configurationProviders.values()).filter(p => (\n                p.triggerKind === DebugConfigurationProviderTriggerKind.Dynamic &&\n                p.provideDebugConfigurations\n            ));\n\n        const configurationsRecord: Record<string, DebugConfiguration[]> = {};\n\n        await Promise.all(pluginProviders.map(async provider => {\n            const configurations = await provider.provideDebugConfigurations(folder);\n            let configurationsPerType = configurationsRecord[provider.type];\n            configurationsPerType = configurationsPerType ? configurationsPerType.concat(configurations) : configurations;\n\n            if (configurationsPerType.length > 0) {\n                configurationsRecord[provider.type] = configurationsPerType;\n            }\n        }));\n\n        return configurationsRecord;\n    }\n\n    async resolveDebugConfiguration(\n        config: DebugConfiguration,\n        workspaceFolderUri: string | undefined\n    ): Promise<DebugConfiguration | undefined | null> {\n        const allProviders = Array.from(this.configurationProviders.values());\n\n        const resolvers = allProviders\n            .filter(p => p.type === config.type && !!p.resolveDebugConfiguration)\n            .map(p => p.resolveDebugConfiguration);\n\n        // Append debug type '*' at the end\n        resolvers.push(\n            ...allProviders\n                .filter(p => p.type === '*' && !!p.resolveDebugConfiguration)\n                .map(p => p.resolveDebugConfiguration)\n        );\n\n        const resolved = await this.resolveDebugConfigurationByResolversChain(config, workspaceFolderUri, resolvers);\n\n        return resolved ? this.delegated.resolveDebugConfiguration(resolved, workspaceFolderUri) : resolved;\n    }\n\n    async resolveDebugConfigurationWithSubstitutedVariables(\n        config: DebugConfiguration,\n        workspaceFolderUri: string | undefined\n    ): Promise<DebugConfiguration | undefined | null> {\n        const allProviders = Array.from(this.configurationProviders.values());\n\n        const resolvers = allProviders\n            .filter(p => p.type === config.type && !!p.resolveDebugConfigurationWithSubstitutedVariables)\n            .map(p => p.resolveDebugConfigurationWithSubstitutedVariables);\n\n        // Append debug type '*' at the end\n        resolvers.push(\n            ...allProviders\n                .filter(p => p.type === '*' && !!p.resolveDebugConfigurationWithSubstitutedVariables)\n                .map(p => p.resolveDebugConfigurationWithSubstitutedVariables)\n        );\n\n        const resolved = await this.resolveDebugConfigurationByResolversChain(config, workspaceFolderUri, resolvers);\n\n        return resolved\n            ? this.delegated.resolveDebugConfigurationWithSubstitutedVariables(resolved, workspaceFolderUri)\n            : resolved;\n    }\n\n    protected async resolveDebugConfigurationByResolversChain(\n        config: DebugConfiguration,\n        workspaceFolderUri: string | undefined,\n        resolvers: ((\n            folder: string | undefined,\n            debugConfiguration: DebugConfiguration\n        ) => Promise<DebugConfiguration | null | undefined>)[]\n    ): Promise<DebugConfiguration | undefined | null> {\n        let resolved: DebugConfiguration | undefined | null = config;\n        for (const resolver of resolvers) {\n            try {\n                if (!resolved) {\n                    // A provider has indicated to stop and process undefined or null as per specified in the vscode API\n                    // https://code.visualstudio.com/api/references/vscode-api#DebugConfigurationProvider\n                    break;\n                }\n                resolved = await resolver(workspaceFolderUri, resolved);\n            } catch (e) {\n                console.error(e);\n            }\n        }\n        return resolved;\n    }\n\n    registerDebugger(contribution: DebuggerContribution): Disposable {\n        this.debuggers.push(contribution);\n        return Disposable.create(() => {\n            const index = this.debuggers.indexOf(contribution);\n            if (index !== -1) {\n                this.debuggers.splice(index, 1);\n            }\n        });\n    }\n\n    async provideDebuggerVariables(debugType: string): Promise<CommandIdVariables> {\n        for (const contribution of this.debuggers) {\n            if (contribution.type === debugType) {\n                const variables = contribution.variables;\n                if (variables && Object.keys(variables).length > 0) {\n                    return variables;\n                }\n            }\n        }\n        return {};\n    }\n\n    async getDebuggersForLanguage(language: string): Promise<DebuggerDescription[]> {\n        const debuggers = await this.delegated.getDebuggersForLanguage(language);\n\n        for (const contributor of this.debuggers) {\n            const languages = contributor.languages;\n            if (languages && languages.indexOf(language) !== -1) {\n                const { label, type } = contributor;\n                debuggers.push({ type, label: label || type });\n            }\n        }\n\n        return debuggers;\n    }\n\n    async getSchemaAttributes(debugType: string): Promise<IJSONSchema[]> {\n        let schemas = await this.delegated.getSchemaAttributes(debugType);\n        for (const contribution of this.debuggers) {\n            if (contribution.configurationAttributes &&\n                (contribution.type === debugType || contribution.type === '*' || debugType === '*')) {\n                schemas = schemas.concat(this.resolveSchemaAttributes(contribution.type, contribution.configurationAttributes));\n            }\n        }\n        return schemas;\n    }\n\n    protected resolveSchemaAttributes(type: string, configurationAttributes: { [request: string]: IJSONSchema }): IJSONSchema[] {\n        const taskSchema = {};\n        return Object.keys(configurationAttributes).map(request => {\n            const attributes: IJSONSchema = deepClone(configurationAttributes[request]);\n            const defaultRequired = ['name', 'type', 'request'];\n            attributes.required = attributes.required && attributes.required.length ? defaultRequired.concat(attributes.required) : defaultRequired;\n            attributes.additionalProperties = false;\n            attributes.type = 'object';\n            if (!attributes.properties) {\n                attributes.properties = {};\n            }\n            const properties = attributes.properties;\n            properties['type'] = {\n                enum: [type],\n                description: nls.localizeByDefault('Type of configuration.'),\n                pattern: '^(?!node2)',\n                errorMessage: nls.localizeByDefault('The debug type is not recognized. Make sure that you have a corresponding debug extension installed and that it is enabled.'),\n                patternErrorMessage: nls.localizeByDefault('\"node2\" is no longer supported, use \"node\" instead and set the \"protocol\" attribute to \"inspector\".')\n            };\n            properties['name'] = {\n                type: 'string',\n                description: nls.localizeByDefault('Name of configuration; appears in the launch configuration dropdown menu.'),\n                default: 'Launch'\n            };\n            properties['request'] = {\n                enum: [request],\n                description: nls.localizeByDefault('Request type of configuration. Can be \"launch\" or \"attach\".'),\n            };\n            properties['debugServer'] = {\n                type: 'number',\n                description: nls.localizeByDefault(\n                    'For debug extension development only: if a port is specified VS Code tries to connect to a debug adapter running in server mode'\n                ),\n                default: 4711\n            };\n            properties['preLaunchTask'] = {\n                anyOf: [taskSchema, {\n                    type: ['string'],\n                }],\n                default: '',\n                description: nls.localizeByDefault('Task to run before debug session starts.')\n            };\n            properties['postDebugTask'] = {\n                anyOf: [taskSchema, {\n                    type: ['string'],\n                }],\n                default: '',\n                description: nls.localizeByDefault('Task to run after debug session ends.')\n            };\n            properties['internalConsoleOptions'] = {\n                enum: ['neverOpen', 'openOnSessionStart', 'openOnFirstSessionStart'],\n                default: 'openOnFirstSessionStart',\n                description: nls.localizeByDefault('Controls when the internal Debug Console should open.')\n            };\n            properties['suppressMultipleSessionWarning'] = {\n                type: 'boolean',\n                description: nls.localizeByDefault('Disable the warning when trying to start the same debug configuration more than once.'),\n                default: true\n            };\n\n            const osProperties = Object.assign({}, properties);\n            properties['windows'] = {\n                type: 'object',\n                description: nls.localizeByDefault('Windows specific launch configuration attributes.'),\n                properties: osProperties\n            };\n            properties['osx'] = {\n                type: 'object',\n                description: nls.localizeByDefault('OS X specific launch configuration attributes.'),\n                properties: osProperties\n            };\n            properties['linux'] = {\n                type: 'object',\n                description: nls.localizeByDefault('Linux specific launch configuration attributes.'),\n                properties: osProperties\n            };\n            Object.keys(attributes.properties).forEach(name => {\n                // Use schema allOf property to get independent error reporting #21113\n                attributes!.properties![name].pattern = attributes!.properties![name].pattern || '^(?!.*\\\\$\\\\{(env|config|command)\\\\.)';\n                attributes!.properties![name].patternErrorMessage = attributes!.properties![name].patternErrorMessage ||\n                    nls.localizeByDefault(\"'env.', 'config.' and 'command.' are deprecated, use 'env:', 'config:' and 'command:' instead.\");\n            });\n\n            return attributes;\n        });\n    }\n\n    async getConfigurationSnippets(): Promise<IJSONSchemaSnippet[]> {\n        let snippets = await this.delegated.getConfigurationSnippets();\n\n        for (const contribution of this.debuggers) {\n            if (contribution.configurationSnippets) {\n                snippets = snippets.concat(contribution.configurationSnippets);\n            }\n        }\n\n        return snippets;\n    }\n\n    async createDebugSession(config: DebugConfiguration, workspaceFolder: string | undefined): Promise<string> {\n        const contributor = this.contributors.get(config.type);\n        if (contributor) {\n            const sessionId = await contributor.createDebugSession(config, workspaceFolder);\n            this.sessionId2contrib.set(sessionId, contributor);\n            return sessionId;\n        } else {\n            return this.delegated.createDebugSession(config, workspaceFolder);\n        }\n    }\n\n    async terminateDebugSession(sessionId: string): Promise<void> {\n        const contributor = this.sessionId2contrib.get(sessionId);\n        if (contributor) {\n            this.sessionId2contrib.delete(sessionId);\n            return contributor.terminateDebugSession(sessionId);\n        } else {\n            return this.delegated.terminateDebugSession(sessionId);\n        }\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DebugSessionContributionRegistry, DebugSessionContribution } from '@theia/debug/lib/browser/debug-session-contribution';\nimport { injectable, inject, named, postConstruct } from '@theia/core/shared/inversify';\nimport { ContributionProvider } from '@theia/core/lib/common/contribution-provider';\nimport { Disposable } from '@theia/core/lib/common/disposable';\n\n/**\n * Debug session contribution registrator.\n */\nexport interface PluginDebugSessionContributionRegistrator {\n    /**\n     * Registers [DebugSessionContribution](#DebugSessionContribution).\n     * @param contrib contribution\n     */\n    registerDebugSessionContribution(contrib: DebugSessionContribution): Disposable;\n\n    /**\n     * Unregisters [DebugSessionContribution](#DebugSessionContribution).\n     * @param debugType the debug type\n     */\n    unregisterDebugSessionContribution(debugType: string): void;\n}\n\n/**\n * Plugin debug session contribution registry implementation with functionality\n * to register / unregister plugin contributions.\n */\n@injectable()\nexport class PluginDebugSessionContributionRegistry implements DebugSessionContributionRegistry, PluginDebugSessionContributionRegistrator {\n    protected readonly contribs = new Map<string, DebugSessionContribution>();\n\n    @inject(ContributionProvider) @named(DebugSessionContribution)\n    protected readonly contributions: ContributionProvider<DebugSessionContribution>;\n\n    @postConstruct()\n    protected init(): void {\n        for (const contrib of this.contributions.getContributions()) {\n            this.contribs.set(contrib.debugType, contrib);\n        }\n    }\n\n    get(debugType: string): DebugSessionContribution | undefined {\n        return this.contribs.get(debugType);\n    }\n\n    registerDebugSessionContribution(contrib: DebugSessionContribution): Disposable {\n        const { debugType } = contrib;\n\n        if (this.contribs.has(debugType)) {\n            console.warn(`Debug session contribution already registered for ${debugType}`);\n            return Disposable.NULL;\n        }\n\n        this.contribs.set(debugType, contrib);\n        return Disposable.create(() => this.unregisterDebugSessionContribution(debugType));\n    }\n\n    unregisterDebugSessionContribution(debugType: string): void {\n        this.contribs.delete(debugType);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DefaultDebugSessionFactory } from '@theia/debug/lib/browser/debug-session-contribution';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { EditorManager } from '@theia/editor/lib/browser/editor-manager';\nimport { BreakpointManager } from '@theia/debug/lib/browser/breakpoint/breakpoint-manager';\nimport { LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport { MessageClient } from '@theia/core/lib/common/message-service-protocol';\nimport { OutputChannelManager } from '@theia/output/lib/browser/output-channel';\nimport { DebugPreferences } from '@theia/debug/lib/common/debug-preferences';\nimport { DebugConfigurationSessionOptions, TestRunReference } from '@theia/debug/lib/browser/debug-session-options';\nimport { DebugSession } from '@theia/debug/lib/browser/debug-session';\nimport { DebugSessionConnection } from '@theia/debug/lib/browser/debug-session-connection';\nimport { TerminalWidgetOptions, TerminalWidget } from '@theia/terminal/lib/browser/base/terminal-widget';\nimport { TerminalOptionsExt } from '../../../common/plugin-api-rpc';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { DebugContribution } from '@theia/debug/lib/browser/debug-contribution';\nimport { ContributionProvider } from '@theia/core/lib/common/contribution-provider';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { PluginChannel } from '../../../common/connection';\nimport { TestService } from '@theia/test/lib/browser/test-service';\nimport { DebugSessionManager } from '@theia/debug/lib/browser/debug-session-manager';\nimport { CommandService } from '@theia/core';\n\nexport class PluginDebugSession extends DebugSession {\n    constructor(\n        override readonly id: string,\n        override readonly options: DebugConfigurationSessionOptions,\n        override readonly parentSession: DebugSession | undefined,\n        testService: TestService,\n        testRun: TestRunReference | undefined,\n        sessionManager: DebugSessionManager,\n        protected override readonly connection: DebugSessionConnection,\n        protected override readonly terminalServer: TerminalService,\n        protected override readonly editorManager: EditorManager,\n        protected override readonly breakpoints: BreakpointManager,\n        protected override readonly labelProvider: LabelProvider,\n        protected override readonly messages: MessageClient,\n        protected override readonly fileService: FileService,\n        protected readonly terminalOptionsExt: TerminalOptionsExt | undefined,\n        protected override readonly debugContributionProvider: ContributionProvider<DebugContribution>,\n        protected override readonly workspaceService: WorkspaceService,\n        debugPreferences: DebugPreferences,\n        protected override readonly commandService: CommandService) {\n        super(id, options, parentSession, testService, testRun, sessionManager, connection, terminalServer, editorManager, breakpoints,\n            labelProvider, messages, fileService, debugContributionProvider,\n            workspaceService, debugPreferences, commandService);\n    }\n\n    protected override async doCreateTerminal(terminalWidgetOptions: TerminalWidgetOptions): Promise<TerminalWidget> {\n        terminalWidgetOptions = Object.assign({}, terminalWidgetOptions, this.terminalOptionsExt);\n        return super.doCreateTerminal(terminalWidgetOptions);\n    }\n}\n\n/**\n * Session factory for a client debug session that communicates with debug adapter contributed as plugin.\n * The main difference is to use a connection factory that creates [Channel](#Channel) over Rpc channel.\n */\nexport class PluginDebugSessionFactory extends DefaultDebugSessionFactory {\n    constructor(\n        protected override readonly terminalService: TerminalService,\n        protected override readonly editorManager: EditorManager,\n        protected override readonly breakpoints: BreakpointManager,\n        protected override readonly labelProvider: LabelProvider,\n        protected override readonly messages: MessageClient,\n        protected override readonly outputChannelManager: OutputChannelManager,\n        protected override readonly debugPreferences: DebugPreferences,\n        protected readonly connectionFactory: (sessionId: string) => Promise<PluginChannel>,\n        protected override readonly fileService: FileService,\n        protected readonly terminalOptionsExt: TerminalOptionsExt | undefined,\n        protected override readonly debugContributionProvider: ContributionProvider<DebugContribution>,\n        protected override readonly testService: TestService,\n        protected override readonly workspaceService: WorkspaceService,\n        protected override readonly commandService: CommandService,\n    ) {\n        super();\n    }\n\n    override get(manager: DebugSessionManager, sessionId: string, options: DebugConfigurationSessionOptions, parentSession?: DebugSession): DebugSession {\n        const connection = new DebugSessionConnection(\n            sessionId,\n            this.connectionFactory,\n            this.getTraceOutputChannel());\n\n        return new PluginDebugSession(\n            sessionId,\n            options,\n            parentSession,\n            this.testService,\n            options.testRun,\n            manager,\n            connection,\n            this.terminalService,\n            this.editorManager,\n            this.breakpoints,\n            this.labelProvider,\n            this.messages,\n            this.fileService,\n            this.terminalOptionsExt,\n            this.debugContributionProvider,\n            this.workspaceService,\n            this.debugPreferences,\n            this.commandService\n        );\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport {\n    DecorationData,\n    DecorationRequest,\n    DecorationsExt,\n    DecorationsMain,\n    MAIN_RPC_CONTEXT\n} from '../../../common/plugin-api-rpc';\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { UriComponents } from '../../../common/uri-components';\nimport { URI as VSCodeURI } from '@theia/core/shared/vscode-uri';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport URI from '@theia/core/lib/common/uri';\nimport { Decoration, DecorationsService } from '@theia/core/lib/browser/decorations-service';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/1.52.1/src/vs/workbench/api/browser/mainThreadDecorations.ts#L85\n\nclass DecorationRequestsQueue {\n\n    private idPool = 0;\n    private requests = new Map<number, DecorationRequest>();\n    private resolver = new Map<number, (data: DecorationData) => void>();\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private timer: any;\n\n    constructor(\n        private readonly proxy: DecorationsExt,\n        private readonly handle: number\n    ) {\n    }\n\n    enqueue(uri: URI, token: CancellationToken): Promise<DecorationData> {\n        const id = ++this.idPool;\n        const result = new Promise<DecorationData>(resolve => {\n            this.requests.set(id, { id, uri: VSCodeURI.parse(uri.toString()) });\n            this.resolver.set(id, resolve);\n            this.processQueue();\n        });\n        token.onCancellationRequested(() => {\n            this.requests.delete(id);\n            this.resolver.delete(id);\n        });\n        return result;\n    }\n\n    private processQueue(): void {\n        if (typeof this.timer === 'number') {\n            // already queued\n            return;\n        }\n        this.timer = setTimeout(() => {\n            // make request\n            const requests = this.requests;\n            const resolver = this.resolver;\n            this.proxy.$provideDecorations(this.handle, [...requests.values()], CancellationToken.None).then(data => {\n                for (const [id, resolve] of resolver) {\n                    resolve(data[id]);\n                }\n            });\n\n            // reset\n            this.requests = new Map();\n            this.resolver = new Map();\n            this.timer = undefined;\n        }, 0);\n    }\n}\n\nexport class DecorationsMainImpl implements DecorationsMain, Disposable {\n\n    private readonly proxy: DecorationsExt;\n    private readonly providers = new Map<number, [Emitter<URI[]>, Disposable]>();\n    private readonly decorationsService: DecorationsService;\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.DECORATIONS_EXT);\n        this.decorationsService = container.get(DecorationsService);\n    }\n\n    dispose(): void {\n        this.providers.forEach(value => value.forEach(v => v.dispose()));\n        this.providers.clear();\n    }\n\n    async $registerDecorationProvider(handle: number): Promise<void> {\n        const emitter = new Emitter<URI[]>();\n        const queue = new DecorationRequestsQueue(this.proxy, handle);\n        const registration = this.decorationsService.registerDecorationsProvider({\n            onDidChange: emitter.event,\n            provideDecorations: async (uri, token) => {\n                const data = await queue.enqueue(uri, token);\n                if (!data) {\n                    return undefined;\n                }\n                const [bubble, tooltip, letter, themeColor] = data;\n                return <Decoration>{\n                    weight: 10,\n                    bubble: bubble ?? false,\n                    colorId: themeColor?.id,\n                    tooltip,\n                    letter\n                };\n            }\n        });\n        this.providers.set(handle, [emitter, registration]);\n    }\n\n    $onDidChange(handle: number, resources: UriComponents[]): void {\n        const providerSet = this.providers.get(handle);\n        if (providerSet) {\n            const [emitter] = providerSet;\n            emitter.fire(resources && resources.map(r => new URI(VSCodeURI.revive(r).toString())));\n        }\n    }\n\n    $unregisterDecorationProvider(handle: number): void {\n        const provider = this.providers.get(handle);\n        if (provider) {\n            provider.forEach(p => p.dispose());\n            this.providers.delete(handle);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { OpenDialogOptionsMain, SaveDialogOptionsMain, DialogsMain, UploadDialogOptionsMain } from '../../common/plugin-api-rpc';\nimport { OpenFileDialogProps, SaveFileDialogProps, FileDialogService } from '@theia/filesystem/lib/browser';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport URI from '@theia/core/lib/common/uri';\nimport { FileUploadService } from '@theia/filesystem/lib/common/upload/file-upload';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { nls } from '@theia/core';\n\nexport class DialogsMainImpl implements DialogsMain {\n\n    private workspaceService: WorkspaceService;\n    private fileService: FileService;\n    private environments: EnvVariablesServer;\n\n    private fileDialogService: FileDialogService;\n    private uploadService: FileUploadService;\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.workspaceService = container.get(WorkspaceService);\n        this.fileService = container.get(FileService);\n        this.environments = container.get(EnvVariablesServer);\n        this.fileDialogService = container.get(FileDialogService);\n        this.uploadService = container.get(FileUploadService);\n    }\n\n    protected async getRootStat(defaultUri: string | undefined): Promise<FileStat | undefined> {\n        let rootStat: FileStat | undefined;\n\n        // Try to use default URI as root\n        if (defaultUri) {\n            try {\n                rootStat = await this.fileService.resolve(new URI(defaultUri));\n            } catch {\n                rootStat = undefined;\n            }\n\n            // Try to use as root the parent folder of existing file URI/non existing URI\n            if (rootStat && !rootStat.isDirectory || !rootStat) {\n                try {\n                    rootStat = await this.fileService.resolve(new URI(defaultUri).parent);\n                } catch {\n                    rootStat = undefined;\n                }\n            }\n        }\n\n        // Try to use workspace service root if there is no pre-configured URI\n        if (!rootStat) {\n            rootStat = (await this.workspaceService.roots)[0];\n        }\n\n        // Try to use current user home if root folder is still not taken\n        if (!rootStat) {\n            const homeDirUri = await this.environments.getHomeDirUri();\n            try {\n                rootStat = await this.fileService.resolve(new URI(homeDirUri));\n            } catch { }\n        }\n\n        return rootStat;\n    }\n\n    async $showOpenDialog(options: OpenDialogOptionsMain): Promise<string[] | undefined> {\n        const rootStat = await this.getRootStat(options.defaultUri ? options.defaultUri : undefined);\n        if (!rootStat) {\n            throw new Error('Unable to find the rootStat');\n        }\n\n        try {\n            const canSelectFiles = typeof options.canSelectFiles === 'boolean' ? options.canSelectFiles : true;\n            const canSelectFolders = typeof options.canSelectFolders === 'boolean' ? options.canSelectFolders : true;\n\n            let title = options.title;\n            if (!title) {\n                if (canSelectFiles && canSelectFolders) {\n                    title = 'Open';\n                } else {\n                    if (canSelectFiles) {\n                        title = 'Open File';\n                    } else {\n                        title = 'Open Folder';\n                    }\n                    if (options.canSelectMany) {\n                        title += '(s)';\n                    }\n                }\n            }\n\n            // Create open file dialog props\n            const dialogProps = {\n                title: title,\n                openLabel: options.openLabel,\n                canSelectFiles: options.canSelectFiles,\n                canSelectFolders: options.canSelectFolders,\n                canSelectMany: options.canSelectMany,\n                filters: options.filters\n            } as OpenFileDialogProps;\n\n            const result = await this.fileDialogService.showOpenDialog(dialogProps, rootStat);\n            if (Array.isArray(result)) {\n                return result.map(uri => uri.path.toString());\n            } else {\n                return result ? [result].map(uri => uri.path.toString()) : undefined;\n            }\n        } catch (error) {\n            console.error(error);\n        }\n\n        return undefined;\n    }\n\n    async $showSaveDialog(options: SaveDialogOptionsMain): Promise<string | undefined> {\n        const rootStat = await this.getRootStat(options.defaultUri ? options.defaultUri : undefined);\n\n        // File name field should be empty unless the URI is a file\n        let fileNameValue = '';\n        if (options.defaultUri) {\n            let defaultURIStat: FileStat | undefined;\n            try {\n                defaultURIStat = await this.fileService.resolve(new URI(options.defaultUri));\n            } catch { }\n            if (defaultURIStat && !defaultURIStat.isDirectory || !defaultURIStat) {\n                fileNameValue = new URI(options.defaultUri).path.base;\n            }\n        }\n\n        try {\n            // Create save file dialog props\n            const dialogProps = {\n                title: options.title ?? nls.localizeByDefault('Save'),\n                saveLabel: options.saveLabel,\n                filters: options.filters,\n                inputValue: fileNameValue\n            } as SaveFileDialogProps;\n\n            const result = await this.fileDialogService.showSaveDialog(dialogProps, rootStat);\n            if (result) {\n                return result.path.toString();\n            }\n            return undefined;\n        } catch (error) {\n            console.error(error);\n        }\n\n        return undefined;\n    }\n\n    async $showUploadDialog(options: UploadDialogOptionsMain): Promise<string[] | undefined> {\n        const rootStat = await this.getRootStat(options.defaultUri);\n\n        // Fail if root not fount\n        if (!rootStat) {\n            throw new Error('Failed to resolve base directory where files should be uploaded');\n        }\n\n        const uploadResult = await this.uploadService.upload(rootStat.resource.toString());\n\n        if (uploadResult) {\n            return uploadResult.uploaded;\n        }\n\n        return undefined;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { injectable } from '@theia/core/shared/inversify';\nimport { Message } from '@theia/core/shared/@lumino/messaging';\nimport { codiconArray, Key } from '@theia/core/lib/browser';\nimport { AbstractDialog } from '@theia/core/lib/browser/dialogs';\nimport '../../../../src/main/browser/dialogs/style/modal-notification.css';\nimport { MainMessageItem, MainMessageOptions } from '../../../common/plugin-api-rpc';\nimport { FrontendApplicationConfigProvider } from '@theia/core/lib/browser/frontend-application-config-provider';\nimport { nls } from '@theia/core/lib/common/nls';\n\nexport enum MessageType {\n    Error = 'error',\n    Warning = 'warning',\n    Info = 'info'\n}\n\nconst NOTIFICATION = 'modal-Notification';\nconst ICON = 'icon';\nconst TEXT = 'text';\nconst DETAIL = 'detail';\n\n@injectable()\nexport class ModalNotification extends AbstractDialog<string | undefined> {\n\n    protected actionTitle: string | undefined;\n\n    constructor() {\n        super({ title: FrontendApplicationConfigProvider.get().applicationName });\n    }\n\n    protected override onCloseRequest(msg: Message): void {\n        this.actionTitle = undefined;\n        this.accept();\n    }\n\n    get value(): string | undefined {\n        return this.actionTitle;\n    }\n\n    showDialog(messageType: MessageType, text: string, options: MainMessageOptions, actions: MainMessageItem[]): Promise<string | undefined> {\n        this.contentNode.appendChild(this.createMessageNode(messageType, text, options, actions));\n        return this.open();\n    }\n\n    protected createMessageNode(messageType: MessageType, text: string, options: MainMessageOptions, actions: MainMessageItem[]): HTMLElement {\n        const messageNode = document.createElement('div');\n        messageNode.classList.add(NOTIFICATION);\n\n        const iconContainer = messageNode.appendChild(document.createElement('div'));\n        iconContainer.classList.add(ICON);\n        const iconElement = iconContainer.appendChild(document.createElement('i'));\n        iconElement.classList.add(...this.toIconClass(messageType), messageType.toString());\n\n        const textContainer = messageNode.appendChild(document.createElement('div'));\n        textContainer.classList.add(TEXT);\n        const textElement = textContainer.appendChild(document.createElement('p'));\n        textElement.textContent = text;\n\n        if (options.detail) {\n            const detailContainer = textContainer.appendChild(document.createElement('div'));\n            detailContainer.classList.add(DETAIL);\n            const detailElement = detailContainer.appendChild(document.createElement('p'));\n            detailElement.textContent = options.detail;\n        }\n\n        actions.forEach((action: MainMessageItem, index: number) => {\n            const button = index === 0\n                ? this.appendAcceptButton(action.title)\n                : this.createButton(action.title);\n            button.classList.add('main');\n            this.controlPanel.appendChild(button);\n            this.addKeyListener(button,\n                Key.ENTER,\n                () => {\n                    this.actionTitle = action.title;\n                    this.accept();\n                },\n                'click');\n        });\n        if (actions.length <= 0) {\n            this.appendAcceptButton();\n        } else if (!actions.some(action => action.isCloseAffordance === true)) {\n            this.appendCloseButton(nls.localizeByDefault('Close'));\n        }\n\n        return messageNode;\n    }\n\n    protected toIconClass(icon: MessageType): string[] {\n        if (icon === MessageType.Error) {\n            return codiconArray('error');\n        }\n        if (icon === MessageType.Warning) {\n            return codiconArray('warning');\n        }\n        return codiconArray('info');\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { DocumentsMain, MAIN_RPC_CONTEXT, DocumentsExt } from '../../common/plugin-api-rpc';\nimport { UriComponents } from '../../common/uri-components';\nimport { EditorsAndDocumentsMain } from './editors-and-documents-main';\nimport { DisposableCollection, Disposable, UntitledResourceResolver } from '@theia/core';\nimport { MonacoEditorModel } from '@theia/monaco/lib/browser/monaco-editor-model';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { EditorModelService } from './text-editor-model-service';\nimport { EditorOpenerOptions, EncodingMode } from '@theia/editor/lib/browser';\nimport URI from '@theia/core/lib/common/uri';\nimport { URI as CodeURI } from '@theia/core/shared/vscode-uri';\nimport { ApplicationShell, SaveReason } from '@theia/core/lib/browser';\nimport { TextDocumentShowOptions } from '../../common/plugin-api-rpc-model';\nimport { Range } from '@theia/core/shared/vscode-languageserver-protocol';\nimport { OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { Reference } from '@theia/core/lib/common/reference';\nimport { dispose } from '../../common/disposable-util';\nimport { MonacoLanguages } from '@theia/monaco/lib/browser/monaco-languages';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { TextDocumentChangeReason } from '../../plugin/types-impl';\nimport { NotebookDocumentsMainImpl } from './notebooks/notebook-documents-main';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ModelReferenceCollection {\n\n    private data = new Array<{ length: number, dispose(): void }>();\n    private length = 0;\n\n    constructor(\n        private readonly maxAge: number = 1000 * 60 * 3,\n        private readonly maxLength: number = 1024 * 1024 * 80\n    ) { }\n\n    dispose(): void {\n        this.data = dispose(this.data) || [];\n    }\n\n    add(ref: Reference<MonacoEditorModel>): void {\n        const length = ref.object.textEditorModel.getValueLength();\n        const handle = setTimeout(_dispose, this.maxAge);\n        const entry = { length, dispose: _dispose };\n        const self = this;\n        function _dispose(): void {\n            const idx = self.data.indexOf(entry);\n            if (idx >= 0) {\n                self.length -= length;\n                ref.dispose();\n                clearTimeout(handle);\n                self.data.splice(idx, 1);\n            }\n        };\n\n        this.data.push(entry);\n        this.length += length;\n        this.cleanup();\n    }\n\n    private cleanup(): void {\n        while (this.length > this.maxLength) {\n            this.data[0].dispose();\n        }\n    }\n}\n\nexport class DocumentsMainImpl implements DocumentsMain, Disposable {\n\n    private readonly proxy: DocumentsExt;\n    private readonly syncedModels = new Map<string, Disposable>();\n    private readonly modelReferenceCache = new ModelReferenceCollection();\n\n    protected saveTimeout = 1750;\n\n    private readonly toDispose = new DisposableCollection(this.modelReferenceCache);\n\n    constructor(\n        editorsAndDocuments: EditorsAndDocumentsMain,\n        notebookDocuments: NotebookDocumentsMainImpl,\n        private readonly modelService: EditorModelService,\n        rpc: RPCProtocol,\n        private openerService: OpenerService,\n        private shell: ApplicationShell,\n        private untitledResourceResolver: UntitledResourceResolver,\n        private languageService: MonacoLanguages\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.DOCUMENTS_EXT);\n\n        this.toDispose.push(editorsAndDocuments);\n        this.toDispose.push(editorsAndDocuments.onDocumentAdd(documents => documents.forEach(this.onModelAdded, this)));\n        this.toDispose.push(editorsAndDocuments.onDocumentRemove(documents => documents.forEach(this.onModelRemoved, this)));\n        this.toDispose.push(modelService.onModelModeChanged(this.onModelChanged, this));\n\n        this.toDispose.push(notebookDocuments.onDidAddNotebookCellModel(this.onModelAdded, this));\n\n        this.toDispose.push(modelService.onModelSaved(m => {\n            this.proxy.$acceptModelSaved(m.textEditorModel.uri);\n        }));\n        this.toDispose.push(modelService.onModelWillSave(async e => {\n\n            const saveReason = e.options?.saveReason ?? SaveReason.Manual;\n\n            const edits = await this.proxy.$acceptModelWillSave(new URI(e.model.uri).toComponents(), saveReason.valueOf(), this.saveTimeout);\n            const editOperations: monaco.editor.IIdentifiedSingleEditOperation[] = [];\n            for (const edit of edits) {\n                const { range, text } = edit;\n                if (!range && !text) {\n                    continue;\n                }\n                if (range && range.startLineNumber === range.endLineNumber && range.startColumn === range.endColumn && !edit.text) {\n                    continue;\n                }\n\n                editOperations.push({\n                    range: range ? monaco.Range.lift(range) : e.model.textEditorModel.getFullModelRange(),\n                    /* eslint-disable-next-line no-null/no-null */\n                    text: text || null,\n                    forceMoveMarkers: edit.forceMoveMarkers\n                });\n            }\n            e.model.textEditorModel.applyEdits(editOperations);\n        }));\n        this.toDispose.push(modelService.onModelDirtyChanged(m => {\n            this.proxy.$acceptDirtyStateChanged(m.textEditorModel.uri, m.dirty);\n        }));\n        this.toDispose.push(modelService.onModelEncodingChanged(e => {\n            this.proxy.$acceptEncodingChanged(e.model.textEditorModel.uri, e.encoding);\n        }));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    private onModelChanged(event: { model: MonacoEditorModel, oldModeId: string }): void {\n        const modelUrl = event.model.textEditorModel.uri;\n        if (this.syncedModels.has(modelUrl.toString())) {\n            this.proxy.$acceptModelModeChanged(modelUrl, event.oldModeId, event.model.languageId);\n        }\n    }\n\n    private onModelAdded(model: MonacoEditorModel): void {\n        const modelUri = model.textEditorModel.uri;\n        const key = modelUri.toString();\n\n        const toDispose = new DisposableCollection(\n            model.textEditorModel.onDidChangeContent(e =>\n                this.proxy.$acceptModelChanged(modelUri, {\n                    eol: e.eol,\n                    versionId: e.versionId,\n                    reason: e.isRedoing ? TextDocumentChangeReason.Redo : e.isUndoing ? TextDocumentChangeReason.Undo : undefined,\n                    changes: e.changes.map(c =>\n                    ({\n                        text: c.text,\n                        range: c.range,\n                        rangeLength: c.rangeLength,\n                        rangeOffset: c.rangeOffset\n                    }))\n                }, model.dirty)\n            ),\n            Disposable.create(() => this.syncedModels.delete(key))\n        );\n        this.syncedModels.set(key, toDispose);\n        this.toDispose.push(toDispose);\n    }\n\n    private onModelRemoved(url: monaco.Uri): void {\n        const model = this.syncedModels.get(url.toString());\n        if (model) {\n            model.dispose();\n        }\n    }\n\n    async $tryCreateDocument(options?: { language?: string; content?: string; encoding?: string }): Promise<UriComponents> {\n        const language = options?.language && this.languageService.getExtension(options.language);\n        const content = options?.content;\n        const encoding = options?.encoding;\n        const resource = await this.untitledResourceResolver.createUntitledResource(content, language, undefined, encoding);\n        return monaco.Uri.parse(resource.uri.toString());\n    }\n\n    async $tryShowDocument(uri: UriComponents, options?: TextDocumentShowOptions): Promise<void> {\n        // Removing try-catch block here makes it not possible to handle errors.\n        // Following message is appeared in browser console\n        //   - Uncaught (in promise) Error: Cannot read property 'message' of undefined.\n        try {\n            const editorOptions = DocumentsMainImpl.toEditorOpenerOptions(this.shell, options);\n            const uriArg = new URI(CodeURI.revive(uri));\n            const opener = await this.openerService.getOpener(uriArg, editorOptions);\n            await opener.open(uriArg, editorOptions);\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    async $trySaveDocument(uri: UriComponents): Promise<boolean> {\n        return this.modelService.save(new URI(CodeURI.revive(uri)));\n    }\n\n    async $tryOpenDocument(uri: UriComponents, encoding?: string): Promise<boolean> {\n        // Convert URI to Theia URI\n        const theiaUri = new URI(CodeURI.revive(uri));\n\n        // Create model reference\n        const ref = await this.modelService.createModelReference(theiaUri);\n\n        if (ref.object) {\n            // If we have encoding option, make sure to apply it\n            if (encoding && ref.object.setEncoding) {\n                try {\n                    await ref.object.setEncoding(encoding, EncodingMode.Decode);\n                } catch (e) {\n                    // If encoding fails, log error but continue\n                    console.error(`Failed to set encoding ${encoding} for ${theiaUri.toString()}`, e);\n                }\n            }\n\n            this.modelReferenceCache.add(ref);\n            return true;\n        } else {\n            ref.dispose();\n            return false;\n        }\n    }\n\n    static toEditorOpenerOptions(shell: ApplicationShell, options?: TextDocumentShowOptions): EditorOpenerOptions | undefined {\n        if (!options) {\n            return undefined;\n        }\n        let range: Range | undefined;\n        if (options.selection) {\n            const selection = options.selection;\n            range = {\n                start: { line: selection.startLineNumber - 1, character: selection.startColumn - 1 },\n                end: { line: selection.endLineNumber - 1, character: selection.endColumn - 1 }\n            };\n        }\n        /* fall back to side group -> split relative to the active widget */\n        let widgetOptions: ApplicationShell.WidgetOptions | undefined = { mode: 'split-right' };\n        let viewColumn = options.viewColumn;\n        if (viewColumn === -2) {\n            /* show besides -> compute current column and adjust viewColumn accordingly */\n            const tabBars = shell.mainAreaTabBars;\n            const currentTabBar = shell.currentTabBar;\n            if (currentTabBar) {\n                const currentColumn = tabBars.indexOf(currentTabBar);\n                if (currentColumn > -1) {\n                    // +2 because conversion from 0-based to 1-based index and increase of 1\n                    viewColumn = currentColumn + 2;\n                }\n            }\n        }\n        if (viewColumn === undefined || viewColumn === -1) {\n            /* active group -> skip (default behaviour) */\n            widgetOptions = undefined;\n        } else if (viewColumn > 0 && shell.mainAreaTabBars.length > 0) {\n            const tabBars = shell.mainAreaTabBars;\n            if (viewColumn <= tabBars.length) {\n                // convert to zero-based index\n                const tabBar = tabBars[viewColumn - 1];\n                if (tabBar?.currentTitle) {\n                    widgetOptions = { ref: tabBar.currentTitle.owner };\n                }\n            } else {\n                const tabBar = tabBars[tabBars.length - 1];\n                if (tabBar?.currentTitle) {\n                    widgetOptions!.ref = tabBar.currentTitle.owner;\n                }\n            }\n        }\n        return {\n            selection: range,\n            mode: options.preserveFocus ? 'reveal' : 'activate',\n            preview: options.preview,\n            widgetOptions\n        };\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { type ILineChange } from '@theia/monaco-editor-core/esm/vs/editor/common/diff/legacyLinesDiffComputer';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport {\n    MAIN_RPC_CONTEXT,\n    EditorsAndDocumentsExt,\n    EditorsAndDocumentsDelta,\n    ModelAddedData,\n    TextEditorAddData,\n    EditorPosition\n} from '../../common/plugin-api-rpc';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { EditorModelService } from './text-editor-model-service';\nimport { MonacoEditorModel } from '@theia/monaco/lib/browser/monaco-editor-model';\nimport { MonacoEditor } from '@theia/monaco/lib/browser/monaco-editor';\nimport { TextEditorMain } from './text-editor-main';\nimport { DisposableCollection, Emitter, URI } from '@theia/core';\nimport { EditorManager, EditorWidget } from '@theia/editor/lib/browser';\nimport { SaveableService } from '@theia/core/lib/browser/saveable-service';\nimport { TabsMainImpl } from './tabs/tabs-main';\nimport { NotebookCellEditorService, NotebookEditorWidgetService } from '@theia/notebook/lib/browser';\nimport { SimpleMonacoEditor } from '@theia/monaco/lib/browser/simple-monaco-editor';\nimport { EncodingRegistry } from '@theia/core/lib/browser/encoding-registry';\n\nexport class EditorsAndDocumentsMain implements Disposable {\n\n    private readonly proxy: EditorsAndDocumentsExt;\n\n    private readonly stateComputer: EditorAndDocumentStateComputer;\n    private readonly textEditors = new Map<string, TextEditorMain>();\n\n    private readonly modelService: EditorModelService;\n    private readonly editorManager: EditorManager;\n    private readonly saveResourceService: SaveableService;\n    private readonly encodingRegistry: EncodingRegistry;\n\n    private readonly onTextEditorAddEmitter = new Emitter<TextEditorMain[]>();\n    private readonly onTextEditorRemoveEmitter = new Emitter<string[]>();\n    private readonly onDocumentAddEmitter = new Emitter<MonacoEditorModel[]>();\n    private readonly onDocumentRemoveEmitter = new Emitter<monaco.Uri[]>();\n\n    readonly onTextEditorAdd = this.onTextEditorAddEmitter.event;\n    readonly onTextEditorRemove = this.onTextEditorRemoveEmitter.event;\n    readonly onDocumentAdd = this.onDocumentAddEmitter.event;\n    readonly onDocumentRemove = this.onDocumentRemoveEmitter.event;\n\n    private readonly toDispose = new DisposableCollection(\n        Disposable.create(() => this.textEditors.clear())\n    );\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container, tabsMain: TabsMainImpl) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.EDITORS_AND_DOCUMENTS_EXT);\n\n        this.editorManager = container.get(EditorManager);\n        this.modelService = container.get(EditorModelService);\n        this.saveResourceService = container.get(SaveableService);\n        this.encodingRegistry = container.get(EncodingRegistry);\n\n        this.stateComputer = new EditorAndDocumentStateComputer(d => this.onDelta(d),\n            this.editorManager,\n            container.get(NotebookCellEditorService),\n            container.get(NotebookEditorWidgetService),\n            this.modelService, tabsMain);\n        this.toDispose.push(this.stateComputer);\n        this.toDispose.push(this.onTextEditorAddEmitter);\n        this.toDispose.push(this.onTextEditorRemoveEmitter);\n        this.toDispose.push(this.onDocumentAddEmitter);\n        this.toDispose.push(this.onDocumentRemoveEmitter);\n    }\n\n    listen(): void {\n        this.stateComputer.listen();\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    private onDelta(delta: EditorAndDocumentStateDelta): void {\n        const removedEditors = new Array<string>();\n        const addedEditors = new Array<TextEditorMain>();\n\n        const removedDocuments = delta.removedDocuments.map(d => d.textEditorModel.uri);\n\n        for (const editor of delta.addedEditors) {\n            const textEditorMain = new TextEditorMain(editor.id, editor.editor.getControl().getModel()!, editor.editor);\n            this.textEditors.set(editor.id, textEditorMain);\n            this.toDispose.push(textEditorMain);\n            addedEditors.push(textEditorMain);\n        }\n\n        for (const { id } of delta.removedEditors) {\n            const textEditorMain = this.textEditors.get(id);\n            if (textEditorMain) {\n                textEditorMain.dispose();\n                this.textEditors.delete(id);\n                removedEditors.push(id);\n            }\n        }\n\n        const deltaExt: EditorsAndDocumentsDelta = {};\n        let empty = true;\n\n        if (delta.newActiveEditor !== undefined) {\n            empty = false;\n            deltaExt.newActiveEditor = delta.newActiveEditor;\n        }\n        if (removedDocuments.length > 0) {\n            empty = false;\n            deltaExt.removedDocuments = removedDocuments;\n        }\n        if (removedEditors.length > 0) {\n            empty = false;\n            deltaExt.removedEditors = removedEditors;\n        }\n        if (delta.addedDocuments.length > 0) {\n            empty = false;\n            deltaExt.addedDocuments = delta.addedDocuments.map(d => this.toModelAddData(d));\n        }\n        if (delta.addedEditors.length > 0) {\n            empty = false;\n            deltaExt.addedEditors = addedEditors.map(e => this.toTextEditorAddData(e));\n        }\n\n        if (!empty) {\n            this.proxy.$acceptEditorsAndDocumentsDelta(deltaExt);\n            this.onDocumentRemoveEmitter.fire(removedDocuments);\n            this.onDocumentAddEmitter.fire(delta.addedDocuments);\n            this.onTextEditorRemoveEmitter.fire(removedEditors);\n            this.onTextEditorAddEmitter.fire(addedEditors);\n        }\n    }\n\n    private toModelAddData(model: MonacoEditorModel): ModelAddedData {\n        return {\n            uri: model.textEditorModel.uri,\n            versionId: model.textEditorModel.getVersionId(),\n            lines: model.textEditorModel.getLinesContent(),\n            languageId: model.getLanguageId(),\n            EOL: model.textEditorModel.getEOL(),\n            modeId: model.languageId,\n            isDirty: model.dirty,\n            encoding: this.encodingRegistry.getEncodingForResource(URI.fromComponents(model.textEditorModel.uri), model.getEncoding())\n        };\n    }\n\n    private toTextEditorAddData(textEditor: TextEditorMain): TextEditorAddData {\n        const properties = textEditor.getProperties();\n        return {\n            id: textEditor.getId(),\n            documentUri: textEditor.getModel().uri,\n            options: properties!.options,\n            selections: properties!.selections,\n            visibleRanges: properties!.visibleRanges,\n            editorPosition: this.findEditorPosition(textEditor)\n        };\n\n    }\n\n    private findEditorPosition(editor: TextEditorMain): EditorPosition | undefined {\n        return EditorPosition.ONE; // TODO: fix this when Theia has support splitting editors\n    }\n\n    getEditor(id: string): TextEditorMain | undefined {\n        return this.textEditors.get(id);\n    }\n\n    async save(uri: URI): Promise<URI | undefined> {\n        const editor = await this.editorManager.getByUri(uri);\n        if (!editor) {\n            return undefined;\n        }\n        return this.saveResourceService.save(editor);\n    }\n\n    async saveAs(uri: URI): Promise<URI | undefined> {\n        const editor = await this.editorManager.getByUri(uri);\n        if (!editor) {\n            return undefined;\n        }\n        if (!this.saveResourceService.canSaveAs(editor)) {\n            return undefined;\n        }\n        return this.saveResourceService.saveAs(editor);\n    }\n\n    saveAll(includeUntitled?: boolean): Promise<boolean> {\n        return this.modelService.saveAll(includeUntitled);\n    }\n\n    hideEditor(id: string): Promise<void> {\n        for (const editorWidget of this.editorManager.all) {\n            const monacoEditor = MonacoEditor.get(editorWidget);\n            if (monacoEditor) {\n                if (id === new EditorSnapshot(monacoEditor).id) {\n                    editorWidget.close();\n                    break;\n                }\n            }\n        }\n        return Promise.resolve();\n    }\n\n    getDiffInformation(id: string): ILineChange[] {\n        const editor = this.getEditor(id);\n        return editor?.diffInformation || [];\n    }\n}\n\nclass EditorAndDocumentStateComputer implements Disposable {\n    private currentState: EditorAndDocumentState | undefined;\n    private readonly editors = new Map<string, DisposableCollection>();\n    private readonly toDispose = new DisposableCollection(\n        Disposable.create(() => this.currentState = undefined)\n    );\n\n    constructor(\n        private callback: (delta: EditorAndDocumentStateDelta) => void,\n        private readonly editorService: EditorManager,\n        private readonly cellEditorService: NotebookCellEditorService,\n        private readonly notebookWidgetService: NotebookEditorWidgetService,\n        private readonly modelService: EditorModelService,\n        private readonly tabsMain: TabsMainImpl\n    ) { }\n\n    listen(): void {\n        if (this.toDispose.disposed) {\n            return;\n        }\n        this.toDispose.push(this.editorService.onCreated(async widget => {\n            await this.tabsMain.waitForWidget(widget);\n            this.onTextEditorAdd(widget);\n            this.update();\n        }));\n        this.toDispose.push(this.editorService.onCurrentEditorChanged(async widget => {\n            if (widget) {\n                await this.tabsMain.waitForWidget(widget);\n            }\n            this.update();\n        }));\n        this.toDispose.push(this.modelService.onModelAdded(this.onModelAdded, this));\n        this.toDispose.push(this.modelService.onModelRemoved(() => this.update()));\n\n        this.toDispose.push(this.cellEditorService.onDidChangeCellEditors(() => this.update()));\n\n        this.toDispose.push(this.notebookWidgetService.onDidChangeCurrentEditor(() => {\n            this.currentState = this.currentState && new EditorAndDocumentState(\n                this.currentState.documents,\n                this.currentState.editors,\n                undefined\n            );\n        }));\n\n        for (const widget of this.editorService.all) {\n            this.onTextEditorAdd(widget);\n        }\n        this.update();\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    private onModelAdded(model: MonacoEditorModel): void {\n        if (!this.currentState) {\n            this.update();\n            return;\n        }\n        this.currentState = new EditorAndDocumentState(\n            this.currentState.documents.add(model),\n            this.currentState.editors,\n            this.currentState.activeEditor);\n\n        this.callback(new EditorAndDocumentStateDelta(\n            [],\n            [model],\n            [],\n            [],\n            undefined,\n            undefined\n        ));\n    }\n\n    private onTextEditorAdd(widget: EditorWidget): void {\n        if (widget.isDisposed) {\n            return;\n        }\n        const editor = MonacoEditor.get(widget);\n        if (!editor) {\n            return;\n        }\n        const id = editor.getControl().getId();\n        const toDispose = new DisposableCollection(\n            editor.onDispose(() => this.onTextEditorRemove(editor)),\n            Disposable.create(() => this.editors.delete(id))\n        );\n        this.editors.set(id, toDispose);\n        this.toDispose.push(toDispose);\n    }\n\n    private onTextEditorRemove(e: MonacoEditor): void {\n        const toDispose = this.editors.get(e.getControl().getId());\n        if (toDispose) {\n            toDispose.dispose();\n            this.update();\n        }\n    }\n\n    private update(): void {\n        const models = new Set<MonacoEditorModel>();\n        for (const model of this.modelService.getModels()) {\n            models.add(model);\n        }\n\n        let activeId: string | null = null;\n        const activeEditor = MonacoEditor.getCurrent(this.editorService) ?? this.cellEditorService.getActiveCell();\n\n        const editors = new Map<string, EditorSnapshot>();\n        for (const widget of this.editorService.all) {\n            const editor = MonacoEditor.get(widget);\n            // VS Code tracks only visible widgets\n            if (!editor || !widget.isVisible) {\n                continue;\n            }\n            const model = editor.getControl().getModel();\n            if (model && !model.isDisposed()) {\n                const editorSnapshot = new EditorSnapshot(editor);\n                editors.set(editorSnapshot.id, editorSnapshot);\n                if (activeEditor === editor) {\n                    activeId = editorSnapshot.id;\n                }\n            }\n        }\n\n        for (const editor of this.cellEditorService.allCellEditors) {\n            if (editor.getControl()?.getModel()) {\n                const editorSnapshot = new EditorSnapshot(editor);\n                editors.set(editorSnapshot.id, editorSnapshot);\n                if (activeEditor === editor) {\n                    activeId = editorSnapshot.id;\n                }\n            }\n        };\n\n        const newState = new EditorAndDocumentState(models, editors, activeId);\n        const delta = EditorAndDocumentState.compute(this.currentState, newState);\n        if (!delta.isEmpty) {\n            this.currentState = newState;\n            this.callback(delta);\n        }\n    }\n\n}\n\nclass EditorAndDocumentStateDelta {\n    readonly isEmpty: boolean;\n\n    constructor(\n        readonly removedDocuments: MonacoEditorModel[],\n        readonly addedDocuments: MonacoEditorModel[],\n        readonly removedEditors: EditorSnapshot[],\n        readonly addedEditors: EditorSnapshot[],\n        readonly oldActiveEditor: string | null | undefined,\n        readonly newActiveEditor: string | null | undefined\n    ) {\n        this.isEmpty = this.removedDocuments.length === 0\n            && this.addedDocuments.length === 0\n            && this.addedEditors.length === 0\n            && this.removedEditors.length === 0\n            && this.newActiveEditor === this.oldActiveEditor;\n    }\n}\n\nclass EditorAndDocumentState {\n\n    constructor(\n        readonly documents: Set<MonacoEditorModel>,\n        readonly editors: Map<string, EditorSnapshot>,\n        readonly activeEditor: string | null | undefined) {\n    }\n\n    static compute(before: EditorAndDocumentState | undefined, after: EditorAndDocumentState): EditorAndDocumentStateDelta {\n        if (!before) {\n            return new EditorAndDocumentStateDelta(\n                [],\n                Array.from(after.documents),\n                [],\n                Array.from(after.editors.values()),\n                undefined,\n                after.activeEditor\n            );\n        }\n\n        const documentDelta = Delta.ofSets(before.documents, after.documents);\n        const editorDelta = Delta.ofMaps(before.editors, after.editors);\n        const oldActiveEditor = before.activeEditor !== after.activeEditor ? before.activeEditor : undefined;\n        const newActiveEditor = before.activeEditor !== after.activeEditor ? after.activeEditor : undefined;\n        return new EditorAndDocumentStateDelta(\n            documentDelta.removed,\n            documentDelta.added,\n            editorDelta.removed,\n            editorDelta.added,\n            oldActiveEditor,\n            newActiveEditor\n        );\n    }\n}\n\nclass EditorSnapshot {\n    readonly id: string;\n    constructor(readonly editor: MonacoEditor | SimpleMonacoEditor) {\n        this.id = `${editor.getControl().getId()},${editor.getControl().getModel()!.id}`;\n    }\n}\n\nnamespace Delta {\n\n    export function ofSets<T>(before: Set<T>, after: Set<T>): { removed: T[], added: T[] } {\n        const removed: T[] = [];\n        const added: T[] = [];\n        before.forEach(element => {\n            if (!after.has(element)) {\n                removed.push(element);\n            }\n        });\n        after.forEach(element => {\n            if (!before.has(element)) {\n                added.push(element);\n            }\n        });\n        return { removed, added };\n    }\n\n    export function ofMaps<K, V>(before: Map<K, V>, after: Map<K, V>): { removed: V[], added: V[] } {\n        const removed: V[] = [];\n        const added: V[] = [];\n        before.forEach((value, index) => {\n            if (!after.has(index)) {\n                removed.push(value);\n            }\n        });\n        after.forEach((value, index) => {\n            if (!before.has(index)) {\n                added.push(value);\n            }\n        });\n        return { removed, added };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { QueryParameters } from '../../common/env';\nexport { EnvMainImpl } from '../common/env-main';\n\n/**\n * Returns query parameters from current page.\n */\nexport function getQueryParameters(): QueryParameters {\n    const queryParameters: QueryParameters = {};\n    if (window.location.search !== '') {\n        const queryParametersString = window.location.search.substring(1); // remove question mark\n        const params = queryParametersString.split('&');\n        for (const pair of params) {\n            if (pair === '') {\n                continue;\n            }\n\n            const keyValue = pair.split('=');\n            let key: string = keyValue[0];\n            let value: string = keyValue[1] ? keyValue[1] : '';\n            try {\n                key = decodeURIComponent(key);\n                if (value !== '') {\n                    value = decodeURIComponent(value);\n                }\n            } catch (error) {\n                // skip malformed URI sequence\n                continue;\n            }\n\n            const existedValue = queryParameters[key];\n            if (existedValue) {\n                if (existedValue instanceof Array) {\n                    existedValue.push(value);\n                } else {\n                    // existed value is string\n                    queryParameters[key] = [existedValue, value];\n                }\n            } else {\n                queryParameters[key] = value;\n            }\n        }\n    }\n    return queryParameters;\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/api/browser/mainThreadFileSystem.ts\n\n/* eslint-disable max-len */\n/* eslint-disable @typescript-eslint/tslint/config */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport CoreURI from '@theia/core/lib/common/uri';\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport { MAIN_RPC_CONTEXT, FileSystemMain, FileSystemExt, IFileChangeDto } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { UriComponents } from '../../common/uri-components';\nimport {\n    FileSystemProviderCapabilities, Stat, FileType, FileSystemProviderErrorCode, FileOverwriteOptions, FileDeleteOptions, FileOpenOptions, FileWriteOptions, WatchOptions,\n    FileSystemProviderWithFileReadWriteCapability, FileSystemProviderWithOpenReadWriteCloseCapability, FileSystemProviderWithFileFolderCopyCapability,\n    FileStat, FileChange, FileOperationError, FileOperationResult, ReadOnlyMessageFileSystemProvider\n} from '@theia/filesystem/lib/common/files';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { MarkdownString } from '../../common/plugin-api-rpc-model';\n\ntype IDisposable = Disposable;\n\nexport class FileSystemMainImpl implements FileSystemMain, Disposable {\n\n    private readonly _proxy: FileSystemExt;\n    private readonly _fileProvider = new Map<number, RemoteFileSystemProvider>();\n    private readonly _fileService: FileService;\n    private readonly _disposables = new DisposableCollection();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this._proxy = rpc.getProxy(MAIN_RPC_CONTEXT.FILE_SYSTEM_EXT);\n        this._fileService = container.get(FileService);\n\n        for (const { scheme, capabilities } of this._fileService.listCapabilities()) {\n            this._proxy.$acceptProviderInfos(scheme, capabilities);\n        }\n\n        this._disposables.push(this._fileService.onDidChangeFileSystemProviderRegistrations(e => this._proxy.$acceptProviderInfos(e.scheme, e.provider?.capabilities)));\n        this._disposables.push(this._fileService.onDidChangeFileSystemProviderCapabilities(e => this._proxy.$acceptProviderInfos(e.scheme, e.provider.capabilities)));\n        this._disposables.push(Disposable.create(() => this._fileProvider.forEach(value => value.dispose())));\n        this._disposables.push(Disposable.create(() => this._fileProvider.clear()));\n    }\n\n    dispose(): void {\n        this._disposables.dispose();\n    }\n\n    $registerFileSystemProvider(handle: number, scheme: string, capabilities: FileSystemProviderCapabilities, readonlyMessage?: MarkdownString): void {\n        this._fileProvider.set(handle, new RemoteFileSystemProvider(this._fileService, scheme, capabilities, handle, this._proxy, readonlyMessage));\n    }\n\n    $unregisterProvider(handle: number): void {\n        const provider = this._fileProvider.get(handle);\n        if (provider) {\n            provider.dispose();\n            this._fileProvider.delete(handle);\n        }\n    }\n\n    $onFileSystemChange(handle: number, changes: IFileChangeDto[]): void {\n        const fileProvider = this._fileProvider.get(handle);\n        if (!fileProvider) {\n            throw new Error('Unknown file provider');\n        }\n        fileProvider.$onFileSystemChange(changes);\n    }\n\n    // --- consumer fs, vscode.workspace.fs\n\n    $stat(uri: UriComponents): Promise<Stat> {\n        return this._fileService.resolve(new CoreURI(URI.revive(uri)), { resolveMetadata: true }).then(stat => ({\n            ctime: stat.ctime,\n            mtime: stat.mtime,\n            size: stat.size,\n            type: FileStat.asFileType(stat)\n        })).catch(FileSystemMainImpl._handleError);\n    }\n\n    $readdir(uri: UriComponents): Promise<[string, FileType][]> {\n        return this._fileService.resolve(new CoreURI(URI.revive(uri)), { resolveMetadata: false }).then(stat => {\n            if (!stat.isDirectory) {\n                const err = new Error(stat.name);\n                err.name = FileSystemProviderErrorCode.FileNotADirectory;\n                throw err;\n            }\n            return !stat.children ? [] : stat.children.map(child => [child.name, FileStat.asFileType(child)] as [string, FileType]);\n        }).catch(FileSystemMainImpl._handleError);\n    }\n\n    $readFile(uri: UriComponents): Promise<BinaryBuffer> {\n        return this._fileService.readFile(new CoreURI(URI.revive(uri))).then(file => file.value).catch(FileSystemMainImpl._handleError);\n    }\n\n    $writeFile(uri: UriComponents, content: BinaryBuffer): Promise<void> {\n        return this._fileService.writeFile(new CoreURI(URI.revive(uri)), content)\n            .then(() => undefined).catch(FileSystemMainImpl._handleError);\n    }\n\n    $rename(source: UriComponents, target: UriComponents, opts: FileOverwriteOptions): Promise<void> {\n        return this._fileService.move(new CoreURI(URI.revive(source)), new CoreURI(URI.revive(target)), {\n            ...opts,\n            fromUserGesture: false\n        }).then(() => undefined).catch(FileSystemMainImpl._handleError);\n    }\n\n    $copy(source: UriComponents, target: UriComponents, opts: FileOverwriteOptions): Promise<void> {\n        return this._fileService.copy(new CoreURI(URI.revive(source)), new CoreURI(URI.revive(target)), {\n            ...opts,\n            fromUserGesture: false\n        }).then(() => undefined).catch(FileSystemMainImpl._handleError);\n    }\n\n    $mkdir(uri: UriComponents): Promise<void> {\n        return this._fileService.createFolder(new CoreURI(URI.revive(uri)), { fromUserGesture: false })\n            .then(() => undefined).catch(FileSystemMainImpl._handleError);\n    }\n\n    $delete(uri: UriComponents, opts: FileDeleteOptions): Promise<void> {\n        return this._fileService.delete(new CoreURI(URI.revive(uri)), opts).catch(FileSystemMainImpl._handleError);\n    }\n\n    private static _handleError(err: any): never {\n        if (err instanceof FileOperationError) {\n            switch (err.fileOperationResult) {\n                case FileOperationResult.FILE_NOT_FOUND:\n                    err.name = FileSystemProviderErrorCode.FileNotFound;\n                    break;\n                case FileOperationResult.FILE_IS_DIRECTORY:\n                    err.name = FileSystemProviderErrorCode.FileIsADirectory;\n                    break;\n                case FileOperationResult.FILE_PERMISSION_DENIED:\n                    err.name = FileSystemProviderErrorCode.NoPermissions;\n                    break;\n                case FileOperationResult.FILE_MOVE_CONFLICT:\n                    err.name = FileSystemProviderErrorCode.FileExists;\n                    break;\n            }\n        }\n\n        throw err;\n    }\n\n}\n\nclass RemoteFileSystemProvider implements FileSystemProviderWithFileReadWriteCapability, FileSystemProviderWithOpenReadWriteCloseCapability, FileSystemProviderWithFileFolderCopyCapability, ReadOnlyMessageFileSystemProvider {\n\n    private readonly _onDidChange = new Emitter<readonly FileChange[]>();\n    private readonly _registration: IDisposable;\n\n    readonly onDidChangeFile: Event<readonly FileChange[]> = this._onDidChange.event;\n    readonly onFileWatchError: Event<void> = new Emitter<void>().event;  // dummy, never fired\n\n    readonly capabilities: FileSystemProviderCapabilities;\n    readonly onDidChangeCapabilities: Event<void> = Event.None;\n\n    readonly onDidChangeReadOnlyMessage: Event<MarkdownString | undefined> = Event.None;\n\n    constructor(\n        fileService: FileService,\n        scheme: string,\n        capabilities: FileSystemProviderCapabilities,\n        private readonly _handle: number,\n        private readonly _proxy: FileSystemExt,\n        public readonly readOnlyMessage: MarkdownString | undefined = undefined\n    ) {\n        this.capabilities = capabilities;\n        this._registration = fileService.registerProvider(scheme, this);\n    }\n\n    dispose(): void {\n        this._registration.dispose();\n        this._onDidChange.dispose();\n    }\n\n    watch(resource: CoreURI, opts: WatchOptions) {\n        const session = Math.random();\n        this._proxy.$watch(this._handle, session, resource['codeUri'], opts);\n        return Disposable.create(() => {\n            this._proxy.$unwatch(this._handle, session);\n        });\n    }\n\n    $onFileSystemChange(changes: IFileChangeDto[]): void {\n        this._onDidChange.fire(changes.map(RemoteFileSystemProvider._createFileChange));\n    }\n\n    private static _createFileChange(dto: IFileChangeDto): FileChange {\n        return { resource: new CoreURI(URI.revive(dto.resource)), type: dto.type };\n    }\n\n    // --- forwarding calls\n\n    stat(resource: CoreURI): Promise<Stat> {\n        return this._proxy.$stat(this._handle, resource['codeUri']).then(undefined, err => {\n            throw err;\n        });\n    }\n\n    readFile(resource: CoreURI): Promise<Uint8Array> {\n        return this._proxy.$readFile(this._handle, resource['codeUri']).then(buffer => buffer.buffer);\n    }\n\n    writeFile(resource: CoreURI, content: Uint8Array, opts: FileWriteOptions): Promise<void> {\n        return this._proxy.$writeFile(this._handle, resource['codeUri'], BinaryBuffer.wrap(content), opts);\n    }\n\n    delete(resource: CoreURI, opts: FileDeleteOptions): Promise<void> {\n        return this._proxy.$delete(this._handle, resource['codeUri'], opts);\n    }\n\n    mkdir(resource: CoreURI): Promise<void> {\n        return this._proxy.$mkdir(this._handle, resource['codeUri']);\n    }\n\n    readdir(resource: CoreURI): Promise<[string, FileType][]> {\n        return this._proxy.$readdir(this._handle, resource['codeUri']);\n    }\n\n    rename(resource: CoreURI, target: CoreURI, opts: FileOverwriteOptions): Promise<void> {\n        return this._proxy.$rename(this._handle, resource['codeUri'], target['codeUri'], opts);\n    }\n\n    copy(resource: CoreURI, target: CoreURI, opts: FileOverwriteOptions): Promise<void> {\n        return this._proxy.$copy(this._handle, resource['codeUri'], target['codeUri'], opts);\n    }\n\n    open(resource: CoreURI, opts: FileOpenOptions): Promise<number> {\n        return this._proxy.$open(this._handle, resource['codeUri'], opts);\n    }\n\n    close(fd: number): Promise<void> {\n        return this._proxy.$close(this._handle, fd);\n    }\n\n    read(fd: number, pos: number, data: Uint8Array, offset: number, length: number): Promise<number> {\n        return this._proxy.$read(this._handle, fd, pos, length).then(readData => {\n            data.set(readData.buffer, offset);\n            return readData.byteLength;\n        });\n    }\n\n    write(fd: number, pos: number, data: Uint8Array, offset: number, length: number): Promise<number> {\n        return this._proxy.$write(this._handle, fd, pos, BinaryBuffer.wrap(data).slice(offset, offset + length));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { PluginContribution, Keybinding as PluginKeybinding } from '../../../common';\nimport { Keybinding } from '@theia/core/lib/common/keybinding';\nimport { KeybindingRegistry } from '@theia/core/lib/browser/keybinding';\nimport { OS } from '@theia/core/lib/common/os';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { DisposableCollection } from '@theia/core';\n\n@injectable()\nexport class KeybindingsContributionPointHandler {\n\n    @inject(KeybindingRegistry)\n    private readonly keybindingRegistry: KeybindingRegistry;\n\n    handle(contributions: PluginContribution): Disposable {\n        if (!contributions || !contributions.keybindings) {\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection();\n        for (const raw of contributions.keybindings) {\n            const keybinding = this.toKeybinding(raw);\n            if (keybinding) {\n                toDispose.push(this.keybindingRegistry.registerKeybinding(keybinding));\n            }\n        }\n        return toDispose;\n    }\n\n    protected toKeybinding(pluginKeybinding: PluginKeybinding): Keybinding | undefined {\n        const keybinding = this.toOSKeybinding(pluginKeybinding);\n        if (!keybinding) {\n            return undefined;\n        }\n        const { command, when, args } = pluginKeybinding;\n        return { keybinding, command, when, args };\n    }\n\n    protected toOSKeybinding(pluginKeybinding: PluginKeybinding): string | undefined {\n        let keybinding: string | undefined;\n        const os = OS.type();\n        if (os === OS.Type.Windows) {\n            keybinding = pluginKeybinding.win;\n        } else if (os === OS.Type.OSX) {\n            keybinding = pluginKeybinding.mac;\n        } else {\n            keybinding = pluginKeybinding.linux;\n        }\n        return keybinding || pluginKeybinding.keybinding;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { LabelServiceMain } from '../../common/plugin-api-rpc';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { DefaultUriLabelProviderContribution, LabelProviderContribution } from '@theia/core/lib/browser';\nimport { ContributionProvider } from '@theia/core/lib/common';\nimport { ResourceLabelFormatter } from '@theia/core/lib/common/label-protocol';\n\nexport class LabelServiceMainImpl implements LabelServiceMain {\n    private readonly resourceLabelFormatters = new Map<number, Disposable>();\n    private readonly contributionProvider: ContributionProvider<LabelProviderContribution>;\n\n    constructor(container: interfaces.Container) {\n        this.contributionProvider = container.getNamed(ContributionProvider, LabelProviderContribution);\n    }\n\n    $registerResourceLabelFormatter(handle: number, formatter: ResourceLabelFormatter): void {\n        // Dynamically registered formatters should have priority over those contributed via package.json\n        formatter.priority = true;\n        const disposables: DisposableCollection = new DisposableCollection();\n        for (const contribution of this.contributionProvider.getContributions()) {\n            if (contribution instanceof DefaultUriLabelProviderContribution) {\n                disposables.push(contribution.registerFormatter(formatter));\n            }\n        }\n        this.resourceLabelFormatters.set(handle, disposables);\n    }\n\n    $unregisterResourceLabelFormatter(handle: number): void {\n        const toDispose = this.resourceLabelFormatters.get(handle);\n        if (toDispose) {\n            toDispose.dispose();\n        }\n        this.resourceLabelFormatters.delete(handle);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// Method `$changeLanguage` copied and modified\n// from https://github.com/microsoft/vscode/blob/e9c50663154c369a06355ce752b447af5b580dc3/src/vs/workbench/api/browser/mainThreadLanguages.ts#L30-L42\n\nimport {\n    LanguagesMain,\n    SerializedLanguageConfiguration,\n    SerializedRegExp,\n    SerializedIndentationRule,\n    SerializedOnEnterRule,\n    MAIN_RPC_CONTEXT,\n    LanguagesExt,\n    WorkspaceEditDto,\n    WorkspaceTextEditDto,\n    WorkspaceFileEditDto,\n    PluginInfo,\n    LanguageStatus as LanguageStatusDTO,\n    InlayHintDto,\n    IdentifiableInlineCompletions\n} from '../../common/plugin-api-rpc';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport {\n    SerializedDocumentFilter, MarkerData, Range, RelatedInformation,\n    MarkerSeverity, DocumentLink, WorkspaceSymbolParams, CodeAction, CompletionDto,\n    CodeActionProviderDocumentation, InlayHint, InlayHintLabelPart, CodeActionContext, DocumentDropEditProviderMetadata, SignatureHelpContext\n} from '../../common/plugin-api-rpc-model';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { MonacoLanguages, WorkspaceSymbolProvider } from '@theia/monaco/lib/browser/monaco-languages';\nimport { URI } from '@theia/core/lib/common/uri';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { ProblemManager } from '@theia/markers/lib/browser';\nimport * as vst from '@theia/core/shared/vscode-languageserver-protocol';\nimport * as theia from '@theia/plugin';\nimport { UriComponents } from '../../common/uri-components';\nimport { CancellationToken } from '@theia/core/lib/common';\nimport { CallHierarchyService, CallHierarchyServiceProvider, CallHierarchyItem } from '@theia/callhierarchy/lib/browser';\nimport { toItemHierarchyDefinition, toUriComponents, fromItemHierarchyDefinition, fromPosition, toCaller, toCallee } from './hierarchy/hierarchy-types-converters';\nimport { TypeHierarchyService, TypeHierarchyServiceProvider } from '@theia/typehierarchy/lib/browser';\nimport { Position, DocumentUri, DiagnosticTag } from '@theia/core/shared/vscode-languageserver-protocol';\nimport { ObjectIdentifier } from '../../common/object-identifier';\nimport { mixin } from '../../common/types';\nimport { relative } from '../../common/paths-util';\nimport { decodeSemanticTokensDto } from '../../common/semantic-tokens-dto';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { ExtensionIdentifier } from '@theia/monaco-editor-core/esm/vs/platform/extensions/common/extensions';\nimport { StandaloneServices } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneServices';\nimport { IMarkerService } from '@theia/monaco-editor-core/esm/vs/platform/markers/common/markers';\nimport * as MonacoLanguageSelector from '@theia/monaco-editor-core/esm/vs/editor/common/languageSelector';\nimport * as MonacoPath from '@theia/monaco-editor-core/esm/vs/base/common/path';\nimport { IRelativePattern } from '@theia/monaco-editor-core/esm/vs/base/common/glob';\nimport { EditorLanguageStatusService, LanguageStatus as EditorLanguageStatus } from '@theia/editor/lib/browser/language-status/editor-language-status-service';\nimport { LanguageSelector, RelativePattern } from '@theia/editor/lib/common/language-selector';\nimport { ILanguageFeaturesService } from '@theia/monaco-editor-core/esm/vs/editor/common/services/languageFeatures';\nimport {\n    DocumentDropEditProvider,\n    DocumentDropEditsSession,\n    EvaluatableExpression,\n    EvaluatableExpressionProvider,\n    InlineValue,\n    InlineValueContext,\n    InlineValuesProvider\n} from '@theia/monaco-editor-core/esm/vs/editor/common/languages';\nimport { ITextModel } from '@theia/monaco-editor-core/esm/vs/editor/common/model';\nimport { CodeActionTriggerKind } from '../../plugin/types-impl';\nimport { IReadonlyVSDataTransfer } from '@theia/monaco-editor-core/esm/vs/base/common/dataTransfer';\nimport { FileUploadService } from '@theia/filesystem/lib/common/upload/file-upload';\n\n/**\n * @monaco-uplift The public API declares these functions as (languageId: string, service).\n * Confirm that the functions delegate to a handler that accepts a LanguageSelector rather than just a string.\n * Relevant code in node_modules/@theia/monaco-editor-core/src/vs/editor/standalone/browser/standaloneLanguages.ts\n */\ninterface RegistrationFunction<T> {\n    (languageId: MonacoLanguageSelector.LanguageSelector, service: T): Disposable;\n}\n\n@injectable()\nexport class LanguagesMainImpl implements LanguagesMain, Disposable {\n\n    @inject(MonacoLanguages)\n    private readonly monacoLanguages: MonacoLanguages;\n\n    @inject(ProblemManager)\n    private readonly problemManager: ProblemManager;\n\n    @inject(CallHierarchyServiceProvider)\n    private readonly callHierarchyServiceContributionRegistry: CallHierarchyServiceProvider;\n\n    @inject(TypeHierarchyServiceProvider)\n    private readonly typeHierarchyServiceContributionRegistry: TypeHierarchyServiceProvider;\n\n    @inject(EditorLanguageStatusService)\n    protected readonly languageStatusService: EditorLanguageStatusService;\n\n    @inject(FileUploadService)\n    protected readonly fileUploadService: FileUploadService;\n\n    private readonly proxy: LanguagesExt;\n    private readonly services = new Map<number, Disposable>();\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(@inject(RPCProtocol) rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.LANGUAGES_EXT);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    $getLanguages(): Promise<string[]> {\n        return Promise.resolve(monaco.languages.getLanguages().map(l => l.id));\n    }\n\n    $changeLanguage(resource: UriComponents, languageId: string): Promise<void> {\n        const uri = monaco.Uri.revive(resource);\n        const model = monaco.editor.getModel(uri);\n        if (!model) {\n            return Promise.reject(new Error('Invalid uri'));\n        }\n        const langId = monaco.languages.getEncodedLanguageId(languageId);\n        if (!langId) {\n            return Promise.reject(new Error(`Unknown language ID: ${languageId}`));\n        }\n        monaco.editor.setModelLanguage(model, languageId);\n        return Promise.resolve(undefined);\n    }\n\n    protected register(handle: number, service: Disposable): void {\n        this.services.set(handle, service);\n        this.toDispose.push(Disposable.create(() => this.$unregister(handle)));\n    }\n\n    $unregister(handle: number): void {\n        const disposable = this.services.get(handle);\n        if (disposable) {\n            this.services.delete(handle);\n            disposable.dispose();\n        }\n    }\n\n    $setLanguageConfiguration(handle: number, languageId: string, configuration: SerializedLanguageConfiguration): void {\n        const config: monaco.languages.LanguageConfiguration = {\n            comments: configuration.comments,\n            brackets: configuration.brackets,\n            wordPattern: reviveRegExp(configuration.wordPattern),\n            indentationRules: reviveIndentationRule(configuration.indentationRules),\n            onEnterRules: reviveOnEnterRules(configuration.onEnterRules),\n            autoClosingPairs: configuration.autoClosingPairs\n        };\n\n        this.register(handle, monaco.languages.setLanguageConfiguration(languageId, config));\n    }\n\n    $registerCompletionSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], triggerCharacters: string[], supportsResolveDetails: boolean): void {\n        this.register(handle,\n            (monaco.languages.registerCompletionItemProvider as RegistrationFunction<monaco.languages.CompletionItemProvider>)(this.toLanguageSelector(selector), {\n                triggerCharacters,\n                provideCompletionItems: (model, position, context, token) => this.provideCompletionItems(handle, model, position, context, token),\n                resolveCompletionItem: supportsResolveDetails\n                    ? (suggestion, token) => Promise.resolve(this.resolveCompletionItem(handle, suggestion, token))\n                    : undefined\n            }));\n    }\n\n    protected provideCompletionItems(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        context: monaco.languages.CompletionContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.CompletionList> {\n        return this.proxy.$provideCompletionItems(handle, model.uri, position, context, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n            return {\n                suggestions: result.completions.map(c => Object.assign(c, {\n                    range: c.range || result.defaultRange\n                })),\n                incomplete: result.incomplete,\n                dispose: () => this.proxy.$releaseCompletionItems(handle, result.id)\n            };\n        });\n    }\n\n    protected resolveCompletionItem(handle: number,\n        item: monaco.languages.CompletionItem, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.CompletionItem> {\n        const { parentId, id } = item as CompletionDto;\n        return this.proxy.$resolveCompletionItem(handle, [parentId, id], token).then(resolved => {\n            if (resolved) {\n                mixin(item, resolved, true);\n            }\n            return item;\n        });\n    }\n\n    $registerDefinitionProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const definitionProvider = this.createDefinitionProvider(handle);\n        this.register(handle, (monaco.languages.registerDefinitionProvider as RegistrationFunction<monaco.languages.DefinitionProvider>)(languageSelector, definitionProvider));\n    }\n\n    $registerDeclarationProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const declarationProvider = this.createDeclarationProvider(handle);\n        this.register(handle, (monaco.languages.registerDeclarationProvider as RegistrationFunction<monaco.languages.DeclarationProvider>)(languageSelector, declarationProvider));\n    }\n\n    $registerReferenceProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const referenceProvider = this.createReferenceProvider(handle);\n        this.register(handle, (monaco.languages.registerReferenceProvider as RegistrationFunction<monaco.languages.ReferenceProvider>)(languageSelector, referenceProvider));\n    }\n\n    protected createReferenceProvider(handle: number): monaco.languages.ReferenceProvider {\n        return {\n            provideReferences: (model, position, context, token) => this.provideReferences(handle, model, position, context, token)\n        };\n    }\n\n    protected provideReferences(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        context: monaco.languages.ReferenceContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Location[]> {\n        return this.proxy.$provideReferences(handle, model.uri, position, context, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                const references: monaco.languages.Location[] = [];\n                for (const item of result) {\n                    references.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return references;\n            }\n\n            return undefined;\n        });\n    }\n\n    $registerSignatureHelpProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], metadata: theia.SignatureHelpProviderMetadata): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const signatureHelpProvider = this.createSignatureHelpProvider(handle, metadata);\n        this.register(handle, (monaco.languages.registerSignatureHelpProvider as RegistrationFunction<monaco.languages.SignatureHelpProvider>)\n            (languageSelector, signatureHelpProvider));\n    }\n\n    $clearDiagnostics(id: string): void {\n        for (const uri of this.problemManager.getUris()) {\n            this.problemManager.setMarkers(new URI(uri), id, []);\n        }\n    }\n\n    $changeDiagnostics(id: string, delta: [string, MarkerData[]][]): void {\n        for (const [uriString, markers] of delta) {\n            const uri = new URI(uriString);\n            this.problemManager.setMarkers(uri, id, markers.map(reviveMarker));\n        }\n    }\n\n    $registerImplementationProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const implementationProvider = this.createImplementationProvider(handle);\n        this.register(handle, (monaco.languages.registerImplementationProvider as RegistrationFunction<monaco.languages.ImplementationProvider>)\n            (languageSelector, implementationProvider));\n    }\n\n    protected createImplementationProvider(handle: number): monaco.languages.ImplementationProvider {\n        return {\n            provideImplementation: (model, position, token) => this.provideImplementation(handle, model, position, token)\n        };\n    }\n\n    protected provideImplementation(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.proxy.$provideImplementation(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                // using DefinitionLink because Location is mandatory part of DefinitionLink\n                const definitionLinks: monaco.languages.LocationLink[] = [];\n                for (const item of result) {\n                    definitionLinks.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return definitionLinks;\n            } else {\n                // single Location\n                return <monaco.languages.Location>{\n                    uri: monaco.Uri.revive(result.uri),\n                    range: result.range\n                };\n            }\n        });\n    }\n\n    $registerTypeDefinitionProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const typeDefinitionProvider = this.createTypeDefinitionProvider(handle);\n        this.register(handle, (monaco.languages.registerTypeDefinitionProvider as RegistrationFunction<monaco.languages.TypeDefinitionProvider>)\n            (languageSelector, typeDefinitionProvider));\n    }\n\n    protected createTypeDefinitionProvider(handle: number): monaco.languages.TypeDefinitionProvider {\n        return {\n            provideTypeDefinition: (model, position, token) => this.provideTypeDefinition(handle, model, position, token)\n        };\n    }\n\n    protected provideTypeDefinition(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.proxy.$provideTypeDefinition(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                // using DefinitionLink because Location is mandatory part of DefinitionLink\n                const definitionLinks: monaco.languages.LocationLink[] = [];\n                for (const item of result) {\n                    definitionLinks.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return definitionLinks;\n            } else {\n                // single Location\n                return <monaco.languages.Location>{\n                    uri: monaco.Uri.revive(result.uri),\n                    range: result.range\n                };\n            }\n        });\n    }\n\n    $registerHoverProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const hoverProvider = this.createHoverProvider(handle);\n        this.register(handle, (monaco.languages.registerHoverProvider as RegistrationFunction<monaco.languages.HoverProvider>)(languageSelector, hoverProvider));\n    }\n\n    protected createHoverProvider(handle: number): monaco.languages.HoverProvider {\n        return {\n            provideHover: (model, position, token) => this.provideHover(handle, model, position, token)\n        };\n    }\n\n    protected provideHover(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Hover> {\n        return this.proxy.$provideHover(handle, model.uri, position, token);\n    }\n\n    $registerEvaluatableExpressionProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const evaluatableExpressionProvider = this.createEvaluatableExpressionProvider(handle);\n        this.register(handle,\n            (StandaloneServices.get(ILanguageFeaturesService).evaluatableExpressionProvider.register as RegistrationFunction<EvaluatableExpressionProvider>)\n                (languageSelector, evaluatableExpressionProvider));\n    }\n\n    protected createEvaluatableExpressionProvider(handle: number): EvaluatableExpressionProvider {\n        return {\n            provideEvaluatableExpression: (model, position, token) => this.provideEvaluatableExpression(handle, model, position, token)\n        };\n    }\n\n    protected provideEvaluatableExpression(handle: number, model: ITextModel, position: monaco.Position,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<EvaluatableExpression | undefined> {\n        return this.proxy.$provideEvaluatableExpression(handle, model.uri, position, token);\n    }\n\n    $registerInlineValuesProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const inlineValuesProvider = this.createInlineValuesProvider(handle);\n        this.register(handle,\n            (StandaloneServices.get(ILanguageFeaturesService).inlineValuesProvider.register as RegistrationFunction<InlineValuesProvider>)\n                (languageSelector, inlineValuesProvider));\n    }\n\n    protected createInlineValuesProvider(handle: number): InlineValuesProvider {\n        return {\n            provideInlineValues: (model, range, context, token) => this.provideInlineValues(handle, model, range, context, token)\n        };\n    }\n\n    protected provideInlineValues(handle: number, model: ITextModel, range: Range,\n        context: InlineValueContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<InlineValue[] | undefined> {\n        return this.proxy.$provideInlineValues(handle, model.uri, range, context, token);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    $emitInlineValuesEvent(eventHandle: number, event?: any): void {\n        const obj = this.services.get(eventHandle);\n        if (obj instanceof Emitter) {\n            obj.fire(event);\n        }\n    }\n\n    $registerDocumentHighlightProvider(handle: number, _pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const documentHighlightProvider = this.createDocumentHighlightProvider(handle);\n        this.register(handle, (monaco.languages.registerDocumentHighlightProvider as RegistrationFunction<monaco.languages.DocumentHighlightProvider>)\n            (languageSelector, documentHighlightProvider));\n    }\n\n    protected createDocumentHighlightProvider(handle: number): monaco.languages.DocumentHighlightProvider {\n        return {\n            provideDocumentHighlights: (model, position, token) => this.provideDocumentHighlights(handle, model, position, token)\n        };\n    }\n\n    protected provideDocumentHighlights(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.DocumentHighlight[]> {\n        return this.proxy.$provideDocumentHighlights(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                const highlights: monaco.languages.DocumentHighlight[] = [];\n                for (const item of result) {\n                    highlights.push(\n                        {\n                            ...item,\n                            kind: (item.kind ? item.kind : monaco.languages.DocumentHighlightKind.Text)\n                        });\n                }\n                return highlights;\n            }\n\n            return undefined;\n        });\n    }\n\n    $registerWorkspaceSymbolProvider(handle: number, pluginInfo: PluginInfo): void {\n        const workspaceSymbolProvider = this.createWorkspaceSymbolProvider(handle);\n        this.register(handle, this.monacoLanguages.registerWorkspaceSymbolProvider(workspaceSymbolProvider));\n    }\n\n    protected createWorkspaceSymbolProvider(handle: number): WorkspaceSymbolProvider {\n        return {\n            provideWorkspaceSymbols: (params, token) => this.provideWorkspaceSymbols(handle, params, token),\n            resolveWorkspaceSymbol: (symbol, token) => this.resolveWorkspaceSymbol(handle, symbol, token)\n        };\n    }\n\n    protected provideWorkspaceSymbols(handle: number, params: WorkspaceSymbolParams, token: monaco.CancellationToken): Thenable<vst.SymbolInformation[]> {\n        return this.proxy.$provideWorkspaceSymbols(handle, params.query, token);\n    }\n\n    protected resolveWorkspaceSymbol(handle: number, symbol: vst.SymbolInformation, token: monaco.CancellationToken): Thenable<vst.SymbolInformation | undefined> {\n        return this.proxy.$resolveWorkspaceSymbol(handle, symbol, token);\n    }\n\n    $registerDocumentLinkProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const linkProvider = this.createLinkProvider(handle);\n        this.register(handle, (monaco.languages.registerLinkProvider as RegistrationFunction<monaco.languages.LinkProvider>)(languageSelector, linkProvider));\n    }\n\n    protected createLinkProvider(handle: number): monaco.languages.LinkProvider {\n        return {\n            provideLinks: async (model, token) => this.provideLinks(handle, model, token),\n            resolveLink: async (link, token) => this.resolveLink(handle, link, token)\n        };\n    }\n\n    protected async provideLinks(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): Promise<monaco.languages.ProviderResult<monaco.languages.ILinksList>> {\n        const links = await this.proxy.$provideDocumentLinks(handle, model.uri, token);\n        if (!links) {\n            return undefined;\n        }\n        return {\n            links: links.map(link => this.toMonacoLink(link)),\n            dispose: () => {\n                if (links && Array.isArray(links)) {\n                    this.proxy.$releaseDocumentLinks(handle, links.map(link => ObjectIdentifier.of(link)));\n                }\n            }\n        };\n    }\n\n    protected async resolveLink(handle: number, link: monaco.languages.ILink,\n        token: monaco.CancellationToken): Promise<monaco.languages.ProviderResult<monaco.languages.ILink>> {\n        const resolved = await this.proxy.$resolveDocumentLink(handle, link, token);\n        return resolved && this.toMonacoLink(resolved);\n    }\n\n    protected toMonacoLink(link: DocumentLink): monaco.languages.ILink {\n        return {\n            ...link,\n            url: !!link.url && typeof link.url !== 'string' ? monaco.Uri.revive(link.url) : link.url\n        };\n    }\n\n    $registerCodeLensSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], eventHandle: number): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const lensProvider = this.createCodeLensProvider(handle);\n\n        if (typeof eventHandle === 'number') {\n            const emitter = new Emitter<monaco.languages.CodeLensProvider>();\n            this.register(eventHandle, emitter);\n            lensProvider.onDidChange = emitter.event;\n        }\n\n        this.register(handle, (monaco.languages.registerCodeLensProvider as RegistrationFunction<monaco.languages.CodeLensProvider>)(languageSelector, lensProvider));\n    }\n\n    protected createCodeLensProvider(handle: number): monaco.languages.CodeLensProvider {\n        return {\n            provideCodeLenses: async (model, token) => this.provideCodeLenses(handle, model, token),\n            resolveCodeLens: (model, codeLens, token) => this.resolveCodeLens(handle, model, codeLens, token)\n        };\n    }\n\n    protected async provideCodeLenses(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): Promise<monaco.languages.ProviderResult<monaco.languages.CodeLensList>> {\n        const lenses = await this.proxy.$provideCodeLenses(handle, model.uri, token);\n        if (!lenses) {\n            return undefined;\n        }\n        return {\n            lenses,\n            dispose: () => {\n                if (lenses && Array.isArray(lenses)) {\n                    this.proxy.$releaseCodeLenses(handle, lenses.map(symbol => ObjectIdentifier.of(symbol)));\n                }\n            }\n        };\n    }\n\n    protected resolveCodeLens(handle: number, model: monaco.editor.ITextModel,\n        codeLens: monaco.languages.CodeLens, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.CodeLens> {\n        return this.proxy.$resolveCodeLens(handle, model.uri, codeLens, token);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    $emitCodeLensEvent(eventHandle: number, event?: any): void {\n        const obj = this.services.get(eventHandle);\n        if (obj instanceof Emitter) {\n            obj.fire(event);\n        }\n    }\n\n    $registerOutlineSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], displayName?: string): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const symbolProvider = this.createDocumentSymbolProvider(handle, displayName);\n        this.register(handle, (monaco.languages.registerDocumentSymbolProvider as RegistrationFunction<monaco.languages.DocumentSymbolProvider>)(languageSelector, symbolProvider));\n    }\n\n    protected createDocumentSymbolProvider(handle: number, displayName?: string): monaco.languages.DocumentSymbolProvider {\n        return {\n            displayName,\n            provideDocumentSymbols: (model, token) => this.provideDocumentSymbols(handle, model, token)\n        };\n    }\n\n    protected provideDocumentSymbols(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.DocumentSymbol[]> {\n        return this.proxy.$provideDocumentSymbols(handle, model.uri, token);\n    }\n\n    protected createDefinitionProvider(handle: number): monaco.languages.DefinitionProvider {\n        return {\n            provideDefinition: (model, position, token) => this.provideDefinition(handle, model, position, token)\n        };\n    }\n\n    protected createDeclarationProvider(handle: number): monaco.languages.DeclarationProvider {\n        return {\n            provideDeclaration: (model, position, token) => this.provideDeclaration(handle, model, position, token)\n        };\n    }\n\n    protected provideDeclaration(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.proxy.$provideDeclaration(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                // using DefinitionLink because Location is mandatory part of DefinitionLink\n                const definitionLinks: monaco.languages.LocationLink[] = [];\n                for (const item of result) {\n                    definitionLinks.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return definitionLinks;\n            } else {\n                // single Location\n                return <monaco.languages.Location>{\n                    uri: monaco.Uri.revive(result.uri),\n                    range: result.range\n                };\n            }\n        });\n    }\n\n    protected provideDefinition(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.proxy.$provideDefinition(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                // using DefinitionLink because Location is mandatory part of DefinitionLink\n                const definitionLinks: monaco.languages.LocationLink[] = [];\n                for (const item of result) {\n                    definitionLinks.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return definitionLinks;\n            } else {\n                // single Location\n                return <monaco.languages.Location>{\n                    uri: monaco.Uri.revive(result.uri),\n                    range: result.range\n                };\n            }\n        });\n    }\n\n    protected createSignatureHelpProvider(handle: number, metadata: theia.SignatureHelpProviderMetadata): monaco.languages.SignatureHelpProvider {\n        return {\n            signatureHelpTriggerCharacters: metadata.triggerCharacters,\n            signatureHelpRetriggerCharacters: metadata.retriggerCharacters,\n            provideSignatureHelp: async (model, position, token, context) => this.provideSignatureHelp(handle, model, position, token, context)\n        };\n    }\n\n    protected async provideSignatureHelp(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken,\n        context: monaco.languages.SignatureHelpContext): Promise<monaco.languages.ProviderResult<monaco.languages.SignatureHelpResult>> {\n\n        // need to cast because of vscode issue https://github.com/microsoft/vscode/issues/190584\n        const value = await this.proxy.$provideSignatureHelp(handle, model.uri, position, context as SignatureHelpContext, token);\n        if (!value) {\n            return undefined;\n        }\n        return {\n            value,\n            dispose: () => {\n                if (typeof value.id === 'number') {\n                    this.proxy.$releaseSignatureHelp(handle, value.id);\n                }\n            }\n        };\n    }\n\n    $registerDocumentFormattingSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const documentFormattingEditSupport = this.createDocumentFormattingSupport(handle, pluginInfo);\n        this.register(handle, (monaco.languages.registerDocumentFormattingEditProvider as RegistrationFunction<monaco.languages.DocumentFormattingEditProvider>)\n            (languageSelector, documentFormattingEditSupport));\n    }\n\n    createDocumentFormattingSupport(handle: number, pluginInfo: PluginInfo): monaco.languages.DocumentFormattingEditProvider {\n        const provider: monaco.languages.DocumentFormattingEditProvider & { extensionId: ExtensionIdentifier } = {\n            extensionId: new ExtensionIdentifier(pluginInfo.id),\n            displayName: pluginInfo.name,\n            provideDocumentFormattingEdits: (model, options, token) =>\n                this.provideDocumentFormattingEdits(handle, model, options, token)\n        };\n\n        return provider;\n    }\n\n    protected provideDocumentFormattingEdits(handle: number, model: monaco.editor.ITextModel,\n        options: monaco.languages.FormattingOptions, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.TextEdit[]> {\n        return this.proxy.$provideDocumentFormattingEdits(handle, model.uri, options, token);\n    }\n\n    $registerRangeFormattingSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const rangeFormattingEditProvider = this.createRangeFormattingSupport(handle, pluginInfo);\n        this.register(handle, (monaco.languages.registerDocumentRangeFormattingEditProvider as RegistrationFunction<monaco.languages.DocumentRangeFormattingEditProvider>)\n            (languageSelector, rangeFormattingEditProvider));\n    }\n\n    createRangeFormattingSupport(handle: number, pluginInfo: PluginInfo): monaco.languages.DocumentRangeFormattingEditProvider {\n        const provider: monaco.languages.DocumentRangeFormattingEditProvider & { extensionId: ExtensionIdentifier } = {\n            extensionId: new ExtensionIdentifier(pluginInfo.id),\n            displayName: pluginInfo.name,\n            provideDocumentRangeFormattingEdits: (model, range: Range, options, token) =>\n                this.provideDocumentRangeFormattingEdits(handle, model, range, options, token)\n        };\n\n        return provider;\n    }\n\n    protected provideDocumentRangeFormattingEdits(handle: number, model: monaco.editor.ITextModel,\n        range: Range, options: monaco.languages.FormattingOptions, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.TextEdit[]> {\n        return this.proxy.$provideDocumentRangeFormattingEdits(handle, model.uri, range, options, token);\n    }\n\n    $registerOnTypeFormattingProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], autoFormatTriggerCharacters: string[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const onTypeFormattingProvider = this.createOnTypeFormattingProvider(handle, autoFormatTriggerCharacters);\n        this.register(handle, (monaco.languages.registerOnTypeFormattingEditProvider as RegistrationFunction<monaco.languages.OnTypeFormattingEditProvider>)\n            (languageSelector, onTypeFormattingProvider));\n    }\n\n    protected createOnTypeFormattingProvider(\n        handle: number,\n        autoFormatTriggerCharacters: string[]\n    ): monaco.languages.OnTypeFormattingEditProvider {\n        return {\n            autoFormatTriggerCharacters,\n            provideOnTypeFormattingEdits: (model, position, ch, options, token) => this.provideOnTypeFormattingEdits(handle, model, position, ch, options, token)\n        };\n    }\n\n    protected provideOnTypeFormattingEdits(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        ch: string, options: monaco.languages.FormattingOptions, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.TextEdit[]> {\n        return this.proxy.$provideOnTypeFormattingEdits(handle, model.uri, position, ch, options, token);\n    }\n\n    $registerDocumentDropEditProvider(handle: number, selector: SerializedDocumentFilter[], metadata?: DocumentDropEditProviderMetadata): void {\n        this.register(\n            handle,\n            StandaloneServices\n                .get(ILanguageFeaturesService)\n                .documentDropEditProvider\n                .register(selector, this.createDocumentDropEditProvider(handle, metadata))\n        );\n    }\n\n    createDocumentDropEditProvider(handle: number, _metadata?: DocumentDropEditProviderMetadata): DocumentDropEditProvider {\n        return {\n            // @monaco-uplift id and dropMimeTypes should be supported by the monaco drop editor provider after 1.82.0\n            // id?: string;\n            // dropMimeTypes: metadata?.dropMimeTypes ?? ['*/*'],\n            provideDocumentDropEdits: async (model, position, dataTransfer, token) => this.provideDocumentDropEdits(handle, model, position, dataTransfer, token)\n        };\n    }\n\n    protected async provideDocumentDropEdits(handle: number, model: ITextModel, position: monaco.IPosition,\n        dataTransfer: IReadonlyVSDataTransfer, token: CancellationToken): Promise<DocumentDropEditsSession | undefined> {\n        await this.fileUploadService.upload(new URI(), { source: dataTransfer, leaveInTemp: true });\n        return undefined;\n    }\n\n    $registerFoldingRangeProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], eventHandle: number | undefined): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const provider = this.createFoldingRangeProvider(handle);\n\n        if (typeof eventHandle === 'number') {\n            const emitter = new Emitter<monaco.languages.FoldingRangeProvider>();\n            this.services.set(eventHandle, emitter);\n            provider.onDidChange = emitter.event;\n        }\n\n        this.register(handle, (monaco.languages.registerFoldingRangeProvider as RegistrationFunction<monaco.languages.FoldingRangeProvider>)(languageSelector, provider));\n    }\n\n    createFoldingRangeProvider(handle: number): monaco.languages.FoldingRangeProvider {\n        return {\n            provideFoldingRanges: (model, context, token) => this.provideFoldingRanges(handle, model, context, token)\n        };\n    }\n\n    $emitFoldingRangeEvent(eventHandle: number, event?: unknown): void {\n        const obj = this.services.get(eventHandle);\n        if (obj instanceof Emitter) {\n            obj.fire(event);\n        }\n    }\n\n    protected provideFoldingRanges(handle: number, model: monaco.editor.ITextModel,\n        context: monaco.languages.FoldingContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.FoldingRange[]> {\n        return this.proxy.$provideFoldingRange(handle, model.uri, context, token);\n    }\n\n    $registerSelectionRangeProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const provider = this.createSelectionRangeProvider(handle);\n        this.register(handle, (monaco.languages.registerSelectionRangeProvider as RegistrationFunction<monaco.languages.SelectionRangeProvider>)(languageSelector, provider));\n    }\n\n    protected createSelectionRangeProvider(handle: number): monaco.languages.SelectionRangeProvider {\n        return {\n            provideSelectionRanges: (model, positions, token) => this.provideSelectionRanges(handle, model, positions, token)\n        };\n    }\n\n    protected provideSelectionRanges(handle: number, model: monaco.editor.ITextModel,\n        positions: monaco.Position[], token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.SelectionRange[][]> {\n        return this.proxy.$provideSelectionRanges(handle, model.uri, positions, token);\n    }\n\n    $registerDocumentColorProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const colorProvider = this.createColorProvider(handle);\n        this.register(handle, (monaco.languages.registerColorProvider as RegistrationFunction<monaco.languages.DocumentColorProvider>)(languageSelector, colorProvider));\n    }\n\n    createColorProvider(handle: number): monaco.languages.DocumentColorProvider {\n        return {\n            provideDocumentColors: (model, token) => this.provideDocumentColors(handle, model, token),\n            provideColorPresentations: (model, colorInfo, token) => this.provideColorPresentations(handle, model, colorInfo, token)\n        };\n    }\n\n    protected provideDocumentColors(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.IColorInformation[]> {\n        return this.proxy.$provideDocumentColors(handle, model.uri, token).then(documentColors =>\n            documentColors.map(documentColor => {\n                const [red, green, blue, alpha] = documentColor.color;\n                const color = {\n                    red: red,\n                    green: green,\n                    blue: blue,\n                    alpha: alpha\n                };\n\n                return {\n                    color,\n                    range: documentColor.range\n                };\n            })\n        );\n    }\n\n    protected provideColorPresentations(handle: number, model: monaco.editor.ITextModel,\n        colorInfo: monaco.languages.IColorInformation, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.IColorPresentation[]> {\n        return this.proxy.$provideColorPresentations(handle, model.uri, {\n            color: [\n                colorInfo.color.red,\n                colorInfo.color.green,\n                colorInfo.color.blue,\n                colorInfo.color.alpha\n            ],\n            range: colorInfo.range\n        }, token);\n    }\n\n    $registerInlayHintsProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], displayName?: string, eventHandle?: number): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const inlayHintsProvider = this.createInlayHintsProvider(handle);\n        if (typeof eventHandle === 'number') {\n            const emitter = new Emitter<void>();\n            this.register(eventHandle, emitter);\n            inlayHintsProvider.onDidChangeInlayHints = emitter.event;\n        }\n        this.register(handle, (monaco.languages.registerInlayHintsProvider as RegistrationFunction<monaco.languages.InlayHintsProvider>)(languageSelector, inlayHintsProvider));\n\n    }\n\n    createInlayHintsProvider(handle: number): monaco.languages.InlayHintsProvider {\n        return {\n            provideInlayHints: async (model: monaco.editor.ITextModel, range: Range, token: monaco.CancellationToken): Promise<monaco.languages.InlayHintList | undefined> => {\n                const result = await this.proxy.$provideInlayHints(handle, model.uri, range, token);\n                if (!result) {\n                    return;\n                }\n                return {\n                    hints: result.hints.map(hint => reviveHint(hint)),\n                    dispose: () => {\n                        if (typeof result.cacheId === 'number') {\n                            this.proxy.$releaseInlayHints(handle, result.cacheId);\n                        }\n                    }\n                };\n            },\n            resolveInlayHint: async (hint, token): Promise<monaco.languages.InlayHint | undefined> => {\n                // need to cast because of vscode issue https://github.com/microsoft/vscode/issues/190584\n                const dto: InlayHintDto = hint as InlayHintDto;\n                if (typeof dto.cacheId !== 'number') {\n                    return hint;\n                }\n                const result = await this.proxy.$resolveInlayHint(handle, dto.cacheId, token);\n                if (token.isCancellationRequested) {\n                    return undefined;\n                }\n                if (!result) {\n                    return hint;\n                }\n                return {\n                    ...hint,\n                    tooltip: result.tooltip,\n                    label: reviveInlayLabel(result.label)\n                };\n            },\n        };\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    $emitInlayHintsEvent(eventHandle: number, event?: any): void {\n        const obj = this.services.get(eventHandle);\n        if (obj instanceof Emitter) {\n            obj.fire(event);\n        }\n    }\n\n    $registerInlineCompletionsSupport(handle: number, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const provider: monaco.languages.InlineCompletionsProvider<IdentifiableInlineCompletions> = {\n            provideInlineCompletions: async (\n                model: monaco.editor.ITextModel,\n                position: monaco.Position,\n                context: monaco.languages.InlineCompletionContext,\n                token: CancellationToken\n            ): Promise<IdentifiableInlineCompletions | undefined> => this.proxy.$provideInlineCompletions(handle, model.uri, position, context, token),\n            freeInlineCompletions: (completions: IdentifiableInlineCompletions): void => {\n                this.proxy.$freeInlineCompletionsList(handle, completions.pid);\n            }\n        };\n        this.register(handle, (monaco.languages.registerInlineCompletionsProvider as RegistrationFunction<monaco.languages.InlineCompletionsProvider>)(languageSelector, provider));\n    }\n\n    $registerQuickFixProvider(\n        handle: number,\n        pluginInfo: PluginInfo,\n        selector: SerializedDocumentFilter[],\n        providedCodeActionKinds?: string[],\n        documentation?: CodeActionProviderDocumentation\n    ): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const quickFixProvider: monaco.languages.CodeActionProvider = {\n            provideCodeActions: (model, range, context, token) => {\n                const markers = StandaloneServices.get(IMarkerService)\n                    .read({ resource: model.uri })\n                    .filter(m => monaco.Range.areIntersectingOrTouching(m, range)) as monaco.editor.IMarkerData[];\n                return this.provideCodeActions(handle, model, range, { ...context, markers }, token);\n            },\n            resolveCodeAction: (codeAction, token) => this.resolveCodeAction(handle, codeAction, token)\n        };\n        this.register(handle,\n            monaco.languages.registerCodeActionProvider(languageSelector, quickFixProvider, {\n                documentation: documentation,\n                providedCodeActionKinds\n            }));\n    }\n\n    protected async provideCodeActions(\n        handle: number,\n        model: monaco.editor.ITextModel,\n        rangeOrSelection: Range,\n        context: monaco.languages.CodeActionContext,\n        token: monaco.CancellationToken\n    ): Promise<monaco.languages.CodeActionList | undefined> {\n        try {\n            const actions = await this.proxy.$provideCodeActions(handle, model.uri, rangeOrSelection, this.toModelCodeActionContext(context), token);\n            if (!actions) {\n                return undefined;\n            }\n            return {\n                actions: actions.map(a => toMonacoAction(a)),\n                dispose: () => this.proxy.$releaseCodeActions(handle, actions.map(a => a.cacheId))\n            };\n        } catch (e) {\n            console.error(e);\n            return undefined;\n        }\n    }\n\n    protected toModelCodeActionContext(context: monaco.languages.CodeActionContext): CodeActionContext {\n        return {\n            ...context,\n            trigger: this.toCodeActionTriggerKind(context.trigger)\n        };\n    }\n\n    toCodeActionTriggerKind(type: monaco.languages.CodeActionTriggerType): CodeActionTriggerKind {\n        switch (type) {\n            case monaco.languages.CodeActionTriggerType.Auto:\n                return CodeActionTriggerKind.Automatic;\n            case monaco.languages.CodeActionTriggerType.Invoke:\n                return CodeActionTriggerKind.Invoke;\n        }\n    }\n\n    protected async resolveCodeAction(handle: number, codeAction: monaco.languages.CodeAction, token: monaco.CancellationToken): Promise<monaco.languages.CodeAction> {\n        // The cacheId is kept in toMonacoAction when converting a received CodeAction DTO to a monaco code action\n        const cacheId = (codeAction as CodeAction).cacheId;\n        if (cacheId !== undefined) {\n            const resolvedEdit = await this.proxy.$resolveCodeAction(handle, cacheId, token);\n            codeAction.edit = resolvedEdit && toMonacoWorkspaceEdit(resolvedEdit);\n        }\n        return codeAction;\n    }\n\n    $registerRenameProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], supportsResolveLocation: boolean): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const renameProvider = this.createRenameProvider(handle, supportsResolveLocation);\n        this.register(handle, (monaco.languages.registerRenameProvider as RegistrationFunction<monaco.languages.RenameProvider>)(languageSelector, renameProvider));\n    }\n\n    protected createRenameProvider(handle: number, supportsResolveLocation: boolean): monaco.languages.RenameProvider {\n        return {\n            provideRenameEdits: (model, position, newName, token) => this.provideRenameEdits(handle, model, position, newName, token)\n            ,\n            resolveRenameLocation: supportsResolveLocation\n                ? (model, position, token) =>\n                    this.resolveRenameLocation(handle, model, position, token)\n                : undefined\n        };\n    }\n\n    protected provideRenameEdits(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, newName: string, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.WorkspaceEdit & monaco.languages.Rejection> {\n        return this.proxy.$provideRenameEdits(handle, model.uri, position, newName, token).then(toMonacoWorkspaceEdit);\n    }\n\n    $registerCallHierarchyProvider(handle: number, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const callHierarchyService = this.createCallHierarchyService(handle, languageSelector);\n        this.register(handle, this.callHierarchyServiceContributionRegistry.add(callHierarchyService));\n    }\n\n    protected createCallHierarchyService(handle: number, language: LanguageSelector): CallHierarchyService {\n        return {\n            selector: language,\n            getRootDefinition: (uri: DocumentUri, position: Position, cancellationToken: CancellationToken) =>\n                this.proxy.$provideRootDefinition(handle, toUriComponents(uri), fromPosition(position), cancellationToken)\n                    .then(def => {\n                        if (!def) { return undefined; }\n                        const defs = Array.isArray(def) ? def : [def];\n                        return { dispose: () => this.proxy.$releaseCallHierarchy(handle, defs[0]?._sessionId), items: defs.map(item => toItemHierarchyDefinition(item)) };\n                    }),\n            getCallers:\n                (\n                    definition: CallHierarchyItem,\n                    cancellationToken: CancellationToken\n                ) => this.proxy.$provideCallers(handle, fromItemHierarchyDefinition(definition), cancellationToken)\n                    .then(result => {\n                        if (!result) {\n                            return undefined!;\n                        }\n\n                        if (Array.isArray(result)) {\n                            return result.map(toCaller);\n                        }\n\n                        return undefined!;\n                    }),\n\n            getCallees:\n                (\n                    definition: CallHierarchyItem,\n                    cancellationToken: CancellationToken\n                ) => this.proxy.$provideCallees(handle, fromItemHierarchyDefinition(definition), cancellationToken)\n                    .then(result => {\n                        if (!result) {\n                            return undefined;\n                        }\n                        if (Array.isArray(result)) {\n                            return result.map(toCallee);\n                        }\n\n                        return undefined;\n                    })\n        };\n    }\n\n    protected resolveRenameLocation(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.RenameLocation> {\n        return this.proxy.$resolveRenameLocation(handle, model.uri, position, token);\n    }\n\n    // --- type hierarchy\n    $registerTypeHierarchyProvider(handle: number, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const typeHierarchyService = this.createTypeHierarchyService(handle, languageSelector);\n        this.register(handle, this.typeHierarchyServiceContributionRegistry.add(typeHierarchyService));\n    }\n\n    protected createTypeHierarchyService(handle: number, language: LanguageSelector): TypeHierarchyService {\n        return {\n            selector: language,\n            prepareSession: (uri: DocumentUri, position: Position, cancellationToken: CancellationToken) =>\n                this.proxy.$prepareTypeHierarchy(handle, toUriComponents(uri), fromPosition(position), cancellationToken)\n                    .then(result => {\n                        if (!result) {\n                            return undefined;\n                        }\n                        const items = Array.isArray(result) ? result : [result];\n                        return {\n                            dispose: () => this.proxy.$releaseTypeHierarchy(handle, items[0]?._sessionId),\n                            items: items.map(item => toItemHierarchyDefinition(item))\n                        };\n                    }),\n            provideSuperTypes: (sessionId, itemId, cancellationToken: CancellationToken) => this.proxy.$provideSuperTypes(handle, sessionId, itemId, cancellationToken)\n                .then(results => {\n                    if (!results) {\n                        return undefined;\n                    }\n\n                    if (Array.isArray(results)) {\n                        return results.map(toItemHierarchyDefinition);\n                    }\n\n                    return undefined;\n                }),\n            provideSubTypes: async (sessionId, itemId, cancellationToken: CancellationToken) => this.proxy.$provideSubTypes(handle, sessionId, itemId, cancellationToken)\n                .then(results => {\n                    if (!results) {\n                        return undefined;\n                    }\n\n                    if (Array.isArray(results)) {\n                        return results.map(toItemHierarchyDefinition);\n                    }\n\n                    return undefined;\n                })\n        };\n    }\n\n    // --- semantic tokens\n    $registerDocumentSemanticTokensProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], legend: theia.SemanticTokensLegend,\n        eventHandle: number | undefined): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        let event: Event<void> | undefined = undefined;\n        if (typeof eventHandle === 'number') {\n            const emitter = new Emitter<void>();\n            this.register(eventHandle, emitter);\n            event = emitter.event;\n        }\n        const provider = this.createDocumentSemanticTokensProvider(handle, legend, event);\n        this.register(handle, (monaco.languages.registerDocumentSemanticTokensProvider as RegistrationFunction<monaco.languages.DocumentSemanticTokensProvider>)\n            (languageSelector, provider));\n    }\n\n    protected createDocumentSemanticTokensProvider(handle: number, legend: theia.SemanticTokensLegend, event?: Event<void>): monaco.languages.DocumentSemanticTokensProvider {\n        return {\n            releaseDocumentSemanticTokens: resultId => {\n                if (resultId) {\n                    this.proxy.$releaseDocumentSemanticTokens(handle, parseInt(resultId, 10));\n                }\n            },\n            getLegend: () => legend,\n            provideDocumentSemanticTokens: async (model, lastResultId, token) => {\n                const nLastResultId = lastResultId ? parseInt(lastResultId, 10) : 0;\n                const encodedDto = await this.proxy.$provideDocumentSemanticTokens(handle, model.uri, nLastResultId, token);\n                if (!encodedDto) {\n                    return null;\n                }\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                const dto = decodeSemanticTokensDto(encodedDto);\n                if (dto.type === 'full') {\n                    return {\n                        resultId: String(dto.id),\n                        data: dto.data\n                    };\n                }\n                return {\n                    resultId: String(dto.id),\n                    edits: dto.deltas\n                };\n            }\n        };\n    }\n\n    $emitDocumentSemanticTokensEvent(eventHandle: number): void {\n        const obj = this.services.get(eventHandle);\n        if (obj instanceof Emitter) {\n            obj.fire(undefined);\n        }\n    }\n\n    $registerDocumentRangeSemanticTokensProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], legend: theia.SemanticTokensLegend,\n        eventHandle: number | undefined): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        let event: Event<void> | undefined = undefined;\n        if (typeof eventHandle === 'number') {\n            const emitter = new Emitter<void>();\n            this.register(eventHandle, emitter);\n            event = emitter.event;\n        }\n        const provider = this.createDocumentRangeSemanticTokensProvider(handle, legend, event);\n        this.register(handle, (monaco.languages.registerDocumentRangeSemanticTokensProvider as RegistrationFunction<monaco.languages.DocumentRangeSemanticTokensProvider>)\n            (languageSelector, provider));\n    }\n\n    protected createDocumentRangeSemanticTokensProvider(\n        handle: number, legend: theia.SemanticTokensLegend, _onDidChangeEvent?: Event<void>\n    ): monaco.languages.DocumentRangeSemanticTokensProvider {\n        return {\n            getLegend: () => legend,\n            provideDocumentRangeSemanticTokens: async (model, range, token) => {\n                const encodedDto = await this.proxy.$provideDocumentRangeSemanticTokens(handle, model.uri, range, token);\n                if (!encodedDto) {\n                    return null;\n                }\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                const dto = decodeSemanticTokensDto(encodedDto);\n                if (dto.type === 'full') {\n                    return {\n                        resultId: String(dto.id),\n                        data: dto.data\n                    };\n                }\n                throw new Error('Unexpected');\n            },\n            // @monaco-uplift onDidChange property is not yet available with the current monaco version, probably with the next monaco update then\n        };\n    }\n\n    // --- suggest\n\n    protected toLanguageSelector(filters: SerializedDocumentFilter[]): MonacoLanguageSelector.LanguageSelector & LanguageSelector {\n        return filters.map(filter => {\n            let pattern: string | (IRelativePattern & RelativePattern) | undefined;\n            if (typeof filter.pattern === 'string') {\n                pattern = filter.pattern;\n            } else if (filter.pattern) {\n                pattern = {\n                    base: MonacoPath.normalize(filter.pattern.baseUri.toString()),\n                    pattern: filter.pattern.pattern,\n                    pathToRelative: relative\n                };\n            }\n            return {\n                language: filter.language,\n                scheme: filter.scheme,\n                pattern\n            };\n        });\n    }\n\n    // --- linked editing range\n\n    $registerLinkedEditingRangeProvider(handle: number, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = this.toLanguageSelector(selector);\n        const linkedEditingRangeProvider = this.createLinkedEditingRangeProvider(handle);\n        this.register(handle,\n            (monaco.languages.registerLinkedEditingRangeProvider as RegistrationFunction<monaco.languages.LinkedEditingRangeProvider>)(languageSelector, linkedEditingRangeProvider)\n        );\n    }\n\n    protected createLinkedEditingRangeProvider(handle: number): monaco.languages.LinkedEditingRangeProvider {\n        return {\n            provideLinkedEditingRanges: async (model: monaco.editor.ITextModel, position: monaco.Position, token: CancellationToken):\n                Promise<monaco.languages.LinkedEditingRanges | undefined> => {\n                const res = await this.proxy.$provideLinkedEditingRanges(handle, model.uri, position, token);\n                if (res) {\n                    return {\n                        ranges: res.ranges,\n                        wordPattern: reviveRegExp(res.wordPattern)\n                    };\n                }\n                return undefined;\n            }\n        };\n    };\n\n    // -- Language status\n\n    $setLanguageStatus(handle: number, status: LanguageStatusDTO): void {\n        const internal: EditorLanguageStatus = { ...status, selector: this.toLanguageSelector(status.selector) };\n        this.languageStatusService.setLanguageStatusItem(handle, internal);\n    };\n\n    $removeLanguageStatus(handle: number): void {\n        this.languageStatusService.removeLanguageStatusItem(handle);\n    };\n}\n\nfunction reviveMarker(marker: MarkerData): vst.Diagnostic {\n    const monacoMarker: vst.Diagnostic = {\n        code: marker.code,\n        severity: reviveSeverity(marker.severity),\n        range: reviveRange(marker.startLineNumber, marker.startColumn, marker.endLineNumber, marker.endColumn),\n        message: marker.message,\n        source: marker.source,\n        relatedInformation: undefined\n    };\n\n    if (marker.relatedInformation) {\n        monacoMarker.relatedInformation = marker.relatedInformation.map(reviveRelated);\n    }\n\n    if (marker.tags) {\n        monacoMarker.tags = marker.tags.map(reviveTag);\n    }\n\n    return monacoMarker;\n}\n\nfunction reviveSeverity(severity: MarkerSeverity): vst.DiagnosticSeverity {\n    switch (severity) {\n        case MarkerSeverity.Error: return vst.DiagnosticSeverity.Error;\n        case MarkerSeverity.Warning: return vst.DiagnosticSeverity.Warning;\n        case MarkerSeverity.Info: return vst.DiagnosticSeverity.Information;\n        case MarkerSeverity.Hint: return vst.DiagnosticSeverity.Hint;\n    }\n}\n\nfunction reviveRange(startLine: number, startColumn: number, endLine: number, endColumn: number): vst.Range {\n    // note: language server range is 0-based, marker is 1-based, so need to deduct 1 here\n    return {\n        start: {\n            line: startLine - 1,\n            character: startColumn - 1\n        },\n        end: {\n            line: endLine - 1,\n            character: endColumn - 1\n        }\n    };\n}\n\nfunction reviveRelated(related: RelatedInformation): vst.DiagnosticRelatedInformation {\n    return {\n        message: related.message,\n        location: {\n            uri: related.resource,\n            range: reviveRange(related.startLineNumber, related.startColumn, related.endLineNumber, related.endColumn)\n        }\n    };\n}\n\nfunction reviveTag(tag: DiagnosticTag): vst.DiagnosticTag {\n    switch (tag) {\n        case 1: return DiagnosticTag.Unnecessary;\n        case 2: return DiagnosticTag.Deprecated;\n    }\n}\n\nfunction reviveRegExp(regExp?: SerializedRegExp): RegExp | undefined {\n    if (typeof regExp === 'undefined' || regExp === null) {\n        return undefined;\n    }\n    return new RegExp(regExp.pattern, regExp.flags);\n}\n\nfunction reviveIndentationRule(indentationRule?: SerializedIndentationRule): monaco.languages.IndentationRule | undefined {\n    if (typeof indentationRule === 'undefined' || indentationRule === null) {\n        return undefined;\n    }\n    return {\n        increaseIndentPattern: reviveRegExp(indentationRule.increaseIndentPattern)!,\n        decreaseIndentPattern: reviveRegExp(indentationRule.decreaseIndentPattern)!,\n        indentNextLinePattern: reviveRegExp(indentationRule.indentNextLinePattern),\n        unIndentedLinePattern: reviveRegExp(indentationRule.unIndentedLinePattern),\n    };\n}\n\nfunction reviveOnEnterRule(onEnterRule: SerializedOnEnterRule): monaco.languages.OnEnterRule {\n    return {\n        beforeText: reviveRegExp(onEnterRule.beforeText)!,\n        afterText: reviveRegExp(onEnterRule.afterText),\n        previousLineText: reviveRegExp(onEnterRule.previousLineText),\n        action: onEnterRule.action,\n    };\n}\n\nfunction reviveOnEnterRules(onEnterRules?: SerializedOnEnterRule[]): monaco.languages.OnEnterRule[] | undefined {\n    if (typeof onEnterRules === 'undefined' || onEnterRules === null) {\n        return undefined;\n    }\n    return onEnterRules.map(reviveOnEnterRule);\n}\n\nfunction reviveInlayLabel(label: string | InlayHintLabelPart[]): string | monaco.languages.InlayHintLabelPart[] {\n    let monacoLabel: string | monaco.languages.InlayHintLabelPart[];\n    if (typeof label === 'string') {\n        monacoLabel = label;\n    } else {\n        const parts: monaco.languages.InlayHintLabelPart[] = [];\n        for (const part of label) {\n            const result: monaco.languages.InlayHintLabelPart = {\n                ...part,\n                location: !!part.location ? { range: part.location?.range, uri: monaco.Uri.revive(part.location.uri) } : undefined\n            };\n            parts.push(result);\n        }\n        monacoLabel = parts;\n    }\n    return monacoLabel;\n}\n\nfunction reviveHint(hint: InlayHint): monaco.languages.InlayHint {\n    return {\n        ...hint,\n        label: reviveInlayLabel(hint.label)\n    };\n}\n\nfunction toMonacoAction(action: CodeAction): monaco.languages.CodeAction {\n    return {\n        ...action,\n        diagnostics: action.diagnostics ? action.diagnostics.map(m => toMonacoMarkerData(m)) : undefined,\n        disabled: action.disabled?.reason,\n        edit: action.edit ? toMonacoWorkspaceEdit(action.edit) : undefined\n    };\n}\n\nfunction toMonacoMarkerData(marker: MarkerData): monaco.editor.IMarkerData {\n    return {\n        ...marker,\n        relatedInformation: marker.relatedInformation\n            ? marker.relatedInformation.map(i => toMonacoRelatedInformation(i))\n            : undefined\n    };\n}\n\nfunction toMonacoRelatedInformation(relatedInfo: RelatedInformation): monaco.editor.IRelatedInformation {\n    return {\n        ...relatedInfo,\n        resource: monaco.Uri.parse(relatedInfo.resource)\n    };\n}\n\nexport function toMonacoWorkspaceEdit(data: WorkspaceEditDto | undefined): monaco.languages.WorkspaceEdit {\n    return {\n        edits: (data && data.edits || []).map(edit => {\n            if (WorkspaceTextEditDto.is(edit)) {\n                return <monaco.languages.IWorkspaceTextEdit>{\n                    resource: monaco.Uri.revive(edit.resource),\n                    textEdit: edit.textEdit,\n                    metadata: edit.metadata\n                };\n            } else {\n                const fileEdit = edit as WorkspaceFileEditDto;\n                return <monaco.languages.IWorkspaceFileEdit>{\n                    newResource: monaco.Uri.revive(fileEdit.newResource),\n                    oldResource: monaco.Uri.revive(fileEdit.oldResource),\n                    options: fileEdit.options,\n                    metadata: fileEdit.metadata\n                };\n            }\n        })\n    };\n}\n","// *****************************************************************************\n// Copyright (C) 2025 EclipseSource\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport {\n    McpServerDefinitionRegistryMain,\n    McpServerDefinitionRegistryExt,\n    McpServerDefinitionDto,\n    isMcpHttpServerDefinitionDto,\n} from '../../common/lm-protocol';\nimport { MAIN_RPC_CONTEXT } from '../../common/plugin-api-rpc';\nimport { MCPServerManager, MCPServerDescription, RemoteMCPServerDescription } from '@theia/ai-mcp/lib/common';\nimport { URI } from '@theia/core';\n\nexport class McpServerDefinitionRegistryMainImpl implements McpServerDefinitionRegistryMain {\n    private readonly proxy: McpServerDefinitionRegistryExt;\n    private readonly providers = new Map<number, string>();\n    private readonly mcpServerManager: MCPServerManager | undefined;\n\n    constructor(\n        rpc: RPCProtocol,\n        container: interfaces.Container\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.MCP_SERVER_DEFINITION_REGISTRY_EXT);\n        try {\n            this.mcpServerManager = container.get(MCPServerManager);\n        } catch {\n            // MCP Server Manager is optional\n            this.mcpServerManager = undefined;\n        }\n    }\n\n    $registerMcpServerDefinitionProvider(handle: number, name: string): void {\n        this.providers.set(handle, name);\n        this.loadServerDefinitions(handle);\n    }\n\n    async $unregisterMcpServerDefinitionProvider(handle: number): Promise<void> {\n        if (!this.mcpServerManager) {\n            console.warn('MCP Server Manager not available - MCP server definitions will not be loaded');\n            return;\n        }\n        const provider = this.providers.get(handle);\n        if (!provider) {\n            console.warn(`No MCP Server provider found for handle '${handle}' - MCP server definitions will not be loaded`);\n            return;\n        }\n\n        // Get all servers provided by this provider and remove them server by server\n        try {\n            const definitions = await this.$getServerDefinitions(handle);\n            for (const definition of definitions) {\n                this.mcpServerManager.removeServer(definition.label);\n            }\n        } catch (error) {\n            console.error('Error getting server definitions for removal:', error);\n        }\n\n        this.providers.delete(handle);\n    }\n\n    $onDidChangeMcpServerDefinitions(handle: number): void {\n        // Reload server definitions when provider reports changes\n        this.loadServerDefinitions(handle);\n    }\n\n    async $getServerDefinitions(handle: number): Promise<McpServerDefinitionDto[]> {\n        try {\n            return await this.proxy.$provideServerDefinitions(handle);\n        } catch (error) {\n            console.error('Error getting MCP server definitions:', error);\n            return [];\n        }\n    }\n\n    async $resolveServerDefinition(handle: number, server: McpServerDefinitionDto): Promise<McpServerDefinitionDto | undefined> {\n        try {\n            return await this.proxy.$resolveServerDefinition(handle, server);\n        } catch (error) {\n            console.error('Error resolving MCP server definition:', error);\n            return server;\n        }\n    }\n\n    private async loadServerDefinitions(handle: number): Promise<void> {\n        if (!this.mcpServerManager) {\n            console.warn('MCP Server Manager not available - MCP server definitions will not be loaded');\n            return;\n        }\n\n        try {\n            const definitions = await this.$getServerDefinitions(handle);\n\n            for (const definition of definitions) {\n                const mcpServerDescription = this.convertToMcpServerDescription(handle, definition);\n                this.mcpServerManager.addOrUpdateServer(mcpServerDescription);\n            }\n        } catch (error) {\n            console.error('Error loading MCP server definitions:', error);\n        }\n    }\n\n    private convertToMcpServerDescription(handle: number, definition: McpServerDefinitionDto): MCPServerDescription {\n        const self = this;\n        if (isMcpHttpServerDefinitionDto(definition)) {\n            // Convert headers values to strings, filtering out null values\n            let convertedHeaders: Record<string, string> | undefined;\n            if (definition.headers) {\n                convertedHeaders = {};\n                for (const [key, value] of Object.entries(definition.headers)) {\n                    if (value !== null) {\n                        convertedHeaders[key] = String(value);\n                    }\n                }\n            }\n\n            const serverDescription: RemoteMCPServerDescription = {\n                name: definition.label,\n                serverUrl: URI.fromComponents(definition.uri).toString(),\n                headers: convertedHeaders,\n                autostart: false,\n                async resolve(description: MCPServerDescription): Promise<MCPServerDescription> {\n                    const resolved = await self.$resolveServerDefinition(handle, definition);\n                    if (resolved) {\n                        return self.convertToMcpServerDescription(handle, resolved);\n                    }\n                    return description;\n                }\n            };\n\n            return serverDescription;\n        }\n\n        // Convert env values to strings, filtering out null values\n        let convertedEnv: Record<string, string> | undefined;\n        if (definition.env) {\n            convertedEnv = {};\n            for (const [key, value] of Object.entries(definition.env)) {\n                if (value !== null) {\n                    convertedEnv[key] = String(value);\n                }\n            }\n        }\n\n        return {\n            name: definition.label,\n            command: definition.command!,\n            args: definition.args,\n            env: convertedEnv,\n            autostart: false, // Extensions should manage their own server lifecycle\n            async resolve(serverDescription: MCPServerDescription): Promise<MCPServerDescription> {\n                const resolved = await self.$resolveServerDefinition(handle, definition);\n                if (resolved) {\n                    return self.convertToMcpServerDescription(handle, resolved);\n                }\n                return serverDescription;\n            }\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { nls } from '@theia/core';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { LocalizationMain } from '../../common/plugin-api-rpc';\nimport { LanguagePackBundle, LanguagePackService } from '../../common/language-pack-service';\n\nexport class LocalizationMainImpl implements LocalizationMain {\n\n    private readonly languagePackService: LanguagePackService;\n\n    constructor(container: interfaces.Container) {\n        this.languagePackService = container.get(LanguagePackService);\n    }\n\n    async $fetchBundle(id: string): Promise<LanguagePackBundle | undefined> {\n        const bundle = await this.languagePackService.getBundle(id, nls.locale ?? nls.defaultLocale);\n        return bundle;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2025 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { LoggerMain, LogLevel } from '../../common';\nimport { ILogger } from '@theia/core';\n\nexport class LoggerMainImpl implements LoggerMain {\n\n    constructor(private readonly container: interfaces.Container) {\n    }\n\n    $log(level: LogLevel, name: string | undefined, message: string, params: any[]): void {\n        let logger: ILogger;\n        if (name) {\n            logger = this.container.getNamed<ILogger>(ILogger, name);\n        } else {\n            logger = this.container.get<ILogger>(ILogger);\n        }\n        switch (level) {\n            case LogLevel.Trace:\n                logger.trace(message, ...params);\n                break;\n            case LogLevel.Debug:\n                logger.debug(message, ...params);\n                break;\n            case LogLevel.Info:\n                logger.info(message, ...params);\n                break;\n            case LogLevel.Warn:\n                logger.warn(message, ...params);\n                break;\n            case LogLevel.Error:\n                logger.error(message, ...params);\n                break;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { CommandRegistryMainImpl } from './command-registry-main';\nimport { PreferenceRegistryMainImpl } from './preference-registry-main';\nimport { QuickOpenMainImpl } from './quick-open-main';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { PLUGIN_RPC_CONTEXT, LanguagesMainFactory, OutputChannelRegistryFactory, MAIN_RPC_CONTEXT } from '../../common/plugin-api-rpc';\nimport { MessageRegistryMainImpl } from './message-registry-main';\nimport { WindowStateMain } from './window-state-main';\nimport { WorkspaceMainImpl } from './workspace-main';\nimport { StatusBarMessageRegistryMainImpl } from './status-bar-message-registry-main';\nimport { EnvMainImpl } from './env-main';\nimport { EditorsAndDocumentsMain } from './editors-and-documents-main';\nimport { TerminalServiceMainImpl } from './terminal-main';\nimport { DialogsMainImpl } from './dialogs-main';\nimport { TreeViewsMainImpl } from './view/tree-views-main';\nimport { NotificationMainImpl } from './notification-main';\nimport { ConnectionImpl } from '../../common/connection';\nimport { WebviewsMainImpl } from './webviews-main';\nimport { TasksMainImpl } from './tasks-main';\nimport { StorageMainImpl } from './plugin-storage';\nimport { DebugMainImpl } from './debug/debug-main';\nimport { FileSystemMainImpl } from './file-system-main-impl';\nimport { ScmMainImpl } from './scm-main';\nimport { DecorationsMainImpl } from './decorations/decorations-main';\nimport { ClipboardMainImpl } from './clipboard-main';\nimport { DocumentsMainImpl } from './documents-main';\nimport { TextEditorsMainImpl } from './text-editors-main';\nimport { EditorModelService } from './text-editor-model-service';\nimport { OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { ApplicationShell } from '@theia/core/lib/browser/shell/application-shell';\nimport { MainFileSystemEventService } from './main-file-system-event-service';\nimport { LabelServiceMainImpl } from './label-service-main';\nimport { TimelineMainImpl } from './timeline-main';\nimport { AuthenticationMainImpl } from './authentication-main';\nimport { ThemingMainImpl } from './theming-main';\nimport { CommentsMainImp } from './comments/comments-main';\nimport { CustomEditorsMainImpl } from './custom-editors/custom-editors-main';\nimport { SecretsMainImpl } from './secrets-main';\nimport { WebviewViewsMainImpl } from './webview-views/webview-views-main';\nimport { MonacoLanguages } from '@theia/monaco/lib/browser/monaco-languages';\nimport { UntitledResourceResolver } from '@theia/core/lib/common/resource';\nimport { ThemeService } from '@theia/core/lib/browser/theming';\nimport { TabsMainImpl } from './tabs/tabs-main';\nimport { NotebooksMainImpl } from './notebooks/notebooks-main';\nimport { LocalizationMainImpl } from './localization-main';\nimport { NotebookRenderersMainImpl } from './notebooks/notebook-renderers-main';\nimport { NotebookEditorsMainImpl } from './notebooks/notebook-editors-main';\nimport { NotebookDocumentsMainImpl } from './notebooks/notebook-documents-main';\nimport { NotebookKernelsMainImpl } from './notebooks/notebook-kernels-main';\nimport { NotebooksAndEditorsMain } from './notebooks/notebook-documents-and-editors-main';\nimport { TestingMainImpl } from './test-main';\nimport { UriMainImpl } from './uri-main';\nimport { LoggerMainImpl } from './logger-main';\nimport { McpServerDefinitionRegistryMainImpl } from './lm-main';\n\nexport function setUpPluginApi(rpc: RPCProtocol, container: interfaces.Container): void {\n    const loggerMain = new LoggerMainImpl(container);\n    rpc.set(PLUGIN_RPC_CONTEXT.LOGGER_MAIN, loggerMain);\n\n    const authenticationMain = new AuthenticationMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.AUTHENTICATION_MAIN, authenticationMain);\n\n    const commandRegistryMain = new CommandRegistryMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.COMMAND_REGISTRY_MAIN, commandRegistryMain);\n\n    const quickOpenMain = new QuickOpenMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.QUICK_OPEN_MAIN, quickOpenMain);\n\n    const workspaceMain = new WorkspaceMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.WORKSPACE_MAIN, workspaceMain);\n\n    const dialogsMain = new DialogsMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.DIALOGS_MAIN, dialogsMain);\n\n    const messageRegistryMain = new MessageRegistryMainImpl(container);\n    rpc.set(PLUGIN_RPC_CONTEXT.MESSAGE_REGISTRY_MAIN, messageRegistryMain);\n\n    const preferenceRegistryMain = new PreferenceRegistryMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.PREFERENCE_REGISTRY_MAIN, preferenceRegistryMain);\n\n    const tabsMain = new TabsMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.TABS_MAIN, tabsMain);\n\n    const editorsAndDocuments = new EditorsAndDocumentsMain(rpc, container, tabsMain);\n\n    const notebookDocumentsMain = new NotebookDocumentsMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.NOTEBOOK_DOCUMENTS_MAIN, notebookDocumentsMain);\n\n    const modelService = container.get(EditorModelService);\n    const openerService = container.get<OpenerService>(OpenerService);\n    const shell = container.get(ApplicationShell);\n    const untitledResourceResolver = container.get(UntitledResourceResolver);\n    const languageService = container.get(MonacoLanguages);\n    const documentsMain = new DocumentsMainImpl(editorsAndDocuments, notebookDocumentsMain, modelService, rpc,\n        openerService, shell, untitledResourceResolver, languageService);\n    rpc.set(PLUGIN_RPC_CONTEXT.DOCUMENTS_MAIN, documentsMain);\n\n    rpc.set(PLUGIN_RPC_CONTEXT.NOTEBOOKS_MAIN, new NotebooksMainImpl(rpc, container, commandRegistryMain));\n    rpc.set(PLUGIN_RPC_CONTEXT.NOTEBOOK_RENDERERS_MAIN, new NotebookRenderersMainImpl(rpc, container));\n    const notebookEditorsMain = new NotebookEditorsMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.NOTEBOOK_EDITORS_MAIN, notebookEditorsMain);\n    rpc.set(PLUGIN_RPC_CONTEXT.NOTEBOOK_DOCUMENTS_AND_EDITORS_MAIN, new NotebooksAndEditorsMain(rpc, container, tabsMain, notebookDocumentsMain, notebookEditorsMain));\n    rpc.set(PLUGIN_RPC_CONTEXT.NOTEBOOK_KERNELS_MAIN, new NotebookKernelsMainImpl(rpc, container));\n\n    const editorsMain = new TextEditorsMainImpl(editorsAndDocuments, documentsMain, rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.TEXT_EDITORS_MAIN, editorsMain);\n\n    // start listening only after all clients are subscribed to events\n    editorsAndDocuments.listen();\n\n    const statusBarMessageRegistryMain = new StatusBarMessageRegistryMainImpl(container, rpc);\n    rpc.set(PLUGIN_RPC_CONTEXT.STATUS_BAR_MESSAGE_REGISTRY_MAIN, statusBarMessageRegistryMain);\n\n    const envMain = new EnvMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.ENV_MAIN, envMain);\n\n    const notificationMain = new NotificationMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.NOTIFICATION_MAIN, notificationMain);\n\n    const testingMain = new TestingMainImpl(rpc, container, commandRegistryMain);\n    rpc.set(PLUGIN_RPC_CONTEXT.TESTING_MAIN, testingMain);\n\n    const terminalMain = new TerminalServiceMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.TERMINAL_MAIN, terminalMain);\n\n    const treeViewsMain = new TreeViewsMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.TREE_VIEWS_MAIN, treeViewsMain);\n\n    const outputChannelRegistryFactory: OutputChannelRegistryFactory = container.get(OutputChannelRegistryFactory);\n    const outputChannelRegistryMain = outputChannelRegistryFactory();\n    rpc.set(PLUGIN_RPC_CONTEXT.OUTPUT_CHANNEL_REGISTRY_MAIN, outputChannelRegistryMain);\n\n    const languagesMainFactory: LanguagesMainFactory = container.get(LanguagesMainFactory);\n    const languagesMain = languagesMainFactory(rpc);\n    rpc.set(PLUGIN_RPC_CONTEXT.LANGUAGES_MAIN, languagesMain);\n\n    const webviewsMain = new WebviewsMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.WEBVIEWS_MAIN, webviewsMain);\n\n    const customEditorsMain = new CustomEditorsMainImpl(rpc, container, webviewsMain);\n    rpc.set(PLUGIN_RPC_CONTEXT.CUSTOM_EDITORS_MAIN, customEditorsMain);\n\n    const webviewViewsMain = new WebviewViewsMainImpl(rpc, container, webviewsMain);\n    rpc.set(PLUGIN_RPC_CONTEXT.WEBVIEW_VIEWS_MAIN, webviewViewsMain);\n\n    const storageMain = new StorageMainImpl(container);\n    rpc.set(PLUGIN_RPC_CONTEXT.STORAGE_MAIN, storageMain);\n\n    const connectionMain = new ConnectionImpl(rpc.getProxy(MAIN_RPC_CONTEXT.CONNECTION_EXT));\n    rpc.set(PLUGIN_RPC_CONTEXT.CONNECTION_MAIN, connectionMain);\n\n    const tasksMain = new TasksMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.TASKS_MAIN, tasksMain);\n\n    const debugMain = new DebugMainImpl(rpc, connectionMain, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.DEBUG_MAIN, debugMain);\n\n    const fs = new FileSystemMainImpl(rpc, container);\n    const fsEventService = new MainFileSystemEventService(rpc, container);\n    const disposeFS = fs.dispose.bind(fs);\n    fs.dispose = () => {\n        fsEventService.dispose();\n        disposeFS();\n    };\n\n    rpc.set(PLUGIN_RPC_CONTEXT.FILE_SYSTEM_MAIN, fs);\n\n    const scmMain = new ScmMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.SCM_MAIN, scmMain);\n\n    const secretsMain = new SecretsMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.SECRETS_MAIN, secretsMain);\n\n    const decorationsMain = new DecorationsMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.DECORATIONS_MAIN, decorationsMain);\n\n    const windowMain = new WindowStateMain(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.WINDOW_MAIN, windowMain);\n\n    const clipboardMain = new ClipboardMainImpl(container);\n    rpc.set(PLUGIN_RPC_CONTEXT.CLIPBOARD_MAIN, clipboardMain);\n\n    const labelServiceMain = new LabelServiceMainImpl(container);\n    rpc.set(PLUGIN_RPC_CONTEXT.LABEL_SERVICE_MAIN, labelServiceMain);\n\n    const timelineMain = new TimelineMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.TIMELINE_MAIN, timelineMain);\n\n    const themingMain = new ThemingMainImpl(rpc, container.get(ThemeService));\n    rpc.set(PLUGIN_RPC_CONTEXT.THEMING_MAIN, themingMain);\n\n    const commentsMain = new CommentsMainImp(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.COMMENTS_MAIN, commentsMain);\n\n    const localizationMain = new LocalizationMainImpl(container);\n    rpc.set(PLUGIN_RPC_CONTEXT.LOCALIZATION_MAIN, localizationMain);\n\n    const uriMain = new UriMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.URI_MAIN, uriMain);\n\n    const mcpServerDefinitionRegistryMain = new McpServerDefinitionRegistryMainImpl(rpc, container);\n    rpc.set(PLUGIN_RPC_CONTEXT.MCP_SERVER_DEFINITION_REGISTRY_MAIN, mcpServerDefinitionRegistryMain);\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/api/browser/mainThreadFileSystemEventService.ts\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { MAIN_RPC_CONTEXT, FileSystemEvents } from '../../common/plugin-api-rpc';\nimport { DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { FileChangeType } from '@theia/filesystem/lib/common/files';\n\nexport class MainFileSystemEventService {\n\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(\n        rpc: RPCProtocol,\n        container: interfaces.Container\n    ) {\n        const proxy = rpc.getProxy(MAIN_RPC_CONTEXT.ExtHostFileSystemEventService);\n        const fileService = container.get(FileService);\n\n        this.toDispose.push(fileService.onDidFilesChange(event => {\n            // file system events - (changes the editor and others make)\n            const events: FileSystemEvents = {\n                created: [],\n                changed: [],\n                deleted: []\n            };\n            for (const change of event.changes) {\n                switch (change.type) {\n                    case FileChangeType.ADDED:\n                        events.created.push(change.resource['codeUri']);\n                        break;\n                    case FileChangeType.UPDATED:\n                        events.changed.push(change.resource['codeUri']);\n                        break;\n                    case FileChangeType.DELETED:\n                        events.deleted.push(change.resource['codeUri']);\n                        break;\n                }\n            }\n\n            proxy.$onFileEvent(events);\n        }));\n\n        // BEFORE file operation\n        fileService.addFileOperationParticipant({\n            participate: (target, source, operation, timeout, token) => proxy.$onWillRunFileOperation(operation, target['codeUri'], source?.['codeUri'], timeout, token)\n        });\n\n        // AFTER file operation\n        this.toDispose.push(fileService.onDidRunUserOperation(e => proxy.$onDidRunFileOperation(e.operation, e.target['codeUri'], e.source?.['codeUri'])));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { inject, injectable, optional } from '@theia/core/shared/inversify';\nimport { MenuPath, CommandRegistry, Disposable, DisposableCollection, nls, CommandMenu, AcceleratorSource, ContextExpressionMatcher } from '@theia/core';\nimport { MenuModelRegistry } from '@theia/core/lib/common';\nimport { TabBarToolbarRegistry } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { DeployedPlugin, IconUrl, Menu } from '../../../common';\nimport { ScmWidget } from '@theia/scm/lib/browser/scm-widget';\nimport { KeybindingRegistry, QuickCommandService, codicon } from '@theia/core/lib/browser';\nimport {\n    CodeEditorWidgetUtil, codeToTheiaMappings, ContributionPoint,\n    PLUGIN_EDITOR_TITLE_MENU, PLUGIN_EDITOR_TITLE_RUN_MENU, PLUGIN_SCM_TITLE_MENU, PLUGIN_VIEW_TITLE_MENU\n} from './vscode-theia-menu-mappings';\nimport { PluginMenuCommandAdapter } from './plugin-menu-command-adapter';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { PluginSharedStyle } from '../plugin-shared-style';\nimport { ThemeIcon } from '@theia/monaco-editor-core/esm/vs/base/common/themables';\n\n@injectable()\nexport class MenusContributionPointHandler {\n\n    @inject(MenuModelRegistry) private readonly menuRegistry: MenuModelRegistry;\n    @inject(CommandRegistry) private readonly commandRegistry: CommandRegistry;\n    @inject(TabBarToolbarRegistry) private readonly tabBarToolbar: TabBarToolbarRegistry;\n    @inject(PluginMenuCommandAdapter) pluginMenuCommandAdapter: PluginMenuCommandAdapter;\n    @inject(ContextKeyService) protected readonly contextKeyService: ContextKeyService;\n    @inject(PluginSharedStyle) protected readonly style: PluginSharedStyle;\n    @inject(KeybindingRegistry) keybindingRegistry: KeybindingRegistry;\n\n    @inject(QuickCommandService) @optional()\n    private readonly quickCommandService: QuickCommandService;\n\n    private initialized = false;\n    private initialize(): void {\n        this.initialized = true;\n        this.tabBarToolbar.registerMenuDelegate(PLUGIN_EDITOR_TITLE_MENU, widget => CodeEditorWidgetUtil.is(widget));\n        this.menuRegistry.registerSubmenu(PLUGIN_EDITOR_TITLE_RUN_MENU, 'EditorTitleRunMenu');\n        this.tabBarToolbar.registerItem({\n            id: this.tabBarToolbar.toElementId(PLUGIN_EDITOR_TITLE_RUN_MENU),\n            menuPath: PLUGIN_EDITOR_TITLE_RUN_MENU,\n            icon: codicon('debug-alt'),\n            text: nls.localizeByDefault('Run or Debug...'),\n            command: '',\n            group: 'navigation',\n            isVisible: widget => CodeEditorWidgetUtil.is(widget)\n        });\n        this.tabBarToolbar.registerMenuDelegate(PLUGIN_SCM_TITLE_MENU, widget => widget instanceof ScmWidget);\n        this.tabBarToolbar.registerMenuDelegate(PLUGIN_VIEW_TITLE_MENU, widget => !CodeEditorWidgetUtil.is(widget));\n    }\n\n    private getMatchingTheiaMenuPaths(contributionPoint: string): MenuPath[] | undefined {\n        return codeToTheiaMappings.get(contributionPoint);\n    }\n\n    handle(plugin: DeployedPlugin): Disposable {\n        const allMenus = plugin.contributes?.menus;\n        if (!allMenus) {\n            return Disposable.NULL;\n        }\n        if (!this.initialized) {\n            this.initialize();\n        }\n        const toDispose = new DisposableCollection();\n        const submenus = plugin.contributes?.submenus ?? [];\n        for (const submenu of submenus) {\n            const iconClass = submenu.icon && this.toIconClass(submenu.icon, toDispose);\n            this.menuRegistry.registerSubmenu([submenu.id], submenu.label, { icon: iconClass });\n        }\n\n        for (const [contributionPoint, items] of Object.entries(allMenus)) {\n            for (const item of items) {\n                try {\n                    if (contributionPoint === 'commandPalette') {\n                        toDispose.push(this.registerCommandPaletteAction(item));\n                    } else {\n                        let targets = this.getMatchingTheiaMenuPaths(contributionPoint as ContributionPoint);\n                        if (!targets) {\n                            targets = [[contributionPoint]];\n                        }\n                        const { group, order } = this.parseGroup(item.group);\n                        const { submenu, command } = item;\n                        if (submenu && command) {\n                            console.warn(\n                                `Menu item ${command} from plugin ${plugin.metadata.model.id} contributed both submenu and command. Only command will be registered.`\n                            );\n                        }\n                        if (command) {\n\n                            targets.forEach(target => {\n                                const menuPath = group ? [...target, group] : target;\n\n                                const cmd = this.commandRegistry.getCommand(command);\n                                if (!cmd) {\n                                    console.debug(`No label for action menu node: No command \"${command}\" exists.`);\n                                    return;\n                                }\n                                const label = cmd.label || cmd.id;\n                                const icon = cmd.iconClass;\n                                const action: CommandMenu & AcceleratorSource = {\n                                    id: command,\n                                    sortString: order || '',\n                                    isVisible: <T>(effectiveMenuPath: MenuPath, contextMatcher: ContextExpressionMatcher<T>, context: T | undefined, ...args: any[]): boolean => {\n                                        if (item.when && !contextMatcher.match(item.when, context)) {\n                                            return false;\n                                        }\n\n                                        return this.commandRegistry.isVisible(command, ...this.pluginMenuCommandAdapter.getArgumentAdapter(effectiveMenuPath)(...args));\n                                    },\n                                    icon: icon,\n                                    label: label,\n                                    isEnabled: (effeciveMenuPath: MenuPath, ...args: any[]): boolean =>\n                                        this.commandRegistry.isEnabled(command, ...this.pluginMenuCommandAdapter.getArgumentAdapter(effeciveMenuPath)(...args)),\n                                    run: (effeciveMenuPath: MenuPath, ...args: any[]): Promise<void> =>\n                                        this.commandRegistry.executeCommand(command, ...this.pluginMenuCommandAdapter.getArgumentAdapter(effeciveMenuPath)(...args)),\n                                    isToggled: (effectiveMenuPath: MenuPath) => false,\n                                    getAccelerator: (context: HTMLElement | undefined): string[] => {\n                                        const bindings = this.keybindingRegistry.getKeybindingsForCommand(command);\n                                        // Only consider the first active keybinding.\n                                        if (bindings.length) {\n                                            const binding = bindings.find(b => this.keybindingRegistry.isEnabledInScope(b, context));\n                                            if (binding) {\n                                                return this.keybindingRegistry.acceleratorFor(binding, '+', true);\n                                            }\n                                        }\n                                        return [];\n                                    }\n                                };\n                                toDispose.push(this.menuRegistry.registerCommandMenu(menuPath, action));\n                            });\n                        } else if (submenu) {\n                            targets.forEach(target => toDispose.push(this.menuRegistry.linkCompoundMenuNode({\n                                newParentPath: group ? [...target, group] : target,\n                                submenuPath: [submenu!],\n                                order: order,\n                                when: item.when\n                            })));\n                        }\n                    }\n                } catch (error) {\n                    console.warn(`Failed to register a menu item for plugin ${plugin.metadata.model.id} contributed to ${contributionPoint}`, item);\n                    console.debug(error);\n                }\n            }\n        }\n\n        return toDispose;\n    }\n\n    private parseGroup(rawGroup?: string): { group?: string, order?: string } {\n        if (!rawGroup) { return {}; }\n        const separatorIndex = rawGroup.lastIndexOf('@');\n        if (separatorIndex > -1) {\n            return { group: rawGroup.substring(0, separatorIndex), order: rawGroup.substring(separatorIndex + 1) || undefined };\n        }\n        return { group: rawGroup };\n    }\n\n    private registerCommandPaletteAction(menu: Menu): Disposable {\n        if (menu.command && menu.when) {\n            return this.quickCommandService.pushCommandContext(menu.command, menu.when);\n        }\n        return Disposable.NULL;\n    }\n\n    protected toIconClass(url: IconUrl, toDispose: DisposableCollection): string | undefined {\n        if (typeof url === 'string') {\n            const asThemeIcon = ThemeIcon.fromString(url);\n            if (asThemeIcon) {\n                return ThemeIcon.asClassName(asThemeIcon);\n            }\n        }\n        const reference = this.style.toIconClass(url);\n        toDispose.push(reference);\n        return reference.object.iconClass;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MenuPath, SelectionService, UriSelection } from '@theia/core';\nimport { ResourceContextKey } from '@theia/core/lib/browser/resource-context-key';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { URI as CodeUri } from '@theia/core/shared/vscode-uri';\nimport { TreeWidgetSelection } from '@theia/core/lib/browser/tree/tree-widget-selection';\nimport { ScmRepository } from '@theia/scm/lib/browser/scm-repository';\nimport { ScmService } from '@theia/scm/lib/browser/scm-service';\nimport { DirtyDiffWidget } from '@theia/scm/lib/browser/dirty-diff/dirty-diff-widget';\nimport { Change, LineRange } from '@theia/scm/lib/browser/dirty-diff/diff-computer';\nimport { IChange } from '@theia/monaco-editor-core/esm/vs/editor/common/diff/legacyLinesDiffComputer';\nimport { TimelineItem } from '@theia/timeline/lib/common/timeline-model';\nimport { ScmCommandArg, TimelineCommandArg, TreeViewItemReference } from '../../../common';\nimport { TestItemReference, TestMessageArg } from '../../../common/test-types';\nimport { PluginScmProvider, PluginScmResource, PluginScmResourceGroup } from '../scm-main';\nimport { TreeViewWidget } from '../view/tree-view-widget';\nimport { CodeEditorWidgetUtil, codeToTheiaMappings, ContributionPoint } from './vscode-theia-menu-mappings';\nimport { TestItem, TestMessage } from '@theia/test/lib/browser/test-service';\n\nexport type ArgumentAdapter = (...args: unknown[]) => unknown[];\nfunction identity(...args: unknown[]): unknown[] {\n    return args;\n}\n@injectable()\nexport class PluginMenuCommandAdapter {\n    @inject(ScmService) private readonly scmService: ScmService;\n    @inject(SelectionService) private readonly selectionService: SelectionService;\n    @inject(ResourceContextKey) private readonly resourceContextKey: ResourceContextKey;\n\n    protected readonly argumentAdapters = new Map<string, ArgumentAdapter>();\n\n    @postConstruct()\n    protected init(): void {\n        const toCommentArgs: ArgumentAdapter = (...args) => this.toCommentArgs(...args);\n        const toTestMessageArgs: ArgumentAdapter = (...args) => this.toTestMessageArgs(...args);\n        const firstArgOnly: ArgumentAdapter = (...args) => [args[0]];\n        const noArgs: ArgumentAdapter = () => [];\n        const toScmArgs: ArgumentAdapter = (...args) => this.toScmArgs(...args);\n        const selectedResource = () => this.getSelectedResources();\n        const widgetURI: ArgumentAdapter = widget => CodeEditorWidgetUtil.is(widget) ? [CodeEditorWidgetUtil.getResourceUri(widget)] : [];\n        (<Array<[ContributionPoint, ArgumentAdapter]>>[\n            ['comments/comment/context', toCommentArgs],\n            ['comments/comment/title', toCommentArgs],\n            ['comments/commentThread/context', toCommentArgs],\n            ['debug/callstack/context', firstArgOnly],\n            ['debug/variables/context', firstArgOnly],\n            ['debug/toolBar', noArgs],\n            ['editor/context', selectedResource],\n            ['editor/content', widgetURI],\n            ['editor/title', widgetURI],\n            ['editor/title/context', selectedResource],\n            ['editor/title/run', widgetURI],\n            ['explorer/context', selectedResource],\n            ['scm/resourceFolder/context', toScmArgs],\n            ['scm/resourceGroup/context', toScmArgs],\n            ['scm/resourceState/context', toScmArgs],\n            ['scm/title', () => [this.toScmArg(this.scmService.selectedRepository)]],\n            ['testing/message/context', toTestMessageArgs],\n            ['testing/profiles/context', noArgs],\n            ['scm/change/title', (...args) => this.toScmChangeArgs(...args)],\n            ['timeline/item/context', (...args) => this.toTimelineArgs(...args)],\n            ['view/item/context', (...args) => this.toTreeArgs(...args)],\n            ['view/title', noArgs],\n            ['webview/context', firstArgOnly],\n            ['extension/context', noArgs],\n            ['terminal/context', noArgs],\n            ['terminal/title/context', noArgs],\n        ]).forEach(([contributionPoint, adapter]) => {\n            this.argumentAdapters.set(contributionPoint, adapter);\n        });\n    }\n\n    getArgumentAdapter(menuPath: MenuPath): ArgumentAdapter {\n        for (const [contributionPoint, menuPaths] of codeToTheiaMappings) {\n            for (const theiaPath of menuPaths) {\n                if (this.isPrefixOf(theiaPath, menuPath)) {\n                    return this.argumentAdapters.get(contributionPoint) || identity;\n                }\n            }\n        }\n        return identity;\n    }\n\n    private isPrefixOf(candidate: string[], menuPath: MenuPath): boolean {\n        if (candidate.length > menuPath.length) {\n            return false;\n        }\n        for (let i = 0; i < candidate.length; i++) {\n            if (candidate[i] !== menuPath[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n\n    protected toCommentArgs(...args: any[]): any[] {\n        const arg = args[0];\n        if ('text' in arg) {\n            if ('commentUniqueId' in arg) {\n                return [{\n                    commentControlHandle: arg.thread.controllerHandle,\n                    commentThreadHandle: arg.thread.commentThreadHandle,\n                    text: arg.text,\n                    commentUniqueId: arg.commentUniqueId\n                }];\n            }\n            return [{\n                commentControlHandle: arg.thread.controllerHandle,\n                commentThreadHandle: arg.thread.commentThreadHandle,\n                text: arg.text\n            }];\n        }\n        return [{\n            commentControlHandle: arg.thread.controllerHandle,\n            commentThreadHandle: arg.thread.commentThreadHandle,\n            commentUniqueId: arg.commentUniqueId\n        }];\n    }\n\n    protected toScmArgs(...args: any[]): any[] {\n        const scmArgs: any[] = [];\n        for (const arg of args) {\n            const scmArg = this.toScmArg(arg);\n            if (scmArg) {\n                scmArgs.push(scmArg);\n            }\n        }\n        return scmArgs;\n    }\n\n    protected toScmArg(arg: any): ScmCommandArg | undefined {\n        if (arg instanceof ScmRepository && arg.provider instanceof PluginScmProvider) {\n            return {\n                sourceControlHandle: arg.provider.handle\n            };\n        }\n        if (arg instanceof PluginScmResourceGroup) {\n            return {\n                sourceControlHandle: arg.provider.handle,\n                resourceGroupHandle: arg.handle\n            };\n        }\n        if (arg instanceof PluginScmResource) {\n            return {\n                sourceControlHandle: arg.group.provider.handle,\n                resourceGroupHandle: arg.group.handle,\n                resourceStateHandle: arg.handle\n            };\n        }\n    }\n\n    protected toScmChangeArgs(...args: any[]): any[] {\n        const arg = args[0];\n        if (arg instanceof DirtyDiffWidget) {\n            const toIChange = (change: Change): IChange => {\n                const convert = (range: LineRange): [number, number] => {\n                    let startLineNumber;\n                    let endLineNumber;\n                    if (!LineRange.isEmpty(range)) {\n                        startLineNumber = range.start + 1;\n                        endLineNumber = range.end;\n                    } else {\n                        startLineNumber = range.start;\n                        endLineNumber = 0;\n                    }\n                    return [startLineNumber, endLineNumber];\n                };\n                const { previousRange, currentRange } = change;\n                const [originalStartLineNumber, originalEndLineNumber] = convert(previousRange);\n                const [modifiedStartLineNumber, modifiedEndLineNumber] = convert(currentRange);\n                return {\n                    originalStartLineNumber,\n                    originalEndLineNumber,\n                    modifiedStartLineNumber,\n                    modifiedEndLineNumber\n                };\n            };\n            return [\n                arg.uri['codeUri'],\n                arg.changes.map(toIChange),\n                arg.currentChangeIndex\n            ];\n        }\n        return [];\n    }\n\n    protected toTimelineArgs(...args: any[]): any[] {\n        const timelineArgs: any[] = [];\n        const arg = args[0];\n        timelineArgs.push(this.toTimelineArg(arg));\n        timelineArgs.push(CodeUri.parse(arg.uri));\n        timelineArgs.push(arg.source ?? '');\n        return timelineArgs;\n    }\n\n    protected toTestMessageArgs(...args: any[]): any[] {\n        let testItem: TestItem | undefined;\n        let testMessage: TestMessage | undefined;\n        for (const arg of args) {\n            if (TestItem.is(arg)) {\n                testItem = arg;\n            } else if (Array.isArray(arg) && TestMessage.is(arg[0])) {\n                testMessage = arg[0];\n            }\n        }\n        if (testMessage) {\n            const testItemReference = (testItem && testItem.controller) ? TestItemReference.create(testItem.controller.id, testItem.path) : undefined;\n            const testMessageDTO = {\n                message: testMessage.message,\n                actual: testMessage.actual,\n                expected: testMessage.expected,\n                contextValue: testMessage.contextValue,\n                location: testMessage.location,\n                stackTrace: testMessage.stackTrace\n            };\n            return [TestMessageArg.create(testItemReference, testMessageDTO)];\n        }\n        return [];\n    }\n\n    protected toTimelineArg(arg: TimelineItem): TimelineCommandArg {\n        return {\n            timelineHandle: arg.handle,\n            source: arg.source,\n            uri: arg.uri\n        };\n    }\n\n    protected toTreeArgs(...args: any[]): any[] {\n        const treeArgs: any[] = [];\n        for (const arg of args) {\n            if (TreeViewItemReference.is(arg)) {\n                treeArgs.push(arg);\n            } else if (Array.isArray(arg)) {\n                treeArgs.push(arg.filter(TreeViewItemReference.is));\n            }\n        }\n        return treeArgs;\n    }\n\n    protected getSelectedResources(): [CodeUri | TreeViewItemReference | undefined, CodeUri[] | undefined] {\n        const selection = this.selectionService.selection;\n        const resourceKey = this.resourceContextKey.get();\n        const resourceUri = resourceKey ? CodeUri.parse(resourceKey) : undefined;\n        const firstMember = TreeWidgetSelection.is(selection) && selection.source instanceof TreeViewWidget && selection[0]\n            ? selection.source.toTreeViewItemReference(selection[0])\n            : UriSelection.getUri(selection)?.['codeUri'] ?? resourceUri;\n        const secondMember = TreeWidgetSelection.is(selection)\n            ? UriSelection.getUris(selection).map(uri => uri['codeUri'])\n            : undefined;\n        return [firstMember, secondMember];\n    }\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MenuPath } from '@theia/core';\nimport { CommonMenus, SHELL_TABBAR_CONTEXT_MENU } from '@theia/core/lib/browser';\nimport { Navigatable } from '@theia/core/lib/browser/navigatable';\nimport { URI as CodeUri } from '@theia/core/shared/vscode-uri';\nimport { DebugStackFramesWidget } from '@theia/debug/lib/browser/view/debug-stack-frames-widget';\nimport { DebugThreadsWidget } from '@theia/debug/lib/browser/view/debug-threads-widget';\nimport { DebugToolBar } from '@theia/debug/lib/browser/view/debug-toolbar-widget';\nimport { DebugVariablesWidget } from '@theia/debug/lib/browser/view/debug-variables-widget';\nimport { EditorWidget, EDITOR_CONTEXT_MENU, EDITOR_CONTENT_MENU } from '@theia/editor/lib/browser';\nimport { NAVIGATOR_CONTEXT_MENU } from '@theia/navigator/lib/browser/navigator-contribution';\nimport { ScmTreeWidget } from '@theia/scm/lib/browser/scm-tree-widget';\nimport { PLUGIN_SCM_CHANGE_TITLE_MENU } from '@theia/scm/lib/browser/dirty-diff/dirty-diff-widget';\nimport { TIMELINE_ITEM_CONTEXT_MENU } from '@theia/timeline/lib/browser/timeline-tree-widget';\nimport { COMMENT_CONTEXT, COMMENT_THREAD_CONTEXT, COMMENT_TITLE } from '../comments/comment-thread-widget';\nimport { VIEW_ITEM_CONTEXT_MENU } from '../view/tree-view-widget';\nimport { WEBVIEW_CONTEXT_MENU, WebviewWidget } from '../webview/webview';\nimport { EDITOR_LINENUMBER_CONTEXT_MENU } from '@theia/editor/lib/browser/editor-linenumber-contribution';\nimport { PLUGIN_TEST_VIEW_TITLE_MENU, TEST_VIEW_CONTEXT_MENU } from '@theia/test/lib/browser/view/test-view-contribution';\nimport { TEST_RUNS_CONTEXT_MENU } from '@theia/test/lib/browser/view/test-run-view-contribution';\nimport { TerminalMenus } from '@theia/terminal/lib/browser/terminal-frontend-contribution';\n\nexport const PLUGIN_EDITOR_TITLE_MENU = ['plugin_editor/title'];\nexport const PLUGIN_EDITOR_TITLE_RUN_MENU = ['plugin_editor/title/run'];\nexport const PLUGIN_SCM_TITLE_MENU = ['plugin_scm/title'];\nexport const PLUGIN_VIEW_TITLE_MENU = ['plugin_view/title'];\n\nexport const implementedVSCodeContributionPoints = [\n    'comments/comment/context',\n    'comments/comment/title',\n    'comments/commentThread/context',\n    'debug/callstack/context',\n    'debug/variables/context',\n    'debug/toolBar',\n    'editor/context',\n    'editor/content',\n    'editor/title',\n    'editor/title/context',\n    'editor/title/run',\n    'editor/lineNumber/context',\n    'explorer/context',\n    'scm/change/title',\n    'scm/resourceFolder/context',\n    'scm/resourceGroup/context',\n    'scm/resourceState/context',\n    'scm/title',\n    'timeline/item/context',\n    'testing/item/context',\n    'testing/message/context',\n    'testing/profiles/context',\n    'view/item/context',\n    'view/title',\n    'webview/context',\n    'extension/context',\n    'terminal/context',\n    'terminal/title/context'\n] as const;\n\nexport type ContributionPoint = (typeof implementedVSCodeContributionPoints)[number];\n\n/** The values are menu paths to which the VSCode contribution points correspond */\nexport const codeToTheiaMappings = new Map<string, MenuPath[]>([\n    ['comments/comment/context', [COMMENT_CONTEXT]],\n    ['comments/comment/title', [COMMENT_TITLE]],\n    ['comments/commentThread/context', [COMMENT_THREAD_CONTEXT]],\n    ['debug/callstack/context', [DebugStackFramesWidget.CONTEXT_MENU, DebugThreadsWidget.CONTEXT_MENU]],\n    ['debug/variables/context', [DebugVariablesWidget.CONTEXT_MENU]],\n    ['debug/toolBar', [DebugToolBar.MENU]],\n    ['editor/context', [EDITOR_CONTEXT_MENU]],\n    ['editor/content', [EDITOR_CONTENT_MENU]],\n    ['editor/title', [PLUGIN_EDITOR_TITLE_MENU]],\n    ['editor/title/context', [SHELL_TABBAR_CONTEXT_MENU]],\n    ['editor/title/run', [PLUGIN_EDITOR_TITLE_RUN_MENU]],\n    ['editor/lineNumber/context', [EDITOR_LINENUMBER_CONTEXT_MENU]],\n    ['explorer/context', [NAVIGATOR_CONTEXT_MENU]],\n    ['file/newFile', [CommonMenus.FILE_NEW_CONTRIBUTIONS]],\n    ['scm/change/title', [PLUGIN_SCM_CHANGE_TITLE_MENU]],\n    ['scm/resourceFolder/context', [ScmTreeWidget.RESOURCE_FOLDER_CONTEXT_MENU]],\n    ['scm/resourceGroup/context', [ScmTreeWidget.RESOURCE_GROUP_CONTEXT_MENU]],\n    ['scm/resourceState/context', [ScmTreeWidget.RESOURCE_CONTEXT_MENU]],\n    ['scm/title', [PLUGIN_SCM_TITLE_MENU]],\n    ['testing/item/context', [TEST_VIEW_CONTEXT_MENU]],\n    ['testing/message/context', [TEST_RUNS_CONTEXT_MENU]],\n    ['testing/profiles/context', [PLUGIN_TEST_VIEW_TITLE_MENU]],\n    ['timeline/item/context', [TIMELINE_ITEM_CONTEXT_MENU]],\n    ['view/item/context', [VIEW_ITEM_CONTEXT_MENU]],\n    ['view/title', [PLUGIN_VIEW_TITLE_MENU]],\n    ['webview/context', [WEBVIEW_CONTEXT_MENU]],\n    ['extension/context', [['extensions_context_menu', '3_contribution']]],\n    ['terminal/context', [TerminalMenus.TERMINAL_CONTRIBUTIONS]],\n    ['terminal/title/context', [TerminalMenus.TERMINAL_TITLE_CONTRIBUTIONS]]\n\n]);\n\ntype CodeEditorWidget = EditorWidget | WebviewWidget;\nexport namespace CodeEditorWidgetUtil {\n    export function is(arg: unknown): arg is CodeEditorWidget {\n        return arg instanceof EditorWidget || arg instanceof WebviewWidget;\n    }\n    export function getResourceUri(editor: CodeEditorWidget): CodeUri | undefined {\n        const resourceUri = Navigatable.is(editor) && editor.getResourceUri();\n        return resourceUri ? resourceUri['codeUri'] : undefined;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { MainMessageType, MainMessageOptions, MainMessageItem } from '../../common/plugin-api-rpc';\nimport { ModalNotification, MessageType } from './dialogs/modal-notification';\nimport { BasicMessageRegistryMainImpl } from '../common/basic-message-registry-main';\n\n/**\n * Message registry implementation that adds support for the model option via dialog in the browser.\n */\nexport class MessageRegistryMainImpl extends BasicMessageRegistryMainImpl {\n    constructor(container: interfaces.Container) {\n        super(container);\n    }\n\n    protected override async doShowMessage(type: MainMessageType, message: string,\n        options: MainMessageOptions, actions: MainMessageItem[]): Promise<string | undefined> {\n\n        if (options.modal) {\n            const messageType = type === MainMessageType.Error ? MessageType.Error :\n                type === MainMessageType.Warning ? MessageType.Warning :\n                    MessageType.Info;\n            const modalNotification = new ModalNotification();\n            return modalNotification.showDialog(messageType, message, options, actions);\n        }\n        return super.doShowMessage(type, message, options, actions);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableCollection } from '@theia/core';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { UriComponents } from '@theia/core/lib/common/uri';\nimport { NotebookEditorWidget, NotebookService, NotebookEditorWidgetService, NotebookCellEditorService } from '@theia/notebook/lib/browser';\nimport { NotebookModel } from '@theia/notebook/lib/browser/view-model/notebook-model';\nimport { MAIN_RPC_CONTEXT, NotebookDocumentsAndEditorsDelta, NotebookDocumentsAndEditorsMain, NotebookEditorAddData, NotebookModelAddedData, NotebooksExt } from '../../../common';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { NotebookDto } from './notebook-dto';\nimport { WidgetManager } from '@theia/core/lib/browser';\nimport { NotebookEditorsMainImpl } from './notebook-editors-main';\nimport { NotebookDocumentsMainImpl } from './notebook-documents-main';\nimport { diffMaps, diffSets } from '../../../common/collections';\nimport { Mutex } from 'async-mutex';\nimport { TabsMainImpl } from '../tabs/tabs-main';\n\ninterface NotebookAndEditorDelta {\n    removedDocuments: UriComponents[];\n    addedDocuments: NotebookModel[];\n    removedEditors: string[];\n    addedEditors: NotebookEditorWidget[];\n    newActiveEditor?: string | null;\n    visibleEditors?: string[];\n}\n\nclass NotebookAndEditorState {\n    static computeDelta(before: NotebookAndEditorState | undefined, after: NotebookAndEditorState): NotebookAndEditorDelta {\n        if (!before) {\n            return {\n                addedDocuments: [...after.documents],\n                removedDocuments: [],\n                addedEditors: [...after.textEditors.values()],\n                removedEditors: [],\n                visibleEditors: [...after.visibleEditors].map(editor => editor[0])\n            };\n        }\n        const documentDelta = diffSets(before.documents, after.documents);\n        const editorDelta = diffMaps(before.textEditors, after.textEditors);\n\n        const visibleEditorDelta = diffMaps(before.visibleEditors, after.visibleEditors);\n\n        return {\n            addedDocuments: documentDelta.added,\n            removedDocuments: documentDelta.removed.map(e => e.uri.toComponents()),\n            addedEditors: editorDelta.added,\n            removedEditors: editorDelta.removed.map(removed => removed.id),\n            newActiveEditor: after.activeEditor,\n            visibleEditors: visibleEditorDelta.added.length === 0 && visibleEditorDelta.removed.length === 0\n                ? undefined\n                : [...after.visibleEditors].map(editor => editor[0])\n        };\n    }\n\n    constructor(\n        readonly documents: Set<NotebookModel>,\n        readonly textEditors: Map<string, NotebookEditorWidget>,\n        readonly activeEditor: string | null | undefined,\n        readonly visibleEditors: Map<string, NotebookEditorWidget>\n    ) {\n        //\n    }\n}\n\nexport class NotebooksAndEditorsMain implements NotebookDocumentsAndEditorsMain {\n\n    protected readonly proxy: NotebooksExt;\n    protected readonly disposables = new DisposableCollection();\n\n    protected readonly editorListeners = new Map<string, Disposable[]>();\n\n    protected currentState?: NotebookAndEditorState;\n    protected readonly updateMutex = new Mutex();\n\n    protected readonly notebookService: NotebookService;\n    protected readonly notebookEditorService: NotebookEditorWidgetService;\n    protected readonly WidgetManager: WidgetManager;\n\n    constructor(\n        rpc: RPCProtocol,\n        container: interfaces.Container,\n        tabsMain: TabsMainImpl,\n        protected readonly notebookDocumentsMain: NotebookDocumentsMainImpl,\n        protected readonly notebookEditorsMain: NotebookEditorsMainImpl\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.NOTEBOOKS_EXT);\n\n        this.notebookService = container.get(NotebookService);\n        this.notebookEditorService = container.get(NotebookEditorWidgetService);\n        this.WidgetManager = container.get(WidgetManager);\n        const notebookCellEditorService = container.get(NotebookCellEditorService);\n\n        notebookCellEditorService.onDidChangeFocusedCellEditor(editor => this.proxy.$acceptActiveCellEditorChange(editor?.uri.toString() ?? null), this, this.disposables);\n\n        this.notebookService.onDidAddNotebookDocument(async () => this.updateState(), this, this.disposables);\n        this.notebookService.onDidRemoveNotebookDocument(async () => this.updateState(), this, this.disposables);\n        // this.WidgetManager.onActiveEditorChanged(() => this.updateState(), this, this.disposables);\n        this.notebookEditorService.onDidAddNotebookEditor(async editor => this.handleEditorAdd(editor), this, this.disposables);\n        this.notebookEditorService.onDidRemoveNotebookEditor(async editor => this.handleEditorRemove(editor), this, this.disposables);\n        this.notebookEditorService.onDidChangeCurrentEditor(async editor => {\n            if (editor) {\n                await tabsMain.waitForWidget(editor);\n            }\n            this.updateState(editor);\n        }, this, this.disposables);\n    }\n\n    dispose(): void {\n        this.notebookDocumentsMain.dispose();\n        this.notebookEditorsMain.dispose();\n        this.disposables.dispose();\n        this.editorListeners.forEach(listeners => listeners.forEach(listener => listener.dispose()));\n    }\n\n    private async handleEditorAdd(editor: NotebookEditorWidget): Promise<void> {\n        const listeners = this.editorListeners.get(editor.id);\n        const disposable = editor.onDidChangeModel(() => this.updateState());\n        if (listeners) {\n            listeners.push(disposable);\n        } else {\n            this.editorListeners.set(editor.id, [disposable]);\n        }\n        await this.updateState();\n    }\n\n    private handleEditorRemove(editor: NotebookEditorWidget): void {\n        const listeners = this.editorListeners.get(editor.id);\n        listeners?.forEach(listener => listener.dispose());\n        this.editorListeners.delete(editor.id);\n        this.updateState();\n    }\n\n    private async updateState(focusedEditor?: NotebookEditorWidget): Promise<void> {\n        await this.updateMutex.runExclusive(async () => this.doUpdateState(focusedEditor));\n    }\n\n    private async doUpdateState(focusedEditor?: NotebookEditorWidget): Promise<void> {\n\n        const editors = new Map<string, NotebookEditorWidget>();\n        const visibleEditorsMap = new Map<string, NotebookEditorWidget>();\n\n        for (const editor of this.notebookEditorService.getNotebookEditors()) {\n            editors.set(editor.id, editor);\n        }\n\n        const activeNotebookEditor = this.notebookEditorService.focusedEditor;\n        let activeEditor: string | null = null;\n        if (activeNotebookEditor) {\n            activeEditor = activeNotebookEditor.id;\n        } else if (focusedEditor?.model) {\n            activeEditor = focusedEditor.id;\n        }\n        if (activeEditor && !editors.has(activeEditor)) {\n            activeEditor = null;\n        }\n\n        const notebookEditors = this.WidgetManager.getWidgets(NotebookEditorWidget.ID) as NotebookEditorWidget[];\n        for (const notebookEditor of notebookEditors) {\n            if (editors.has(notebookEditor.id) && notebookEditor.isVisible) {\n                visibleEditorsMap.set(notebookEditor.id, notebookEditor);\n            }\n        }\n\n        const newState = new NotebookAndEditorState(\n            new Set(this.notebookService.listNotebookDocuments()),\n            editors,\n            activeEditor, visibleEditorsMap);\n        await this.onDelta(NotebookAndEditorState.computeDelta(this.currentState, newState));\n        this.currentState = newState;\n    }\n\n    private async onDelta(delta: NotebookAndEditorDelta): Promise<void> {\n        if (NotebooksAndEditorsMain.isDeltaEmpty(delta)) {\n            return;\n        }\n\n        const dto: NotebookDocumentsAndEditorsDelta = {\n            removedDocuments: delta.removedDocuments,\n            removedEditors: delta.removedEditors,\n            newActiveEditor: delta.newActiveEditor,\n            visibleEditors: delta.visibleEditors,\n            addedDocuments: delta.addedDocuments.map(NotebooksAndEditorsMain.asModelAddData),\n            addedEditors: delta.addedEditors.map(NotebooksAndEditorsMain.asEditorAddData),\n        };\n\n        // Handle internally first\n        // In case the plugin wants to perform documents edits immediately\n        // we want to make sure that all events have already been setup\n        this.notebookEditorsMain.handleEditorsRemoved(delta.removedEditors);\n        this.notebookDocumentsMain.handleNotebooksRemoved(delta.removedDocuments);\n        this.notebookDocumentsMain.handleNotebooksAdded(delta.addedDocuments);\n        this.notebookEditorsMain.handleEditorsAdded(delta.addedEditors);\n\n        // Send to plugin last\n        await this.proxy.$acceptDocumentsAndEditorsDelta(dto);\n    }\n\n    private static isDeltaEmpty(delta: NotebookAndEditorDelta): boolean {\n        if (delta.addedDocuments?.length) {\n            return false;\n        }\n        if (delta.removedDocuments?.length) {\n            return false;\n        }\n        if (delta.addedEditors?.length) {\n            return false;\n        }\n        if (delta.removedEditors?.length) {\n            return false;\n        }\n        if (delta.visibleEditors?.length) {\n            return false;\n        }\n        if (delta.newActiveEditor !== undefined) {\n            return false;\n        }\n        return true;\n    }\n\n    private static asModelAddData(e: NotebookModel): NotebookModelAddedData {\n        return {\n            viewType: e.viewType,\n            uri: e.uri.toComponents(),\n            metadata: e.metadata,\n            versionId: 1, // TODO implement versionID support\n            cells: e.cells.map(NotebookDto.toNotebookCellDto)\n        };\n    }\n\n    private static asEditorAddData(notebookEditor: NotebookEditorWidget): NotebookEditorAddData {\n        const uri = notebookEditor.getResourceUri();\n        if (!uri) {\n            throw new Error('Notebook editor without resource URI');\n        }\n        return {\n            id: notebookEditor.id,\n            documentUri: uri.toComponents(),\n            selections: [{ start: 0, end: 0 }],\n            visibleRanges: []\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DisposableCollection, Event } from '@theia/core';\nimport { URI, UriComponents } from '@theia/core/lib/common/uri';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { NotebookModelResolverService } from '@theia/notebook/lib/browser';\nimport { NotebookModel } from '@theia/notebook/lib/browser/view-model/notebook-model';\nimport { NotebookCellsChangeType } from '@theia/notebook/lib/common';\nimport { NotebookMonacoTextModelService } from '@theia/notebook/lib/browser/service/notebook-monaco-text-model-service';\nimport { MAIN_RPC_CONTEXT, NotebookCellsChangedEventDto, NotebookDataDto, NotebookDocumentsExt, NotebookDocumentsMain, NotebookRawContentEventDto } from '../../../common';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { NotebookDto } from './notebook-dto';\nimport { MonacoEditorModel } from '@theia/monaco/lib/browser/monaco-editor-model';\nimport { NotebookOpenHandler } from '@theia/notebook/lib/browser/notebook-open-handler';\n\nexport class NotebookDocumentsMainImpl implements NotebookDocumentsMain {\n\n    protected readonly disposables = new DisposableCollection();\n\n    protected readonly proxy: NotebookDocumentsExt;\n    protected readonly documentEventListenersMapping = new Map<string, DisposableCollection>();\n\n    protected readonly notebookModelResolverService: NotebookModelResolverService;\n\n    protected readonly notebookMonacoTextModelService: NotebookMonacoTextModelService;\n    protected readonly notebookOpenHandler: NotebookOpenHandler;\n\n    constructor(\n        rpc: RPCProtocol,\n        container: interfaces.Container\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.NOTEBOOK_DOCUMENTS_EXT);\n        this.notebookModelResolverService = container.get(NotebookModelResolverService);\n        this.notebookOpenHandler = container.get(NotebookOpenHandler);\n\n        // forward dirty and save events\n        this.disposables.push(this.notebookModelResolverService.onDidChangeDirty(model => this.proxy.$acceptDirtyStateChanged(model.uri.toComponents(), model.isDirty())));\n        this.disposables.push(this.notebookModelResolverService.onDidSaveNotebook(e => this.proxy.$acceptModelSaved(e)));\n\n        this.notebookMonacoTextModelService = container.get(NotebookMonacoTextModelService) as NotebookMonacoTextModelService;\n    }\n\n    get onDidAddNotebookCellModel(): Event<MonacoEditorModel> {\n        return this.notebookMonacoTextModelService.onDidCreateNotebookCellModel;\n    }\n\n    dispose(): void {\n        this.disposables.dispose();\n        // this.modelReferenceCollection.dispose();\n        this.documentEventListenersMapping.forEach(value => value.dispose());\n    }\n\n    handleNotebooksAdded(notebooks: readonly NotebookModel[]): void {\n\n        for (const notebook of notebooks) {\n            const listener = notebook.onDidChangeContent(events => {\n\n                const eventDto: NotebookCellsChangedEventDto = {\n                    versionId: 1, // TODO implement version ID support\n                    rawEvents: []\n                };\n\n                for (const e of events) {\n\n                    switch (e.kind) {\n                        case NotebookCellsChangeType.ModelChange:\n                            eventDto.rawEvents.push({\n                                kind: e.kind,\n                                changes: e.changes.map(diff =>\n                                    ({ ...diff, newItems: diff.newItems.map(NotebookDto.toNotebookCellDto) }))\n                            });\n                            break;\n                        case NotebookCellsChangeType.Move:\n                            eventDto.rawEvents.push({\n                                kind: e.kind,\n                                index: e.index,\n                                length: e.length,\n                                newIdx: e.newIdx,\n                            });\n                            break;\n                        case NotebookCellsChangeType.Output:\n                            eventDto.rawEvents.push({\n                                kind: e.kind,\n                                index: e.index,\n                                outputs: e.outputs.map(NotebookDto.toNotebookOutputDto)\n                            });\n                            break;\n                        case NotebookCellsChangeType.OutputItem:\n                            eventDto.rawEvents.push({\n                                kind: e.kind,\n                                index: e.index,\n                                outputId: e.outputId,\n                                outputItems: e.outputItems.map(NotebookDto.toNotebookOutputItemDto),\n                                append: e.append\n                            });\n                            break;\n                        case NotebookCellsChangeType.ChangeCellLanguage:\n                        case NotebookCellsChangeType.ChangeCellContent:\n                        case NotebookCellsChangeType.ChangeCellMetadata:\n                        case NotebookCellsChangeType.ChangeCellInternalMetadata:\n                            eventDto.rawEvents.push(e);\n                            break;\n                        case NotebookCellsChangeType.ChangeDocumentMetadata:\n                            eventDto.rawEvents.push({\n                                kind: e.kind,\n                                metadata: e.metadata\n                            });\n                            break;\n                    }\n                }\n\n                const hasDocumentMetadataChangeEvent = events.find(e => e.kind === NotebookCellsChangeType.ChangeDocumentMetadata);\n\n                // using the model resolver service to know if the model is dirty or not.\n                // assuming this is the first listener it can mean that at first the model\n                // is marked as dirty and that another event is fired\n                this.proxy.$acceptModelChanged(\n                    notebook.uri.toComponents(),\n                    eventDto,\n                    notebook.isDirty(),\n                    hasDocumentMetadataChangeEvent ? notebook.metadata : undefined\n                );\n            });\n\n            this.documentEventListenersMapping.set(notebook.uri.toString(), new DisposableCollection(listener));\n        }\n    }\n\n    handleNotebooksRemoved(uris: UriComponents[]): void {\n        for (const uri of uris) {\n            this.documentEventListenersMapping.get(uri.toString())?.dispose();\n            this.documentEventListenersMapping.delete(uri.toString());\n        }\n    }\n\n    async $tryCreateNotebook(options: { viewType: string; content?: NotebookDataDto }): Promise<UriComponents> {\n        const ref = await this.notebookModelResolverService.resolveUntitledResource({ untitledResource: undefined }, options.viewType);\n\n        // untitled notebooks are disposed when they get saved. we should not hold a reference\n        // to such a disposed notebook and therefore dispose the reference as well\n        // ref.onWillDispose(() => {\n        //     ref.dispose();\n        // });\n\n        const uriComponents = ref.uri.toComponents();\n        // untitled notebooks are dirty by default\n        this.proxy.$acceptDirtyStateChanged(uriComponents, true);\n\n        // apply content changes...\n        if (options.content) {\n            const data = NotebookDto.fromNotebookDataDto(options.content);\n            ref.setData(data);\n\n            // Create and send a change events\n            const rawEvents: NotebookRawContentEventDto[] = [];\n            if (options.content.cells && options.content.cells.length > 0) {\n                rawEvents.push({\n                    kind: NotebookCellsChangeType.ModelChange,\n                    changes: [{ start: 0, startHandle: 0, deleteCount: 0, newItems: ref.cells.map(NotebookDto.toNotebookCellDto) }]\n                });\n            }\n            if (options.content.metadata) {\n                rawEvents.push({\n                    kind: NotebookCellsChangeType.ChangeDocumentMetadata,\n                    metadata: options.content.metadata\n                });\n            }\n            if (rawEvents.length > 0) {\n                this.proxy.$acceptModelChanged(uriComponents, { versionId: 1, rawEvents }, true);\n            }\n        }\n        return uriComponents;\n    }\n\n    async $tryOpenNotebook(uriComponents: UriComponents): Promise<UriComponents> {\n        const uri = URI.fromComponents(uriComponents);\n        await this.notebookModelResolverService.resolve(uri);\n        return uri.toComponents();\n    }\n\n    async $trySaveNotebook(uriComponents: UriComponents): Promise<boolean> {\n        const uri = URI.fromComponents(uriComponents);\n        const ref = await this.notebookModelResolverService.resolve(uri);\n        await ref.save();\n        ref.dispose();\n        return true;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { OS } from '@theia/core';\nimport * as notebookCommon from '@theia/notebook/lib/common';\nimport { NotebookCellModel } from '@theia/notebook/lib/browser/view-model/notebook-cell-model';\nimport * as rpc from '../../../common';\nimport { CellExecutionUpdateType } from '@theia/notebook/lib/common';\nimport { CellExecuteUpdate, CellExecutionComplete } from '@theia/notebook/lib/browser';\n\nexport namespace NotebookDto {\n\n    export function toNotebookOutputItemDto(item: notebookCommon.CellOutputItem): rpc.NotebookOutputItemDto {\n        return {\n            mime: item.mime,\n            valueBytes: item.data\n        };\n    }\n\n    export function toNotebookOutputDto(output: notebookCommon.CellOutput): rpc.NotebookOutputDto {\n        return {\n            outputId: output.outputId,\n            metadata: output.metadata,\n            items: output.outputs.map(toNotebookOutputItemDto)\n        };\n    }\n\n    export function toNotebookCellDataDto(cell: notebookCommon.CellData): rpc.NotebookCellDataDto {\n        return {\n            cellKind: cell.cellKind,\n            language: cell.language,\n            source: cell.source,\n            internalMetadata: cell.internalMetadata,\n            metadata: cell.metadata,\n            outputs: cell.outputs.map(toNotebookOutputDto)\n        };\n    }\n\n    export function toNotebookDataDto(data: notebookCommon.NotebookData): rpc.NotebookDataDto {\n        return {\n            metadata: data.metadata,\n            cells: data.cells.map(toNotebookCellDataDto)\n        };\n    }\n\n    export function fromNotebookOutputItemDto(item: rpc.NotebookOutputItemDto): notebookCommon.CellOutputItem {\n        return {\n            mime: item.mime,\n            data: item.valueBytes\n        };\n    }\n\n    export function fromNotebookOutputDto(output: rpc.NotebookOutputDto): notebookCommon.CellOutput {\n        return {\n            outputId: output.outputId,\n            metadata: output.metadata,\n            outputs: output.items.map(fromNotebookOutputItemDto)\n        };\n    }\n\n    export function fromNotebookCellDataDto(cell: rpc.NotebookCellDataDto): notebookCommon.CellData {\n        return {\n            cellKind: cell.cellKind,\n            language: cell.language,\n            source: cell.source,\n            outputs: cell.outputs.map(fromNotebookOutputDto),\n            metadata: cell.metadata,\n            internalMetadata: cell.internalMetadata\n        };\n    }\n\n    export function fromNotebookDataDto(data: rpc.NotebookDataDto): notebookCommon.NotebookData {\n        return {\n            metadata: data.metadata,\n            cells: data.cells.map(fromNotebookCellDataDto)\n        };\n    }\n\n    export function toNotebookCellDto(cell: NotebookCellModel): rpc.NotebookCellDto {\n        const eol = OS.backend.EOL;\n        return {\n            handle: cell.handle,\n            uri: cell.uri.toComponents(),\n            source: cell.text.split(/\\r?\\n/g),\n            eol,\n            language: cell.language,\n            cellKind: cell.cellKind,\n            outputs: cell.outputs.map(toNotebookOutputDto),\n            metadata: cell.metadata,\n            internalMetadata: cell.internalMetadata,\n        };\n    }\n\n    export function fromCellExecuteUpdateDto(data: rpc.CellExecuteUpdateDto): CellExecuteUpdate {\n        if (data.editType === CellExecutionUpdateType.Output) {\n            return {\n                editType: data.editType,\n                cellHandle: data.cellHandle,\n                append: data.append,\n                outputs: data.outputs.map(fromNotebookOutputDto)\n            };\n        } else if (data.editType === CellExecutionUpdateType.OutputItems) {\n            return {\n                editType: data.editType,\n                outputId: data.outputId,\n                append: data.append,\n                items: data.items.map(fromNotebookOutputItemDto)\n            };\n        } else {\n            return data;\n        }\n    }\n\n    export function fromCellExecuteCompleteDto(data: rpc.CellExecutionCompleteDto): CellExecutionComplete {\n        return data;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { UriComponents, URI } from '@theia/core/lib/common/uri';\nimport { CellRange } from '@theia/notebook/lib/common';\nimport { NotebookEditorWidget, NotebookService } from '@theia/notebook/lib/browser';\nimport { MAIN_RPC_CONTEXT, NotebookDocumentShowOptions, NotebookEditorRevealType, NotebookEditorsExt, NotebookEditorsMain } from '../../../common';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { NotebookOpenHandler } from '@theia/notebook/lib/browser/notebook-open-handler';\n\nexport class NotebookEditorsMainImpl implements NotebookEditorsMain {\n\n    protected readonly proxy: NotebookEditorsExt;\n    protected readonly notebookService: NotebookService;\n    protected readonly notebookOpenHandler: NotebookOpenHandler;\n\n    protected readonly mainThreadEditors = new Map<string, NotebookEditorWidget>();\n\n    constructor(\n        rpc: RPCProtocol,\n        container: interfaces.Container\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.NOTEBOOK_EDITORS_EXT);\n        this.notebookService = container.get(NotebookService);\n        this.notebookOpenHandler = container.get(NotebookOpenHandler);\n    }\n\n    async $tryShowNotebookDocument(uriComponents: UriComponents, viewType: string, options: NotebookDocumentShowOptions): Promise<string> {\n        const editor = await this.notebookOpenHandler.open(URI.fromComponents(uriComponents), {\n            notebookType: viewType\n        });\n        await editor.ready;\n        return editor.id;\n    }\n    $tryRevealRange(id: string, range: CellRange, revealType: NotebookEditorRevealType): Promise<void> {\n        throw new Error('Method not implemented.');\n    }\n    $trySetSelections(id: string, range: CellRange[]): void {\n        if (!this.mainThreadEditors.has(id)) {\n            throw new Error('Editor not found');\n        }\n        const editor = this.mainThreadEditors.get(id);\n        editor?.viewModel.setSelectedCell(editor.model!.cells[range[0].start]);\n    }\n\n    async handleEditorsAdded(editors: readonly NotebookEditorWidget[]): Promise<void> {\n        for (const editor of editors) {\n            this.mainThreadEditors.set(editor.id, editor);\n            const model = await editor.ready;\n            editor.viewModel.onDidChangeSelectedCell(e => {\n                const newCellIndex = e.cell ? model.cells.indexOf(e.cell) : -1;\n                this.proxy.$acceptEditorPropertiesChanged(editor.id, {\n                    selections: {\n                        selections: newCellIndex >= 0 ? [{ start: newCellIndex, end: newCellIndex }] : []\n                    }\n                });\n            });\n        }\n    }\n\n    handleEditorsRemoved(editorIds: readonly string[]): void {\n        for (const id of editorIds) {\n            this.mainThreadEditors.get(id)?.dispose();\n            this.mainThreadEditors.delete(id);\n        }\n    }\n\n    dispose(): void {\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken, Disposable, Emitter, Event, URI } from '@theia/core';\nimport { UriComponents } from '@theia/core/lib/common/uri';\nimport { LanguageService } from '@theia/core/lib/browser/language-service';\nimport { CellExecuteUpdateDto, CellExecutionCompleteDto, MAIN_RPC_CONTEXT, NotebookKernelDto, NotebookKernelsExt, NotebookKernelsMain } from '../../../common';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport {\n    CellExecution, NotebookEditorWidgetService, NotebookExecutionStateService,\n    NotebookKernelChangeEvent, NotebookKernelService, NotebookService, NotebookKernel as NotebookKernelServiceKernel\n} from '@theia/notebook/lib/browser';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { NotebookKernelSourceAction } from '@theia/notebook/lib/common';\nimport { NotebookDto } from './notebook-dto';\n\nabstract class NotebookKernel implements NotebookKernelServiceKernel {\n    private readonly onDidChangeEmitter = new Emitter<NotebookKernelChangeEvent>();\n    private readonly preloads: { uri: URI; provides: readonly string[] }[];\n    readonly onDidChange: Event<NotebookKernelChangeEvent> = this.onDidChangeEmitter.event;\n\n    readonly id: string;\n    readonly viewType: string;\n    readonly extensionId: string;\n\n    implementsInterrupt: boolean;\n    label: string;\n    description?: string;\n    detail?: string;\n    supportedLanguages: string[];\n    implementsExecutionOrder: boolean;\n    localResourceRoot: URI;\n\n    public get preloadUris(): URI[] {\n        return this.preloads.map(p => p.uri);\n    }\n\n    public get preloadProvides(): string[] {\n        return this.preloads.map(p => p.provides).flat();\n    }\n\n    constructor(public readonly handle: number, data: NotebookKernelDto, private languageService: LanguageService) {\n        this.id = data.id;\n        this.viewType = data.notebookType;\n        this.extensionId = data.extensionId;\n\n        this.implementsInterrupt = data.supportsInterrupt ?? false;\n        this.label = data.label;\n        this.description = data.description;\n        this.detail = data.detail;\n        this.supportedLanguages = (data.supportedLanguages && data.supportedLanguages.length > 0) ? data.supportedLanguages : languageService.languages.map(lang => lang.id);\n        this.implementsExecutionOrder = data.supportsExecutionOrder ?? false;\n        this.localResourceRoot = URI.fromComponents(data.extensionLocation);\n        this.preloads = data.preloads?.map(u => ({ uri: URI.fromComponents(u.uri), provides: u.provides })) ?? [];\n    }\n\n    update(data: Partial<NotebookKernelDto>): void {\n\n        const event: NotebookKernelChangeEvent = Object.create(null);\n        if (data.label !== undefined) {\n            this.label = data.label;\n            event.label = true;\n        }\n        if (data.description !== undefined) {\n            this.description = data.description;\n            event.description = true;\n        }\n        if (data.detail !== undefined) {\n            this.detail = data.detail;\n            event.detail = true;\n        }\n        if (data.supportedLanguages !== undefined) {\n            this.supportedLanguages = (data.supportedLanguages && data.supportedLanguages.length > 0) ?\n                data.supportedLanguages :\n                this.languageService.languages.map(lang => lang.id);\n            event.supportedLanguages = true;\n        }\n        if (data.supportsExecutionOrder !== undefined) {\n            this.implementsExecutionOrder = data.supportsExecutionOrder;\n            event.hasExecutionOrder = true;\n        }\n        if (data.supportsInterrupt !== undefined) {\n            this.implementsInterrupt = data.supportsInterrupt;\n            event.hasInterruptHandler = true;\n        }\n        this.onDidChangeEmitter.fire(event);\n    }\n\n    abstract executeNotebookCellsRequest(uri: URI, cellHandles: number[]): Promise<void>;\n    abstract cancelNotebookCellExecution(uri: URI, cellHandles: number[]): Promise<void>;\n}\n\nexport interface KernelSourceActionProvider {\n    readonly viewType: string;\n    onDidChangeSourceActions?: Event<void>;\n    provideKernelSourceActions(): Promise<NotebookKernelSourceAction[]>;\n}\n\nexport class NotebookKernelsMainImpl implements NotebookKernelsMain {\n\n    private readonly proxy: NotebookKernelsExt;\n\n    private readonly kernels = new Map<number, [kernel: NotebookKernel, registration: Disposable]>();\n\n    private readonly kernelDetectionTasks = new Map<number, [task: string, registration: Disposable]>();\n\n    private readonly kernelSourceActionProviders = new Map<number, [provider: KernelSourceActionProvider, registration: Disposable]>();\n    private readonly kernelSourceActionProvidersEventRegistrations = new Map<number, Disposable>();\n\n    private notebookKernelService: NotebookKernelService;\n    private notebookService: NotebookService;\n    private languageService: LanguageService;\n    private notebookExecutionStateService: NotebookExecutionStateService;\n    private notebookEditorWidgetService: NotebookEditorWidgetService;\n\n    private readonly executions = new Map<number, CellExecution>();\n\n    constructor(\n        rpc: RPCProtocol,\n        container: interfaces.Container,\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.NOTEBOOK_KERNELS_EXT);\n\n        this.notebookKernelService = container.get(NotebookKernelService);\n        this.notebookExecutionStateService = container.get(NotebookExecutionStateService);\n        this.notebookService = container.get(NotebookService);\n        this.languageService = container.get(LanguageService);\n        this.notebookEditorWidgetService = container.get(NotebookEditorWidgetService);\n\n        this.notebookEditorWidgetService.onDidAddNotebookEditor(editor => {\n            editor.onDidReceiveKernelMessage(async message => {\n                const kernel = this.notebookKernelService.getSelectedOrSuggestedKernel(editor.model!);\n                if (kernel) {\n                    this.proxy.$acceptKernelMessageFromRenderer(kernel.handle, editor.id, message);\n                }\n            });\n        });\n        this.notebookKernelService.onDidChangeSelectedKernel(e => {\n            if (e.newKernel) {\n                const newKernelHandle = Array.from(this.kernels.entries()).find(([_, [kernel]]) => kernel.id === e.newKernel)?.[0];\n                if (newKernelHandle !== undefined) {\n                    this.proxy.$acceptNotebookAssociation(newKernelHandle, e.notebook.toComponents(), true);\n                }\n            } else {\n                const oldKernelHandle = Array.from(this.kernels.entries()).find(([_, [kernel]]) => kernel.id === e.oldKernel)?.[0];\n                if (oldKernelHandle !== undefined) {\n                    this.proxy.$acceptNotebookAssociation(oldKernelHandle, e.notebook.toComponents(), false);\n                }\n\n            }\n        });\n    }\n\n    async $postMessage(handle: number, editorId: string | undefined, message: unknown): Promise<boolean> {\n        const tuple = this.kernels.get(handle);\n        if (!tuple) {\n            throw new Error('kernel already disposed');\n        }\n        const [kernel] = tuple;\n        let didSend = false;\n        for (const editor of this.notebookEditorWidgetService.getNotebookEditors()) {\n            if (!editor.model) {\n                continue;\n            }\n            if (this.notebookKernelService.getMatchingKernel(editor.model).selected !== kernel) {\n                // different kernel\n                continue;\n            }\n            if (editorId === undefined) {\n                // all editors\n                editor.postKernelMessage(message);\n                didSend = true;\n            } else if (editor.id === editorId) {\n                // selected editors\n                editor.postKernelMessage(message);\n                didSend = true;\n                break;\n            }\n        }\n        return didSend;\n\n    }\n\n    async $addKernel(handle: number, data: NotebookKernelDto): Promise<void> {\n        const that = this;\n        const kernel = new class extends NotebookKernel {\n            async executeNotebookCellsRequest(uri: URI, handles: number[]): Promise<void> {\n                await that.proxy.$executeCells(handle, uri.toComponents(), handles);\n            }\n            async cancelNotebookCellExecution(uri: URI, handles: number[]): Promise<void> {\n                await that.proxy.$cancelCells(handle, uri.toComponents(), handles);\n            }\n        }(handle, data, this.languageService);\n\n        // this is for when a kernel is bound to a notebook while being registered\n        const autobindListener = this.notebookKernelService.onDidChangeSelectedKernel(e => {\n            if (e.newKernel === kernel.id) {\n                this.proxy.$acceptNotebookAssociation(handle, e.notebook.toComponents(), true);\n            }\n        });\n\n        const registration = this.notebookKernelService.registerKernel(kernel);\n        this.kernels.set(handle, [kernel, registration]);\n        autobindListener.dispose();\n    }\n\n    $updateKernel(handle: number, data: Partial<NotebookKernelDto>): void {\n        const tuple = this.kernels.get(handle);\n        if (tuple) {\n            tuple[0].update(data);\n        }\n    }\n\n    $removeKernel(handle: number): void {\n        const tuple = this.kernels.get(handle);\n        if (tuple) {\n            tuple[1].dispose();\n            this.kernels.delete(handle);\n        }\n    }\n\n    $updateNotebookPriority(handle: number, uri: UriComponents, value: number | undefined): void {\n        throw new Error('Method not implemented.');\n    }\n\n    $createExecution(handle: number, controllerId: string, uriComponents: UriComponents, cellHandle: number): void {\n        const uri = URI.fromComponents(uriComponents);\n        const notebook = this.notebookService.getNotebookEditorModel(uri);\n        if (!notebook) {\n            throw new Error(`Notebook not found: ${uri.toString()}`);\n        }\n\n        const kernel = this.notebookKernelService.getMatchingKernel(notebook);\n        if (!kernel.selected || kernel.selected.id !== controllerId) {\n            throw new Error(`Kernel is not selected: ${kernel.selected?.id} !== ${controllerId}`);\n        }\n        const execution = this.notebookExecutionStateService.getOrCreateCellExecution(uri, cellHandle);\n        execution.confirm();\n        this.executions.set(handle, execution);\n    }\n\n    $updateExecution(handle: number, updates: CellExecuteUpdateDto[]): void {\n        const execution = this.executions.get(handle);\n        execution?.update(updates.map(NotebookDto.fromCellExecuteUpdateDto));\n\n    }\n    $completeExecution(handle: number, data: CellExecutionCompleteDto): void {\n        try {\n            const execution = this.executions.get(handle);\n            execution?.complete(NotebookDto.fromCellExecuteCompleteDto(data));\n        } finally {\n            this.executions.delete(handle);\n        }\n\n    }\n\n    // TODO implement notebook execution (special api for executing full notebook instead of just cells)\n    $createNotebookExecution(handle: number, controllerId: string, uri: UriComponents): void {\n        throw new Error('Method not implemented.');\n    }\n    $beginNotebookExecution(handle: number): void {\n        throw new Error('Method not implemented.');\n    }\n    $completeNotebookExecution(handle: number): void {\n        throw new Error('Method not implemented.');\n    }\n\n    async $addKernelDetectionTask(handle: number, notebookType: string): Promise<void> {\n        const registration = this.notebookKernelService.registerNotebookKernelDetectionTask(notebookType);\n        this.kernelDetectionTasks.set(handle, [notebookType, registration]);\n    }\n    $removeKernelDetectionTask(handle: number): void {\n        const tuple = this.kernelDetectionTasks.get(handle);\n        if (tuple) {\n            tuple[1].dispose();\n            this.kernelDetectionTasks.delete(handle);\n        }\n    }\n    async $addKernelSourceActionProvider(handle: number, eventHandle: number, notebookType: string): Promise<void> {\n        const kernelSourceActionProvider: KernelSourceActionProvider = {\n            viewType: notebookType,\n            provideKernelSourceActions: async () => {\n                const actions = await this.proxy.$provideKernelSourceActions(handle, CancellationToken.None);\n\n                return actions.map(action => ({\n                    label: action.label,\n                    command: action.command,\n                    description: action.description,\n                    detail: action.detail,\n                    documentation: action.documentation,\n                }));\n            }\n        };\n\n        if (typeof eventHandle === 'number') {\n            const emitter = new Emitter<void>();\n            this.kernelSourceActionProvidersEventRegistrations.set(eventHandle, emitter);\n            kernelSourceActionProvider.onDidChangeSourceActions = emitter.event;\n        }\n\n        const registration = this.notebookKernelService.registerKernelSourceActionProvider(notebookType, kernelSourceActionProvider);\n        this.kernelSourceActionProviders.set(handle, [kernelSourceActionProvider, registration]);\n    }\n\n    $removeKernelSourceActionProvider(handle: number, eventHandle: number): void {\n        const tuple = this.kernelSourceActionProviders.get(handle);\n        if (tuple) {\n            tuple[1].dispose();\n            this.kernelSourceActionProviders.delete(handle);\n        }\n        if (typeof eventHandle === 'number') {\n            this.kernelSourceActionProvidersEventRegistrations.delete(eventHandle);\n        }\n    }\n    $emitNotebookKernelSourceActionsChangeEvent(eventHandle: number): void {\n    }\n\n    dispose(): void {\n        this.kernels.forEach(kernel => kernel[1].dispose());\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DisposableCollection } from '@theia/core';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { NotebookRendererMessagingService } from '@theia/notebook/lib/browser';\nimport { MAIN_RPC_CONTEXT, NotebookRenderersExt, NotebookRenderersMain } from '../../../common';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\n\nexport class NotebookRenderersMainImpl implements NotebookRenderersMain {\n    private readonly proxy: NotebookRenderersExt;\n    private readonly rendererMessagingService: NotebookRendererMessagingService;\n\n    private readonly disposables = new DisposableCollection();\n\n    constructor(\n        rpc: RPCProtocol,\n        container: interfaces.Container\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.NOTEBOOK_RENDERERS_EXT);\n        this.rendererMessagingService = container.get(NotebookRendererMessagingService);\n        this.rendererMessagingService.onPostMessage(e => {\n            this.proxy.$postRendererMessage(e.editorId, e.rendererId, e.message);\n        });\n    }\n\n    $postMessage(editorId: string | undefined, rendererId: string, message: unknown): Promise<boolean> {\n        return this.rendererMessagingService.receiveMessage(editorId, rendererId, message);\n    }\n\n    dispose(): void {\n        this.disposables.dispose();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { CancellationToken, DisposableCollection, Emitter, URI } from '@theia/core';\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\nimport { CellEditType, NotebookCellModelResource, NotebookData, NotebookModelResource, TransientOptions } from '@theia/notebook/lib/common';\nimport { NotebookService, NotebookWorkspaceEdit } from '@theia/notebook/lib/browser';\nimport { Disposable } from '@theia/plugin';\nimport { CommandRegistryMain, MAIN_RPC_CONTEXT, NotebooksExt, NotebooksMain, WorkspaceEditDto, WorkspaceNotebookCellEditDto } from '../../../common';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { NotebookDto } from './notebook-dto';\nimport { HostedPluginSupport } from '../../../hosted/browser/hosted-plugin';\nimport { NotebookModel } from '@theia/notebook/lib/browser/view-model/notebook-model';\nimport { NotebookCellModel } from '@theia/notebook/lib/browser/view-model/notebook-cell-model';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport {\n    NotebookCellStatusBarItemProvider,\n    NotebookCellStatusBarItemList,\n    NotebookCellStatusBarService\n} from '@theia/notebook/lib/browser/service/notebook-cell-status-bar-service';\n\nexport class NotebooksMainImpl implements NotebooksMain {\n\n    protected readonly disposables = new DisposableCollection();\n\n    protected notebookService: NotebookService;\n    protected cellStatusBarService: NotebookCellStatusBarService;\n\n    protected readonly proxy: NotebooksExt;\n    protected readonly notebookSerializer = new Map<number, Disposable>();\n    protected readonly notebookCellStatusBarRegistrations = new Map<number, Disposable>();\n\n    constructor(\n        rpc: RPCProtocol,\n        container: interfaces.Container,\n        commands: CommandRegistryMain\n    ) {\n        this.notebookService = container.get(NotebookService);\n        this.cellStatusBarService = container.get(NotebookCellStatusBarService);\n        const plugins = container.get(HostedPluginSupport);\n\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.NOTEBOOKS_EXT);\n        this.notebookService.onWillUseNotebookSerializer(event => plugins.activateByNotebookSerializer(event));\n        this.notebookService.markReady();\n        commands.registerArgumentProcessor({\n            processArgument: arg => {\n                if (arg instanceof NotebookModel) {\n                    return NotebookModelResource.create(arg.uri);\n                } else if (arg instanceof NotebookCellModel) {\n                    return NotebookCellModelResource.create(arg.uri);\n                }\n                return arg;\n            }\n        });\n    }\n\n    dispose(): void {\n        this.disposables.dispose();\n        for (const disposable of this.notebookSerializer.values()) {\n            disposable.dispose();\n        }\n    }\n\n    $registerNotebookSerializer(handle: number, viewType: string, options: TransientOptions): void {\n        const disposables = new DisposableCollection();\n\n        disposables.push(this.notebookService.registerNotebookSerializer(viewType, {\n            options,\n            toNotebook: async (data: BinaryBuffer): Promise<NotebookData> => {\n                const dto = await this.proxy.$dataToNotebook(handle, data, CancellationToken.None);\n                return NotebookDto.fromNotebookDataDto(dto);\n            },\n            fromNotebook: (data: NotebookData): Promise<BinaryBuffer> =>\n                this.proxy.$notebookToData(handle, NotebookDto.toNotebookDataDto(data), CancellationToken.None)\n\n        }));\n\n        this.notebookSerializer.set(handle, disposables);\n    }\n\n    $unregisterNotebookSerializer(handle: number): void {\n        this.notebookSerializer.get(handle)?.dispose();\n        this.notebookSerializer.delete(handle);\n    }\n\n    $emitCellStatusBarEvent(eventHandle: number): void {\n        const emitter = this.notebookCellStatusBarRegistrations.get(eventHandle);\n        if (emitter instanceof Emitter) {\n            emitter.fire(undefined);\n        }\n    }\n\n    async $registerNotebookCellStatusBarItemProvider(handle: number, eventHandle: number | undefined, viewType: string): Promise<void> {\n        const that = this;\n        const provider: NotebookCellStatusBarItemProvider = {\n            async provideCellStatusBarItems(notebookUri: URI, index: number, token: CancellationToken): Promise<NotebookCellStatusBarItemList | undefined> {\n                const result = await that.proxy.$provideNotebookCellStatusBarItems(handle, notebookUri.toComponents(), index, token);\n                return {\n                    items: result?.items ?? [],\n                    dispose(): void {\n                        if (result) {\n                            that.proxy.$releaseNotebookCellStatusBarItems(result.cacheId);\n                        }\n                    }\n                };\n            },\n            viewType\n        };\n\n        if (typeof eventHandle === 'number') {\n            const emitter = new Emitter<void>();\n            this.notebookCellStatusBarRegistrations.set(eventHandle, emitter);\n            provider.onDidChangeStatusBarItems = emitter.event;\n        }\n\n        const disposable = this.cellStatusBarService.registerCellStatusBarItemProvider(provider);\n        this.notebookCellStatusBarRegistrations.set(handle, disposable);\n    }\n\n    async $unregisterNotebookCellStatusBarItemProvider(handle: number, eventHandle: number | undefined): Promise<void> {\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const unregisterThing = (statusBarHandle: number) => {\n            const entry = this.notebookCellStatusBarRegistrations.get(statusBarHandle);\n            if (entry) {\n                this.notebookCellStatusBarRegistrations.get(statusBarHandle)?.dispose();\n                this.notebookCellStatusBarRegistrations.delete(statusBarHandle);\n            }\n        };\n        unregisterThing(handle);\n        if (typeof eventHandle === 'number') {\n            unregisterThing(eventHandle);\n        }\n    }\n}\n\nexport function toNotebookWorspaceEdit(dto: WorkspaceEditDto): NotebookWorkspaceEdit {\n    return {\n        edits: dto.edits.map((edit: WorkspaceNotebookCellEditDto) => ({\n            resource: URI.fromComponents(edit.resource),\n            edit: edit.cellEdit.editType === CellEditType.Replace ? {\n                ...edit.cellEdit,\n                cells: edit.cellEdit.cells.map(cell => NotebookDto.fromNotebookCellDataDto(cell))\n            } : edit.cellEdit\n        }))\n    };\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as React from '@theia/core/shared/react';\nimport { inject, injectable, interfaces } from '@theia/core/shared/inversify';\nimport { generateUuid } from '@theia/core/lib/common/uuid';\nimport {\n    NotebookRendererMessagingService, CellOutputWebview, NotebookRendererRegistry,\n    NotebookEditorWidgetService, NotebookKernelService, NotebookEditorWidget,\n    OutputRenderEvent,\n    NotebookCellOutputsSplice,\n    NotebookContentChangedEvent\n} from '@theia/notebook/lib/browser';\nimport { WebviewWidget } from '../../webview/webview';\nimport { Message, WidgetManager } from '@theia/core/lib/browser';\nimport { outputWebviewPreload, PreloadContext } from './output-webview-internal';\nimport { WorkspaceTrustService } from '@theia/workspace/lib/browser';\nimport {\n    CellOutputChange, CellsChangedMessage, CellsMoved, CellsSpliced,\n    ChangePreferredMimetypeMessage, FromWebviewMessage, Output, OutputChangedMessage\n} from './webview-communication';\nimport { Disposable, DisposableCollection, Emitter, QuickPickService, nls } from '@theia/core';\nimport { NotebookModel } from '@theia/notebook/lib/browser/view-model/notebook-model';\nimport { NotebookOptionsService, NotebookOutputOptions } from '@theia/notebook/lib/browser/service/notebook-options';\nimport { NotebookCellModel } from '@theia/notebook/lib/browser/view-model/notebook-cell-model';\nimport { CellOutput, NotebookCellsChangeType } from '@theia/notebook/lib/common';\nimport { NotebookCellOutputModel } from '@theia/notebook/lib/browser/view-model/notebook-cell-output-model';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { NOTEBOOK_OUTPUT_FOCUSED } from '@theia/notebook/lib/browser/contributions/notebook-context-keys';\n\nexport const AdditionalNotebookCellOutputCss = Symbol('AdditionalNotebookCellOutputCss');\n\nexport function createCellOutputWebviewContainer(ctx: interfaces.Container): interfaces.Container {\n    const child = ctx.createChild();\n    child.bind(AdditionalNotebookCellOutputCss).toConstantValue(DEFAULT_NOTEBOOK_OUTPUT_CSS);\n    child.bind(CellOutputWebviewImpl).toSelf();\n    return child;\n}\n\n// Should be kept up-to-date with:\n// https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/notebook/browser/view/renderers/webviewThemeMapping.ts\nconst mapping: ReadonlyMap<string, string> = new Map([\n    ['theme-font-family', 'vscode-font-family'],\n    ['theme-font-weight', 'vscode-font-weight'],\n    ['theme-font-size', 'vscode-font-size'],\n    ['theme-code-font-family', 'vscode-editor-font-family'],\n    ['theme-code-font-weight', 'vscode-editor-font-weight'],\n    ['theme-code-font-size', 'vscode-editor-font-size'],\n    ['theme-scrollbar-background', 'vscode-scrollbarSlider-background'],\n    ['theme-scrollbar-hover-background', 'vscode-scrollbarSlider-hoverBackground'],\n    ['theme-scrollbar-active-background', 'vscode-scrollbarSlider-activeBackground'],\n    ['theme-quote-background', 'vscode-textBlockQuote-background'],\n    ['theme-quote-border', 'vscode-textBlockQuote-border'],\n    ['theme-code-foreground', 'vscode-textPreformat-foreground'],\n    // Editor\n    ['theme-background', 'vscode-editor-background'],\n    ['theme-foreground', 'vscode-editor-foreground'],\n    ['theme-ui-foreground', 'vscode-foreground'],\n    ['theme-link', 'vscode-textLink-foreground'],\n    ['theme-link-active', 'vscode-textLink-activeForeground'],\n    // Buttons\n    ['theme-button-background', 'vscode-button-background'],\n    ['theme-button-hover-background', 'vscode-button-hoverBackground'],\n    ['theme-button-foreground', 'vscode-button-foreground'],\n    ['theme-button-secondary-background', 'vscode-button-secondaryBackground'],\n    ['theme-button-secondary-hover-background', 'vscode-button-secondaryHoverBackground'],\n    ['theme-button-secondary-foreground', 'vscode-button-secondaryForeground'],\n    ['theme-button-hover-foreground', 'vscode-button-foreground'],\n    ['theme-button-focus-foreground', 'vscode-button-foreground'],\n    ['theme-button-secondary-hover-foreground', 'vscode-button-secondaryForeground'],\n    ['theme-button-secondary-focus-foreground', 'vscode-button-secondaryForeground'],\n    // Inputs\n    ['theme-input-background', 'vscode-input-background'],\n    ['theme-input-foreground', 'vscode-input-foreground'],\n    ['theme-input-placeholder-foreground', 'vscode-input-placeholderForeground'],\n    ['theme-input-focus-border-color', 'vscode-focusBorder'],\n    // Menus\n    ['theme-menu-background', 'vscode-menu-background'],\n    ['theme-menu-foreground', 'vscode-menu-foreground'],\n    ['theme-menu-hover-background', 'vscode-menu-selectionBackground'],\n    ['theme-menu-focus-background', 'vscode-menu-selectionBackground'],\n    ['theme-menu-hover-foreground', 'vscode-menu-selectionForeground'],\n    ['theme-menu-focus-foreground', 'vscode-menu-selectionForeground'],\n    // Errors\n    ['theme-error-background', 'vscode-inputValidation-errorBackground'],\n    ['theme-error-foreground', 'vscode-foreground'],\n    ['theme-warning-background', 'vscode-inputValidation-warningBackground'],\n    ['theme-warning-foreground', 'vscode-foreground'],\n    ['theme-info-background', 'vscode-inputValidation-infoBackground'],\n    ['theme-info-foreground', 'vscode-foreground'],\n    // Notebook:\n    ['theme-notebook-output-background', 'vscode-notebook-outputContainerBackgroundColor'],\n    ['theme-notebook-output-border', 'vscode-notebook-outputContainerBorderColor'],\n    ['theme-notebook-cell-selected-background', 'vscode-notebook-selectedCellBackground'],\n    ['theme-notebook-symbol-highlight-background', 'vscode-notebook-symbolHighlightBackground'],\n    ['theme-notebook-diff-removed-background', 'vscode-diffEditor-removedTextBackground'],\n    ['theme-notebook-diff-inserted-background', 'vscode-diffEditor-insertedTextBackground'],\n]);\n\nconst constants: Record<string, string> = {\n    'theme-input-border-width': '1px',\n    'theme-button-primary-hover-shadow': 'none',\n    'theme-button-secondary-hover-shadow': 'none',\n    'theme-input-border-color': 'transparent',\n};\n\nexport const DEFAULT_NOTEBOOK_OUTPUT_CSS = `\n:root {\n    ${Array.from(mapping.entries()).map(([key, value]) => `--${key}: var(--${value});`).join('\\n')}\n    ${Object.entries(constants).map(([key, value]) => `--${key}: ${value};`).join('\\n')}\n}\n\nbody {\n    padding: 0;\n}\n\ntable {\n    border-collapse: collapse;\n    border-spacing: 0;\n}\n  \ntable th,\ntable td {\n    border: 1px solid;\n}\n\ntable > thead > tr > th {\n    text-align: left;\n    border-bottom: 1px solid;\n}\n\ntable > thead > tr > th,\ntable > thead > tr > td,\ntable > tbody > tr > th,\ntable > tbody > tr > td {\n    padding: 5px 10px;\n}\n\ntable > tbody > tr + tr > td {\n    border-top: 1px solid;\n}\n\ntable,\nthead,\ntr,\nth,\ntd,\ntbody {\n    border: none !important;\n    border-color: transparent;\n    border-spacing: 0;\n    border-collapse: collapse;\n}\n\ntable,\nth,\ntr {\n    vertical-align: middle;\n    text-align: right;\n}\n\nthead {\n    font-weight: bold;\n    background-color: rgba(130, 130, 130, 0.16);\n}\n\nth,\ntd {\n    padding: 4px 8px;\n}\n\ntr:nth-child(even) {\n    background-color: rgba(130, 130, 130, 0.08);\n}\n\ntbody th {\n    font-weight: normal;\n}\n`;\n\ninterface CellOutputUpdate extends NotebookCellOutputsSplice {\n    cellHandle: number\n}\n\n@injectable()\nexport class CellOutputWebviewImpl implements CellOutputWebview, Disposable {\n\n    @inject(NotebookRendererMessagingService)\n    protected readonly messagingService: NotebookRendererMessagingService;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    @inject(WorkspaceTrustService)\n    protected readonly workspaceTrustService: WorkspaceTrustService;\n\n    @inject(NotebookRendererRegistry)\n    protected readonly notebookRendererRegistry: NotebookRendererRegistry;\n\n    @inject(NotebookEditorWidgetService)\n    protected readonly notebookEditorWidgetService: NotebookEditorWidgetService;\n\n    @inject(NotebookKernelService)\n    protected readonly notebookKernelService: NotebookKernelService;\n\n    @inject(QuickPickService)\n    protected readonly quickPickService: QuickPickService;\n\n    @inject(AdditionalNotebookCellOutputCss)\n    protected readonly additionalOutputCss: string;\n\n    @inject(NotebookOptionsService)\n    protected readonly notebookOptionsService: NotebookOptionsService;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    // returns the output Height\n    protected readonly onDidRenderOutputEmitter = new Emitter<OutputRenderEvent>();\n    readonly onDidRenderOutput = this.onDidRenderOutputEmitter.event;\n\n    protected notebook: NotebookModel;\n\n    protected options: NotebookOutputOptions;\n\n    readonly id = generateUuid();\n\n    protected editor: NotebookEditorWidget | undefined;\n\n    protected element?: HTMLDivElement; // React.createRef<HTMLDivElement>();\n\n    protected webviewWidget: WebviewWidget;\n    protected webviewWidgetInitialized = new Deferred();\n\n    protected toDispose = new DisposableCollection();\n\n    protected isDisposed = false;\n\n    async init(notebook: NotebookModel, editor: NotebookEditorWidget): Promise<void> {\n        this.notebook = notebook;\n        this.editor = editor;\n        this.options = this.notebookOptionsService.computeOutputOptions();\n        this.toDispose.push(this.notebookOptionsService.onDidChangeOutputOptions(options => {\n            this.options = options;\n            this.updateStyles();\n        }));\n\n        this.webviewWidget = await this.widgetManager.getOrCreateWidget(WebviewWidget.FACTORY_ID, { id: this.id });\n\n        this.webviewWidgetInitialized.resolve();\n\n        // this.webviewWidget.parent = this.editor ?? null;\n        this.webviewWidget.setContentOptions({\n            allowScripts: true,\n            // eslint-disable-next-line max-len\n            // list taken from https://github.com/microsoft/vscode/blob/a27099233b956dddc2536d4a0d714ab36266d897/src/vs/workbench/contrib/notebook/browser/view/renderers/backLayerWebView.ts#L762-L774\n            enableCommandUris: [\n                'github-issues.authNow',\n                'workbench.extensions.search',\n                'workbench.action.openSettings',\n                '_notebook.selectKernel',\n                'jupyter.viewOutput',\n                'workbench.action.openLargeOutput',\n                'cellOutput.enableScrolling',\n            ],\n        });\n        this.webviewWidget.setHTML(await this.createWebviewContent());\n\n        this.notebook.onDidAddOrRemoveCell(e => {\n            if (e.newCellIds) {\n                const newCells = e.newCellIds.map(id => this.notebook.cells.find(cell => cell.handle === id)).filter(cell => !!cell) as NotebookCellModel[];\n                newCells.forEach(cell => this.attachCellAndOutputListeners(cell));\n            }\n        });\n        this.notebook.cells.forEach(cell => this.attachCellAndOutputListeners(cell));\n\n        if (this.editor) {\n            this.toDispose.push(this.editor.onDidPostKernelMessage(message => {\n                this.webviewWidget.sendMessage({\n                    type: 'customKernelMessage',\n                    message\n                });\n            }));\n\n            this.toDispose.push(this.editor.onPostRendererMessage(messageObj => {\n                this.webviewWidget.sendMessage({\n                    type: 'customRendererMessage',\n                    ...messageObj\n                });\n            }));\n\n        }\n\n        this.webviewWidget.onMessage((message: FromWebviewMessage) => {\n            this.handleWebviewMessage(message);\n        });\n    }\n\n    attachCellAndOutputListeners(cell: NotebookCellModel): void {\n        this.toDispose.push(cell.onDidChangeOutputs(outputChange => this.updateOutputs([{\n            newOutputs: outputChange.newOutputs,\n            start: outputChange.start,\n            deleteCount: outputChange.deleteCount,\n            cellHandle: cell.handle\n        }])));\n        this.toDispose.push(cell.onDidChangeOutputItems(output => {\n            const oldOutputIndex = cell.outputs.findIndex(o => o.outputId === output.outputId);\n            this.updateOutputs([{\n                cellHandle: cell.handle,\n                newOutputs: [output],\n                start: oldOutputIndex,\n                deleteCount: 1\n            }]);\n        }));\n        this.toDispose.push(cell.onDidCellHeightChange(height => this.setCellHeight(cell, height)));\n        this.toDispose.push(cell.onDidChangeOutputVisibility(visible => {\n            this.webviewWidget.sendMessage({\n                type: 'outputVisibilityChanged',\n                cellHandle: cell.handle,\n                visible\n            });\n        }));\n    }\n\n    render(): React.JSX.Element {\n        return <div className='theia-notebook-cell-output-webview' ref={async element => {\n            if (element) {\n                this.element = element;\n                await this.webviewWidgetInitialized.promise;\n                this.attachWebview();\n            }\n        }}></div>;\n    }\n\n    protected attachWebview(): void {\n        if (this.element) {\n            this.webviewWidget.processMessage(new Message('before-attach'));\n            this.element.appendChild(this.webviewWidget.node);\n            this.webviewWidget.processMessage(new Message('after-attach'));\n            this.webviewWidget.setIframeHeight(0);\n        }\n    }\n\n    isAttached(): boolean {\n        return this.element?.contains(this.webviewWidget.node) ?? false;\n    }\n\n    updateOutputs(updates: CellOutputUpdate[]): void {\n        if (this.webviewWidget.isHidden) {\n            this.webviewWidget.show();\n        }\n\n        const visibleCells = this.notebook.getVisibleCells();\n        const visibleCellHandleLookup = new Set(visibleCells.map(cell => cell.handle));\n\n        const updateOutputMessage: OutputChangedMessage = {\n            type: 'outputChanged',\n            changes: updates\n                .filter(update => visibleCellHandleLookup.has(update.cellHandle))\n                .map(update => ({\n                    cellHandle: update.cellHandle,\n                    newOutputs: this.mapCellOutputsToWebviewOutput(update.newOutputs),\n                    start: update.start,\n                    deleteCount: update.deleteCount\n                }))\n        };\n\n        if (updateOutputMessage.changes.length > 0) {\n            this.webviewWidget.sendMessage(updateOutputMessage);\n        }\n    }\n\n    cellsChanged(cellEvents: NotebookContentChangedEvent[]): void {\n        const changes: Array<CellsMoved | CellsSpliced> = [];\n        const outputChanges: CellOutputChange[] = [];\n\n        const visibleCellLookup = new Set(this.notebook.getVisibleCells());\n        for (const event of cellEvents) {\n            if (event.kind === NotebookCellsChangeType.Move) {\n                changes.push(...event.cells.map((cell, i) => {\n                    const cellMoved: CellsMoved = {\n                        type: 'cellMoved',\n                        cellHandle: event.cells[0].handle, // TODO check this, ask Jonah\n                        toIndex: event.newIdx,\n                    };\n                    return cellMoved;\n                }));\n            } else if (event.kind === NotebookCellsChangeType.ModelChange) {\n                changes.push(...event.changes.map(change => {\n                    const cellSpliced: CellsSpliced = {\n                        type: 'cellsSpliced',\n                        startCellHandle: change.startHandle,\n                        deleteCount: change.deleteCount,\n                        newCells: change.newItems.filter(cell => visibleCellLookup.has(cell as NotebookCellModel)).map(cell => cell.handle)\n                    };\n                    return cellSpliced;\n                }\n                ));\n                outputChanges.push(...event.changes\n                    .flatMap(change => change.newItems)\n                    .filter(cell => visibleCellLookup.has(cell as NotebookCellModel) && cell.outputs.length)\n                    .map(newCell => ({\n                        start: 0,\n                        deleteCount: 0,\n                        cellHandle: newCell.handle,\n                        newOutputs: this.mapCellOutputsToWebviewOutput(newCell.outputs)\n                    })));\n            }\n        }\n\n        this.webviewWidget.sendMessage({\n            type: 'cellsChanged',\n            changes: changes.filter(e => e)\n        } as CellsChangedMessage);\n        if (outputChanges.length > 0) {\n            this.webviewWidget.sendMessage({\n                type: 'outputChanged',\n                changes: outputChanges\n            });\n        }\n    }\n\n    protected mapCellOutputsToWebviewOutput(outputs: CellOutput[]): Output[] {\n        return outputs.map(output => ({\n            id: output.outputId,\n            items: output.outputs.map(item => ({ mime: item.mime, data: item.data.buffer })),\n            metadata: output.metadata\n        }));\n    }\n\n    /**\n     * Currently not used, but could be useful in a subclasses\n     *\n     * @param index cell index\n     * @param cellHandle cell handle\n     * @param visibleCells  visible cells\n     * @returns visible cell index or -1 if not found\n     */\n    protected toVisibleCellIndex(index: number, cellHandle: number, visibleCells: Array<NotebookCellModel>): number {\n        const cell = this.notebook.cells[index];\n        if (cell.handle === cellHandle) {\n            return visibleCells.indexOf(cell);\n        }\n        // in case of deletion index points to a non-existing cell\n        return -1;\n    }\n\n    setCellHeight(cell: NotebookCellModel, height: number): void {\n        if (!this.isDisposed) {\n            this.webviewWidget.sendMessage({\n                type: 'cellHeightUpdate',\n                cellHandle: cell.handle,\n                cellKind: cell.cellKind,\n                height\n            });\n        }\n    }\n\n    async requestOutputPresentationUpdate(cellHandle: number, output: NotebookCellOutputModel): Promise<void> {\n        const selectedMime = await this.quickPickService.show(\n            output.outputs.map(item => ({ label: item.mime })),\n            { description: nls.localizeByDefault('Select mimetype to render for current output') });\n        if (selectedMime) {\n            this.webviewWidget.sendMessage({\n                type: 'changePreferredMimetype',\n                cellHandle,\n                outputId: output.outputId,\n                mimeType: selectedMime.label\n            } as ChangePreferredMimetypeMessage);\n        }\n    }\n\n    protected handleWebviewMessage(message: FromWebviewMessage): void {\n        if (!this.editor) {\n            throw new Error('No editor found for cell output webview');\n        }\n\n        switch (message.type) {\n            case 'initialized':\n                this.updateOutputs(this.notebook.getVisibleCells().map(cell => ({\n                    cellHandle: cell.handle,\n                    newOutputs: cell.outputs,\n                    start: 0,\n                    deleteCount: 0\n                })));\n                this.updateStyles();\n                break;\n            case 'customRendererMessage':\n                this.messagingService.getScoped(this.editor.id).postMessage(message.rendererId, message.message);\n                break;\n            case 'didRenderOutput':\n                this.webviewWidget.setIframeHeight(message.bodyHeight);\n                this.onDidRenderOutputEmitter.fire({\n                    cellHandle: message.cellHandle,\n                    outputId: message.outputId,\n                    outputHeight: message.outputHeight\n                });\n                break;\n            case 'did-scroll-wheel':\n                this.editor.node.getElementsByClassName('theia-notebook-viewport')[0].children[0].scrollBy(message.deltaX, message.deltaY);\n                break;\n            case 'customKernelMessage':\n                this.editor.recieveKernelMessage(message.message);\n                break;\n            case 'inputFocusChanged':\n                this.editor?.outputInputFocusChanged(message.focused);\n                break;\n            case 'cellFocusChanged':\n                const selectedCell = this.notebook.getCellByHandle(message.cellHandle);\n                if (selectedCell) {\n                    this.editor.viewModel.setSelectedCell(selectedCell);\n                }\n                break;\n            case 'webviewFocusChanged':\n                if (message.focused) {\n                    window.getSelection()?.empty();\n                }\n                this.contextKeyService.setContext(NOTEBOOK_OUTPUT_FOCUSED, message.focused);\n                break;\n            case 'cellHeightRequest':\n                const cellHeight = this.notebook.getCellByHandle(message.cellHandle)?.cellHeight ?? 0;\n                this.webviewWidget.sendMessage({\n                    type: 'cellHeightUpdate',\n                    cellHandle: message.cellHandle,\n                    height: cellHeight\n                });\n                break;\n            case 'bodyHeightChange':\n                this.webviewWidget.setIframeHeight(message.height);\n                break;\n        }\n    }\n\n    getPreloads(): string[] {\n        const kernel = this.notebookKernelService.getSelectedOrSuggestedKernel(this.notebook);\n        const kernelPreloads = kernel?.preloadUris.map(uri => uri.toString()) ?? [];\n\n        const staticPreloads = this.notebookRendererRegistry.staticNotebookPreloads\n            .filter(preload => preload.type === this.notebook.viewType)\n            .map(preload => preload.entrypoint);\n        return kernelPreloads.concat(staticPreloads);\n    }\n\n    protected updateStyles(): void {\n        this.webviewWidget.sendMessage({\n            type: 'notebookStyles',\n            styles: this.generateStyles()\n        });\n    }\n\n    protected generateStyles(): { [key: string]: string } {\n        return {\n            'notebook-output-node-left-padding': `${this.options.outputNodeLeftPadding}px`,\n            'notebook-cell-output-font-size': `${this.options.outputFontSize || this.options.fontSize}px`,\n            'notebook-cell-output-line-height': `${this.options.outputLineHeight}px`,\n            'notebook-cell-output-max-height': `${this.options.outputLineHeight * this.options.outputLineLimit}px`,\n            'notebook-cell-output-font-family': this.options.outputFontFamily || this.options.fontFamily,\n        };\n    }\n\n    private async createWebviewContent(): Promise<string> {\n        const isWorkspaceTrusted = await this.workspaceTrustService.getWorkspaceTrust();\n        const preloads = this.preloadsScriptString(isWorkspaceTrusted);\n        const content = `\n                <html>\n                    <head>\n                        <meta charset=\"UTF-8\">\n                        <style>\n                            ${this.additionalOutputCss}\n                        </style>\n                    </head>\n                    <body>\n                        <script type=\"module\">${preloads}</script>\n                    </body>\n                </html>\n                `;\n        return content;\n    }\n\n    private preloadsScriptString(isWorkspaceTrusted: boolean): string {\n        const ctx: PreloadContext = {\n            isWorkspaceTrusted,\n            rendererData: this.notebookRendererRegistry.notebookRenderers,\n            renderOptions: {\n                lineLimit: this.options.outputLineLimit,\n                outputScrolling: this.options.outputScrolling,\n                outputWordWrap: this.options.outputWordWrap,\n            },\n            staticPreloadsData: this.getPreloads()\n        };\n        // TS will try compiling `import()` in webviewPreloads, so use a helper function instead\n        // of using `import(...)` directly\n        return `\n            const __import = (x) => import(x);\n                (${outputWebviewPreload})(JSON.parse(decodeURIComponent(\"${encodeURIComponent(JSON.stringify(ctx))}\")))`;\n    }\n\n    dispose(): void {\n        this.isDisposed = true;\n        this.toDispose.dispose();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// only type imports are allowed here since this runs in an iframe. All other code is not accessible\nimport type * as webviewCommunication from './webview-communication';\nimport type * as rendererApi from 'vscode-notebook-renderer';\nimport type { Disposable, Event } from '@theia/core';\n\ndeclare const acquireVsCodeApi: () => ({\n    getState(): { [key: string]: unknown };\n    setState(data: { [key: string]: unknown }): void;\n    postMessage: (msg: unknown) => void;\n});\n\ndeclare function __import(path: string): Promise<unknown>;\n\ninterface Listener<T> { fn: (evt: T) => void; thisArg: unknown };\n\ninterface EmitterLike<T> {\n    fire(data: T): void;\n    event: Event<T>;\n}\n\ninterface RendererContext extends rendererApi.RendererContext<unknown> {\n    readonly onDidChangeSettings: Event<RenderOptions>;\n    readonly settings: RenderOptions;\n}\n\ninterface NotebookRendererEntrypoint {\n    readonly path: string;\n    readonly extends?: string\n};\n\nexport interface RenderOptions {\n    readonly lineLimit: number;\n    readonly outputScrolling: boolean;\n    readonly outputWordWrap: boolean;\n}\n\nexport interface PreloadContext {\n    readonly isWorkspaceTrusted: boolean;\n    readonly rendererData: readonly webviewCommunication.RendererMetadata[];\n    readonly renderOptions: RenderOptions;\n    readonly staticPreloadsData: readonly string[];\n}\n\ninterface KernelPreloadContext {\n    readonly onDidReceiveKernelMessage: Event<unknown>;\n    postKernelMessage(data: unknown): void;\n}\n\ninterface KernelPreloadModule {\n    activate(ctx: KernelPreloadContext): Promise<void> | void;\n}\n\nexport async function outputWebviewPreload(ctx: PreloadContext): Promise<void> {\n    // workaround to allow rendering of links in outputs for non chromium browsers\n    // see https://developer.mozilla.org/en-US/docs/Web/API/Trusted_Types_API#cross-browser_support_for_trusted_types\n    if (!window.trustedTypes) {\n        window.trustedTypes = {\n            createPolicy: (name: string, rules: unknown) => rules\n        } as unknown as typeof window.trustedTypes;\n    }\n\n    const theia = acquireVsCodeApi();\n    const renderFallbackErrorName = 'vscode.fallbackToNextRenderer';\n\n    document.body.style.overflow = 'hidden';\n    const container = document.createElement('div');\n    container.id = 'container';\n    container.classList.add('widgetarea');\n    document.body.appendChild(container);\n\n    function createEmitter<T>(listenerChange: (listeners: Set<Listener<T>>) => void = () => undefined): EmitterLike<T> {\n        const listeners = new Set<Listener<T>>();\n        return {\n            fire(data: T): void {\n                for (const listener of [...listeners]) {\n                    listener.fn.call(listener.thisArg, data);\n                }\n            },\n            event(fn, thisArg, disposables): Disposable {\n                const listenerObj = { fn, thisArg };\n                const disposable: Disposable = {\n                    dispose: () => {\n                        listeners.delete(listenerObj);\n                        listenerChange(listeners);\n                    },\n                };\n\n                listeners.add(listenerObj);\n                listenerChange(listeners);\n\n                if (disposables) {\n                    if ('push' in disposables) {\n                        disposables.push(disposable);\n                    } else {\n                        disposables.add(disposable);\n                    }\n                }\n                return disposable;\n            }\n        };\n    };\n\n    const settingChange: EmitterLike<RenderOptions> = createEmitter<RenderOptions>();\n\n    const onDidReceiveKernelMessage = createEmitter<unknown>();\n\n    function createKernelContext(): KernelPreloadContext {\n        return Object.freeze({\n            onDidReceiveKernelMessage: onDidReceiveKernelMessage.event,\n            postKernelMessage: (data: unknown) => {\n                theia.postMessage({ type: 'customKernelMessage', message: data });\n            }\n        });\n    }\n\n    async function runKernelPreload(url: string): Promise<void> {\n        try {\n            return activateModuleKernelPreload(url);\n        } catch (e) {\n            console.error(e);\n            throw e;\n        }\n    }\n\n    async function activateModuleKernelPreload(url: string): Promise<void> {\n        const baseUri = window.location.href.replace(/\\/webview\\/index\\.html.*/, '');\n        const module: KernelPreloadModule = (await __import(`${baseUri}/${url}`)) as KernelPreloadModule;\n        if (!module.activate) {\n            console.error(`Notebook preload '${url}' was expected to be a module but it does not export an 'activate' function`);\n            return;\n        }\n        return module.activate(createKernelContext());\n    }\n\n    class OutputCell {\n        readonly element: HTMLElement;\n        readonly outputElements: OutputContainer[] = [];\n\n        private cellHeight: number = 0;\n\n        constructor(public cellHandle: number, cellIndex?: number) {\n            this.element = document.createElement('div');\n            this.element.style.outline = '0';\n\n            this.element.id = `cellHandle${cellHandle}`;\n            this.element.classList.add('cell_container');\n\n            this.element.addEventListener('focusin', e => {\n                theia.postMessage({ type: 'cellFocusChanged', cellHandle: cellHandle });\n            });\n\n            if (cellIndex !== undefined && cellIndex < container.children.length) {\n                container.insertBefore(this.element, container.children[cellIndex]);\n            } else {\n                container.appendChild(this.element);\n            }\n            this.element = this.element;\n\n            theia.postMessage({ type: 'cellHeightRequest', cellHandle: cellHandle });\n        }\n\n        public dispose(): void {\n            this.element.remove();\n        }\n\n        calcTotalOutputHeight(): number {\n            return this.outputElements.reduce((acc, output) => acc + output.element.getBoundingClientRect().height, 0) + 5;\n        }\n\n        createOutputElement(index: number, output: webviewCommunication.Output, items: rendererApi.OutputItem[]): OutputContainer {\n            let outputContainer = this.outputElements.find(o => o.outputId === output.id);\n            if (!outputContainer) {\n                outputContainer = new OutputContainer(output, items, this);\n                this.element.appendChild(outputContainer.containerElement);\n                this.outputElements.splice(index, 0, outputContainer);\n                this.updateCellHeight(this.cellHeight);\n            }\n\n            return outputContainer;\n        }\n\n        public clearOutputs(start: number, deleteCount: number): void {\n            for (const output of this.outputElements.splice(start, deleteCount)) {\n                output?.clear();\n                output.containerElement.remove();\n            }\n        }\n\n        public show(outputId: string, top: number): void {\n            const outputContainer = this.outputElements.find(o => o.outputId === outputId);\n            if (!outputContainer) {\n                return;\n            }\n        }\n\n        public hide(): void {\n            this.element.style.visibility = 'hidden';\n        }\n\n        public updateCellHeight(height: number): void {\n            this.cellHeight = height;\n            let additionalHeight = 54.5;\n            additionalHeight -= cells[0] === this ? 2.5 : 0; // first cell\n            additionalHeight -= this.outputElements.length ? 0 : 5.5; // no outputs\n            this.element.style.paddingTop = `${height + additionalHeight}px`;\n        }\n\n        public outputVisibilityChanged(visible: boolean): void {\n            this.outputElements.forEach(output => {\n                output.element.style.display = visible ? 'initial' : 'none';\n                output.containerElement.style.minHeight = visible ? '20px' : '0px';\n            });\n            if (visible) {\n                this.element.getElementsByClassName('output-hidden')?.[0].remove();\n                window.requestAnimationFrame(() => this.outputElements.forEach(output => sendDidRenderMessage(this, output)));\n            } else {\n                const outputHiddenElement = document.createElement('div');\n                outputHiddenElement.classList.add('output-hidden');\n                outputHiddenElement.style.height = '16px';\n                this.element.appendChild(outputHiddenElement);\n            }\n        }\n\n        // public updateScroll(request: webviewCommunication.IContentWidgetTopRequest): void {\n        //     this.element.style.top = `${request.cellTop}px`;\n\n        //     const outputElement = this.outputElements.get(request.outputId);\n        //     if (outputElement) {\n        //         outputElement.updateScroll(request.outputOffset);\n\n        //         if (request.forceDisplay && outputElement.element) {\n        //             // TODO @rebornix @mjbvz, there is a misalignment here.\n        //             // We set output visibility on cell container, other than output container or output node itself.\n        //             outputElement.element.style.visibility = '';\n        //         }\n        //     }\n\n        //     if (request.forceDisplay) {\n        //         this.element.style.visibility = '';\n        //     }\n    }\n\n    const cells: OutputCell[] = [];\n\n    class OutputContainer {\n        readonly outputId: string;\n        readonly cellId: string;\n        renderedItem?: rendererApi.OutputItem;\n        allItems: rendererApi.OutputItem[];\n\n        renderer: Renderer;\n\n        element: HTMLElement;\n        containerElement: HTMLElement;\n\n        constructor(output: webviewCommunication.Output, items: rendererApi.OutputItem[], private cell: OutputCell) {\n            this.outputId = output.id;\n            this.createHtmlElement();\n            this.allItems = items;\n        }\n\n        findItemToRender(preferredMimetype?: string): rendererApi.OutputItem {\n            if (preferredMimetype) {\n                const itemToRender = this.allItems.find(item => item.mime === preferredMimetype);\n                if (itemToRender) {\n                    return itemToRender;\n                }\n            }\n            return this.renderedItem ?? this.allItems[0];\n        }\n\n        clear(): void {\n            this.renderer?.disposeOutputItem?.(this.renderedItem?.id);\n            this.element.innerHTML = '';\n        }\n\n        preferredMimeTypeChange(mimeType: string): void {\n            this.containerElement.remove();\n            this.createHtmlElement();\n            this.cell.element.appendChild(this.containerElement);\n            renderers.render(this.cell, this, mimeType, undefined, new AbortController().signal);\n        }\n\n        private createHtmlElement(): void {\n            this.containerElement = document.createElement('div');\n            this.containerElement.classList.add('output-container');\n            this.containerElement.style.minHeight = '20px';\n            this.element = document.createElement('div');\n            this.element.id = this.outputId;\n            this.element.classList.add('output');\n            this.containerElement.appendChild(this.element);\n        }\n\n    }\n\n    class Renderer {\n\n        entrypoint: NotebookRendererEntrypoint;\n\n        private rendererApi?: rendererApi.RendererApi;\n\n        private onMessageEvent: EmitterLike<unknown> = createEmitter();\n\n        constructor(\n            public readonly data: webviewCommunication.RendererMetadata\n        ) { }\n\n        public receiveMessage(message: unknown): void {\n            this.onMessageEvent.fire(message);\n        }\n\n        public disposeOutputItem(id?: string): void {\n            this.rendererApi?.disposeOutputItem?.(id);\n        }\n\n        async getOrLoad(): Promise<rendererApi.RendererApi | undefined> {\n            if (this.rendererApi) {\n                return this.rendererApi;\n            }\n\n            // Preloads need to be loaded before loading renderers.\n            await kernelPreloads.waitForAllCurrent();\n\n            const baseUri = window.location.href.replace(/\\/webview\\/index\\.html.*/, '');\n            const rendererModule = await __import(`${baseUri}/${this.data.entrypoint.uri}`) as { activate: rendererApi.ActivationFunction };\n            this.rendererApi = await rendererModule.activate(this.createRendererContext());\n            return this.rendererApi;\n        }\n\n        protected createRendererContext(): RendererContext {\n            const context: RendererContext = {\n                setState: newState => theia.setState({ ...theia.getState(), [this.data.id]: newState }),\n                getState: <T>() => {\n                    const state = theia.getState();\n                    return typeof state === 'object' && state ? state[this.data.id] as T : undefined;\n                },\n                getRenderer: async (id: string) => {\n                    const renderer = renderers.getRenderer(id);\n                    if (!renderer) {\n                        return undefined;\n                    }\n                    if (renderer.rendererApi) {\n                        return renderer.rendererApi;\n                    }\n                    return renderer.getOrLoad();\n                },\n                workspace: {\n                    get isTrusted(): boolean { return true; } // TODO use Workspace trust service\n                },\n                settings: {\n                    get lineLimit(): number { return ctx.renderOptions.lineLimit; },\n                    get outputScrolling(): boolean { return ctx.renderOptions.outputScrolling; },\n                    get outputWordWrap(): boolean { return ctx.renderOptions.outputWordWrap; },\n                },\n                get onDidChangeSettings(): Event<RenderOptions> { return settingChange.event; },\n            };\n\n            if (this.data.requiresMessaging) {\n                context.onDidReceiveMessage = this.onMessageEvent.event;\n                context.postMessage = message => {\n                    theia.postMessage({ type: 'customRendererMessage', rendererId: this.data.id, message });\n                };\n            }\n\n            return Object.freeze(context);\n        }\n    }\n\n    const renderers = new class {\n        private readonly renderers = new Map</* id */ string, Renderer>();\n\n        constructor() {\n            for (const renderer of ctx.rendererData) {\n                this.addRenderer(renderer);\n            }\n        }\n\n        public getRenderer(id: string): Renderer | undefined {\n            return this.renderers.get(id);\n        }\n\n        private rendererEqual(a: webviewCommunication.RendererMetadata, b: webviewCommunication.RendererMetadata): boolean {\n            if (a.id !== b.id || a.entrypoint.uri !== b.entrypoint.uri || a.entrypoint.extends !== b.entrypoint.extends || a.requiresMessaging !== b.requiresMessaging) {\n                return false;\n            }\n\n            if (a.mimeTypes.length !== b.mimeTypes.length) {\n                return false;\n            }\n\n            for (let i = 0; i < a.mimeTypes.length; i++) {\n                if (a.mimeTypes[i] !== b.mimeTypes[i]) {\n                    return false;\n                }\n            }\n\n            return true;\n        }\n\n        public updateRendererData(rendererData: readonly webviewCommunication.RendererMetadata[]): void {\n            const oldKeys = new Set(this.renderers.keys());\n            const newKeys = new Set(rendererData.map(d => d.id));\n\n            for (const renderer of rendererData) {\n                const existing = this.renderers.get(renderer.id);\n                if (existing && this.rendererEqual(existing.data, renderer)) {\n                    continue;\n                }\n\n                this.addRenderer(renderer);\n            }\n\n            for (const key of oldKeys) {\n                if (!newKeys.has(key)) {\n                    this.renderers.delete(key);\n                }\n            }\n        }\n\n        private addRenderer(renderer: webviewCommunication.RendererMetadata): void {\n            this.renderers.set(renderer.id, new Renderer(renderer));\n        }\n\n        public clearAll(): void {\n            for (const renderer of this.renderers.values()) {\n                renderer.disposeOutputItem();\n            }\n        }\n\n        public clearOutput(rendererId: string, outputId: string): void {\n            // outputRunner.cancelOutput(outputId);\n            this.renderers.get(rendererId)?.disposeOutputItem(outputId);\n        }\n\n        public async render(cell: OutputCell, output: OutputContainer, preferredMimeType: string | undefined,\n            preferredRendererId: string | undefined, signal: AbortSignal): Promise<void> {\n            const item = output.findItemToRender(preferredMimeType);\n            const primaryRenderer = this.findRenderer(preferredRendererId, item);\n            if (!primaryRenderer) {\n                this.showRenderError(item, output.element, 'No renderer found for output type.');\n                return;\n            }\n\n            // Try primary renderer first\n            if (!(await this.doRender(item, output.element, primaryRenderer, signal)).continue) {\n                output.renderer = primaryRenderer;\n                this.onRenderCompleted(cell, output);\n                return;\n            }\n\n            // Primary renderer failed in an expected way. Fallback to render the next mime types\n            for (const additionalItem of output.allItems) {\n                if (additionalItem.mime === item.mime) {\n                    continue;\n                }\n\n                if (signal.aborted) {\n                    return;\n                }\n\n                if (additionalItem) {\n                    const renderer = this.findRenderer(undefined, additionalItem);\n                    if (renderer) {\n                        if (!(await this.doRender(additionalItem, output.element, renderer, signal)).continue) {\n                            output.renderer = renderer;\n                            this.onRenderCompleted(cell, output);\n                            return; // We rendered successfully\n                        }\n                    }\n                }\n            }\n\n            // All renderers have failed and there is nothing left to fallback to\n            this.showRenderError(item, output.element, 'No fallback renderers found or all fallback renderers failed.');\n        }\n\n        private onRenderCompleted(cell: OutputCell, output: OutputContainer): void {\n            // we need to check for all images are loaded. Otherwise we can't determine the correct height of the output\n            const images = Array.from(document.images);\n            if (images.length > 0) {\n                Promise.all(images\n                    .filter(img => !img.complete && !img.dataset.waiting)\n                    .map(img => {\n                        img.dataset.waiting = 'true'; // mark to avoid overriding onload a second time\n                        return new Promise(resolve => { img.onload = img.onerror = resolve; });\n                    })).then(() => {\n                        sendDidRenderMessage(cell, output);\n                        new ResizeObserver(() => sendDidRenderMessage(cell, output)).observe(cell.element);\n                    });\n            } else {\n                sendDidRenderMessage(cell, output);\n                new ResizeObserver(() => sendDidRenderMessage(cell, output)).observe(cell.element);\n            }\n\n        }\n\n        private async doRender(item: rendererApi.OutputItem, element: HTMLElement, renderer: Renderer, signal: AbortSignal): Promise<{ continue: boolean }> {\n            try {\n                await (await renderer.getOrLoad())?.renderOutputItem(item, element, signal);\n                return { continue: false }; // We rendered successfully\n            } catch (e) {\n                if (signal.aborted) {\n                    return { continue: false };\n                }\n\n                if (e instanceof Error && e.name === renderFallbackErrorName) {\n                    return { continue: true };\n                } else {\n                    throw e; // Bail and let callers handle unknown errors\n                }\n            }\n        }\n\n        private findRenderer(preferredRendererId: string | undefined, info: rendererApi.OutputItem): Renderer | undefined {\n            let foundRenderer: Renderer | undefined;\n\n            if (typeof preferredRendererId === 'string') {\n                foundRenderer = Array.from(this.renderers.values())\n                    .find(renderer => renderer.data.id === preferredRendererId);\n            } else {\n                const rendererList = Array.from(this.renderers.values())\n                    .filter(renderer => renderer.data.mimeTypes.includes(info.mime) && !renderer.data.entrypoint.extends);\n\n                if (rendererList.length) {\n                    // De-prioritize built-in renderers\n                    // rendererList.sort((a, b) => +a.data.isBuiltin - +b.data.isBuiltin);\n\n                    // Use first renderer we find in sorted list\n                    foundRenderer = rendererList[0];\n                }\n            }\n            return foundRenderer;\n        }\n\n        private showRenderError(info: rendererApi.OutputItem, element: HTMLElement, errorMessage: string): void {\n            const errorContainer = document.createElement('div');\n\n            const error = document.createElement('div');\n            error.className = 'no-renderer-error';\n            error.innerText = errorMessage;\n\n            const cellText = document.createElement('div');\n            cellText.innerText = info.text();\n\n            errorContainer.appendChild(error);\n            errorContainer.appendChild(cellText);\n\n            element.innerText = '';\n            element.appendChild(errorContainer);\n        }\n    }();\n\n    function sendDidRenderMessage(cell: OutputCell, output: OutputContainer): void {\n        theia.postMessage(<webviewCommunication.OnDidRenderOutput>{\n            type: 'didRenderOutput',\n            cellHandle: cell.cellHandle,\n            outputId: output.outputId,\n            outputHeight: cell.calcTotalOutputHeight(),\n            bodyHeight: document.body.clientHeight\n        });\n    }\n\n    const kernelPreloads = new class {\n        private readonly preloads = new Map<string /* uri */, Promise<unknown>>();\n\n        /**\n         * Returns a promise that resolves when the given preload is activated.\n         */\n        public waitFor(uri: string): Promise<unknown> {\n            return this.preloads.get(uri) || Promise.resolve(new Error(`Preload not ready: ${uri}`));\n        }\n\n        /**\n         * Loads a preload.\n         * @param uri URI to load from\n         * @param originalUri URI to show in an error message if the preload is invalid.\n         */\n        public load(uri: string): Promise<unknown> {\n            const promise = Promise.all([\n                runKernelPreload(uri),\n                this.waitForAllCurrent(),\n            ]);\n\n            this.preloads.set(uri, promise);\n            return promise;\n        }\n\n        /**\n         * Returns a promise that waits for all currently-registered preloads to\n         * activate before resolving.\n         */\n        public waitForAllCurrent(): Promise<unknown[]> {\n            return Promise.all([...this.preloads.values()].map(p => p.catch(err => err)));\n        }\n    };\n\n    await Promise.all(ctx.staticPreloadsData.map(preload => kernelPreloads.load(preload)));\n\n    async function outputsChanged(changedEvent: webviewCommunication.OutputChangedMessage): Promise<void> {\n        for (const cellChange of changedEvent.changes) {\n            let cell = cells.find(c => c.cellHandle === cellChange.cellHandle);\n            if (!cell) {\n                cell = new OutputCell(cellChange.cellHandle);\n                cells.push(cell);\n            }\n\n            cell.clearOutputs(cellChange.start, cellChange.deleteCount);\n\n            for (const outputData of cellChange.newOutputs ?? []) {\n                const apiItems: rendererApi.OutputItem[] = outputData.items.map((item, index) => ({\n                    id: `${outputData.id}-${index}`,\n                    mime: item.mime,\n                    metadata: outputData.metadata,\n                    data(): Uint8Array {\n                        return item.data;\n                    },\n                    text(): string {\n                        return new TextDecoder().decode(this.data());\n                    },\n                    json(): unknown {\n                        return JSON.parse(this.text());\n                    },\n                    blob(): Blob {\n                        return new Blob([this.data()], { type: this.mime });\n                    },\n\n                }));\n                const output = cell.createOutputElement(cellChange.start, outputData, apiItems);\n\n                await renderers.render(cell, output, undefined, undefined, new AbortController().signal);\n\n                theia.postMessage(<webviewCommunication.OnDidRenderOutput>{\n                    type: 'didRenderOutput',\n                    cellHandle: cell.cellHandle,\n                    outputId: outputData.id,\n                    outputHeight: document.getElementById(output.outputId)?.clientHeight ?? 0,\n                    bodyHeight: document.body.clientHeight\n                });\n\n            }\n        }\n    }\n\n    function cellsChanged(changes: (webviewCommunication.CellsMoved | webviewCommunication.CellsSpliced)[]): void {\n        for (const change of changes) {\n            if (change.type === 'cellMoved') {\n                const currentIndex = cells.findIndex(c => c.cellHandle === change.cellHandle);\n                const cell = cells[currentIndex];\n                cells.splice(change.toIndex, 0, cells.splice(currentIndex, 1)[0]);\n                if (change.toIndex < cells.length - 1) {\n                    container.insertBefore(cell.element, container.children[change.toIndex + (change.toIndex > currentIndex ? 1 : 0)]);\n                } else {\n                    container.appendChild(cell.element);\n                }\n            } else if (change.type === 'cellsSpliced') {\n                // if startCellHandle is negative, it means we should add a trailing new cell\n                const startCellIndex = change.startCellHandle < 0 ? cells.length : cells.findIndex(c => c.cellHandle === change.startCellHandle);\n                if (startCellIndex === -1) {\n                    console.error(`Can't find cell output to splice. Cells: ${cells.length}, startCellHandle: ${change.startCellHandle}`);\n                } else {\n                    const deletedCells = cells.splice(\n                        startCellIndex,\n                        change.deleteCount,\n                        ...change.newCells.map((cellHandle, i) => new OutputCell(cellHandle, startCellIndex + i))\n                    );\n                    deletedCells.forEach(cell => cell.dispose());\n                }\n            }\n        }\n    }\n\n    function shouldHandleScroll(event: WheelEvent): boolean {\n        for (let node = event.target as Node | null; node; node = node.parentNode) {\n            if (!(node instanceof Element)) {\n                return false;\n            }\n\n            // scroll up\n            if (event.deltaY < 0 && node.scrollTop > 0) {\n                // there is still some content to scroll\n                return true;\n            }\n\n            // scroll down\n            if (event.deltaY > 0 && node.scrollTop + node.clientHeight < node.scrollHeight) {\n                // per https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight\n                // scrollTop is not rounded but scrollHeight and clientHeight are\n                // so we need to check if the difference is less than some threshold\n                if (node.scrollHeight - node.scrollTop - node.clientHeight < 2) {\n                    continue;\n                }\n\n                // if the node is not scrollable, we can continue. We don't check the computed style always as it's expensive\n                if (window.getComputedStyle(node).overflowY === 'hidden' || window.getComputedStyle(node).overflowY === 'visible') {\n                    continue;\n                }\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    const handleWheel = (event: WheelEvent & { wheelDeltaX?: number; wheelDeltaY?: number; wheelDelta?: number }) => {\n        if (event.defaultPrevented || shouldHandleScroll(event)) {\n            return;\n        }\n        theia.postMessage({\n            type: 'did-scroll-wheel',\n            deltaY: event.deltaY,\n            deltaX: event.deltaX,\n        });\n    };\n\n    window.addEventListener('message', async rawEvent => {\n        const event = rawEvent as ({ data: webviewCommunication.ToWebviewMessage });\n        let cellHandle: number | undefined;\n        switch (event.data.type) {\n            case 'updateRenderers':\n                renderers.updateRendererData(event.data.rendererData);\n                break;\n            case 'outputChanged':\n                outputsChanged(event.data);\n                break;\n            case 'cellsChanged':\n                cellsChanged(event.data.changes);\n                break;\n            case 'customRendererMessage':\n                renderers.getRenderer(event.data.rendererId)?.receiveMessage(event.data.message);\n                break;\n            case 'changePreferredMimetype':\n                cellHandle = event.data.cellHandle;\n                const mimeType = event.data.mimeType;\n                cells.find(c => c.cellHandle === cellHandle)\n                    ?.outputElements.forEach(o => o.preferredMimeTypeChange(mimeType));\n                break;\n            case 'customKernelMessage':\n                onDidReceiveKernelMessage.fire(event.data.message);\n                break;\n            case 'preload':\n                const resources = event.data.resources;\n                for (const uri of resources) {\n                    kernelPreloads.load(uri);\n                }\n                break;\n            case 'notebookStyles':\n                const documentStyle = window.document.documentElement.style;\n\n                for (let i = documentStyle.length - 1; i >= 0; i--) {\n                    const property = documentStyle[i];\n\n                    // Don't remove properties that the webview might have added separately\n                    if (property && property.startsWith('--notebook-')) {\n                        documentStyle.removeProperty(property);\n                    }\n                }\n\n                // Re-add new properties\n                for (const [name, value] of Object.entries(event.data.styles)) {\n                    documentStyle.setProperty(`--${name}`, value);\n                }\n                break;\n            case 'cellHeightUpdate':\n                cellHandle = event.data.cellHandle;\n                const cell = cells.find(c => c.cellHandle === cellHandle);\n                if (cell) {\n                    cell.updateCellHeight(event.data.height);\n                }\n                break;\n            case 'outputVisibilityChanged':\n                cellHandle = event.data.cellHandle;\n                cells.find(c => c.cellHandle === cellHandle)?.outputVisibilityChanged(event.data.visible);\n                break;\n        }\n    });\n    window.addEventListener('wheel', handleWheel);\n\n    (document.head as HTMLHeadElement & { originalAppendChild: typeof document.head.appendChild }).originalAppendChild = document.head.appendChild;\n    (document.head as HTMLHeadElement & { originalAppendChild: typeof document.head.appendChild }).appendChild = function appendChild<T extends Node>(node: T): T {\n        if (node instanceof HTMLScriptElement && node.src.includes('webviewuuid')) {\n            node.src = node.src.replace('webviewuuid', location.hostname.split('.')[0]);\n        }\n        return this.originalAppendChild(node);\n    };\n\n    const focusChange = (event: FocusEvent, focus: boolean) => {\n        if (event.target instanceof HTMLInputElement) {\n            theia.postMessage({ type: 'inputFocusChanged', focused: focus } as webviewCommunication.InputFocusChange);\n        }\n    };\n    window.addEventListener('focusin', (event: FocusEvent) => focusChange(event, true));\n    window.addEventListener('focusout', (event: FocusEvent) => focusChange(event, false));\n\n    const webviewFocuseChange = (focus: boolean) => {\n        theia.postMessage({ type: 'webviewFocusChanged', focused: focus } as webviewCommunication.WebviewFocusChange);\n    };\n    window.addEventListener('focus', () => webviewFocuseChange(true));\n    window.addEventListener('blur', () => webviewFocuseChange(false));\n\n    new ResizeObserver(() => {\n        theia.postMessage({\n            type: 'bodyHeightChange',\n            height: document.body.clientHeight\n        } as webviewCommunication.BodyHeightChange);\n    }).observe(document.body);\n\n    theia.postMessage(<webviewCommunication.WebviewInitialized>{ type: 'initialized' });\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MAIN_RPC_CONTEXT } from '../../common';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { BasicNotificationMainImpl } from '../common/basic-notification-main';\n\nexport class NotificationMainImpl extends BasicNotificationMainImpl {\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        super(rpc, container, MAIN_RPC_CONTEXT.NOTIFICATION_EXT);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { CommandService } from '@theia/core/lib/common/command';\nimport { OutputCommands } from '@theia/output/lib/browser/output-commands';\nimport { OutputChannelRegistryMain, PluginInfo } from '../../common/plugin-api-rpc';\n\n@injectable()\nexport class OutputChannelRegistryMainImpl implements OutputChannelRegistryMain {\n\n    @inject(CommandService)\n    protected readonly commandService: CommandService;\n\n    $append(name: string, text: string, pluginInfo: PluginInfo): PromiseLike<void> {\n        this.commandService.executeCommand(OutputCommands.APPEND.id, { name, text });\n        return Promise.resolve();\n    }\n\n    $clear(name: string): PromiseLike<void> {\n        this.commandService.executeCommand(OutputCommands.CLEAR.id, { name });\n        return Promise.resolve();\n    }\n\n    $dispose(name: string): PromiseLike<void> {\n        this.commandService.executeCommand(OutputCommands.DISPOSE.id, { name });\n        return Promise.resolve();\n    }\n\n    async $reveal(name: string, preserveFocus: boolean): Promise<void> {\n        const options = { preserveFocus };\n        this.commandService.executeCommand(OutputCommands.SHOW.id, { name, options });\n    }\n\n    $close(name: string): PromiseLike<void> {\n        this.commandService.executeCommand(OutputCommands.HIDE.id, { name });\n        return Promise.resolve();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 EclipseSource and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { AuthenticationProvider, AuthenticationService, AuthenticationServiceImpl, AuthenticationSession } from '@theia/core/lib/browser/authentication-service';\nimport { inject } from '@theia/core/shared/inversify';\nimport { Deferred, timeoutReject } from '@theia/core/lib/common/promise-util';\nimport { HostedPluginSupport } from '../../hosted/browser/hosted-plugin';\n\nexport function getAuthenticationProviderActivationEvent(id: string): string { return `onAuthenticationRequest:${id}`; }\n\n/**\n * Plugin authentication service that aims to activate additional plugins if sessions are created or queried.\n */\nexport class PluginAuthenticationServiceImpl extends AuthenticationServiceImpl implements AuthenticationService {\n    @inject(HostedPluginSupport) protected readonly pluginService: HostedPluginSupport;\n\n    override async getSessions(id: string, scopes?: string[]): Promise<ReadonlyArray<AuthenticationSession>> {\n        await this.tryActivateProvider(id);\n        return super.getSessions(id, scopes);\n    }\n\n    override async login(id: string, scopes: string[]): Promise<AuthenticationSession> {\n        await this.tryActivateProvider(id);\n        return super.login(id, scopes);\n    }\n\n    protected async tryActivateProvider(providerId: string): Promise<AuthenticationProvider> {\n        this.pluginService.activateByEvent(getAuthenticationProviderActivationEvent(providerId));\n\n        const provider = this.authenticationProviders.get(providerId);\n        if (provider) {\n            return provider;\n        }\n\n        // When activate has completed, the extension has made the call to `registerAuthenticationProvider`.\n        // However, activate cannot block on this, so the renderer may not have gotten the event yet.\n        return Promise.race([\n            this.waitForProviderRegistration(providerId),\n            timeoutReject<AuthenticationProvider>(5000, 'Timed out waiting for authentication provider to register')\n        ]);\n    }\n\n    protected async waitForProviderRegistration(providerId: string): Promise<AuthenticationProvider> {\n        const waitForRegistration = new Deferred<AuthenticationProvider>();\n        const registration = this.onDidRegisterAuthenticationProvider(info => {\n            if (info.id === providerId) {\n                registration.dispose();\n                const provider = this.authenticationProviders.get(providerId);\n                if (provider) {\n                    waitForRegistration.resolve(provider);\n                } else {\n                    waitForRegistration.reject(new Error(`No authentication provider '${providerId}' is currently registered.`));\n                }\n            }\n        });\n        return waitForRegistration.promise;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, named } from '@theia/core/shared/inversify';\nimport { ITokenTypeMap, IEmbeddedLanguagesMap } from 'vscode-textmate';\nimport { TextmateRegistry, getEncodedLanguageId, MonacoTextmateService, GrammarDefinition } from '@theia/monaco/lib/browser/textmate';\nimport { MenusContributionPointHandler } from './menus/menus-contribution-handler';\nimport { PluginViewRegistry } from './view/plugin-view-registry';\nimport { PluginCustomEditorRegistry } from './custom-editors/plugin-custom-editor-registry';\nimport {\n    PluginContribution, IndentationRules, FoldingRules, ScopeMap, DeployedPlugin,\n    GrammarsContribution, EnterAction, OnEnterRule, RegExpOptions, IconContribution, PluginPackage\n} from '../../common';\nimport {\n    DefaultUriLabelProviderContribution,\n    LabelProviderContribution,\n} from '@theia/core/lib/browser';\nimport { KeybindingsContributionPointHandler } from './keybindings/keybindings-contribution-handler';\nimport { MonacoSnippetSuggestProvider } from '@theia/monaco/lib/browser/monaco-snippet-suggest-provider';\nimport { PluginSharedStyle } from './plugin-shared-style';\nimport { CommandRegistry, Command, CommandHandler } from '@theia/core/lib/common/command';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { TaskDefinitionRegistry, ProblemMatcherRegistry, ProblemPatternRegistry } from '@theia/task/lib/browser';\nimport { NotebookRendererRegistry, NotebookTypeRegistry } from '@theia/notebook/lib/browser';\nimport { PluginDebugService } from './debug/plugin-debug-service';\nimport { DebugSchemaUpdater } from '@theia/debug/lib/browser/debug-schema-updater';\nimport { MonacoThemingService } from '@theia/monaco/lib/browser/monaco-theming-service';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\nimport { PluginIconService } from './plugin-icon-service';\nimport { PluginIconThemeService } from './plugin-icon-theme-service';\nimport { ContributionProvider, isObject, OVERRIDE_PROPERTY_PATTERN, PreferenceSchemaService } from '@theia/core/lib/common';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { ContributedTerminalProfileStore, TerminalProfileStore } from '@theia/terminal/lib/browser/terminal-profile-service';\nimport { TerminalWidget } from '@theia/terminal/lib/browser/base/terminal-widget';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { PluginTerminalRegistry } from './plugin-terminal-registry';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { LanguageService } from '@theia/core/lib/browser/language-service';\nimport { ThemeIcon } from '@theia/monaco-editor-core/esm/vs/base/common/themables';\nimport { JSONObject, JSONValue } from '@theia/core/shared/@lumino/coreutils';\n\n// The enum export is missing from `vscode-textmate@9.2.0`\nconst enum StandardTokenType {\n    Other = 0,\n    Comment = 1,\n    String = 2,\n    RegEx = 3\n}\n\n@injectable()\nexport class PluginContributionHandler {\n\n    private injections = new Map<string, string[]>();\n\n    @inject(TextmateRegistry)\n    private readonly grammarsRegistry: TextmateRegistry;\n\n    @inject(PluginViewRegistry)\n    private readonly viewRegistry: PluginViewRegistry;\n\n    @inject(PluginCustomEditorRegistry)\n    private readonly customEditorRegistry: PluginCustomEditorRegistry;\n\n    @inject(MenusContributionPointHandler)\n    private readonly menusContributionHandler: MenusContributionPointHandler;\n\n    @inject(PreferenceSchemaService)\n    private readonly preferenceSchemaProvider: PreferenceSchemaService;\n\n    @inject(MonacoTextmateService)\n    private readonly monacoTextmateService: MonacoTextmateService;\n\n    @inject(KeybindingsContributionPointHandler)\n    private readonly keybindingsContributionHandler: KeybindingsContributionPointHandler;\n\n    @inject(MonacoSnippetSuggestProvider)\n    protected readonly snippetSuggestProvider: MonacoSnippetSuggestProvider;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(LanguageService)\n    protected readonly languageService: LanguageService;\n\n    @inject(PluginSharedStyle)\n    protected readonly style: PluginSharedStyle;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(ProblemMatcherRegistry)\n    protected readonly problemMatcherRegistry: ProblemMatcherRegistry;\n\n    @inject(ProblemPatternRegistry)\n    protected readonly problemPatternRegistry: ProblemPatternRegistry;\n\n    @inject(PluginDebugService)\n    protected readonly debugService: PluginDebugService;\n\n    @inject(DebugSchemaUpdater)\n    protected readonly debugSchema: DebugSchemaUpdater;\n\n    @inject(MonacoThemingService)\n    protected readonly monacoThemingService: MonacoThemingService;\n\n    @inject(ColorRegistry)\n    protected readonly colors: ColorRegistry;\n\n    @inject(PluginIconService)\n    protected readonly iconService: PluginIconService;\n\n    @inject(PluginIconThemeService)\n    protected readonly iconThemeService: PluginIconThemeService;\n\n    @inject(TerminalService)\n    protected readonly terminalService: TerminalService;\n\n    @inject(PluginTerminalRegistry)\n    protected readonly pluginTerminalRegistry: PluginTerminalRegistry;\n\n    @inject(ContributedTerminalProfileStore)\n    protected readonly contributedProfileStore: TerminalProfileStore;\n\n    @inject(NotebookTypeRegistry)\n    protected readonly notebookTypeRegistry: NotebookTypeRegistry;\n\n    @inject(NotebookRendererRegistry)\n    protected readonly notebookRendererRegistry: NotebookRendererRegistry;\n\n    @inject(ContributionProvider) @named(LabelProviderContribution)\n    protected readonly contributionProvider: ContributionProvider<LabelProviderContribution>;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    protected readonly commandHandlers = new Map<string, CommandHandler['execute'] | undefined>();\n\n    protected readonly onDidRegisterCommandHandlerEmitter = new Emitter<string>();\n    readonly onDidRegisterCommandHandler = this.onDidRegisterCommandHandlerEmitter.event;\n\n    /**\n     * Always synchronous in order to simplify handling disconnections.\n     * @throws never, loading of each contribution should handle errors\n     * in order to avoid preventing loading of other contributions or extensions\n     */\n    handleContributions(clientId: string, plugin: DeployedPlugin): Disposable {\n        const contributions = plugin.contributes;\n        if (!contributions) {\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection(Disposable.create(() => { /* mark as not disposed */ }));\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        const logError = (message: string, ...args: any[]) => console.error(`[${clientId}][${plugin.metadata.model.id}]: ${message}`, ...args);\n        const logWarning = (message: string, ...args: any[]) => console.warn(`[${clientId}][${plugin.metadata.model.id}]: ${message}`, ...args);\n        const pushContribution = (id: string, contribute: () => Disposable) => {\n            if (toDispose.disposed) {\n                return;\n            }\n            try {\n                toDispose.push(contribute());\n            } catch (e) {\n                logError(`Failed to load '${id}' contribution.`, e);\n            }\n        };\n\n        const configuration = contributions.configuration;\n        if (configuration) {\n            for (const config of configuration) {\n                pushContribution('configuration', () => this.preferenceSchemaProvider.addSchema(config));\n            }\n        }\n\n        const configurationDefaults = contributions.configurationDefaults;\n        if (configurationDefaults) {\n            pushContribution('configurationDefaults', () => this.updateDefaultOverridesSchema(configurationDefaults));\n        }\n\n        const languages = contributions.languages;\n        if (languages && languages.length) {\n            for (const lang of languages) {\n                // it is not possible to unregister a language\n                monaco.languages.register({\n                    id: lang.id,\n                    aliases: lang.aliases,\n                    extensions: lang.extensions,\n                    filenamePatterns: lang.filenamePatterns,\n                    filenames: lang.filenames,\n                    firstLine: lang.firstLine,\n                    mimetypes: lang.mimetypes\n                });\n                if (lang.icon) {\n                    const languageIcon = this.style.toFileIconClass(lang.icon);\n                    pushContribution(`language.${lang.id}.icon`, () => languageIcon);\n                    pushContribution(`language.${lang.id}.iconRegistration`, () => this.languageService.registerIcon(lang.id, languageIcon.object.iconClass));\n                }\n                const langConfiguration = lang.configuration;\n                if (langConfiguration) {\n                    pushContribution(`language.${lang.id}.configuration`, () => monaco.languages.setLanguageConfiguration(lang.id, {\n                        wordPattern: this.createRegex(langConfiguration.wordPattern),\n                        autoClosingPairs: langConfiguration.autoClosingPairs,\n                        brackets: langConfiguration.brackets,\n                        comments: langConfiguration.comments,\n                        folding: this.convertFolding(langConfiguration.folding),\n                        surroundingPairs: langConfiguration.surroundingPairs,\n                        indentationRules: this.convertIndentationRules(langConfiguration.indentationRules),\n                        onEnterRules: this.convertOnEnterRules(langConfiguration.onEnterRules),\n                    }));\n                }\n            }\n        }\n\n        const grammars = contributions.grammars;\n        if (grammars && grammars.length) {\n            const grammarsWithLanguage: GrammarsContribution[] = [];\n            for (const grammar of grammars) {\n                if (grammar.injectTo) {\n                    for (const injectScope of grammar.injectTo) {\n                        pushContribution(`grammar.injectTo.${injectScope}`, () => {\n                            const injections = this.injections.get(injectScope) || [];\n                            injections.push(grammar.scope);\n                            this.injections.set(injectScope, injections);\n                            return Disposable.create(() => {\n                                const index = injections.indexOf(grammar.scope);\n                                if (index !== -1) {\n                                    injections.splice(index, 1);\n                                }\n                            });\n                        });\n                    }\n                }\n                if (grammar.language) {\n                    // processing is deferred.\n                    grammarsWithLanguage.push(grammar);\n                }\n                pushContribution(`grammar.textmate.scope.${grammar.scope}`, () => this.grammarsRegistry.registerTextmateGrammarScope(grammar.scope, {\n                    async getGrammarDefinition(): Promise<GrammarDefinition> {\n                        return {\n                            format: grammar.format,\n                            content: grammar.grammar || '',\n                            location: grammar.grammarLocation\n                        };\n                    },\n                    getInjections: (scopeName: string) =>\n                        this.injections.get(scopeName)!\n                }));\n            }\n            // load grammars on next tick to await registration of languages from all plugins in current tick\n            // see https://github.com/eclipse-theia/theia/issues/6907#issuecomment-578600243\n            setTimeout(() => {\n                for (const grammar of grammarsWithLanguage) {\n                    const language = grammar.language!;\n                    pushContribution(`grammar.language.${language}.scope`, () => this.grammarsRegistry.mapLanguageIdToTextmateGrammar(language, grammar.scope));\n                    pushContribution(`grammar.language.${language}.configuration`, () => this.grammarsRegistry.registerGrammarConfiguration(language, {\n                        embeddedLanguages: this.convertEmbeddedLanguages(grammar.embeddedLanguages, logWarning),\n                        tokenTypes: this.convertTokenTypes(grammar.tokenTypes),\n                        balancedBracketSelectors: grammar.balancedBracketScopes ?? ['*'],\n                        unbalancedBracketSelectors: grammar.balancedBracketScopes,\n                    }));\n                }\n                // activate grammars only once everything else is loaded.\n                // see https://github.com/eclipse-theia/theia-cpp-extensions/issues/100#issuecomment-610643866\n                setTimeout(() => {\n                    for (const grammar of grammarsWithLanguage) {\n                        const language = grammar.language!;\n                        pushContribution(`grammar.language.${language}.activation`,\n                            () => this.monacoTextmateService.activateLanguage(language)\n                        );\n                    }\n                });\n            });\n        }\n\n        pushContribution('commands', () => this.registerCommands(contributions));\n        pushContribution('menus', () => this.menusContributionHandler.handle(plugin));\n        pushContribution('keybindings', () => this.keybindingsContributionHandler.handle(contributions));\n\n        if (contributions.customEditors) {\n            for (const customEditor of contributions.customEditors) {\n                pushContribution(`customEditors.${customEditor.viewType}`,\n                    () => this.customEditorRegistry.registerCustomEditor(customEditor, plugin)\n                );\n            }\n        }\n\n        if (contributions.viewsContainers) {\n            for (const location in contributions.viewsContainers) {\n                if (contributions.viewsContainers!.hasOwnProperty(location)) {\n                    for (const viewContainer of contributions.viewsContainers[location]) {\n                        pushContribution(`viewContainers.${viewContainer.id}`,\n                            () => this.viewRegistry.registerViewContainer(location, viewContainer)\n                        );\n                    }\n                }\n            }\n        }\n        if (contributions.views) {\n            // eslint-disable-next-line guard-for-in\n            for (const location in contributions.views) {\n                for (const view of contributions.views[location]) {\n                    pushContribution(`views.${view.id}`,\n                        () => this.viewRegistry.registerView(location, view)\n                    );\n                }\n            }\n        }\n\n        if (contributions.viewsWelcome) {\n            for (const [index, viewWelcome] of contributions.viewsWelcome.entries()) {\n                pushContribution(`viewsWelcome.${viewWelcome.view}.${index}`,\n                    () => this.viewRegistry.registerViewWelcome(viewWelcome)\n                );\n            }\n        }\n\n        if (contributions.snippets) {\n            for (const snippet of contributions.snippets) {\n                pushContribution(`snippets.${snippet.uri}`, () => this.snippetSuggestProvider.fromURI(snippet.uri, {\n                    language: snippet.language,\n                    source: snippet.source\n                }));\n            }\n        }\n\n        if (contributions.themes && contributions.themes.length) {\n            const pending = {};\n            for (const theme of contributions.themes) {\n                pushContribution(`themes.${theme.uri}`, () => this.monacoThemingService.register(theme, pending));\n            }\n        }\n\n        if (contributions.iconThemes && contributions.iconThemes.length) {\n            for (const iconTheme of contributions.iconThemes) {\n                pushContribution(`iconThemes.${iconTheme.uri}`, () => this.iconThemeService.register(iconTheme, plugin));\n            }\n        }\n\n        if (contributions.icons && contributions.icons.length) {\n            for (const icon of contributions.icons) {\n                const defaultIcon = icon.defaults;\n                let key: string;\n                if (IconContribution.isIconDefinition(defaultIcon)) {\n                    key = defaultIcon.location;\n                } else {\n                    key = defaultIcon.id;\n                }\n                pushContribution(`icons.${key}`, () => this.iconService.register(icon, plugin));\n            }\n        }\n\n        const colors = contributions.colors;\n        if (colors) {\n            pushContribution('colors', () => this.colors.register(...colors));\n        }\n\n        if (contributions.taskDefinitions) {\n            for (const taskDefinition of contributions.taskDefinitions) {\n                pushContribution(`taskDefinitions.${taskDefinition.taskType}`,\n                    () => this.taskDefinitionRegistry.register(taskDefinition)\n                );\n            }\n        }\n\n        if (contributions.problemPatterns) {\n            for (const problemPattern of contributions.problemPatterns) {\n                pushContribution(`problemPatterns.${problemPattern.name || problemPattern.regexp}`,\n                    () => this.problemPatternRegistry.register(problemPattern)\n                );\n            }\n        }\n\n        if (contributions.problemMatchers) {\n            for (const problemMatcher of contributions.problemMatchers) {\n                pushContribution(`problemMatchers.${problemMatcher.label}`,\n                    () => this.problemMatcherRegistry.register(problemMatcher)\n                );\n            }\n        }\n\n        if (contributions.debuggers && contributions.debuggers.length) {\n            toDispose.push(Disposable.create(() => this.debugSchema.update()));\n            for (const contribution of contributions.debuggers) {\n                pushContribution(`debuggers.${contribution.type}`,\n                    () => this.debugService.registerDebugger(contribution)\n                );\n            }\n            this.debugSchema.update();\n        }\n\n        if (contributions.resourceLabelFormatters) {\n            for (const formatter of contributions.resourceLabelFormatters) {\n                for (const contribution of this.contributionProvider.getContributions()) {\n                    if (contribution instanceof DefaultUriLabelProviderContribution) {\n                        pushContribution(`resourceLabelFormatters.${formatter.scheme}`,\n                            () => contribution.registerFormatter(formatter)\n                        );\n                    }\n                }\n            }\n        }\n\n        const self = this;\n        if (contributions.terminalProfiles) {\n            for (const profile of contributions.terminalProfiles) {\n                pushContribution(`terminalProfiles.${profile.id}`, () => {\n                    this.contributedProfileStore.registerTerminalProfile(profile.title, {\n                        async start(): Promise<TerminalWidget> {\n                            const terminalId = await self.pluginTerminalRegistry.start(profile.id);\n                            const result = self.terminalService.getById(terminalId);\n                            if (!result) {\n                                throw new Error(`Error starting terminal from profile ${profile.id}`);\n                            }\n                            return result;\n\n                        }\n                    });\n                    return Disposable.create(() => {\n                        this.contributedProfileStore.unregisterTerminalProfile(profile.id);\n                    });\n                });\n            }\n        }\n\n        if (contributions.notebooks) {\n            for (const notebook of contributions.notebooks) {\n                pushContribution(`notebook.${notebook.type}`,\n                    () => this.notebookTypeRegistry.registerNotebookType(notebook, plugin.metadata.model.displayName)\n                );\n            }\n        }\n\n        if (contributions.notebookRenderer) {\n            for (const renderer of contributions.notebookRenderer) {\n                pushContribution(`notebookRenderer.${renderer.id}`,\n                    () => this.notebookRendererRegistry.registerNotebookRenderer(renderer, PluginPackage.toPluginUrl(plugin.metadata.model, ''))\n                );\n            }\n        }\n\n        if (contributions.notebookPreload) {\n            for (const preload of contributions.notebookPreload) {\n                pushContribution(`notebookPreloads.${preload.type}:${preload.entrypoint}`,\n                    () => this.notebookRendererRegistry.registerStaticNotebookPreload(preload.type, preload.entrypoint, PluginPackage.toPluginUrl(plugin.metadata.model, ''))\n                );\n            }\n        }\n\n        return toDispose;\n    }\n\n    protected registerCommands(contribution: PluginContribution): Disposable {\n        if (!contribution.commands) {\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection();\n        for (const { iconUrl, themeIcon, command, category, shortTitle, title, originalTitle, enablement } of contribution.commands) {\n            const reference = iconUrl && this.style.toIconClass(iconUrl);\n            const icon = themeIcon && ThemeIcon.fromString(themeIcon);\n            let iconClass;\n            if (reference) {\n                toDispose.push(reference);\n                iconClass = reference.object.iconClass;\n            } else if (icon) {\n                iconClass = ThemeIcon.asClassName(icon);\n            }\n            toDispose.push(this.registerCommand({ id: command, category, shortTitle, label: title, originalLabel: originalTitle, iconClass }, enablement));\n        }\n        return toDispose;\n    }\n\n    registerCommand(command: Command, enablement?: string): Disposable {\n        if (this.hasCommand(command.id)) {\n            console.warn(`command '${command.id}' already registered`);\n            return Disposable.NULL;\n        }\n\n        const commandHandler: CommandHandler = {\n            execute: async (...args) => {\n                const handler = this.commandHandlers.get(command.id);\n                if (!handler) {\n                    throw new Error(`command '${command.id}' not found`);\n                }\n                return handler(...args);\n            },\n            // Always enabled - a command can be executed programmatically or via the commands palette.\n            isEnabled: () => {\n                if (enablement) {\n                    return this.contextKeyService.match(enablement);\n                }\n                return true;\n            },\n            // Visibility rules are defined via the `menus` contribution point.\n            isVisible(): boolean { return true; }\n        };\n\n        if (enablement) {\n            const contextKeys = this.contextKeyService.parseKeys(enablement);\n            if (contextKeys && contextKeys.size > 0) {\n                commandHandler.onDidChangeEnabled = (listener: () => void) => this.contextKeyService.onDidChange(e => {\n                    if (e.affects(contextKeys)) {\n                        listener();\n                    }\n                });\n            }\n        }\n\n        const toDispose = new DisposableCollection();\n        if (this.commands.getCommand(command.id)) {\n            // overriding built-in command, i.e. `type` by the VSCodeVim extension\n            toDispose.push(this.commands.registerHandler(command.id, commandHandler));\n        } else {\n            toDispose.push(this.commands.registerCommand(command, commandHandler));\n        }\n        this.commandHandlers.set(command.id, undefined);\n        toDispose.push(Disposable.create(() => this.commandHandlers.delete(command.id)));\n        return toDispose;\n    }\n\n    registerCommandHandler(id: string, execute: CommandHandler['execute']): Disposable {\n        if (this.hasCommandHandler(id)) {\n            console.warn(`command handler '${id}' already registered`);\n            return Disposable.NULL;\n        }\n\n        this.commandHandlers.set(id, execute);\n        this.onDidRegisterCommandHandlerEmitter.fire(id);\n        return Disposable.create(() => this.commandHandlers.set(id, undefined));\n    }\n\n    hasCommand(id: string): boolean {\n        return this.commandHandlers.has(id);\n    }\n\n    hasCommandHandler(id: string): boolean {\n        return !!this.commandHandlers.get(id);\n    }\n\n    protected updateDefaultOverridesSchema(configurationDefaults: JSONObject): Disposable {\n        const disposables = new DisposableCollection();\n        // eslint-disable-next-line guard-for-in\n        for (const key in configurationDefaults) {\n            const defaultValue = configurationDefaults[key];\n            const match = key.match(OVERRIDE_PROPERTY_PATTERN);\n            if (match && isObject(defaultValue)) {\n                for (const [propertyName, value] of Object.entries(defaultValue)) {\n                    disposables.push(this.preferenceSchemaProvider.registerOverride(propertyName, match[1], value as JSONValue));\n                }\n            } else {\n                // regular configuration override\n                disposables.push(this.preferenceSchemaProvider.registerOverride(key, undefined, defaultValue));\n            }\n        }\n        return disposables;\n    }\n\n    private createRegex(value: string | RegExpOptions | undefined): RegExp | undefined {\n        if (typeof value === 'string') {\n            return new RegExp(value, '');\n        }\n        if (typeof value == 'undefined') {\n            return undefined;\n        }\n        return new RegExp(value.pattern, value.flags);\n    }\n\n    private convertIndentationRules(rules?: IndentationRules): monaco.languages.IndentationRule | undefined {\n        if (!rules) {\n            return undefined;\n        }\n        return {\n            decreaseIndentPattern: this.createRegex(rules.decreaseIndentPattern)!,\n            increaseIndentPattern: this.createRegex(rules.increaseIndentPattern)!,\n            indentNextLinePattern: this.createRegex(rules.indentNextLinePattern),\n            unIndentedLinePattern: this.createRegex(rules.unIndentedLinePattern)\n        };\n    }\n\n    private convertFolding(folding?: FoldingRules): monaco.languages.FoldingRules | undefined {\n        if (!folding) {\n            return undefined;\n        }\n        const result: monaco.languages.FoldingRules = {\n            offSide: folding.offSide\n        };\n\n        if (folding.markers) {\n            result.markers = {\n                end: this.createRegex(folding.markers.end)!,\n                start: this.createRegex(folding.markers.start)!\n            };\n        }\n\n        return result;\n    }\n\n    private convertTokenTypes(tokenTypes?: ScopeMap): ITokenTypeMap | undefined {\n        if (typeof tokenTypes === 'undefined' || tokenTypes === null) {\n            return undefined;\n        }\n        const result = Object.create(null);\n        const scopes = Object.keys(tokenTypes);\n        const len = scopes.length;\n        for (let i = 0; i < len; i++) {\n            const scope = scopes[i];\n            const tokenType = tokenTypes[scope];\n            switch (tokenType) {\n                case 'string':\n                    result[scope] = StandardTokenType.String;\n                    break;\n                case 'other':\n                    result[scope] = StandardTokenType.Other;\n                    break;\n                case 'comment':\n                    result[scope] = StandardTokenType.Comment;\n                    break;\n            }\n        }\n        return result;\n    }\n\n    private convertEmbeddedLanguages(languages: ScopeMap | undefined, logWarning: (warning: string) => void): IEmbeddedLanguagesMap | undefined {\n        if (typeof languages === 'undefined' || languages === null) {\n            return undefined;\n        }\n        const result = Object.create(null);\n        const scopes = Object.keys(languages);\n        const len = scopes.length;\n        for (let i = 0; i < len; i++) {\n            const scope = scopes[i];\n            const langId = languages[scope];\n            result[scope] = getEncodedLanguageId(langId);\n            if (!result[scope]) {\n                logWarning(`Language for '${scope}' not found.`);\n            }\n        }\n        return result;\n    }\n\n    private convertOnEnterRules(onEnterRules?: OnEnterRule[]): monaco.languages.OnEnterRule[] | undefined {\n        if (!onEnterRules) {\n            return undefined;\n        }\n\n        const result: monaco.languages.OnEnterRule[] = [];\n        for (const onEnterRule of onEnterRules) {\n            const rule: monaco.languages.OnEnterRule = {\n                beforeText: this.createRegex(onEnterRule.beforeText)!,\n                afterText: this.createRegex(onEnterRule.afterText),\n                previousLineText: this.createRegex(onEnterRule.previousLineText),\n                action: this.createEnterAction(onEnterRule.action),\n            };\n            result.push(rule);\n        }\n\n        return result;\n    }\n\n    private createEnterAction(action: EnterAction): monaco.languages.EnterAction {\n        let indentAction: monaco.languages.IndentAction;\n        switch (action.indent) {\n            case 'indent':\n                indentAction = monaco.languages.IndentAction.Indent;\n                break;\n            case 'indentOutdent':\n                indentAction = monaco.languages.IndentAction.IndentOutdent;\n                break;\n            case 'outdent':\n                indentAction = monaco.languages.IndentAction.Outdent;\n                break;\n            default:\n                indentAction = monaco.languages.IndentAction.None;\n                break;\n        }\n        return { indentAction, appendText: action.appendText, removeText: action.removeText };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2025 EclipseSource GmbH.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Widget } from '@theia/core/lib/browser';\nimport { injectable } from '@theia/core/shared/inversify';\nimport { ArgumentProcessor } from '../../common/commands';\n\n/**\n * This processor handles arguments passed to commands that are contributed by plugins and available as toolbar items.\n *\n * When a toolbar item executes a command, it often passes the active widget as an argument. This can lead to\n * serialization problems. To solve this issue, this processor checks if an argument is a Widget instance and if so, it extracts\n * and returns only the widget's ID, which can be safely serialized and used to identify the widget in the plugin host.\n */\n@injectable()\nexport class PluginExtToolbarItemArgumentProcessor implements ArgumentProcessor {\n\n    processArgument(arg: unknown): unknown {\n        if (arg instanceof Widget) {\n            return arg.id;\n        }\n\n        return arg;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport '../../../src/main/style/status-bar.css';\nimport '../../../src/main/browser/style/index.css';\nimport '../../../src/main/browser/style/comments.css';\n\nimport { ContainerModule } from '@theia/core/shared/inversify';\nimport {\n    FrontendApplicationContribution, WidgetFactory, bindViewContribution,\n    ViewContainerIdentifier, ViewContainer, createTreeContainer, TreeWidget, LabelProviderContribution, LabelProvider,\n    UndoRedoHandler, DiffUris, Navigatable, SplitWidget,\n    noopWidgetStatusBarContribution,\n    WidgetStatusBarContribution\n} from '@theia/core/lib/browser';\nimport { MaybePromise, CommandContribution, ResourceResolver, bindContributionProvider, URI, generateUuid, PreferenceContribution } from '@theia/core/lib/common';\nimport { WebSocketConnectionProvider } from '@theia/core/lib/browser/messaging';\nimport { HostedPluginSupport } from '../../hosted/browser/hosted-plugin';\nimport { HostedPluginWatcher } from '../../hosted/browser/hosted-plugin-watcher';\nimport { OpenUriCommandHandler } from './commands';\nimport { PluginApiFrontendContribution } from './plugin-frontend-contribution';\nimport { HostedPluginServer, hostedServicePath, PluginServer, pluginServerJsonRpcPath } from '../../common/plugin-protocol';\nimport { ModalNotification } from './dialogs/modal-notification';\nimport { PluginWidget } from './plugin-ext-widget';\nimport { PluginFrontendViewContribution } from './plugin-frontend-view-contribution';\nimport { EditorModelService } from './text-editor-model-service';\nimport { MenusContributionPointHandler } from './menus/menus-contribution-handler';\nimport { PluginContributionHandler } from './plugin-contribution-handler';\nimport { PluginViewRegistry, PLUGIN_VIEW_CONTAINER_FACTORY_ID, PLUGIN_VIEW_FACTORY_ID, PLUGIN_VIEW_DATA_FACTORY_ID } from './view/plugin-view-registry';\nimport { TextContentResourceResolver } from './workspace-main';\nimport { MainPluginApiProvider } from '../../common/plugin-ext-api-contribution';\nimport { PluginPathsService, pluginPathsServicePath } from '../common/plugin-paths-protocol';\nimport { KeybindingsContributionPointHandler } from './keybindings/keybindings-contribution-handler';\nimport { DebugSessionContributionRegistry } from '@theia/debug/lib/browser/debug-session-contribution';\nimport { PluginDebugSessionContributionRegistry } from './debug/plugin-debug-session-contribution-registry';\nimport { PluginDebugService } from './debug/plugin-debug-service';\nimport { DebugService } from '@theia/debug/lib/common/debug-service';\nimport { PluginSharedStyle } from './plugin-shared-style';\nimport { SelectionProviderCommandContribution } from './selection-provider-command';\nimport { ViewContextKeyService } from './view/view-context-key-service';\nimport { PluginViewWidget, PluginViewWidgetIdentifier } from './view/plugin-view-widget';\nimport { TreeViewWidgetOptions, VIEW_ITEM_CONTEXT_MENU, PluginTree, TreeViewWidget, PluginTreeModel } from './view/tree-view-widget';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { LanguagesMainFactory, OutputChannelRegistryFactory } from '../../common';\nimport { LanguagesMainImpl } from './languages-main';\nimport { OutputChannelRegistryMainImpl } from './output-channel-registry-main';\nimport { WebviewWidget } from './webview/webview';\nimport { WebviewEnvironment } from './webview/webview-environment';\nimport { WebviewThemeDataProvider } from './webview/webview-theme-data-provider';\nimport { WebviewResourceCache } from './webview/webview-resource-cache';\nimport { PluginIconThemeService, PluginIconThemeFactory, PluginIconThemeDefinition, PluginIconTheme } from './plugin-icon-theme-service';\nimport { PluginTreeViewNodeLabelProvider } from './view/plugin-tree-view-node-label-provider';\nimport { WebviewWidgetFactory } from './webview/webview-widget-factory';\nimport { CommentsService, PluginCommentService } from './comments/comments-service';\nimport { CommentingRangeDecorator } from './comments/comments-decorator';\nimport { CommentsContribution } from './comments/comments-contribution';\nimport { CommentsContext } from './comments/comments-context';\nimport { PluginCustomEditorRegistry } from './custom-editors/plugin-custom-editor-registry';\nimport { CustomEditorWidgetFactory } from '../browser/custom-editors/custom-editor-widget-factory';\nimport { CustomEditorWidget } from './custom-editors/custom-editor-widget';\nimport { CustomEditorService } from './custom-editors/custom-editor-service';\nimport { WebviewFrontendSecurityWarnings } from './webview/webview-frontend-security-warnings';\nimport { PluginAuthenticationServiceImpl } from './plugin-authentication-service';\nimport { AuthenticationService } from '@theia/core/lib/browser/authentication-service';\nimport { bindTreeViewDecoratorUtilities, TreeViewDecoratorService } from './view/tree-view-decorator-service';\nimport { PluginMenuCommandAdapter } from './menus/plugin-menu-command-adapter';\nimport './theme-icon-override';\nimport { PluginIconService } from './plugin-icon-service';\nimport { PluginTerminalRegistry } from './plugin-terminal-registry';\nimport { DnDFileContentStore } from './view/dnd-file-content-store';\nimport { WebviewContextKeys } from './webview/webview-context-keys';\nimport { LanguagePackService, languagePackServicePath } from '../../common/language-pack-service';\nimport { TabBarToolbarContribution } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { CellOutputWebviewFactory } from '@theia/notebook/lib/browser';\nimport { CellOutputWebviewImpl, createCellOutputWebviewContainer } from './notebooks/renderers/cell-output-webview';\nimport { ArgumentProcessorContribution } from './command-registry-main';\nimport { WebviewSecondaryWindowSupport } from './webview/webview-secondary-window-support';\nimport { CustomEditorUndoRedoHandler } from './custom-editors/custom-editor-undo-redo-handler';\nimport { bindWebviewPreferences } from '../common/webview-preferences';\nimport { WebviewFrontendPreferenceContribution } from './webview/webview-frontend-preference-contribution';\nimport { PluginExtToolbarItemArgumentProcessor } from './plugin-ext-argument-processor';\n\nexport default new ContainerModule((bind, unbind, isBound, rebind) => {\n\n    bind(LanguagesMainImpl).toSelf().inTransientScope();\n    bind(LanguagesMainFactory).toFactory(context => (rpc: RPCProtocol) => {\n        const child = context.container.createChild();\n        child.bind(RPCProtocol).toConstantValue(rpc);\n        return child.get(LanguagesMainImpl);\n    });\n\n    bind(OutputChannelRegistryMainImpl).toSelf().inTransientScope();\n    bind(OutputChannelRegistryFactory).toFactory(context => () => {\n        const child = context.container.createChild();\n        return child.get(OutputChannelRegistryMainImpl);\n    });\n\n    bind(ModalNotification).toSelf().inSingletonScope();\n\n    bind(HostedPluginSupport).toSelf().inSingletonScope();\n    bind(HostedPluginWatcher).toSelf().inSingletonScope();\n    bind(SelectionProviderCommandContribution).toSelf().inSingletonScope();\n    bind(CommandContribution).toService(SelectionProviderCommandContribution);\n\n    bind(OpenUriCommandHandler).toSelf().inSingletonScope();\n    bind(PluginApiFrontendContribution).toSelf().inSingletonScope();\n    bind(CommandContribution).toService(PluginApiFrontendContribution);\n    bind(TabBarToolbarContribution).toService(PluginApiFrontendContribution);\n\n    bind(EditorModelService).toSelf().inSingletonScope();\n\n    bind(FrontendApplicationContribution).toDynamicValue(ctx => ({\n        onStart(): MaybePromise<void> {\n            ctx.container.get(HostedPluginSupport).onStart(ctx.container);\n        }\n    }));\n    bind(HostedPluginServer).toDynamicValue(ctx => {\n        const connection = ctx.container.get(WebSocketConnectionProvider);\n        const hostedWatcher = ctx.container.get(HostedPluginWatcher);\n        return connection.createProxy<HostedPluginServer>(hostedServicePath, hostedWatcher.getHostedPluginClient());\n    }).inSingletonScope();\n\n    bind(PluginPathsService).toDynamicValue(ctx => {\n        const connection = ctx.container.get(WebSocketConnectionProvider);\n        return connection.createProxy<PluginPathsService>(pluginPathsServicePath);\n    }).inSingletonScope();\n\n    bindViewContribution(bind, PluginFrontendViewContribution);\n\n    bind(PluginWidget).toSelf();\n    bind(WidgetFactory).toDynamicValue(ctx => ({\n        id: PluginFrontendViewContribution.PLUGINS_WIDGET_FACTORY_ID,\n        createWidget: () => ctx.container.get(PluginWidget)\n    }));\n\n    bind(PluginServer).toDynamicValue(ctx => {\n        const provider = ctx.container.get(WebSocketConnectionProvider);\n        return provider.createProxy<PluginServer>(pluginServerJsonRpcPath);\n    }).inSingletonScope();\n\n    bind(ViewContextKeyService).toSelf().inSingletonScope();\n\n    bindTreeViewDecoratorUtilities(bind);\n    bind(PluginTreeViewNodeLabelProvider).toSelf().inSingletonScope();\n    bind(LabelProviderContribution).toService(PluginTreeViewNodeLabelProvider);\n    bind(DnDFileContentStore).toSelf().inSingletonScope();\n    bind(WidgetFactory).toDynamicValue(({ container }) => ({\n        id: PLUGIN_VIEW_DATA_FACTORY_ID,\n        createWidget: (options: TreeViewWidgetOptions) => {\n            const props = {\n                contextMenuPath: VIEW_ITEM_CONTEXT_MENU,\n                expandOnlyOnExpansionToggleClick: true,\n                expansionTogglePadding: 22,\n                globalSelection: true,\n                leftPadding: 8,\n                search: true,\n                multiSelect: options.multiSelect\n            };\n            const child = createTreeContainer(container, {\n                props,\n                tree: PluginTree,\n                model: PluginTreeModel,\n                widget: TreeViewWidget,\n                decoratorService: TreeViewDecoratorService\n            });\n            child.bind(TreeViewWidgetOptions).toConstantValue(options);\n            return child.get(TreeWidget);\n        }\n    })).inSingletonScope();\n\n    bindWebviewPreferences(bind);\n    bind(WebviewFrontendPreferenceContribution).toSelf().inSingletonScope();\n    bind(PreferenceContribution).toService(WebviewFrontendPreferenceContribution);\n    bind(WebviewEnvironment).toSelf().inSingletonScope();\n    bind(WebviewThemeDataProvider).toSelf().inSingletonScope();\n    bind(WebviewResourceCache).toSelf().inSingletonScope();\n    bind(WebviewWidget).toSelf();\n    bind(WebviewWidgetFactory).toDynamicValue(ctx => new WebviewWidgetFactory(ctx.container)).inSingletonScope();\n    bind(WidgetFactory).toService(WebviewWidgetFactory);\n    bind(WebviewContextKeys).toSelf().inSingletonScope();\n    bind(WebviewSecondaryWindowSupport).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(WebviewSecondaryWindowSupport);\n    bind(FrontendApplicationContribution).toService(WebviewContextKeys);\n    bind(WidgetStatusBarContribution).toConstantValue(noopWidgetStatusBarContribution(WebviewWidget));\n\n    bind(PluginCustomEditorRegistry).toSelf().inSingletonScope();\n    bind(CustomEditorService).toSelf().inSingletonScope();\n    bind(CustomEditorWidget).toSelf();\n    bind(CustomEditorWidgetFactory).toDynamicValue(ctx => new CustomEditorWidgetFactory(ctx.container)).inSingletonScope();\n    bind(WidgetFactory).toService(CustomEditorWidgetFactory);\n    bind(CustomEditorUndoRedoHandler).toSelf().inSingletonScope();\n    bind(UndoRedoHandler).toService(CustomEditorUndoRedoHandler);\n\n    bind(WidgetFactory).toDynamicValue(ctx => ({\n        id: CustomEditorWidget.SIDE_BY_SIDE_FACTORY_ID,\n        createWidget: (arg: { uri: string, viewType: string }) => {\n            const uri = new URI(arg.uri);\n            const [leftUri, rightUri] = DiffUris.decode(uri);\n            const navigatable: Navigatable = {\n                getResourceUri: () => rightUri,\n                createMoveToUri: resourceUri => DiffUris.encode(leftUri, rightUri.withPath(resourceUri.path))\n            };\n            const widget = new SplitWidget({ navigatable });\n            widget.id = arg.viewType + '.side-by-side:' + generateUuid();\n            const labelProvider = ctx.container.get(LabelProvider);\n            widget.title.label = labelProvider.getName(uri);\n            widget.title.iconClass = labelProvider.getIcon(uri);\n            widget.title.closable = true;\n            return widget;\n        }\n    })).inSingletonScope();\n\n    bind(PluginViewWidget).toSelf();\n    bind(WidgetFactory).toDynamicValue(({ container }) => ({\n        id: PLUGIN_VIEW_FACTORY_ID,\n        createWidget: (identifier: PluginViewWidgetIdentifier) => {\n            const child = container.createChild();\n            child.bind(PluginViewWidgetIdentifier).toConstantValue(identifier);\n            return child.get(PluginViewWidget);\n        }\n    })).inSingletonScope();\n\n    bind(WidgetFactory).toDynamicValue(({ container }) => ({\n        id: PLUGIN_VIEW_CONTAINER_FACTORY_ID,\n        createWidget: (identifier: ViewContainerIdentifier) =>\n            container.get<ViewContainer.Factory>(ViewContainer.Factory)(identifier)\n    })).inSingletonScope();\n    bind(PluginSharedStyle).toSelf().inSingletonScope();\n    bind(PluginViewRegistry).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(PluginViewRegistry);\n\n    bind(PluginIconThemeFactory).toFactory<PluginIconTheme>(({ container }) => (definition: PluginIconThemeDefinition) => {\n        const child = container.createChild();\n        child.bind(PluginIconThemeDefinition).toConstantValue(definition);\n        child.bind(PluginIconTheme).toSelf().inSingletonScope();\n        return child.get(PluginIconTheme);\n    });\n    bind(PluginIconThemeService).toSelf().inSingletonScope();\n    bind(LabelProviderContribution).toService(PluginIconThemeService);\n\n    bind(MenusContributionPointHandler).toSelf().inSingletonScope();\n    bind(PluginMenuCommandAdapter).toSelf().inSingletonScope();\n    bind(KeybindingsContributionPointHandler).toSelf().inSingletonScope();\n    bind(PluginContributionHandler).toSelf().inSingletonScope();\n\n    bind(TextContentResourceResolver).toSelf().inSingletonScope();\n    bind(ResourceResolver).toService(TextContentResourceResolver);\n    bindContributionProvider(bind, MainPluginApiProvider);\n\n    bind(PluginDebugService).toSelf().inSingletonScope();\n    rebind(DebugService).toService(PluginDebugService);\n    bind(PluginDebugSessionContributionRegistry).toSelf().inSingletonScope();\n    rebind(DebugSessionContributionRegistry).toService(PluginDebugSessionContributionRegistry);\n\n    bind(CommentsService).to(PluginCommentService).inSingletonScope();\n    bind(CommentingRangeDecorator).toSelf().inSingletonScope();\n    bind(CommentsContribution).toSelf().inSingletonScope();\n    bind(CommentsContext).toSelf().inSingletonScope();\n\n    bind(WebviewFrontendSecurityWarnings).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(WebviewFrontendSecurityWarnings);\n\n    bind(PluginIconService).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(PluginIconService);\n\n    bind(PluginAuthenticationServiceImpl).toSelf().inSingletonScope();\n    rebind(AuthenticationService).toService(PluginAuthenticationServiceImpl);\n\n    bind(PluginTerminalRegistry).toSelf().inSingletonScope();\n\n    bind(LanguagePackService).toDynamicValue(ctx => {\n        const provider = ctx.container.get(WebSocketConnectionProvider);\n        return provider.createProxy<LanguagePackService>(languagePackServicePath);\n    }).inSingletonScope();\n\n    bind(CellOutputWebviewFactory).toFactory(ctx => () =>\n        createCellOutputWebviewContainer(ctx.container).get(CellOutputWebviewImpl)\n    );\n    bindContributionProvider(bind, ArgumentProcessorContribution);\n\n    bind(PluginExtToolbarItemArgumentProcessor).toSelf().inSingletonScope();\n    bind(ArgumentProcessorContribution).toService(PluginExtToolbarItemArgumentProcessor);\n\n});\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { Message } from '@theia/core/shared/@lumino/messaging';\nimport { PluginMetadata } from '../../common/plugin-protocol';\nimport { ReactWidget } from '@theia/core/lib/browser/widgets/react-widget';\nimport { AlertMessage } from '@theia/core/lib/browser/widgets/alert-message';\nimport { HostedPluginSupport, PluginProgressLocation } from '../../hosted/browser/hosted-plugin';\nimport { ProgressBarFactory } from '@theia/core/lib/browser/progress-bar-factory';\nimport { DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { codicon } from '@theia/core/lib/browser';\nimport { nls } from '@theia/core/lib/common';\n\nexport const PLUGINS_LABEL = nls.localize('theia/plugin-ext/plugins', 'Plugins');\n\n@injectable()\nexport class PluginWidget extends ReactWidget {\n\n    @inject(HostedPluginSupport)\n    protected readonly pluginService: HostedPluginSupport;\n\n    @inject(ProgressBarFactory)\n    protected readonly progressBarFactory: ProgressBarFactory;\n\n    constructor() {\n        super();\n        this.id = 'plugins';\n        this.title.label = PLUGINS_LABEL;\n        this.title.caption = PLUGINS_LABEL;\n        this.title.iconClass = codicon('diff-added');\n        this.title.closable = true;\n        this.node.tabIndex = 0;\n        this.addClass('theia-plugins');\n\n        this.update();\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(this.pluginService.onDidChangePlugins(() => this.update()));\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.node.focus();\n    }\n\n    protected readonly toDisposeProgress = new DisposableCollection();\n\n    protected render(): React.ReactNode {\n        return <div ref={ref => {\n            this.toDisposeProgress.dispose();\n            this.toDispose.push(this.toDisposeProgress);\n            if (ref) {\n                this.toDispose.push(this.progressBarFactory({ container: this.node, insertMode: 'prepend', locationId: PluginProgressLocation }));\n            }\n        }}>{this.doRender()}</div>;\n    }\n\n    protected doRender(): React.ReactNode {\n        const plugins = this.pluginService.plugins;\n        if (!plugins.length) {\n            return <AlertMessage type='INFO' header='No plugins currently available.' />;\n        }\n        return <React.Fragment>{this.renderPlugins(plugins)}</React.Fragment>;\n    }\n\n    protected renderPlugins(plugins: PluginMetadata[]): React.ReactNode {\n        return <div id='pluginListContainer'>\n            {plugins.sort((a, b) => this.compareMetadata(a, b)).map(plugin => this.renderPlugin(plugin))}\n        </div>;\n    }\n\n    private renderPlugin(plugin: PluginMetadata): JSX.Element {\n        return <div key={plugin.model.name} className={this.createPluginClassName(plugin)}>\n            <div className='column flexcontainer pluginInformationContainer'>\n                <div className='row flexcontainer'>\n                    <div className={codicon('list-selection')}></div>\n                    <div title={plugin.model.name} className='pluginName noWrapInfo'>{plugin.model.name}</div>\n                </div>\n                <div className='row flexcontainer'>\n                    <div className='pluginVersion'>{plugin.model.version}</div>\n                </div>\n                <div className='row flexcontainer'>\n                    <div className='pluginDescription noWrapInfo'>{plugin.model.description}</div>\n                </div>\n                <div className='row flexcontainer'>\n                    <div className='pluginPublisher noWrapInfo flexcontainer'>{plugin.model.publisher}</div>\n                </div>\n            </div>\n        </div>;\n    }\n\n    protected createPluginClassName(plugin: PluginMetadata): string {\n        const classNames = ['pluginHeaderContainer'];\n        return classNames.join(' ');\n    }\n\n    /**\n     * Compare two plugins based on their names, and publishers.\n     * @param a the first plugin metadata.\n     * @param b the second plugin metadata.\n     */\n    protected compareMetadata(a: PluginMetadata, b: PluginMetadata): number {\n        // Determine the name of the plugins.\n        const nameA = a.model.name.toLowerCase();\n        const nameB = b.model.name.toLowerCase();\n\n        // Determine the publisher of the plugin (when names are equal).\n        const publisherA = a.model.publisher.toLowerCase();\n        const publisherB = b.model.publisher.toLowerCase();\n\n        return (nameA === nameA)\n            ? nameA.localeCompare(nameB)\n            : publisherA.localeCompare(publisherB);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { CommandRegistry, CommandContribution, Command } from '@theia/core/lib/common';\nimport { OpenUriCommandHandler } from './commands';\nimport URI from '@theia/core/lib/common/uri';\nimport { TreeViewWidget } from './view/tree-view-widget';\nimport { CompositeTreeNode, Widget, codicon } from '@theia/core/lib/browser';\nimport { TabBarToolbarContribution, TabBarToolbarRegistry } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { PluginViewWidget } from './view/plugin-view-widget';\n\n@injectable()\nexport class PluginApiFrontendContribution implements CommandContribution, TabBarToolbarContribution {\n\n    @inject(OpenUriCommandHandler)\n    protected readonly openUriCommandHandler: OpenUriCommandHandler;\n\n    static readonly COLLAPSE_ALL_COMMAND = Command.toDefaultLocalizedCommand({\n        id: 'treeviews.collapseAll',\n        iconClass: codicon('collapse-all'),\n        label: 'Collapse All'\n    });\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(OpenUriCommandHandler.COMMAND_METADATA, {\n            execute: (arg: URI) => this.openUriCommandHandler.execute(arg),\n            isVisible: () => false\n        });\n        commands.registerCommand(PluginApiFrontendContribution.COLLAPSE_ALL_COMMAND, {\n            execute: (widget: Widget) => {\n                if (widget instanceof PluginViewWidget && widget.widgets[0] instanceof TreeViewWidget) {\n                    const model = widget.widgets[0].model;\n                    if (CompositeTreeNode.is(model.root)) {\n                        for (const child of model.root.children) {\n                            if (CompositeTreeNode.is(child)) {\n                                model.collapseAll(child);\n                            }\n                        }\n                    }\n                }\n            },\n            isVisible: (widget: Widget) => widget instanceof PluginViewWidget && widget.widgets[0] instanceof TreeViewWidget && widget.widgets[0].showCollapseAll\n        });\n\n    }\n\n    registerToolbarItems(registry: TabBarToolbarRegistry): void {\n        registry.registerItem({\n            id: PluginApiFrontendContribution.COLLAPSE_ALL_COMMAND.id,\n            command: PluginApiFrontendContribution.COLLAPSE_ALL_COMMAND.id,\n            tooltip: PluginApiFrontendContribution.COLLAPSE_ALL_COMMAND.label,\n            icon: PluginApiFrontendContribution.COLLAPSE_ALL_COMMAND.iconClass,\n            priority: 1000\n        });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { AbstractViewContribution } from '@theia/core/lib/browser/shell/view-contribution';\nimport { PLUGINS_LABEL, PluginWidget } from './plugin-ext-widget';\n\n@injectable()\nexport class PluginFrontendViewContribution extends AbstractViewContribution<PluginWidget> {\n\n    public static PLUGINS_WIDGET_FACTORY_ID = 'plugins';\n\n    constructor() {\n        super({\n            widgetId: PluginFrontendViewContribution.PLUGINS_WIDGET_FACTORY_ID,\n            widgetName: PLUGINS_LABEL,\n            defaultWidgetOptions: {\n                area: 'left',\n                rank: 400\n            },\n            toggleCommandId: 'pluginsView:toggle'\n        });\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2023 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Endpoint } from '@theia/core/lib/browser';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport { MonacoIconRegistry } from '@theia/monaco/lib/browser/monaco-icon-registry';\nimport * as path from 'path';\nimport { IconContribution, DeployedPlugin, IconDefinition } from '../../common/plugin-protocol';\n\n@injectable()\nexport class PluginIconService implements Disposable {\n\n    @inject(MonacoIconRegistry)\n    protected readonly iconRegistry: MonacoIconRegistry;\n\n    protected readonly toDispose = new DisposableCollection();\n\n    styleSheet: string = '';\n    styleElement: HTMLStyleElement;\n\n    register(contribution: IconContribution, plugin: DeployedPlugin): Disposable {\n        const defaultIcon = contribution.defaults;\n        if (IconContribution.isIconDefinition(defaultIcon)) {\n            this.registerFontIcon(contribution, defaultIcon);\n        } else {\n            this.registerRegularIcon(contribution, defaultIcon.id);\n        }\n        return Disposable.NULL;\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected registerFontIcon(contribution: IconContribution, defaultIcon: IconDefinition): void {\n        const location = this.toPluginUrl(contribution.extensionId, getIconRelativePath(URI.parse(defaultIcon.location).path));\n        const format = getFileExtension(location.path);\n        const fontId = getFontId(contribution.extensionId, location.path);\n\n        const definition = this.iconRegistry.registerIconFont(fontId, { src: [{ location: location, format }] });\n        this.iconRegistry.registerIcon(contribution.id, {\n            fontCharacter: defaultIcon.fontCharacter,\n            font: {\n                id: fontId,\n                definition\n            }\n        }, contribution.description);\n    }\n\n    protected registerRegularIcon(contribution: IconContribution, defaultIconId: string): void {\n        this.iconRegistry.registerIcon(contribution.id, { id: defaultIconId }, contribution.description);\n    }\n\n    protected toPluginUrl(id: string, relativePath: string): URI {\n        return URI.from(new Endpoint({\n            path: `hostedPlugin/${this.formatExtensionId(id)}/${encodeURIComponent(relativePath)}`\n        }).getRestUrl().toComponents());\n    }\n\n    protected formatExtensionId(id: string): string {\n        return id.replace(/\\W/g, '_');\n    }\n}\n\nfunction getIconRelativePath(iconPath: string): string {\n    const index = iconPath.indexOf('extension');\n    return index === -1 ? '' : iconPath.substring(index + 'extension'.length + 1);\n}\n\nfunction getFontId(extensionId: string, fontPath: string): string {\n    return path.join(extensionId, fontPath);\n}\n\nfunction getFileExtension(filePath: string): string {\n    const index = filePath.lastIndexOf('.');\n    return index === -1 ? '' : filePath.substring(index + 1);\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code is copied and modified from:\n// https://github.com/microsoft/vscode/blob/7cf4cca47aa025a590fc939af54932042302be63/src/vs/workbench/services/themes/browser/fileIconThemeData.ts\n\nimport debounce = require('@theia/core/shared/lodash.debounce');\nimport * as jsoncparser from 'jsonc-parser';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { IconThemeService, IconTheme, IconThemeDefinition } from '@theia/core/lib/browser/icon-theme-service';\nimport { IconThemeContribution, DeployedPlugin, UiTheme, getPluginId } from '../../common/plugin-protocol';\nimport URI from '@theia/core/lib/common/uri';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { RecursivePartial } from '@theia/core/lib/common/types';\nimport { LabelProviderContribution, DidChangeLabelEvent, LabelProvider, URIIconReference } from '@theia/core/lib/browser/label-provider';\nimport { ThemeType } from '@theia/core/lib/common/theme';\nimport { FileStatNode, DirNode } from '@theia/filesystem/lib/browser';\nimport { WorkspaceRootNode } from '@theia/navigator/lib/browser/navigator-tree';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { FileStat, FileChangeType } from '@theia/filesystem/lib/common/files';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { StandaloneServices } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneServices';\nimport { ILanguageService } from '@theia/monaco-editor-core/esm/vs/editor/common/languages/language';\nimport { LanguageService } from '@theia/core/lib/browser/language-service';\nimport { DEFAULT_ICON_SIZE, PLUGIN_FILE_ICON_CLASS } from './plugin-shared-style';\n\nexport interface PluginIconDefinition {\n    iconPath: string;\n    fontColor: string;\n    fontCharacter: string;\n    fontSize: string;\n    fontId: string;\n}\n\nexport interface PluginFontDefinition {\n    id: string;\n    weight: string;\n    style: string;\n    size: string;\n    src: { path: string; format: string; }[];\n}\n\nexport interface PluginIconsAssociation {\n    folder?: string;\n    file?: string;\n    folderExpanded?: string;\n    rootFolder?: string;\n    rootFolderExpanded?: string;\n    folderNames?: { [folderName: string]: string; };\n    folderNamesExpanded?: { [folderName: string]: string; };\n    fileExtensions?: { [extension: string]: string; };\n    fileNames?: { [fileName: string]: string; };\n    languageIds?: { [languageId: string]: string; };\n}\n\nexport interface PluginIconDefinitions {\n    [key: string]: PluginIconDefinition\n}\n\nexport interface PluginIconThemeDocument extends PluginIconsAssociation {\n    iconDefinitions: PluginIconDefinitions;\n    fonts: PluginFontDefinition[];\n    light?: PluginIconsAssociation;\n    highContrast?: PluginIconsAssociation;\n    hidesExplorerArrows?: boolean;\n    showLanguageModeIcons?: boolean;\n}\n\nexport const PluginIconThemeFactory = Symbol('PluginIconThemeFactory');\nexport type PluginIconThemeFactory = (definition: PluginIconThemeDefinition) => PluginIconTheme;\n\n@injectable()\nexport class PluginIconThemeDefinition implements IconThemeDefinition, IconThemeContribution {\n    id: string;\n    label: string;\n    description?: string;\n    uri: string;\n    uiTheme?: UiTheme;\n    pluginId: string;\n    packageUri: string;\n    hasFileIcons?: boolean;\n    hasFolderIcons?: boolean;\n    hidesExplorerArrows?: boolean;\n    showLanguageModeIcons?: boolean;\n}\n\nclass PluginLanguageIconInfo {\n    hasSpecificFileIcons: boolean = false;\n    coveredLanguages: { [languageId: string]: boolean } = {};\n};\n\n@injectable()\nexport class PluginIconTheme extends PluginIconThemeDefinition implements IconTheme, Disposable {\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(PluginIconThemeDefinition)\n    protected readonly definition: PluginIconThemeDefinition;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(LanguageService)\n    protected readonly languageService: LanguageService;\n\n    protected readonly onDidChangeEmitter = new Emitter<DidChangeLabelEvent>();\n    readonly onDidChange = this.onDidChangeEmitter.event;\n\n    protected readonly toDeactivate = new DisposableCollection();\n    protected readonly toUnload = new DisposableCollection();\n    protected readonly toDisposeStyleElement = new DisposableCollection();\n    protected readonly toDispose = new DisposableCollection(\n        this.toDeactivate, this.toDisposeStyleElement, this.toUnload, this.onDidChangeEmitter\n    );\n\n    protected packageRootUri: URI;\n    protected locationUri: URI;\n\n    protected styleSheetContent: string | undefined;\n    protected readonly icons = new Set<string>();\n\n    @postConstruct()\n    protected init(): void {\n        Object.assign(this, this.definition);\n        this.packageRootUri = new URI(this.packageUri);\n        this.locationUri = new URI(this.uri).parent;\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected fireDidChange(): void {\n        this.onDidChangeEmitter.fire({ affects: () => true });\n    }\n\n    activate(): Disposable {\n        if (!this.toDeactivate.disposed) {\n            return this.toDeactivate;\n        }\n        this.toDeactivate.push(Disposable.create(() => this.fireDidChange()));\n        this.doActivate();\n        return this.toDeactivate;\n    }\n\n    protected async doActivate(): Promise<void> {\n        await this.load();\n        this.updateStyleElement();\n    }\n\n    protected updateStyleElement(): void {\n        this.toDisposeStyleElement.dispose();\n        if (this.toDeactivate.disposed || !this.styleSheetContent) {\n            return;\n        }\n        const styleElement = document.createElement('style');\n        styleElement.type = 'text/css';\n        styleElement.className = 'theia-icon-theme';\n        styleElement.innerText = this.styleSheetContent;\n        document.head.appendChild(styleElement);\n        const toRemoveStyleElement = Disposable.create(() => styleElement.remove());\n        this.toDisposeStyleElement.push(toRemoveStyleElement);\n        this.toDeactivate.push(toRemoveStyleElement);\n        this.fireDidChange();\n    }\n\n    protected reload = debounce(() => {\n        this.toUnload.dispose();\n        this.doActivate();\n    }, 50);\n\n    /**\n     * This should be aligned with\n     * https://github.com/microsoft/vscode/blob/7cf4cca47aa025a590fc939af54932042302be63/src/vs/workbench/services/themes/browser/fileIconThemeData.ts#L201\n     */\n    protected async load(): Promise<void> {\n        if (this.styleSheetContent !== undefined) {\n            return;\n        }\n        this.styleSheetContent = '';\n        this.toUnload.push(Disposable.create(() => {\n            this.styleSheetContent = undefined;\n            this.hasFileIcons = undefined;\n            this.hasFolderIcons = undefined;\n            this.hidesExplorerArrows = undefined;\n            this.icons.clear();\n        }));\n\n        const uri = new URI(this.uri);\n        const result = await this.fileService.read(uri);\n        const content = result.value;\n        const json: RecursivePartial<PluginIconThemeDocument> = jsoncparser.parse(content, undefined, { disallowComments: false });\n        this.hidesExplorerArrows = !!json.hidesExplorerArrows;\n\n        const toUnwatch = this.fileService.watch(uri);\n        if (this.toUnload.disposed) {\n            toUnwatch.dispose();\n        } else {\n            this.toUnload.push(toUnwatch);\n            this.toUnload.push(this.fileService.onDidFilesChange(e => {\n                if (e.contains(uri, FileChangeType.ADDED) || e.contains(uri, FileChangeType.UPDATED)) {\n                    this.reload();\n                }\n            }));\n        }\n\n        const iconDefinitions = json.iconDefinitions;\n        if (!iconDefinitions) {\n            return;\n        }\n        const definitionSelectors = new Map<string, string[]>();\n        const acceptSelector = (themeType: ThemeType, definitionId: string, ...icons: string[]) => {\n            if (!iconDefinitions[definitionId]) {\n                return;\n            }\n            let selector = '';\n            for (const icon of icons) {\n                if (icon) {\n                    selector += '.' + icon;\n                    this.icons.add(icon);\n                }\n            }\n            if (!selector) {\n                return;\n            }\n            const selectors = definitionSelectors.get(definitionId) || [];\n            if (themeType !== 'dark') {\n                selector = '.theia-' + themeType + ' ' + selector;\n            }\n            selectors.push(selector + '::before');\n            definitionSelectors.set(definitionId, selectors);\n        };\n\n        let iconInfo = this.collectSelectors(json, acceptSelector.bind(undefined, 'dark'));\n        if (json.light) {\n            iconInfo = this.collectSelectors(json.light, acceptSelector.bind(undefined, 'light'));\n        }\n        if (json.highContrast) {\n            iconInfo = this.collectSelectors(json.highContrast, acceptSelector.bind(undefined, 'hc'));\n        }\n\n        const showLanguageModeIcons = this.showLanguageModeIcons === true\n            || json.showLanguageModeIcons === true\n            || (iconInfo.hasSpecificFileIcons && json.showLanguageModeIcons !== false);\n\n        const fonts = json.fonts;\n        if (Array.isArray(fonts)) {\n            for (const font of fonts) {\n                if (font) {\n                    let src = '';\n                    if (Array.isArray(font.src)) {\n                        for (const srcLocation of font.src) {\n                            if (srcLocation && srcLocation.path) {\n                                const cssUrl = this.toCSSUrl(srcLocation.path);\n                                if (cssUrl) {\n                                    if (src) {\n                                        src += ', ';\n                                    }\n                                    src += `${cssUrl} format('${srcLocation.format}')`;\n                                }\n                            }\n                        }\n                    }\n                    if (src) {\n                        this.styleSheetContent += `@font-face {\n    src: ${src};\n    font-family: '${font.id}';\n    font-weight: ${font.weight};\n    font-style: ${font.style};\n}\n`;\n                    }\n                }\n            }\n            const firstFont = fonts[0];\n            if (firstFont && firstFont.id) {\n                this.styleSheetContent += `.${this.fileIcon}::before, .${this.folderIcon}::before, .${this.rootFolderIcon}::before {\n    font-family: '${firstFont.id}';\n    font-size: ${firstFont.size || '150%'};\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    vertical-align: top;\n}\n`;\n            }\n        }\n\n        for (const definitionId of definitionSelectors.keys()) {\n            const iconDefinition = iconDefinitions[definitionId];\n            const selectors = definitionSelectors.get(definitionId);\n            if (selectors && iconDefinition) {\n                const cssUrl = this.toCSSUrl(iconDefinition.iconPath);\n                if (cssUrl) {\n                    this.styleSheetContent += `${selectors.join(', ')} {\n    content: ' ';\n    background-image: ${cssUrl};\n    background-size: ${DEFAULT_ICON_SIZE}px;\n    background-position: left center;\n    background-repeat: no-repeat;\n}\n`;\n                }\n                if (iconDefinition.fontCharacter || iconDefinition.fontColor) {\n                    let body = '';\n                    if (iconDefinition.fontColor) {\n                        body += ` color: ${iconDefinition.fontColor};`;\n                    }\n                    if (iconDefinition.fontCharacter) {\n                        body += ` content: '${iconDefinition.fontCharacter}';`;\n                    }\n                    if (iconDefinition.fontSize) {\n                        body += ` font-size: ${iconDefinition.fontSize};`;\n                    }\n                    if (iconDefinition.fontId) {\n                        body += ` font-family: ${iconDefinition.fontId};`;\n                    }\n                    this.styleSheetContent += `${selectors.join(', ')} {${body} }\\n`;\n                }\n            }\n        }\n\n        if (showLanguageModeIcons) {\n            for (const language of this.languageService.languages) {\n                // only show language icons if there are no more specific icons in the style document\n                if (!iconInfo.coveredLanguages[language.id]) {\n                    const icon = this.languageService.getIcon(language.id);\n                    if (icon) {\n                        this.icons.add(this.fileIcon);\n                        this.icons.add(this.languageIcon(language.id));\n                        this.icons.add(icon);\n                    }\n                }\n            }\n        }\n    }\n\n    protected toCSSUrl(iconPath: string | undefined): string | undefined {\n        if (!iconPath) {\n            return undefined;\n        }\n        const iconUri = this.locationUri.resolve(iconPath);\n        const relativePath = this.packageRootUri.path.relative(iconUri.path.normalize());\n        return relativePath && `url('${new Endpoint({\n            path: `hostedPlugin/${this.pluginId}/${encodeURIComponent(relativePath.normalize().toString())}`\n        }).getRestUrl().toString()}')`;\n    }\n\n    protected escapeCSS(value: string): string {\n        value = value.replace(/[^\\-a-zA-Z0-9]/g, '-');\n        if (value.charAt(0).match(/[0-9\\-]/)) {\n            value = '-' + value;\n        }\n        return value;\n    }\n\n    protected readonly fileIcon = PLUGIN_FILE_ICON_CLASS;\n    protected readonly folderIcon = 'theia-plugin-folder-icon';\n    protected readonly folderExpandedIcon = 'theia-plugin-folder-expanded-icon';\n    protected readonly rootFolderIcon = 'theia-plugin-root-folder-icon';\n    protected readonly rootFolderExpandedIcon = 'theia-plugin-root-folder-expanded-icon';\n    protected folderNameIcon(folderName: string): string {\n        return 'theia-plugin-' + this.escapeCSS(folderName.toLowerCase()) + '-folder-name-icon';\n    }\n    protected expandedFolderNameIcon(folderName: string): string {\n        return 'theia-plugin-' + this.escapeCSS(folderName.toLowerCase()) + '-expanded-folder-name-icon';\n    }\n    protected fileNameIcon(fileName: string): string[] {\n        fileName = fileName.toLowerCase();\n        const extIndex = fileName.indexOf('.');\n        const icons = extIndex !== -1 ? this.fileExtensionIcon(fileName.substring(extIndex + 1)) : [];\n        icons.unshift('theia-plugin-' + this.escapeCSS(fileName) + '-file-name-icon');\n        return icons;\n    }\n    protected fileExtensionIcon(fileExtension: string): string[] {\n        fileExtension = fileExtension.toString();\n        const icons = [];\n        const segments = fileExtension.split('.');\n        if (segments.length) {\n            if (segments.length) {\n                for (let i = 0; i < segments.length; i++) {\n                    icons.push('theia-plugin-' + this.escapeCSS(segments.slice(i).join('.')) + '-ext-file-icon');\n                }\n                icons.push('theia-plugin-ext-file-icon'); // extra segment to increase file-ext score\n            }\n        }\n        return icons;\n    }\n    protected languageIcon(languageId: string): string {\n        return 'theia-plugin-' + this.escapeCSS(languageId) + '-lang-file-icon';\n    }\n\n    protected collectSelectors(associations: RecursivePartial<PluginIconsAssociation>, accept: (definitionId: string, ...icons: string[]) => void): PluginLanguageIconInfo {\n        const iconInfo = new PluginLanguageIconInfo();\n        if (associations.folder) {\n            accept(associations.folder, this.folderIcon);\n            if (associations.folderExpanded === undefined) {\n                // Use the same icon for expanded state (issue #12727). Check for\n                // undefined folderExpanded property to allow for\n                // \"folderExpanded\": null in case a developer really wants that\n                accept(associations.folder, this.folderExpandedIcon);\n            }\n            this.hasFolderIcons = true;\n        }\n        if (associations.folderExpanded) {\n            accept(associations.folderExpanded, this.folderExpandedIcon);\n            this.hasFolderIcons = true;\n        }\n        const rootFolder = associations.rootFolder || associations.folder;\n        if (rootFolder) {\n            accept(rootFolder, this.rootFolderIcon);\n            this.hasFolderIcons = true;\n        }\n        const rootFolderExpanded = associations.rootFolderExpanded || associations.folderExpanded;\n        if (rootFolderExpanded) {\n            accept(rootFolderExpanded, this.rootFolderExpandedIcon);\n            this.hasFolderIcons = true;\n        }\n        if (associations.file) {\n            accept(associations.file, this.fileIcon);\n            this.hasFileIcons = true;\n        }\n        const folderNames = associations.folderNames;\n        if (folderNames) {\n            // eslint-disable-next-line guard-for-in\n            for (const folderName in folderNames) {\n                accept(folderNames[folderName]!, this.folderNameIcon(folderName), this.folderIcon);\n                this.hasFolderIcons = true;\n            }\n        }\n        const folderNamesExpanded = associations.folderNamesExpanded;\n        if (folderNamesExpanded) {\n            // eslint-disable-next-line guard-for-in\n            for (const folderName in folderNamesExpanded) {\n                accept(folderNamesExpanded[folderName]!, this.expandedFolderNameIcon(folderName), this.folderExpandedIcon);\n                this.hasFolderIcons = true;\n            }\n        }\n        const languageIds = associations.languageIds;\n        if (languageIds) {\n            if (!languageIds.jsonc && languageIds.json) {\n                languageIds.jsonc = languageIds.json;\n            }\n            // eslint-disable-next-line guard-for-in\n            for (const languageId in languageIds) {\n                accept(languageIds[languageId]!, this.languageIcon(languageId), this.fileIcon);\n                this.hasFileIcons = true;\n                iconInfo.hasSpecificFileIcons = true;\n                iconInfo.coveredLanguages[languageId] = true;\n            }\n        }\n        const fileExtensions = associations.fileExtensions;\n        if (fileExtensions) {\n            // eslint-disable-next-line guard-for-in\n            for (const fileExtension in fileExtensions) {\n                accept(fileExtensions[fileExtension]!, ...this.fileExtensionIcon(fileExtension), this.fileIcon);\n                this.hasFileIcons = true;\n                iconInfo.hasSpecificFileIcons = true;\n            }\n        }\n        const fileNames = associations.fileNames;\n        if (fileNames) {\n            // eslint-disable-next-line guard-for-in\n            for (const fileName in fileNames) {\n                accept(fileNames[fileName]!, ...this.fileNameIcon(fileName), this.fileIcon);\n                this.hasFileIcons = true;\n                iconInfo.hasSpecificFileIcons = true;\n            }\n        }\n        return iconInfo;\n    }\n\n    /**\n     * This should be aligned with\n     * https://github.com/microsoft/vscode/blob/7cf4cca47aa025a590fc939af54932042302be63/src/vs/editor/common/services/getIconClasses.ts#L5\n     */\n    getIcon(element: URI | URIIconReference | FileStat | FileStatNode | WorkspaceRootNode): string {\n        let icon = '';\n        for (const className of this.getClassNames(element)) {\n            if (this.icons.has(className)) {\n                if (icon) {\n                    icon += ' ';\n                }\n                icon += className;\n            }\n        }\n        return icon;\n    }\n\n    protected getClassNames(element: URI | URIIconReference | FileStat | FileStatNode | WorkspaceRootNode): string[] {\n        if (WorkspaceRootNode.is(element)) {\n            const name = this.labelProvider.getName(element);\n            if (element.expanded) {\n                return [this.rootFolderExpandedIcon, this.expandedFolderNameIcon(name)];\n            }\n            return [this.rootFolderIcon, this.folderNameIcon(name)];\n        }\n        if (DirNode.is(element)) {\n            if (element.expanded) {\n                const name = this.labelProvider.getName(element);\n                return [this.folderExpandedIcon, this.expandedFolderNameIcon(name)];\n            }\n            return this.getFolderClassNames(element);\n        }\n        if (FileStatNode.is(element)) {\n            return this.getFileClassNames(element, element.fileStat.resource.toString());\n        }\n        if (FileStat.is(element)) {\n            if (element.isDirectory) {\n                return this.getFolderClassNames(element);\n            }\n            return this.getFileClassNames(element, element.resource.toString());\n        }\n        if (URIIconReference.is(element)) {\n            if (element.id === 'folder') {\n                return this.getFolderClassNames(element);\n            }\n            return this.getFileClassNames(element, element.uri && element.uri.toString());\n        }\n        return this.getFileClassNames(element, element.toString());\n    }\n\n    protected getFolderClassNames(element: object): string[] {\n        const name = this.labelProvider.getName(element);\n        return [this.folderIcon, this.folderNameIcon(name)];\n    }\n\n    protected getFileClassNames(element: object, uri?: string): string[] {\n        const name = this.labelProvider.getName(element);\n        const classNames = this.fileNameIcon(name);\n        if (uri) {\n            const parsedURI = new URI(uri);\n            const isRoot = this.workspaceService.getWorkspaceRootUri(new URI(uri))?.isEqual(parsedURI);\n            if (isRoot) {\n                classNames.unshift(this.rootFolderIcon);\n            } else {\n                classNames.unshift(this.fileIcon);\n            }\n            const language = StandaloneServices.get(ILanguageService).createByFilepathOrFirstLine(parsedURI['codeUri']);\n            classNames.push(this.languageIcon(language.languageId));\n            const defaultLanguageIcon = this.languageService.getIcon(language.languageId);\n            if (defaultLanguageIcon) {\n                classNames.push(defaultLanguageIcon);\n            }\n        }\n        return classNames;\n    }\n\n}\n\n@injectable()\nexport class PluginIconThemeService implements LabelProviderContribution {\n\n    @inject(IconThemeService)\n    protected readonly iconThemeService: IconThemeService;\n\n    @inject(PluginIconThemeFactory)\n    protected readonly iconThemeFactory: PluginIconThemeFactory;\n\n    protected readonly onDidChangeEmitter = new Emitter<DidChangeLabelEvent>();\n    readonly onDidChange = this.onDidChangeEmitter.event;\n\n    protected fireDidChange(): void {\n        this.onDidChangeEmitter.fire({ affects: () => true });\n    }\n\n    register(contribution: IconThemeContribution, plugin: DeployedPlugin): Disposable {\n        const pluginId = getPluginId(plugin.metadata.model);\n        const packageUri = plugin.metadata.model.packageUri;\n        const iconTheme = this.iconThemeFactory({\n            id: contribution.id,\n            label: contribution.label || new URI(contribution.uri).path.base,\n            description: contribution.description,\n            uri: contribution.uri,\n            uiTheme: contribution.uiTheme,\n            pluginId,\n            packageUri\n        });\n        return new DisposableCollection(\n            iconTheme,\n            iconTheme.onDidChange(() => this.fireDidChange()),\n            this.iconThemeService.register(iconTheme)\n        );\n    }\n\n    canHandle(element: object): number {\n        const current = this.iconThemeService.getDefinition(this.iconThemeService.current);\n        if (current instanceof PluginIconTheme && (\n            (element instanceof URI && element.scheme === 'file') || URIIconReference.is(element) || FileStat.is(element) || FileStatNode.is(element)\n        )) {\n            return Number.MAX_SAFE_INTEGER;\n        }\n        return 0;\n    }\n\n    getIcon(element: URI | URIIconReference | FileStat | FileStatNode | WorkspaceRootNode): string | undefined {\n        const current = this.iconThemeService.getDefinition(this.iconThemeService.current);\n        if (current instanceof PluginIconTheme) {\n            return current.getIcon(element);\n        }\n        return undefined;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { ThemeService } from '@theia/core/lib/browser/theming';\nimport { Theme } from '@theia/core/lib/common/theme';\nimport { IconUrl } from '../../common/plugin-protocol';\nimport { Reference, SyncReferenceCollection } from '@theia/core/lib/common/reference';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\n\nexport interface PluginIconKey {\n    url: IconUrl;\n    size?: number;\n    type?: 'icon' | 'file';\n}\n\nexport interface PluginIcon extends Disposable {\n    readonly iconClass: string\n}\n\nexport const PLUGIN_FILE_ICON_CLASS = 'theia-plugin-file-icon';\n\nexport const DEFAULT_ICON_SIZE = 16;\n\n@injectable()\nexport class PluginSharedStyle {\n\n    @inject(ThemeService) protected readonly themeService: ThemeService;\n\n    protected style: HTMLStyleElement;\n    protected readonly rules: {\n        selector: string;\n        body: (theme: Theme) => string\n    }[] = [];\n\n    @postConstruct()\n    protected init(): void {\n        this.update();\n        this.themeService.onDidColorThemeChange(() => this.update());\n    }\n\n    protected readonly toUpdate = new DisposableCollection();\n    protected update(): void {\n        this.toUpdate.dispose();\n\n        const style = this.style = document.createElement('style');\n        style.type = 'text/css';\n        style.media = 'screen';\n        document.getElementsByTagName('head')[0].appendChild(style);\n        this.toUpdate.push(Disposable.create(() =>\n            document.getElementsByTagName('head')[0].removeChild(style)\n        ));\n\n        for (const rule of this.rules) {\n            this.doInsertRule(rule);\n        }\n    }\n\n    insertRule(selector: string, body: (theme: Theme) => string): Disposable {\n        const rule = { selector, body };\n        this.rules.push(rule);\n        this.doInsertRule(rule);\n        return Disposable.create(() => {\n            const index = this.rules.indexOf(rule);\n            if (index !== -1) {\n                this.rules.splice(index, 1);\n                this.deleteRule(selector);\n            }\n        });\n    }\n    protected doInsertRule({ selector, body }: {\n        selector: string;\n        body: (theme: Theme) => string\n    }): void {\n        const sheet = (<CSSStyleSheet>this.style.sheet);\n        const cssBody = body(this.themeService.getCurrentTheme());\n        sheet.insertRule(selector + ' {\\n' + cssBody + '\\n}', 0);\n    }\n    deleteRule(selector: string): void {\n        const sheet = (<CSSStyleSheet>this.style.sheet);\n        const rules = sheet.rules || sheet.cssRules || [];\n        for (let i = rules.length - 1; i >= 0; i--) {\n            const rule = rules[i];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if ((<any>rule).selectorText.indexOf(selector) !== -1) {\n                sheet.deleteRule(i);\n            }\n        }\n    }\n\n    private readonly icons = new SyncReferenceCollection<PluginIconKey, PluginIcon>(key => this.createPluginIcon(key));\n    toIconClass(url: IconUrl, { size }: { size: number } = { size: DEFAULT_ICON_SIZE }): Reference<PluginIcon> {\n        return this.icons.acquire({ url, size });\n    }\n\n    toFileIconClass(url: IconUrl): Reference<PluginIcon> {\n        return this.icons.acquire({ url, type: 'file' });\n    }\n\n    private iconSequence = 0;\n    protected createPluginIcon(key: PluginIconKey): PluginIcon {\n        const iconUrl = key.url;\n        const size = key.size ?? DEFAULT_ICON_SIZE;\n        const type = key.type ?? 'icon';\n        const darkIconUrl = PluginSharedStyle.toExternalIconUrl(`${typeof iconUrl === 'object' ? iconUrl.dark : iconUrl}`);\n        const lightIconUrl = PluginSharedStyle.toExternalIconUrl(`${typeof iconUrl === 'object' ? iconUrl.light : iconUrl}`);\n\n        const toDispose = new DisposableCollection();\n        let iconClass = 'plugin-icon-' + this.iconSequence++;\n        if (type === 'icon') {\n            toDispose.push(this.insertRule('.' + iconClass + '::before', theme => `\n                    content: \"\";\n                    background-position: 2px;\n                    display: block;\n                    width: ${size}px;\n                    height: ${size}px;\n                    background: center no-repeat url(\"${theme.type === 'light' ? lightIconUrl : darkIconUrl}\");\n                    background-size: ${size}px;\n                `));\n        } else {\n            toDispose.push(this.insertRule('.' + iconClass + '::before', theme => `\n                    content: \"\";\n                    background-image: url(\"${theme.type === 'light' ? lightIconUrl : darkIconUrl}\");\n                    background-size: ${DEFAULT_ICON_SIZE}px;\n                    background-position: left center;\n                    background-repeat: no-repeat;\n                `));\n            iconClass += ' ' + PLUGIN_FILE_ICON_CLASS;\n        }\n        return { iconClass, dispose: () => toDispose.dispose() };\n    }\n\n    static toExternalIconUrl(iconUrl: string): string {\n        if (iconUrl.startsWith('hostedPlugin/')) {\n            return new Endpoint({ path: iconUrl }).getRestUrl().toString();\n        }\n        return iconUrl;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { StorageMain } from '../../common/plugin-api-rpc';\nimport { PluginServer, PluginStorageKind } from '../../common/plugin-protocol';\nimport { KeysToAnyValues, KeysToKeysToAnyValue } from '../../common/types';\nimport { WorkspaceService } from '@theia/workspace/lib/browser/workspace-service';\n\nexport class StorageMainImpl implements StorageMain {\n\n    private readonly pluginServer: PluginServer;\n    private readonly workspaceService: WorkspaceService;\n\n    constructor(container: interfaces.Container) {\n        this.pluginServer = container.get(PluginServer);\n        this.workspaceService = container.get(WorkspaceService);\n    }\n\n    $set(key: string, value: KeysToAnyValues, isGlobal: boolean): Promise<boolean> {\n        return this.pluginServer.setStorageValue(key, value, this.toKind(isGlobal));\n    }\n\n    $get(key: string, isGlobal: boolean): Promise<KeysToAnyValues> {\n        return this.pluginServer.getStorageValue(key, this.toKind(isGlobal));\n    }\n\n    $getAll(isGlobal: boolean): Promise<KeysToKeysToAnyValue> {\n        return this.pluginServer.getAllStorageValues(this.toKind(isGlobal));\n    }\n\n    protected toKind(isGlobal: boolean): PluginStorageKind {\n        if (isGlobal) {\n            return undefined;\n        }\n        return {\n            workspace: this.workspaceService.workspace?.resource.toString(),\n            roots: this.workspaceService.tryGetRoots().map(root => root.resource.toString())\n        };\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\n\n@injectable()\nexport class PluginTerminalRegistry {\n\n    startCallback: (id: string) => Promise<string>;\n\n    start(profileId: string): Promise<string> {\n        return this.startCallback(profileId);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    PreferenceService,\n    PreferenceServiceImpl,\n    PreferenceScope,\n    PreferenceProviderProvider\n} from '@theia/core/lib/common/preferences';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport {\n    MAIN_RPC_CONTEXT,\n    PreferenceRegistryExt,\n    PreferenceRegistryMain,\n    PreferenceData,\n    PreferenceChangeExt,\n} from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { ConfigurationTarget } from '../../plugin/types-impl';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\n\nexport function getPreferences(preferenceProviderProvider: PreferenceProviderProvider, rootFolders: FileStat[]): PreferenceData {\n    const folders = rootFolders.map(root => root.resource.toString());\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return PreferenceScope.getScopes().reduce((result: { [key: number]: any }, scope: PreferenceScope) => {\n        result[scope] = {};\n        const provider = preferenceProviderProvider(scope);\n        if (provider) {\n            if (scope === PreferenceScope.Folder) {\n                for (const f of folders) {\n                    const folderPrefs = provider.getPreferences(f);\n                    result[scope][f] = folderPrefs;\n                }\n            } else {\n                result[scope] = provider.getPreferences();\n            }\n        }\n        return result;\n    }, {} as PreferenceData);\n}\n\nexport class PreferenceRegistryMainImpl implements PreferenceRegistryMain, Disposable {\n    private readonly proxy: PreferenceRegistryExt;\n    private readonly preferenceService: PreferenceService;\n\n    protected readonly toDispose = new DisposableCollection();\n\n    constructor(prc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = prc.getProxy(MAIN_RPC_CONTEXT.PREFERENCE_REGISTRY_EXT);\n        this.preferenceService = container.get(PreferenceService);\n        const preferenceProviderProvider = container.get<PreferenceProviderProvider>(PreferenceProviderProvider);\n        const preferenceServiceImpl = container.get(PreferenceServiceImpl);\n        const workspaceService = container.get(WorkspaceService);\n\n        this.toDispose.push(preferenceServiceImpl.onPreferencesChanged(changes => {\n            // it HAS to be synchronous to propagate changes before update/remove response\n\n            const roots = workspaceService.tryGetRoots();\n            const data = getPreferences(preferenceProviderProvider, roots);\n            const eventData = Object.values(changes).map<PreferenceChangeExt>(({ scope, newValue, domain, preferenceName }) => {\n                const extScope = scope === PreferenceScope.User ? undefined : domain?.[0];\n                return { preferenceName, newValue, scope: extScope };\n            });\n            this.proxy.$acceptConfigurationChanged(data, eventData);\n        }));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async $updateConfigurationOption(target: boolean | ConfigurationTarget | undefined, key: string, value: any, resource?: string, withLanguageOverride?: boolean): Promise<void> {\n        const scope = this.parseConfigurationTarget(target, resource);\n        const effectiveKey = this.getEffectiveKey(key, scope, withLanguageOverride, resource);\n        await this.preferenceService.set(effectiveKey, value, scope, resource);\n    }\n\n    async $removeConfigurationOption(target: boolean | ConfigurationTarget | undefined, key: string, resource?: string, withLanguageOverride?: boolean): Promise<void> {\n        const scope = this.parseConfigurationTarget(target, resource);\n        const effectiveKey = this.getEffectiveKey(key, scope, withLanguageOverride, resource);\n        await this.preferenceService.set(effectiveKey, undefined, scope, resource);\n    }\n\n    private parseConfigurationTarget(target?: boolean | ConfigurationTarget, resource?: string): PreferenceScope {\n        if (typeof target === 'boolean') {\n            return target ? PreferenceScope.User : PreferenceScope.Workspace;\n        }\n        switch (target) {\n            case ConfigurationTarget.Global:\n                return PreferenceScope.User;\n            case ConfigurationTarget.Workspace:\n                return PreferenceScope.Workspace;\n            case ConfigurationTarget.WorkspaceFolder:\n                return PreferenceScope.Folder;\n            default:\n                return resource ? PreferenceScope.Folder : PreferenceScope.Workspace;\n        }\n    }\n\n    // If the caller does not set `withLanguageOverride = true`, we have to check whether the setting exists with that override already.\n    protected getEffectiveKey(key: string, scope: PreferenceScope, withLanguageOverride?: boolean, resource?: string): string {\n        if (withLanguageOverride) { return key; }\n        const overridden = this.preferenceService.overriddenPreferenceName(key);\n        if (!overridden) { return key; }\n        const value = this.preferenceService.inspectInScope(key, scope, resource, withLanguageOverride);\n        return value === undefined ? overridden.preferenceName : key;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { InputBoxOptions } from '@theia/plugin';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport {\n    QuickOpenExt,\n    QuickOpenMain,\n    MAIN_RPC_CONTEXT,\n    TransferInputBox,\n    TransferQuickPickItem,\n    TransferQuickInput,\n    TransferQuickInputButton,\n    TransferQuickPickOptions\n} from '../../common/plugin-api-rpc';\nimport {\n    InputOptions,\n    QuickInput,\n    QuickInputButton,\n    QuickInputButtonHandle,\n    QuickInputService,\n    QuickPickItem,\n    QuickPickItemOrSeparator,\n    codiconArray\n} from '@theia/core/lib/browser';\nimport { DisposableCollection, Disposable } from '@theia/core/lib/common/disposable';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { MonacoQuickInputService } from '@theia/monaco/lib/browser/monaco-quick-input-service';\nimport { QuickInputButtons } from '../../plugin/types-impl';\nimport { ThemeIcon } from '@theia/monaco-editor-core/esm/vs/base/common/themables';\nimport { PluginSharedStyle } from './plugin-shared-style';\nimport { QuickPickSeparator } from '@theia/core';\n\nexport interface QuickInputSession {\n    input: QuickInput;\n    handlesToItems: Map<number, QuickPickItemOrSeparator>;\n}\n\nexport class QuickOpenMainImpl implements QuickOpenMain, Disposable {\n\n    private quickInputService: QuickInputService;\n    private proxy: QuickOpenExt;\n    private delegate: MonacoQuickInputService;\n    private sharedStyle: PluginSharedStyle;\n    private readonly items: Record<number, {\n        resolve(items: QuickPickItemOrSeparator[]): void;\n        reject(error: Error): void;\n    }> = {};\n\n    protected readonly toDispose = new DisposableCollection();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.QUICK_OPEN_EXT);\n        this.delegate = container.get(MonacoQuickInputService);\n        this.quickInputService = container.get(QuickInputService);\n        this.sharedStyle = container.get(PluginSharedStyle);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    async $show(instance: number, options: TransferQuickPickOptions<TransferQuickPickItem>, token: CancellationToken): Promise<number | number[] | undefined> {\n        const contents = new Promise<QuickPickItemOrSeparator[]>((resolve, reject) => {\n            this.items[instance] = { resolve, reject };\n        });\n\n        const activeItem = await options.activeItem;\n        const transformedOptions = {\n            ...options,\n            onDidFocus: (el: any) => {\n                if (el) {\n                    this.proxy.$onItemSelected(Number.parseInt((<QuickPickItem>el).id!));\n                }\n            },\n            activeItem: this.isItem(activeItem) ? this.toQuickPickItem(activeItem) : undefined\n        };\n\n        const result = await this.delegate.pick(contents, transformedOptions, token);\n\n        if (Array.isArray(result)) {\n            return result.map(({ id }) => Number.parseInt(id!));\n        } else if (result) {\n            return Number.parseInt(result.id!);\n        }\n        return undefined;\n    }\n\n    private isItem(item?: TransferQuickPickItem): item is TransferQuickPickItem & { kind: 'item' } {\n        return item?.kind === 'item';\n    }\n\n    private toIconClasses(path: { light: string; dark: string } | ThemeIcon | string | undefined): string[] {\n        const iconClasses: string[] = [];\n        if (ThemeIcon.isThemeIcon(path)) {\n            const codicon = codiconArray(path.id);\n            iconClasses.push(...codicon);\n        } else if (path) {\n            const iconReference = this.sharedStyle.toIconClass(path);\n            this.toDispose.push(iconReference);\n            iconClasses.push(iconReference.object.iconClass);\n        }\n        return iconClasses;\n    }\n\n    private toIconClass(path: { light: string; dark: string } | ThemeIcon | string | undefined): string {\n        return this.toIconClasses(path).join(' ');\n    }\n\n    private toQuickPickItem(item: undefined): undefined;\n    private toQuickPickItem(item: TransferQuickPickItem & { kind: 'item' }): QuickPickItem;\n    private toQuickPickItem(item: TransferQuickPickItem & { kind: 'separator' }): QuickPickSeparator;\n    private toQuickPickItem(item: TransferQuickPickItem): QuickPickItemOrSeparator;\n    private toQuickPickItem(item: TransferQuickPickItem | undefined): QuickPickItemOrSeparator | undefined {\n        if (!item) {\n            return undefined;\n        } else if (item.kind === 'separator') {\n            return {\n                type: 'separator',\n                label: item.label\n            };\n        }\n        return {\n            type: 'item',\n            id: item.handle.toString(),\n            label: item.label,\n            description: item.description,\n            detail: item.detail,\n            alwaysShow: item.alwaysShow,\n            iconClasses: this.toIconClasses(item.iconUrl),\n            buttons: item.buttons ? this.convertToQuickInputButtons(item.buttons) : undefined\n        };\n    }\n\n    $setItems(instance: number, items: TransferQuickPickItem[]): Promise<any> {\n        if (this.items[instance]) {\n            this.items[instance].resolve(items.map(item => this.toQuickPickItem(item)));\n            delete this.items[instance];\n        }\n        return Promise.resolve();\n    }\n\n    $setError(instance: number, error: Error): Promise<void> {\n        if (this.items[instance]) {\n            this.items[instance].reject(error);\n            delete this.items[instance];\n        }\n        return Promise.resolve();\n    }\n\n    $input(options: InputBoxOptions, validateInput: boolean, token: CancellationToken): Promise<string | undefined> {\n        const inputOptions: InputOptions = Object.create(null);\n\n        if (options) {\n            inputOptions.title = options.title;\n            inputOptions.password = options.password;\n            inputOptions.placeHolder = options.placeHolder;\n            inputOptions.valueSelection = options.valueSelection;\n            inputOptions.prompt = options.prompt;\n            inputOptions.value = options.value;\n            inputOptions.ignoreFocusLost = options.ignoreFocusOut;\n        }\n\n        if (validateInput) {\n            inputOptions.validateInput = (val: string) => this.proxy.$validateInput(val);\n        }\n\n        return this.quickInputService?.input(inputOptions, token);\n    }\n\n    async $showInputBox(options: TransferInputBox, validateInput: boolean): Promise<string | undefined> {\n        return new Promise<string | undefined>((resolve, reject) => {\n            const sessionId = options.id;\n            const toDispose = new DisposableCollection();\n\n            const inputBox = this.quickInputService?.createInputBox();\n            inputBox.prompt = options.prompt;\n            inputBox.placeholder = options.placeHolder;\n            inputBox.value = options.value;\n            if (options.busy) {\n                inputBox.busy = options.busy;\n            }\n            if (options.enabled) {\n                inputBox.enabled = options.enabled;\n            }\n            inputBox.ignoreFocusOut = options.ignoreFocusOut;\n            inputBox.contextKey = options.contextKey;\n            if (options.password) {\n                inputBox.password = options.password;\n            }\n            inputBox.step = options.step;\n            inputBox.title = options.title;\n            inputBox.description = options.description;\n            inputBox.totalSteps = options.totalSteps;\n            inputBox.buttons = options.buttons ? this.convertToQuickInputButtons(options.buttons) : [];\n            inputBox.validationMessage = options.validationMessage;\n            if (validateInput) {\n                options.validateInput = (val: string) => {\n                    this.proxy.$validateInput(val);\n                };\n            }\n\n            toDispose.push(inputBox.onDidAccept(() => {\n                this.proxy.$acceptOnDidAccept(sessionId);\n                resolve(inputBox.value);\n            }));\n            toDispose.push(inputBox.onDidChangeValue((value: string) => {\n                this.proxy.$acceptDidChangeValue(sessionId, value);\n                inputBox.validationMessage = options.validateInput(value);\n            }));\n            toDispose.push(inputBox.onDidTriggerButton((button: any) => {\n                this.proxy.$acceptOnDidTriggerButton(sessionId, button);\n            }));\n\n            toDispose.push(inputBox.onDidHide(() => {\n                if (toDispose.disposed) {\n                    return;\n                }\n                this.proxy.$acceptOnDidHide(sessionId);\n                toDispose.dispose();\n                resolve(undefined);\n            }));\n            this.toDispose.push(toDispose);\n\n            inputBox.show();\n        });\n    }\n\n    private sessions = new Map<number, QuickInputSession>();\n\n    $createOrUpdate(params: TransferQuickInput): Promise<void> {\n        const sessionId = params.id;\n        let session: QuickInputSession;\n        const candidate = this.sessions.get(sessionId);\n        if (!candidate) {\n            if (params.type === 'quickPick') {\n                const quickPick = this.quickInputService.createQuickPick();\n                quickPick.onDidAccept(() => {\n                    this.proxy.$acceptOnDidAccept(sessionId);\n                });\n                quickPick.onDidChangeActive((items: QuickPickItem[]) => {\n                    this.proxy.$onDidChangeActive(sessionId, items.map(item => Number.parseInt(item.id!)));\n                });\n                quickPick.onDidChangeSelection((items: QuickPickItem[]) => {\n                    this.proxy.$onDidChangeSelection(sessionId, items.map(item => Number.parseInt(item.id!)));\n                });\n                quickPick.onDidTriggerButton((button: QuickInputButtonHandle) => {\n                    this.proxy.$acceptOnDidTriggerButton(sessionId, button);\n                });\n                quickPick.onDidTriggerItemButton(e => {\n                    this.proxy.$onDidTriggerItemButton(sessionId, Number.parseInt(e.item.id!), (e.button as TransferQuickPickItem).handle);\n                });\n                quickPick.onDidChangeValue((value: string) => {\n                    this.proxy.$acceptDidChangeValue(sessionId, value);\n                });\n                quickPick.onDidHide(() => {\n                    this.proxy.$acceptOnDidHide(sessionId);\n                });\n                session = {\n                    input: quickPick,\n                    handlesToItems: new Map()\n                };\n            } else {\n                const inputBox = this.quickInputService.createInputBox();\n                inputBox.onDidAccept(() => {\n                    this.proxy.$acceptOnDidAccept(sessionId);\n                });\n                inputBox.onDidTriggerButton((button: QuickInputButtonHandle) => {\n                    this.proxy.$acceptOnDidTriggerButton(sessionId, button);\n                });\n                inputBox.onDidChangeValue((value: string) => {\n                    this.proxy.$acceptDidChangeValue(sessionId, value);\n                });\n                inputBox.onDidHide(() => {\n                    this.proxy.$acceptOnDidHide(sessionId);\n                });\n                session = {\n                    input: inputBox,\n                    handlesToItems: new Map()\n                };\n            }\n            this.sessions.set(sessionId, session);\n        } else {\n            session = candidate;\n        }\n        if (session) {\n            const { input, handlesToItems } = session;\n            for (const param in params) {\n                if (param === 'id' || param === 'type') {\n                    continue;\n                }\n                if (param === 'visible') {\n                    if (params.visible) {\n                        input.show();\n                    } else {\n                        input.hide();\n                    }\n                } else if (param === 'items') {\n                    handlesToItems.clear();\n                    const items: QuickPickItemOrSeparator[] = [];\n                    params[param].forEach((transferItem: TransferQuickPickItem) => {\n                        const item = this.toQuickPickItem(transferItem);\n                        items.push(item);\n                        handlesToItems.set(transferItem.handle, item);\n                    });\n                    (input as any)[param] = items;\n                } else if (param === 'activeItems' || param === 'selectedItems') {\n                    (input as any)[param] = params[param]\n                        .filter((handle: number) => handlesToItems.has(handle))\n                        .map((handle: number) => handlesToItems.get(handle));\n                } else if (param === 'buttons') {\n                    (input as any)[param] = params.buttons!.map(button => {\n                        if (button.handle === -1) {\n                            return this.quickInputService.backButton;\n                        }\n                        const { iconUrl, tooltip, handle } = button;\n                        return {\n                            tooltip,\n                            handle,\n                            iconClass: this.toIconClass(iconUrl)\n                        };\n                    });\n                } else {\n                    (input as any)[param] = params[param];\n                }\n            }\n        }\n\n        return Promise.resolve(undefined);\n    }\n\n    $hide(): void {\n        this.delegate.hide();\n    }\n\n    $dispose(sessionId: number): Promise<void> {\n        const session = this.sessions.get(sessionId);\n        if (session) {\n            session.input.dispose();\n            this.sessions.delete(sessionId);\n        }\n        return Promise.resolve(undefined);\n    }\n\n    private convertToQuickInputButtons(buttons: readonly TransferQuickInputButton[]): QuickInputButton[] {\n        return buttons.map((button, i) => ({\n            iconClass: this.toIconClass(button.iconUrl),\n            tooltip: button.tooltip,\n            handle: button === QuickInputButtons.Back ? -1 : i,\n        } as QuickInputButton));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019-2021 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// code copied and modified from https://github.com/microsoft/vscode/blob/1.52.1/src/vs/workbench/api/browser/mainThreadSCM.ts\n\nimport {\n    MAIN_RPC_CONTEXT,\n    ScmExt,\n    SourceControlGroupFeatures,\n    ScmMain,\n    SourceControlProviderFeatures,\n    ScmRawResourceSplices, ScmRawResourceGroup\n} from '../../common/plugin-api-rpc';\nimport { ScmProvider, ScmResource, ScmResourceDecorations, ScmResourceGroup, ScmCommand } from '@theia/scm/lib/browser/scm-provider';\nimport { ScmRepository } from '@theia/scm/lib/browser/scm-repository';\nimport { ScmService } from '@theia/scm/lib/browser/scm-service';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { DisposableCollection } from '@theia/core/lib/common/disposable';\nimport URI from '@theia/core/lib/common/uri';\nimport { URI as vscodeURI } from '@theia/core/shared/vscode-uri';\nimport { Splice } from '../../common/arrays';\nimport { UriComponents } from '../../common/uri-components';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\nimport { PluginSharedStyle } from './plugin-shared-style';\nimport { IconUrl } from '../../common';\nimport { ThemeIcon } from '@theia/monaco-editor-core/esm/vs/base/common/themables';\n\nexport class PluginScmResourceGroup implements ScmResourceGroup {\n\n    readonly resources: ScmResource[] = [];\n\n    private readonly onDidSpliceEmitter = new Emitter<Splice<ScmResource>>();\n    readonly onDidSplice = this.onDidSpliceEmitter.event;\n\n    get hideWhenEmpty(): boolean { return !!this.features.hideWhenEmpty; }\n\n    get contextValue(): string | undefined { return this.features.contextValue; }\n\n    private readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange: Event<void> = this.onDidChangeEmitter.event;\n\n    constructor(\n        readonly handle: number,\n        public provider: PluginScmProvider,\n        public features: SourceControlGroupFeatures,\n        public label: string,\n        public id: string\n    ) { }\n\n    splice(start: number, deleteCount: number, toInsert: ScmResource[]): void {\n        this.resources.splice(start, deleteCount, ...toInsert);\n        this.onDidSpliceEmitter.fire({ start, deleteCount, toInsert });\n    }\n\n    updateGroup(features: SourceControlGroupFeatures): void {\n        this.features = { ...this.features, ...features };\n        this.onDidChangeEmitter.fire();\n    }\n\n    updateGroupLabel(label: string): void {\n        this.label = label;\n        this.onDidChangeEmitter.fire();\n    }\n\n    dispose(): void { }\n}\n\nexport class PluginScmResource implements ScmResource {\n\n    constructor(\n        private readonly proxy: ScmExt,\n        private readonly sourceControlHandle: number,\n        private readonly groupHandle: number,\n        readonly handle: number,\n        readonly sourceUri: URI,\n        readonly group: PluginScmResourceGroup,\n        readonly decorations: ScmResourceDecorations,\n        readonly contextValue: string | undefined,\n        readonly command: ScmCommand | undefined\n    ) { }\n\n    open(): Promise<void> {\n        return this.proxy.$executeResourceCommand(this.sourceControlHandle, this.groupHandle, this.handle);\n    }\n}\n\nexport class PluginScmProvider implements ScmProvider {\n\n    private _id = this.contextValue;\n    get id(): string { return this._id; }\n\n    readonly groups: PluginScmResourceGroup[] = [];\n    private readonly groupsByHandle: { [handle: number]: PluginScmResourceGroup; } = Object.create(null);\n\n    private readonly onDidChangeResourcesEmitter = new Emitter<void>();\n    readonly onDidChangeResources: Event<void> = this.onDidChangeResourcesEmitter.event;\n\n    private features: SourceControlProviderFeatures = {};\n\n    get handle(): number { return this._handle; }\n    get label(): string { return this._label; }\n    get rootUri(): string { return this._rootUri ? this._rootUri.toString() : ''; }\n    get contextValue(): string { return this._contextValue; }\n\n    get commitTemplate(): string { return this.features.commitTemplate || ''; }\n    get acceptInputCommand(): ScmCommand | undefined {\n        const command = this.features.acceptInputCommand;\n        if (command) {\n            const scmCommand: ScmCommand = command;\n            scmCommand.command = command.id;\n            return scmCommand;\n        }\n    }\n    get statusBarCommands(): ScmCommand[] | undefined {\n        const commands = this.features.statusBarCommands;\n        return commands?.map(command => {\n            const scmCommand: ScmCommand = command;\n            scmCommand.command = command.id;\n            return scmCommand;\n        });\n    }\n    get count(): number | undefined { return this.features.count; }\n\n    private readonly onDidChangeCommitTemplateEmitter = new Emitter<string>();\n    readonly onDidChangeCommitTemplate: Event<string> = this.onDidChangeCommitTemplateEmitter.event;\n\n    private readonly onDidChangeStatusBarCommandsEmitter = new Emitter<ScmCommand[]>();\n    get onDidChangeStatusBarCommands(): Event<ScmCommand[]> { return this.onDidChangeStatusBarCommandsEmitter.event; }\n\n    private readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange: Event<void> = this.onDidChangeEmitter.event;\n\n    constructor(\n        private readonly proxy: ScmExt,\n        private readonly colors: ColorRegistry,\n        private readonly sharedStyle: PluginSharedStyle,\n        private readonly _handle: number,\n        private readonly _contextValue: string,\n        private readonly _label: string,\n        private readonly _rootUri: vscodeURI | undefined,\n        private disposables: DisposableCollection\n    ) { }\n\n    updateSourceControl(features: SourceControlProviderFeatures): void {\n        this.features = { ...this.features, ...features };\n        this.onDidChangeEmitter.fire();\n\n        if (typeof features.commitTemplate !== 'undefined') {\n            this.onDidChangeCommitTemplateEmitter.fire(this.commitTemplate!);\n        }\n\n        if (typeof features.statusBarCommands !== 'undefined') {\n            this.onDidChangeStatusBarCommandsEmitter.fire(this.statusBarCommands!);\n        }\n    }\n\n    registerGroups(resourceGroups: ScmRawResourceGroup[]): void {\n        const groups = resourceGroups.map(resourceGroup => {\n            const { handle, id, label, features } = resourceGroup;\n            const group = new PluginScmResourceGroup(\n                handle,\n                this,\n                features,\n                label,\n                id\n            );\n\n            this.groupsByHandle[handle] = group;\n            return group;\n        });\n\n        this.groups.splice(this.groups.length, 0, ...groups);\n    }\n\n    updateGroup(handle: number, features: SourceControlGroupFeatures): void {\n        const group = this.groupsByHandle[handle];\n\n        if (!group) {\n            return;\n        }\n\n        group.updateGroup(features);\n    }\n\n    updateGroupLabel(handle: number, label: string): void {\n        const group = this.groupsByHandle[handle];\n\n        if (!group) {\n            return;\n        }\n\n        group.updateGroupLabel(label);\n    }\n\n    spliceGroupResourceStates(splices: ScmRawResourceSplices[]): void {\n        for (const splice of splices) {\n            const groupHandle = splice.handle;\n            const groupSlices = splice.splices;\n            const group = this.groupsByHandle[groupHandle];\n\n            if (!group) {\n                console.warn(`SCM group ${groupHandle} not found in provider ${this.label}`);\n                continue;\n            }\n\n            // reverse the splices sequence in order to apply them correctly\n            groupSlices.reverse();\n\n            for (const groupSlice of groupSlices) {\n                const { start, deleteCount, rawResources } = groupSlice;\n                const resources = rawResources.map(rawResource => {\n                    const { handle, sourceUri, icons, tooltip, strikeThrough, faded, contextValue, command } = rawResource;\n                    const icon = this.toIconClass(icons[0]);\n                    const iconDark = this.toIconClass(icons[1]) || icon;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    const colorVariable = (rawResource as any).colorId && this.colors.toCssVariableName((rawResource as any).colorId);\n                    const decorations = {\n                        icon,\n                        iconDark,\n                        tooltip,\n                        strikeThrough,\n                        // TODO remove the letter and colorId fields when the FileDecorationProvider is applied, see https://github.com/eclipse-theia/theia/pull/8911\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        letter: (rawResource as any).letter || '',\n                        color: colorVariable && `var(${colorVariable})`,\n                        faded\n                    } as ScmResourceDecorations;\n\n                    return new PluginScmResource(\n                        this.proxy,\n                        this.handle,\n                        groupHandle,\n                        handle,\n                        new URI(vscodeURI.revive(sourceUri)),\n                        group,\n                        decorations,\n                        contextValue || undefined,\n                        command\n                    );\n                });\n\n                group.splice(start, deleteCount, resources);\n            }\n        }\n\n        this.onDidChangeResourcesEmitter.fire();\n    }\n\n    private toIconClass(icon: IconUrl | ThemeIcon | undefined): string | undefined {\n        if (!icon) {\n            return undefined;\n        }\n        if (ThemeIcon.isThemeIcon(icon)) {\n            return ThemeIcon.asClassName(icon);\n        }\n        const reference = this.sharedStyle.toIconClass(icon);\n        this.disposables.push(reference);\n        return reference.object.iconClass;\n    }\n\n    unregisterGroup(handle: number): void {\n        const group = this.groupsByHandle[handle];\n\n        if (!group) {\n            return;\n        }\n\n        delete this.groupsByHandle[handle];\n        this.groups.splice(this.groups.indexOf(group), 1);\n    }\n\n    dispose(): void { }\n}\n\nexport class ScmMainImpl implements ScmMain {\n\n    private readonly proxy: ScmExt;\n    private readonly scmService: ScmService;\n    private repositories = new Map<number, ScmRepository>();\n    private repositoryDisposables = new Map<number, DisposableCollection>();\n    private readonly disposables = new DisposableCollection();\n    private readonly colors: ColorRegistry;\n    private readonly sharedStyle: PluginSharedStyle;\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.SCM_EXT);\n        this.scmService = container.get(ScmService);\n        this.colors = container.get(ColorRegistry);\n        this.sharedStyle = container.get(PluginSharedStyle);\n    }\n\n    dispose(): void {\n        this.repositories.forEach(r => r.dispose());\n        this.repositories.clear();\n\n        this.repositoryDisposables.forEach(d => d.dispose());\n        this.repositoryDisposables.clear();\n\n        this.disposables.dispose();\n    }\n\n    async $registerSourceControl(handle: number, id: string, label: string, rootUri: UriComponents | undefined): Promise<void> {\n        const provider = new PluginScmProvider(this.proxy, this.colors, this.sharedStyle, handle, id, label, rootUri ? vscodeURI.revive(rootUri) : undefined, this.disposables);\n        const repository = this.scmService.registerScmProvider(provider, {\n            input: {\n                validator: async value => {\n                    const result = await this.proxy.$validateInput(handle, value, value.length);\n                    return result && { message: result[0], type: result[1] };\n                }\n            }\n        }\n        );\n        this.repositories.set(handle, repository);\n\n        const disposables = new DisposableCollection(\n            this.scmService.onDidChangeSelectedRepository(r => {\n                if (r === repository) {\n                    this.proxy.$setSelectedSourceControl(handle);\n                }\n            }),\n            repository.input.onDidChange(() => this.proxy.$onInputBoxValueChange(handle, repository.input.value))\n        );\n\n        if (this.scmService.selectedRepository === repository) {\n            setTimeout(() => this.proxy.$setSelectedSourceControl(handle), 0);\n        }\n\n        if (repository.input.value) {\n            setTimeout(() => this.proxy.$onInputBoxValueChange(handle, repository.input.value), 0);\n        }\n\n        this.repositoryDisposables.set(handle, disposables);\n    }\n\n    async $updateSourceControl(handle: number, features: SourceControlProviderFeatures): Promise<void> {\n        const repository = this.repositories.get(handle);\n\n        if (!repository) {\n            return;\n        }\n\n        const provider = repository.provider as PluginScmProvider;\n        provider.updateSourceControl(features);\n    }\n\n    async $unregisterSourceControl(handle: number): Promise<void> {\n        const repository = this.repositories.get(handle);\n\n        if (!repository) {\n            return;\n        }\n\n        this.repositoryDisposables.get(handle)!.dispose();\n        this.repositoryDisposables.delete(handle);\n\n        repository.dispose();\n        this.repositories.delete(handle);\n    }\n\n    $registerGroups(sourceControlHandle: number, groups: ScmRawResourceGroup[], splices: ScmRawResourceSplices[]): void {\n        const repository = this.repositories.get(sourceControlHandle);\n\n        if (!repository) {\n            return;\n        }\n\n        const provider = repository.provider as PluginScmProvider;\n        provider.registerGroups(groups);\n        provider.spliceGroupResourceStates(splices);\n    }\n\n    $updateGroup(sourceControlHandle: number, groupHandle: number, features: SourceControlGroupFeatures): void {\n        const repository = this.repositories.get(sourceControlHandle);\n\n        if (!repository) {\n            return;\n        }\n\n        const provider = repository.provider as PluginScmProvider;\n        provider.updateGroup(groupHandle, features);\n    }\n\n    $updateGroupLabel(sourceControlHandle: number, groupHandle: number, label: string): void {\n        const repository = this.repositories.get(sourceControlHandle);\n\n        if (!repository) {\n            return;\n        }\n\n        const provider = repository.provider as PluginScmProvider;\n        provider.updateGroupLabel(groupHandle, label);\n    }\n\n    $spliceResourceStates(sourceControlHandle: number, splices: ScmRawResourceSplices[]): void {\n        const repository = this.repositories.get(sourceControlHandle);\n\n        if (!repository) {\n            return;\n        }\n\n        const provider = repository.provider as PluginScmProvider;\n        provider.spliceGroupResourceStates(splices);\n    }\n\n    $unregisterGroup(sourceControlHandle: number, handle: number): void {\n        const repository = this.repositories.get(sourceControlHandle);\n\n        if (!repository) {\n            return;\n        }\n\n        const provider = repository.provider as PluginScmProvider;\n        provider.unregisterGroup(handle);\n    }\n\n    $setInputBoxValue(sourceControlHandle: number, value: string): void {\n        const repository = this.repositories.get(sourceControlHandle);\n\n        if (!repository) {\n            return;\n        }\n\n        repository.input.value = value;\n    }\n\n    $setInputBoxPlaceholder(sourceControlHandle: number, placeholder: string): void {\n        const repository = this.repositories.get(sourceControlHandle);\n\n        if (!repository) {\n            return;\n        }\n\n        repository.input.placeholder = placeholder;\n    }\n\n    $setInputBoxVisible(sourceControlHandle: number, visible: boolean): void {\n        const repository = this.repositories.get(sourceControlHandle);\n\n        if (!repository) {\n            return;\n        }\n\n        repository.input.visible = visible;\n    }\n\n    $setInputBoxEnabled(sourceControlHandle: number, enabled: boolean): void {\n        const repository = this.repositories.get(sourceControlHandle);\n\n        if (!repository) {\n            return;\n        }\n\n        repository.input.enabled = enabled;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// code copied and modified from https://github.com/microsoft/vscode/blob/1.55.2/src/vs/workbench/api/browser/mainThreadSecretState.ts\n\nimport { SecretsExt, SecretsMain } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { MAIN_RPC_CONTEXT } from '../../common';\nimport { CredentialsService } from '@theia/core/lib/browser/credentials-service';\n\nexport class SecretsMainImpl implements SecretsMain {\n\n    private readonly proxy: SecretsExt;\n    private readonly credentialsService: CredentialsService;\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.SECRETS_EXT);\n        this.credentialsService = container.get(CredentialsService);\n        this.credentialsService.onDidChangePassword(e => {\n            const extensionId = e.service.substring(window.location.hostname.length + 1);\n            this.proxy.$onDidChangePassword({ extensionId, key: e.account });\n        });\n    }\n\n    private static getFullKey(extensionId: string): string {\n        return `${window.location.hostname}-${extensionId}`;\n    }\n\n    async $getPassword(extensionId: string, key: string): Promise<string | undefined> {\n        const fullKey = SecretsMainImpl.getFullKey(extensionId);\n        const passwordData = await this.credentialsService.getPassword(fullKey, key);\n\n        if (passwordData) {\n            try {\n                const data = JSON.parse(passwordData);\n                if (data.extensionId === extensionId) {\n                    return data.content;\n                }\n            } catch (e) {\n                throw new Error('Cannot get password');\n            }\n        }\n\n        return undefined;\n    }\n\n    async $setPassword(extensionId: string, key: string, value: string): Promise<void> {\n        const fullKey = SecretsMainImpl.getFullKey(extensionId);\n        const passwordData = JSON.stringify({\n            extensionId,\n            content: value\n        });\n        return this.credentialsService.setPassword(fullKey, key, passwordData);\n    }\n\n    async $deletePassword(extensionId: string, key: string): Promise<void> {\n        try {\n            const fullKey = SecretsMainImpl.getFullKey(extensionId);\n            await this.credentialsService.deletePassword(fullKey, key);\n        } catch (e) {\n            throw new Error('Cannot delete password');\n        }\n    }\n\n    async $getKeys(extensionId: string): Promise<string[]> {\n        return this.doGetKeys(extensionId);\n    }\n\n    private async doGetKeys(extensionId: string): Promise<string[]> {\n        if (!this.credentialsService.keys) {\n            throw new Error('CredentialsProvider does not support keys() method');\n        }\n        const fullKey = SecretsMainImpl.getFullKey(extensionId);\n        const allKeys = await this.credentialsService.keys(fullKey);\n        const keys = allKeys\n            .map(key => this.parseKey(key))\n            .filter((parsedKey): parsedKey is { extensionId: string; key: string } => parsedKey !== undefined && parsedKey.extensionId === extensionId)\n            .map(({ key }) => key);\n        return keys;\n    }\n\n    private parseKey(key: string): { extensionId: string; key: string } | undefined {\n        try {\n            return JSON.parse(key);\n        } catch {\n            return undefined;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Command, CommandContribution, CommandRegistry } from '@theia/core/lib/common/command';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { UriAwareCommandHandler, UriCommandHandler } from '@theia/core/lib/common/uri-command-handler';\nimport URI from '@theia/core/lib/common/uri';\nimport { SelectionService } from '@theia/core';\n\nexport namespace SelectionProviderCommands {\n    export const GET_SELECTED_CONTEXT: Command = {\n        id: 'theia.plugin.workspace.selectedContext'\n    };\n}\n\n@injectable()\nexport class SelectionProviderCommandContribution implements CommandContribution {\n\n    @inject(SelectionService) protected readonly selectionService: SelectionService;\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(SelectionProviderCommands.GET_SELECTED_CONTEXT, this.newMultiUriAwareCommandHandler({\n            isEnabled: () => true,\n            isVisible: () => false,\n            execute: (selectedUris: URI[]) => selectedUris.map(uri => uri.toComponents())\n        }));\n    }\n\n    protected newMultiUriAwareCommandHandler(handler: UriCommandHandler<URI[]>): UriAwareCommandHandler<URI[]> {\n        return UriAwareCommandHandler.MultiSelect(this.selectionService, handler);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport * as types from '../../plugin/types-impl';\nimport { StatusBarMessageRegistryMain, StatusBarMessageRegistryExt, MAIN_RPC_CONTEXT } from '../../common/plugin-api-rpc';\nimport { StatusBar, StatusBarAlignment, StatusBarEntry } from '@theia/core/lib/browser/status-bar/status-bar';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { CancellationToken } from '@theia/core';\n\nexport class StatusBarMessageRegistryMainImpl implements StatusBarMessageRegistryMain, Disposable {\n    private readonly delegate: StatusBar;\n    private readonly entries = new Map<string, StatusBarEntry>();\n    private readonly proxy: StatusBarMessageRegistryExt;\n    private readonly toDispose = new DisposableCollection(\n        Disposable.create(() => { /* mark as not disposed */ })\n    );\n\n    protected readonly colorRegistry: ColorRegistry;\n\n    constructor(container: interfaces.Container, rpc: RPCProtocol) {\n        this.delegate = container.get(StatusBar);\n        this.colorRegistry = container.get(ColorRegistry);\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.STATUS_BAR_MESSAGE_REGISTRY_EXT);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    async $setMessage(id: string,\n        name: string | undefined,\n        text: string | undefined,\n        priority: number,\n        alignment: number,\n        color: string | undefined,\n        backgroundColor: string | undefined,\n        tooltip: string | MarkdownString | true | undefined,\n        command: string | undefined,\n        accessibilityInformation: types.AccessibilityInformation,\n        args: unknown[] | undefined): Promise<void> {\n\n        const entry: StatusBarEntry = {\n            name,\n            text: text || '',\n            priority,\n            alignment: alignment === types.StatusBarAlignment.Left ? StatusBarAlignment.LEFT : StatusBarAlignment.RIGHT,\n            color: color && (this.colorRegistry.getCurrentColor(color) || color),\n            // In contrast to color, the backgroundColor must be a theme color. Thus, do not hand in the plain string if it cannot be resolved.\n            backgroundColor: backgroundColor && (this.colorRegistry.getCurrentColor(backgroundColor)),\n            // true is used as a serializable sentinel value to indicate that the tooltip can be retrieved asynchronously\n            tooltip: tooltip === true ? (token: CancellationToken) => this.proxy.$getMessage(id, token) : tooltip,\n            command,\n            accessibilityInformation,\n            arguments: args\n        };\n\n        const isNewEntry = !this.entries.has(id);\n        this.entries.set(id, entry);\n        await this.delegate.setElement(id, entry);\n        if (this.toDispose.disposed) {\n            this.$dispose(id);\n        } else if (isNewEntry) {\n            this.toDispose.push(Disposable.create(() => this.$dispose(id)));\n        }\n    }\n\n    $dispose(id: string): void {\n        const entry = this.entries.get(id);\n        if (entry) {\n            this.entries.delete(id);\n            this.delegate.removeElement(id);\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { ApplicationShell, PINNED_CLASS, Saveable, TabBar, Title, ViewContainer, Widget } from '@theia/core/lib/browser';\nimport { AnyInputDto, MAIN_RPC_CONTEXT, TabDto, TabGroupDto, TabInputKind, TabModelOperationKind, TabsExt, TabsMain } from '../../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { EditorPreviewWidget } from '@theia/editor-preview/lib/browser/editor-preview-widget';\nimport { Disposable } from '@theia/core/shared/vscode-languageserver-protocol';\nimport { MonacoDiffEditor } from '@theia/monaco/lib/browser/monaco-diff-editor';\nimport { toUriComponents } from '../hierarchy/hierarchy-types-converters';\nimport { TerminalWidget } from '@theia/terminal/lib/browser/base/terminal-widget';\nimport { DisposableCollection } from '@theia/core';\nimport { NotebookEditorWidget } from '@theia/notebook/lib/browser';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { MergeEditor } from '@theia/scm/lib/browser/merge-editor/merge-editor';\n\ninterface TabInfo {\n    tab: TabDto;\n    tabIndex: number;\n    group: TabGroupDto;\n}\n\nexport class TabsMainImpl implements TabsMain, Disposable {\n\n    private readonly proxy: TabsExt;\n    private tabGroupModel = new Map<TabBar<Widget>, TabGroupDto>();\n    private tabInfoLookup = new Map<Title<Widget>, TabInfo>();\n    private waitQueue = new Map<Widget, Deferred>();\n\n    private applicationShell: ApplicationShell;\n\n    private disposableTabBarListeners: DisposableCollection = new DisposableCollection();\n    private disposableTitleListeners: Map<string, DisposableCollection> = new Map();\n    private toDisposeOnDestroy: DisposableCollection = new DisposableCollection();\n\n    private groupIdCounter = 1;\n    private currentActiveGroup: TabGroupDto;\n\n    private tabGroupChanged: boolean = false;\n\n    private readonly defaultTabGroup: TabGroupDto = {\n        groupId: 0,\n        tabs: [],\n        isActive: true,\n        viewColumn: 0\n    };\n\n    constructor(\n        rpc: RPCProtocol,\n        container: interfaces.Container\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.TABS_EXT);\n\n        this.applicationShell = container.get(ApplicationShell);\n        this.createTabsModel();\n\n        const tabBars = this.applicationShell.mainPanel.tabBars();\n        for (const tabBar of tabBars) {\n            this.attachListenersToTabBar(tabBar);\n        }\n\n        this.toDisposeOnDestroy.push(\n            this.applicationShell.mainPanelRenderer.onDidCreateTabBar(tabBar => {\n                this.attachListenersToTabBar(tabBar);\n                this.onTabGroupCreated(tabBar);\n            })\n        );\n\n        this.connectToSignal(this.toDisposeOnDestroy, this.applicationShell.mainPanel.widgetAdded, (mainPanel, widget) => {\n            if (this.tabGroupChanged || this.tabGroupModel.size === 0) {\n                this.tabGroupChanged = false;\n                this.createTabsModel();\n                // tab Open event is done in backend\n            } else {\n                const tabBar = mainPanel.findTabBar(widget.title)!;\n                const oldTabInfo = this.tabInfoLookup.get(widget.title);\n                const group = this.tabGroupModel.get(tabBar);\n                if (group !== oldTabInfo?.group) {\n                    if (oldTabInfo) {\n                        this.onTabClosed(oldTabInfo, widget.title);\n                    }\n\n                    this.onTabCreated(tabBar, { index: tabBar.titles.indexOf(widget.title), title: widget.title });\n                }\n            }\n        });\n\n        this.connectToSignal(this.toDisposeOnDestroy, this.applicationShell.mainPanel.widgetRemoved, (mainPanel, widget) => {\n            if (!(widget instanceof TabBar)) {\n                const tabInfo = this.getOrRebuildModel(this.tabInfoLookup, widget.title)!;\n                this.onTabClosed(tabInfo, widget.title);\n                if (this.tabGroupChanged) {\n                    this.tabGroupChanged = false;\n                    this.createTabsModel();\n                }\n            }\n        });\n    }\n\n    waitForWidget(widget: Widget): Promise<void> {\n        const deferred = new Deferred<void>();\n        this.waitQueue.set(widget, deferred);\n\n        const timeout = setTimeout(() => {\n            deferred.resolve(); // resolve to unblock the event\n        }, 1000);\n\n        deferred.promise.then(() => {\n            clearTimeout(timeout);\n        });\n\n        return deferred.promise;\n    }\n\n    protected createTabsModel(): void {\n        if (this.applicationShell.mainAreaTabBars.length === 0) {\n            this.proxy.$acceptEditorTabModel([this.defaultTabGroup]);\n            return;\n        }\n        const newTabGroupModel = new Map<TabBar<Widget>, TabGroupDto>();\n        this.tabInfoLookup.clear();\n        this.disposableTitleListeners.forEach(disposable => disposable.dispose());\n        this.disposableTabBarListeners.dispose();\n        this.applicationShell.mainAreaTabBars\n            .forEach(tabBar => {\n                this.attachListenersToTabBar(tabBar);\n                const groupDto = this.createTabGroupDto(tabBar);\n                tabBar.titles.forEach((title, index) => this.tabInfoLookup.set(title, { group: groupDto, tab: groupDto.tabs[index], tabIndex: index }));\n                newTabGroupModel.set(tabBar, groupDto);\n            });\n        if (newTabGroupModel.size > 0 && Array.from(newTabGroupModel.values()).indexOf(this.currentActiveGroup) < 0) {\n            this.currentActiveGroup = this.tabInfoLookup.get(this.applicationShell.mainPanel.currentTitle!)?.group ?? newTabGroupModel.values().next().value;\n            this.currentActiveGroup.isActive = true;\n        }\n        this.tabGroupModel = newTabGroupModel;\n        this.proxy.$acceptEditorTabModel(Array.from(this.tabGroupModel.values()));\n        // Resolve all waiting widget promises\n        this.waitQueue.forEach(deferred => deferred.resolve());\n        this.waitQueue.clear();\n    }\n\n    protected createTabDto(tabTitle: Title<Widget>, groupId: number, newTab = false): TabDto {\n        const widget = tabTitle.owner;\n        const active = newTab || this.getTabBar(tabTitle)?.currentTitle === tabTitle;\n        return {\n            id: this.createTabId(tabTitle, groupId),\n            label: tabTitle.label,\n            input: this.evaluateTabDtoInput(widget),\n            isActive: active,\n            isPinned: tabTitle.className.includes(PINNED_CLASS),\n            isDirty: Saveable.isDirty(widget),\n            isPreview: widget instanceof EditorPreviewWidget && widget.isPreview\n        };\n    }\n\n    protected getTabBar(tabTitle: Title<Widget>): TabBar<Widget> | undefined {\n        return this.applicationShell.mainPanel.findTabBar(tabTitle);\n    }\n\n    protected createTabId(tabTitle: Title<Widget>, groupId: number): string {\n        return `${groupId}~${tabTitle.owner.id}`;\n    }\n\n    protected createTabGroupDto(tabBar: TabBar<Widget>): TabGroupDto {\n        const oldDto = this.tabGroupModel.get(tabBar);\n        const groupId = oldDto?.groupId ?? this.groupIdCounter++;\n        const tabs = tabBar.titles.map(title => this.createTabDto(title, groupId));\n        const viewColumn = 0; // TODO: Implement correct viewColumn handling\n        return {\n            groupId,\n            tabs,\n            isActive: false,\n            viewColumn\n        };\n    }\n\n    protected getTitleDisposables(title: Title<Widget>): DisposableCollection {\n        let disposable = this.disposableTitleListeners.get(title.owner.id);\n        if (!disposable) {\n            disposable = new DisposableCollection();\n            this.disposableTitleListeners.set(title.owner.id, disposable);\n        }\n        return disposable;\n    }\n\n    protected attachListenersToTabBar(tabBar: TabBar<Widget> | undefined): void {\n        if (!tabBar) {\n            return;\n        }\n        tabBar.titles.forEach(title => {\n            this.connectToSignal(this.getTitleDisposables(title), title.changed, this.onTabTitleChanged);\n        });\n\n        this.connectToSignal(this.disposableTabBarListeners, tabBar.tabMoved, this.onTabMoved);\n        this.connectToSignal(this.disposableTabBarListeners, tabBar.disposed, this.onTabGroupClosed);\n    }\n\n    protected evaluateTabDtoInput(widget: Widget): AnyInputDto {\n        if (widget instanceof EditorPreviewWidget) {\n            if (widget.editor instanceof MonacoDiffEditor) {\n                return {\n                    kind: TabInputKind.TextDiffInput,\n                    original: toUriComponents(widget.editor.originalModel.uri),\n                    modified: toUriComponents(widget.editor.modifiedModel.uri)\n                };\n            } else {\n                return {\n                    kind: TabInputKind.TextInput,\n                    uri: toUriComponents(widget.editor.uri.toString())\n                };\n            }\n        } else if (widget instanceof ViewContainer) {\n            return {\n                kind: TabInputKind.WebviewEditorInput,\n                viewType: widget.id\n            };\n        } else if (widget instanceof TerminalWidget) {\n            return {\n                kind: TabInputKind.TerminalEditorInput\n            };\n        } else if (widget instanceof NotebookEditorWidget) {\n            return {\n                kind: TabInputKind.NotebookInput,\n                notebookType: widget.notebookType,\n                uri: toUriComponents(widget.model?.uri.toString() ?? '')\n            };\n        } else if (widget instanceof MergeEditor) {\n            return {\n                kind: TabInputKind.TextMergeInput,\n                base: toUriComponents(widget.baseUri.toString()),\n                input1: toUriComponents(widget.side1Uri.toString()),\n                input2: toUriComponents(widget.side1Uri.toString()),\n                result: toUriComponents(widget.resultUri.toString())\n            };\n        }\n\n        return { kind: TabInputKind.UnknownInput };\n    }\n\n    protected connectToSignal<T>(disposableList: DisposableCollection,\n        signal: {\n            connect(listener: T, context: unknown): void,\n            disconnect(listener: T, context: unknown): void\n        }, listener: T): void {\n        signal.connect(listener, this);\n        disposableList.push(Disposable.create(() => signal.disconnect(listener, this)));\n    }\n\n    protected tabDtosEqual(a: TabDto, b: TabDto): boolean {\n        return a.isActive === b.isActive &&\n            a.isDirty === b.isDirty &&\n            a.isPinned === b.isPinned &&\n            a.isPreview === b.isPreview &&\n            a.id === b.id;\n    }\n\n    protected getOrRebuildModel<T, R>(map: Map<T, R>, key: T): R {\n        // something broke so we rebuild the model\n        let item = map.get(key);\n        if (!item) {\n            this.createTabsModel();\n            item = map.get(key)!;\n        }\n        return item;\n    }\n\n    // #region event listeners\n    private onTabCreated(tabBar: TabBar<Widget>, args: TabBar.ITabActivateRequestedArgs<Widget>): void {\n        const group = this.getOrRebuildModel(this.tabGroupModel, tabBar);\n        this.connectToSignal(this.getTitleDisposables(args.title), args.title.changed, this.onTabTitleChanged);\n        const tabDto = this.createTabDto(args.title, group.groupId, true);\n        this.tabInfoLookup.set(args.title, { group, tab: tabDto, tabIndex: args.index });\n        group.tabs.forEach(tab => tab.isActive = false);\n        group.tabs.splice(args.index, 0, tabDto);\n        this.proxy.$acceptTabOperation({\n            kind: TabModelOperationKind.TAB_OPEN,\n            index: args.index,\n            tabDto,\n            groupId: group.groupId\n        });\n        this.waitQueue.get(args.title.owner)?.resolve();\n        this.waitQueue.delete(args.title.owner);\n    }\n\n    private onTabTitleChanged(title: Title<Widget>): void {\n        const tabInfo = this.getOrRebuildModel(this.tabInfoLookup, title);\n        if (!tabInfo) {\n            return;\n        }\n        const oldTabDto = tabInfo.tab;\n        const newTabDto = this.createTabDto(title, tabInfo.group.groupId);\n        if (!oldTabDto.isActive && newTabDto.isActive) {\n            this.currentActiveGroup.tabs.filter(tab => tab.isActive).forEach(tab => tab.isActive = false);\n        }\n        if (newTabDto.isActive && !tabInfo.group.isActive) {\n            tabInfo.group.isActive = true;\n            this.currentActiveGroup.isActive = false;\n            this.currentActiveGroup = tabInfo.group;\n            this.proxy.$acceptTabGroupUpdate(tabInfo.group);\n        }\n        if (!this.tabDtosEqual(oldTabDto, newTabDto)) {\n            tabInfo.group.tabs[tabInfo.tabIndex] = newTabDto;\n            tabInfo.tab = newTabDto;\n            this.proxy.$acceptTabOperation({\n                kind: TabModelOperationKind.TAB_UPDATE,\n                index: tabInfo.tabIndex,\n                tabDto: newTabDto,\n                groupId: tabInfo.group.groupId\n            });\n        }\n        this.waitQueue.get(title.owner)?.resolve();\n        this.waitQueue.delete(title.owner);\n    }\n\n    private onTabClosed(tabInfo: TabInfo, title: Title<Widget>): void {\n        this.disposableTitleListeners.get(title.owner.id)?.dispose();\n        this.disposableTitleListeners.delete(title.owner.id);\n        tabInfo.group.tabs.splice(tabInfo.tabIndex, 1);\n        this.tabInfoLookup.delete(title);\n        this.updateTabIndices(tabInfo, tabInfo.tabIndex);\n        this.proxy.$acceptTabOperation({\n            kind: TabModelOperationKind.TAB_CLOSE,\n            index: tabInfo.tabIndex,\n            tabDto: this.createTabDto(title, tabInfo.group.groupId),\n            groupId: tabInfo.group.groupId\n        });\n    }\n\n    private onTabMoved(tabBar: TabBar<Widget>, args: TabBar.ITabMovedArgs<Widget>): void {\n        const tabInfo = this.getOrRebuildModel(this.tabInfoLookup, args.title)!;\n        tabInfo.tabIndex = args.toIndex;\n        const tabDto = this.createTabDto(args.title, tabInfo.group.groupId);\n        tabInfo.group.tabs.splice(args.fromIndex, 1);\n        tabInfo.group.tabs.splice(args.toIndex, 0, tabDto);\n        this.updateTabIndices(tabInfo, args.fromIndex);\n        this.proxy.$acceptTabOperation({\n            kind: TabModelOperationKind.TAB_MOVE,\n            index: args.toIndex,\n            tabDto,\n            groupId: tabInfo.group.groupId,\n            oldIndex: args.fromIndex\n        });\n    }\n\n    private onTabGroupCreated(tabBar: TabBar<Widget>): void {\n        this.tabGroupChanged = true;\n    }\n\n    private onTabGroupClosed(tabBar: TabBar<Widget>): void {\n        this.tabGroupChanged = true;\n    }\n    // #endregion\n\n    // #region Messages received from Ext Host\n    $moveTab(tabId: string, index: number, viewColumn: number, preserveFocus?: boolean): void {\n        return;\n    }\n\n    updateTabIndices(tabInfo: TabInfo, startIndex: number): void {\n        for (const tab of this.tabInfoLookup.values()) {\n            if (tab.group === tabInfo.group && tab.tabIndex >= startIndex) {\n                tab.tabIndex = tab.group.tabs.indexOf(tab.tab);\n            }\n        }\n    }\n\n    async $closeTab(tabIds: string[], preserveFocus?: boolean): Promise<boolean> {\n        const widgets: Widget[] = [];\n        for (const tabId of tabIds) {\n            const cleanedId = tabId.substring(tabId.indexOf('~') + 1);\n            const widget = this.applicationShell.getWidgetById(cleanedId);\n            if (widget) {\n                widgets.push(widget);\n            }\n        }\n        await this.applicationShell.closeMany(widgets);\n        return true;\n    }\n\n    async $closeGroup(groupIds: number[], preserveFocus?: boolean): Promise<boolean> {\n        for (const groupId of groupIds) {\n            tabGroupModel: for (const [bar, groupDto] of this.tabGroupModel) {\n                if (groupDto.groupId === groupId) {\n                    this.applicationShell.closeTabs(bar);\n                    break tabGroupModel;\n                }\n            }\n        }\n        return true;\n    }\n    // #endregion\n\n    dispose(): void {\n        this.toDisposeOnDestroy.dispose();\n        this.disposableTabBarListeners.dispose();\n        this.disposableTitleListeners.forEach(disposable => disposable.dispose());\n        this.disposableTitleListeners.clear();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    TasksMain,\n    MAIN_RPC_CONTEXT,\n    TaskExecutionDto,\n    TasksExt,\n    TaskDto,\n    TaskPresentationOptionsDTO\n} from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common';\nimport { TaskProviderRegistry, TaskResolverRegistry, TaskProvider, TaskResolver } from '@theia/task/lib/browser/task-contribution';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { TaskInfo, TaskExitedEvent, TaskConfiguration, TaskOutputPresentation, RevealKind, PanelKind } from '@theia/task/lib/common/task-protocol';\nimport { TaskWatcher } from '@theia/task/lib/common/task-watcher';\nimport { TaskService } from '@theia/task/lib/browser/task-service';\nimport { TaskDefinitionRegistry } from '@theia/task/lib/browser';\n\nconst revealKindMap = new Map<number | RevealKind, RevealKind | number>(\n    [\n        [1, RevealKind.Always],\n        [2, RevealKind.Silent],\n        [3, RevealKind.Never],\n        [RevealKind.Always, 1],\n        [RevealKind.Silent, 2],\n        [RevealKind.Never, 3]\n    ]\n);\n\nconst panelKindMap = new Map<number | PanelKind, PanelKind | number>(\n    [\n        [1, PanelKind.Shared],\n        [2, PanelKind.Dedicated],\n        [3, PanelKind.New],\n        [PanelKind.Shared, 1],\n        [PanelKind.Dedicated, 2],\n        [PanelKind.New, 3]\n    ]\n);\n\nexport class TasksMainImpl implements TasksMain, Disposable {\n    private readonly proxy: TasksExt;\n    private readonly taskProviderRegistry: TaskProviderRegistry;\n    private readonly taskResolverRegistry: TaskResolverRegistry;\n    private readonly taskWatcher: TaskWatcher;\n    private readonly taskService: TaskService;\n    private readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    private readonly taskProviders = new Map<number, Disposable>();\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.TASKS_EXT);\n        this.taskProviderRegistry = container.get(TaskProviderRegistry);\n        this.taskResolverRegistry = container.get(TaskResolverRegistry);\n        this.taskWatcher = container.get(TaskWatcher);\n        this.taskService = container.get(TaskService);\n        this.taskDefinitionRegistry = container.get(TaskDefinitionRegistry);\n\n        this.toDispose.push(this.taskWatcher.onTaskCreated((event: TaskInfo) => {\n            this.proxy.$onDidStartTask({\n                id: event.taskId,\n                task: this.fromTaskConfiguration(event.config)\n            }, event.terminalId!);\n        }));\n\n        this.toDispose.push(this.taskWatcher.onTaskExit((event: TaskExitedEvent) => {\n            this.proxy.$onDidEndTask(event.taskId);\n        }));\n\n        this.toDispose.push(this.taskWatcher.onDidStartTaskProcess((event: TaskInfo) => {\n            if (event.processId !== undefined) {\n                this.proxy.$onDidStartTaskProcess(event.processId, {\n                    id: event.taskId,\n                    task: this.fromTaskConfiguration(event.config)\n                });\n            }\n        }));\n\n        this.toDispose.push(this.taskWatcher.onDidEndTaskProcess((event: TaskExitedEvent) => {\n            if (event.code !== undefined) {\n                this.proxy.$onDidEndTaskProcess(event.code, event.taskId);\n            }\n        }));\n\n        // Inform proxy about running tasks form previous session\n        this.$taskExecutions().then(executions => {\n            if (executions.length > 0) {\n                this.proxy.$initLoadedTasks(executions);\n            }\n        });\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    $registerTaskProvider(handle: number, type: string): void {\n        const taskProvider = this.createTaskProvider(handle);\n        const taskResolver = this.createTaskResolver(handle);\n\n        const toDispose = new DisposableCollection(\n            this.taskProviderRegistry.register(type, taskProvider, handle),\n            this.taskResolverRegistry.registerTaskResolver(type, taskResolver),\n            Disposable.create(() => this.taskProviders.delete(handle))\n        );\n        this.taskProviders.set(handle, toDispose);\n        this.toDispose.push(toDispose);\n    }\n\n    $unregister(handle: number): void {\n        const disposable = this.taskProviders.get(handle);\n        if (disposable) {\n            disposable.dispose();\n        }\n    }\n\n    async $fetchTasks(taskVersion: string | undefined, taskType: string | undefined): Promise<TaskDto[]> {\n        if (taskVersion && !taskVersion.startsWith('2.')) { // Theia does not support 1.x or earlier task versions\n            return [];\n        }\n\n        const token: number = this.taskService.startUserAction();\n        const [configured, provided] = await Promise.all([\n            this.taskService.getConfiguredTasks(token),\n            this.taskService.getProvidedTasks(token)\n        ]);\n        const result: TaskDto[] = [];\n        for (const tasks of [configured, provided]) {\n            for (const task of tasks) {\n                if (!taskType || (!!this.taskDefinitionRegistry.getDefinition(task) ? task._source === taskType : task.type === taskType)) {\n                    result.push(this.fromTaskConfiguration(task));\n                }\n            }\n        }\n        return result;\n    }\n\n    async $executeTask(taskDto: TaskDto): Promise<TaskExecutionDto | undefined> {\n        const taskConfig = this.toTaskConfiguration(taskDto);\n        const taskInfo = await this.taskService.runTask(taskConfig);\n        if (taskInfo) {\n            return {\n                id: taskInfo.taskId,\n                task: this.fromTaskConfiguration(taskInfo.config)\n            };\n        }\n    }\n\n    async $taskExecutions(): Promise<{\n        id: number;\n        task: TaskDto;\n    }[]> {\n        const runningTasks = await this.taskService.getRunningTasks();\n        return runningTasks.map(taskInfo => ({\n            id: taskInfo.taskId,\n            task: this.fromTaskConfiguration(taskInfo.config)\n        }));\n    }\n\n    $terminateTask(id: number): void {\n        this.taskService.kill(id);\n    }\n\n    async $customExecutionComplete(id: number, exitCode: number | undefined): Promise<void> {\n        this.taskService.customExecutionComplete(id, exitCode);\n    }\n\n    protected createTaskProvider(handle: number): TaskProvider {\n        return {\n            provideTasks: () =>\n                this.proxy.$provideTasks(handle).then(tasks =>\n                    tasks.map(taskDto =>\n                        this.toTaskConfiguration(taskDto)\n                    )\n                )\n        };\n    }\n\n    protected createTaskResolver(handle: number): TaskResolver {\n        return {\n            resolveTask: taskConfig =>\n                this.proxy.$resolveTask(handle, this.fromTaskConfiguration(taskConfig)).then(task =>\n                    this.toTaskConfiguration(task)\n                )\n        };\n    }\n\n    protected toTaskConfiguration(taskDto: TaskDto): TaskConfiguration {\n        const { group, presentation, scope, source, runOptions, ...common } = taskDto ?? {};\n        const partialConfig: Partial<TaskConfiguration> = {};\n        if (presentation) {\n            partialConfig.presentation = this.convertTaskPresentation(presentation);\n        }\n        if (group) {\n            partialConfig.group = {\n                kind: group.kind,\n                isDefault: group.isDefault\n            };\n        }\n        return {\n            ...common,\n            ...partialConfig,\n            runOptions,\n            _scope: scope,\n            _source: source,\n        };\n    }\n\n    protected fromTaskConfiguration(task: TaskConfiguration): TaskDto {\n        const { group, presentation, _scope, _source, ...common } = task;\n        const partialDto: Partial<TaskDto> = {};\n        if (presentation) {\n            partialDto.presentation = this.convertTaskPresentation(presentation);\n        }\n        if (group === 'build' || group === 'test') {\n            partialDto.group = {\n                kind: group,\n                isDefault: false\n            };\n        } else if (typeof group === 'object') {\n            partialDto.group = group;\n        }\n        return {\n            ...common,\n            ...partialDto,\n            scope: _scope,\n            source: _source,\n        };\n    }\n\n    private convertTaskPresentation(presentationFrom: undefined): undefined;\n    private convertTaskPresentation(presentationFrom: TaskOutputPresentation): TaskPresentationOptionsDTO;\n    private convertTaskPresentation(presentationFrom: TaskPresentationOptionsDTO): TaskOutputPresentation;\n    private convertTaskPresentation(\n        presentationFrom: TaskOutputPresentation | TaskPresentationOptionsDTO | undefined\n    ): TaskOutputPresentation | TaskPresentationOptionsDTO | undefined {\n        if (presentationFrom) {\n            const { reveal, panel, ...common } = presentationFrom;\n            const presentationTo: Partial<TaskOutputPresentation | TaskPresentationOptionsDTO> = {};\n            if (reveal) {\n                presentationTo.reveal = revealKindMap.get(reveal);\n            }\n            if (panel) {\n                presentationTo.panel = panelKindMap.get(panel)!;\n            }\n            return {\n                ...common,\n                ...presentationTo,\n            };\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { ApplicationShell, WidgetOpenerOptions, codicon } from '@theia/core/lib/browser';\nimport { TerminalEditorLocationOptions } from '@theia/plugin';\nimport { TerminalLocation, TerminalWidget } from '@theia/terminal/lib/browser/base/terminal-widget';\nimport { TerminalProfileService } from '@theia/terminal/lib/browser/terminal-profile-service';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { TerminalServiceMain, TerminalServiceExt, MAIN_RPC_CONTEXT, TerminalOptions } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { SerializableEnvironmentVariableCollection, ShellTerminalServerProxy } from '@theia/terminal/lib/common/shell-terminal-protocol';\nimport { TerminalLink, TerminalLinkProvider } from '@theia/terminal/lib/browser/terminal-link-provider';\nimport { URI } from '@theia/core/lib/common/uri';\nimport { PluginTerminalRegistry } from './plugin-terminal-registry';\nimport { CancellationToken, isObject } from '@theia/core';\nimport { HostedPluginSupport } from '../../hosted/browser/hosted-plugin';\nimport { PluginSharedStyle } from './plugin-shared-style';\nimport { ThemeIcon } from '@theia/core/lib/common/theme';\nimport debounce = require('@theia/core/shared/lodash.debounce');\n\ninterface TerminalObserverData {\n    nrOfLinesToMatch: number;\n    outputMatcherRegex: RegExp\n    disposables: DisposableCollection;\n}\n\n/**\n * Plugin api service allows working with terminal emulator.\n */\nexport class TerminalServiceMainImpl implements TerminalServiceMain, TerminalLinkProvider, Disposable {\n\n    private readonly terminals: TerminalService;\n    private readonly terminalProfileService: TerminalProfileService;\n    private readonly pluginTerminalRegistry: PluginTerminalRegistry;\n    private readonly hostedPluginSupport: HostedPluginSupport;\n    private readonly shell: ApplicationShell;\n    private readonly extProxy: TerminalServiceExt;\n    private readonly sharedStyle: PluginSharedStyle;\n    private readonly shellTerminalServer: ShellTerminalServerProxy;\n    private readonly terminalLinkProviders: string[] = [];\n\n    private readonly toDispose = new DisposableCollection();\n    private readonly observers = new Map<string, TerminalObserverData>();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.terminals = container.get(TerminalService);\n        this.terminalProfileService = container.get(TerminalProfileService);\n        this.pluginTerminalRegistry = container.get(PluginTerminalRegistry);\n        this.hostedPluginSupport = container.get(HostedPluginSupport);\n        this.sharedStyle = container.get(PluginSharedStyle);\n        this.shell = container.get(ApplicationShell);\n        this.shellTerminalServer = container.get(ShellTerminalServerProxy);\n        this.extProxy = rpc.getProxy(MAIN_RPC_CONTEXT.TERMINAL_EXT);\n        this.toDispose.push(this.terminals.onDidCreateTerminal(terminal => this.trackTerminal(terminal)));\n        for (const terminal of this.terminals.all) {\n            this.trackTerminal(terminal);\n        }\n        this.toDispose.push(this.terminals.onDidChangeCurrentTerminal(() => this.updateCurrentTerminal()));\n        this.updateCurrentTerminal();\n\n        this.shellTerminalServer.getEnvVarCollections().then(collections => this.extProxy.$initEnvironmentVariableCollections(collections));\n\n        this.pluginTerminalRegistry.startCallback = id => this.startProfile(id);\n\n        container.bind(TerminalLinkProvider).toDynamicValue(() => this);\n\n        this.toDispose.push(this.terminalProfileService.onDidChangeDefaultShell(shell => {\n            this.extProxy.$setShell(shell);\n        }));\n    }\n\n    async startProfile(id: string): Promise<string> {\n        await this.hostedPluginSupport.activateByTerminalProfile(id);\n        return this.extProxy.$startProfile(id, CancellationToken.None);\n    }\n\n    $setEnvironmentVariableCollection(persistent: boolean, extensionIdentifier: string, rootUri: string, collection: SerializableEnvironmentVariableCollection): void {\n        if (collection) {\n            this.shellTerminalServer.setCollection(extensionIdentifier, rootUri, persistent, collection, collection.description);\n        } else {\n            this.shellTerminalServer.deleteCollection(extensionIdentifier);\n        }\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected updateCurrentTerminal(): void {\n        const { currentTerminal } = this.terminals;\n        this.extProxy.$currentTerminalChanged(currentTerminal && currentTerminal.id);\n    }\n\n    protected async trackTerminal(terminal: TerminalWidget): Promise<void> {\n        let name = terminal.title.label;\n        this.extProxy.$terminalCreated(terminal.id, name);\n        const updateTitle = () => {\n            if (name !== terminal.title.label) {\n                name = terminal.title.label;\n                this.extProxy.$terminalNameChanged(terminal.id, name);\n            }\n        };\n        terminal.title.changed.connect(updateTitle);\n        this.toDispose.push(Disposable.create(() => terminal.title.changed.disconnect(updateTitle)));\n\n        const updateProcessId = () => terminal.processId.then(\n            processId => this.extProxy.$terminalOpened(terminal.id, processId, terminal.terminalId, terminal.dimensions.cols, terminal.dimensions.rows),\n            () => {/* no-op */ }\n        );\n        updateProcessId();\n        this.toDispose.push(terminal.onDidOpen(() => updateProcessId()));\n        this.toDispose.push(terminal.onTerminalDidClose(term => this.extProxy.$terminalClosed(term.id, term.exitStatus)));\n        this.toDispose.push(terminal.onSizeChanged(({ cols, rows }) => {\n            this.extProxy.$terminalSizeChanged(terminal.id, cols, rows);\n        }));\n        this.toDispose.push(terminal.onData(data => {\n            this.extProxy.$terminalOnInput(terminal.id, data);\n            this.extProxy.$terminalOnInteraction(terminal.id);\n        }));\n\n        this.toDispose.push(terminal.onShellTypeChanged(shellType => {\n            this.extProxy.$terminalShellTypeChanged(terminal.id, shellType);\n        }));\n        this.observers.forEach((observer, id) => this.observeTerminal(id, terminal, observer));\n    }\n\n    $write(id: string, data: string): void {\n        const terminal = this.terminals.getById(id);\n        if (!terminal) {\n            return;\n        }\n        terminal.write(data);\n    }\n\n    $resize(id: string, cols: number, rows: number): void {\n        const terminal = this.terminals.getById(id);\n        if (!terminal) {\n            return;\n        }\n        terminal.resize(cols, rows);\n    }\n\n    async $createTerminal(id: string, options: TerminalOptions, parentId?: string, isPseudoTerminal?: boolean): Promise<string> {\n        const terminal = await this.terminals.newTerminal({\n            id,\n            title: options.name,\n            iconClass: this.toIconClass(options),\n            shellPath: options.shellPath,\n            shellArgs: options.shellArgs,\n            cwd: options.cwd ? new URI(options.cwd) : undefined,\n            env: options.env,\n            strictEnv: options.strictEnv,\n            destroyTermOnClose: true,\n            useServerTitle: false,\n            attributes: options.attributes,\n            hideFromUser: options.hideFromUser,\n            location: this.getTerminalLocation(options, parentId),\n            isPseudoTerminal,\n            isTransient: options.isTransient,\n            shellIntegrationNonce: options.shellIntegrationNonce ?? undefined\n        });\n        if (options.message) {\n            terminal.writeLine(options.message);\n        }\n        terminal.start();\n        return terminal.id;\n    }\n\n    protected getTerminalLocation(options: TerminalOptions, parentId?: string): TerminalLocation | TerminalEditorLocationOptions | { parentTerminal: string; } | undefined {\n        if (typeof options.location === 'number' && Object.values(TerminalLocation).includes(options.location)) {\n            return options.location;\n        } else if (options.location && typeof options.location === 'object') {\n            if ('parentTerminal' in options.location) {\n                if (!parentId) {\n                    throw new Error('parentTerminal is set but no parentId is provided');\n                }\n                return { 'parentTerminal': parentId };\n            } else {\n                return options.location;\n            }\n        }\n\n        return undefined;\n    }\n\n    $sendText(id: string, text: string, shouldExecute?: boolean): void {\n        const terminal = this.terminals.getById(id);\n        if (terminal) {\n            text = text.replace(/\\r?\\n/g, '\\r');\n            if (shouldExecute && text.charAt(text.length - 1) !== '\\r') {\n                text += '\\r';\n            }\n            terminal.sendText(text);\n        }\n    }\n\n    $show(id: string, preserveFocus?: boolean): void {\n        const terminal = this.terminals.getById(id);\n        if (terminal) {\n            const options: WidgetOpenerOptions = {};\n            if (preserveFocus) {\n                options.mode = 'reveal';\n            }\n            this.terminals.open(terminal, options);\n        }\n    }\n\n    $hide(id: string): void {\n        const terminal = this.terminals.getById(id);\n        if (terminal && terminal.isVisible) {\n            const area = this.shell.getAreaFor(terminal);\n            if (area) {\n                this.shell.collapsePanel(area);\n            }\n        }\n    }\n\n    $dispose(id: string): void {\n        const terminal = this.terminals.getById(id);\n        if (terminal) {\n            terminal.dispose();\n        }\n    }\n\n    $setName(id: string, name: string): void {\n        this.terminals.getById(id)?.setTitle(name);\n    }\n\n    $sendTextByTerminalId(id: number, text: string, addNewLine?: boolean): void {\n        const terminal = this.terminals.getByTerminalId(id);\n        if (terminal) {\n            text = text.replace(/\\r?\\n/g, '\\r');\n            if (addNewLine && text.charAt(text.length - 1) !== '\\r') {\n                text += '\\r';\n            }\n            terminal.sendText(text);\n        }\n    }\n    $writeByTerminalId(id: number, data: string): void {\n        const terminal = this.terminals.getByTerminalId(id);\n        if (!terminal) {\n            return;\n        }\n        terminal.write(data);\n    }\n    $resizeByTerminalId(id: number, cols: number, rows: number): void {\n        const terminal = this.terminals.getByTerminalId(id);\n        if (!terminal) {\n            return;\n        }\n        terminal.resize(cols, rows);\n    }\n    $showByTerminalId(id: number, preserveFocus?: boolean): void {\n        const terminal = this.terminals.getByTerminalId(id);\n        if (terminal) {\n            const options: WidgetOpenerOptions = {};\n            if (preserveFocus) {\n                options.mode = 'reveal';\n            }\n            this.terminals.open(terminal, options);\n        }\n    }\n    $hideByTerminalId(id: number): void {\n        const terminal = this.terminals.getByTerminalId(id);\n        if (terminal && terminal.isVisible) {\n            const area = this.shell.getAreaFor(terminal);\n            if (area) {\n                this.shell.collapsePanel(area);\n            }\n        }\n    }\n    $disposeByTerminalId(id: number, waitOnExit?: boolean | string): void {\n        const terminal = this.terminals.getByTerminalId(id);\n        if (terminal) {\n            if (waitOnExit) {\n                terminal.waitOnExit(waitOnExit);\n                return;\n            }\n            terminal.dispose();\n        }\n    }\n\n    $setNameByTerminalId(id: number, name: string): void {\n        this.terminals.getByTerminalId(id)?.setTitle(name);\n    }\n\n    async $registerTerminalLinkProvider(providerId: string): Promise<void> {\n        this.terminalLinkProviders.push(providerId);\n    }\n\n    async $unregisterTerminalLinkProvider(providerId: string): Promise<void> {\n        const index = this.terminalLinkProviders.indexOf(providerId);\n        if (index > -1) {\n            this.terminalLinkProviders.splice(index, 1);\n        }\n    }\n\n    $registerTerminalObserver(id: string, nrOfLinesToMatch: number, outputMatcherRegex: string): void {\n        const observerData = {\n            nrOfLinesToMatch: nrOfLinesToMatch,\n            outputMatcherRegex: new RegExp(outputMatcherRegex, 'm'),\n            disposables: new DisposableCollection()\n        };\n        this.observers.set(id, observerData);\n        this.terminals.all.forEach(terminal => {\n            this.observeTerminal(id, terminal, observerData);\n        });\n    }\n\n    protected observeTerminal(observerId: string, terminal: TerminalWidget, observerData: TerminalObserverData): void {\n        const doMatch = debounce(() => {\n            const lineCount = Math.min(observerData.nrOfLinesToMatch, terminal.buffer.length);\n            const lines = terminal.buffer.getLines(terminal.buffer.length - lineCount, lineCount);\n            const result = lines.join('\\n').match(observerData.outputMatcherRegex);\n            if (result) {\n                this.extProxy.$reportOutputMatch(observerId, result.map(value => value));\n            }\n        });\n        observerData.disposables.push(terminal.onOutput(output => {\n            doMatch();\n        }));\n    }\n\n    protected toIconClass(options: TerminalOptions): string | ThemeIcon | undefined {\n        const iconColor = isObject<{ id: string }>(options.color) && typeof options.color.id === 'string' ? options.color.id : undefined;\n        let iconClass: string;\n        if (options.iconUrl) {\n            if (typeof options.iconUrl === 'object' && 'id' in options.iconUrl) {\n                iconClass = codicon(options.iconUrl.id);\n            } else {\n                const iconReference = this.sharedStyle.toIconClass(options.iconUrl);\n                this.toDispose.push(iconReference);\n                iconClass = iconReference.object.iconClass;\n            }\n        } else {\n            iconClass = codicon('terminal');\n        }\n        return iconColor ? { id: iconClass, color: { id: iconColor } } : iconClass;\n    }\n\n    $unregisterTerminalObserver(id: string): void {\n        const observer = this.observers.get(id);\n        if (observer) {\n            observer.disposables.dispose();\n            this.observers.delete(id);\n        } else {\n            throw new Error(`Unregistering unknown terminal observer: ${id}`);\n        }\n    }\n\n    async provideLinks(line: string, terminal: TerminalWidget, cancellationToken?: CancellationToken | undefined): Promise<TerminalLink[]> {\n        if (this.terminalLinkProviders.length < 1) {\n            return [];\n        }\n        const links = await this.extProxy.$provideTerminalLinks(line, terminal.id, cancellationToken ?? CancellationToken.None);\n        return links.map(link => ({ ...link, handle: () => this.extProxy.$handleTerminalLink(link) }));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2023 ST Microelectronics, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { SimpleObservableCollection, TreeCollection, observableProperty } from '@theia/test/lib/common/collections';\nimport {\n    TestController, TestItem, TestOutputItem, TestRun, TestRunProfile, TestService, TestState, TestStateChangedEvent\n} from '@theia/test/lib/browser/test-service';\nimport { TestExecutionProgressService } from '@theia/test/lib/browser/test-execution-progress-service';\nimport { AccumulatingTreeDeltaEmitter, CollectionDelta, DeltaKind, TreeDelta, TreeDeltaBuilder } from '@theia/test/lib/common/tree-delta';\nimport { Emitter, Location, Range } from '@theia/core/shared/vscode-languageserver-protocol';\nimport { Range as PluginRange, Location as PluginLocation } from '../../common/plugin-api-rpc-model';\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering';\nimport { CancellationToken, Disposable, Event, URI } from '@theia/core';\nimport { MAIN_RPC_CONTEXT, TestControllerUpdate, TestingExt, TestingMain } from '../../common';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport {\n    TestExecutionState, TestItemDTO, TestItemReference, TestOutputDTO,\n    TestRunDTO, TestRunProfileDTO, TestStateChangeDTO\n} from '../../common/test-types';\nimport { TestRunProfileKind } from '../../plugin/types-impl';\nimport { CommandRegistryMainImpl } from './command-registry-main';\n\nexport class TestItemCollection extends TreeCollection<string, TestItemImpl, TestItemImpl | TestControllerImpl> {\n    override add(item: TestItemImpl): TestItemImpl | undefined {\n        item.realParent = this.owner;\n        return super.add(item);\n    }\n}\n\nexport class TestItemImpl implements TestItem {\n    update(value: Partial<TestItemDTO>): void {\n        if ('label' in value) {\n            this.label = value.label!;\n        }\n\n        if ('range' in value) {\n            this.range = convertRange(value.range);\n        }\n\n        if ('sortKey' in value) {\n            this.sortKey = value.sortKey!;\n        }\n\n        if ('tags' in value) {\n            this.tags = value.tags!;\n        }\n        if ('busy' in value) {\n            this.busy = value.busy!;\n        }\n        if ('sortKey' in value) {\n            this.sortKey = value.sortKey;\n        }\n        if ('canResolveChildren' in value) {\n            this.canResolveChildren = value.canResolveChildren!;\n        }\n        if ('description' in value) {\n            this.description = value.description;\n        }\n\n        if ('error' in value) {\n            this.error = value.error;\n        }\n    }\n\n    constructor(readonly uri: URI, readonly id: string) {\n        this.items = new TestItemCollection(this, (v: TestItemImpl) => v.path, (v: TestItemImpl) => v.deltaBuilder);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected notifyPropertyChange(property: keyof TestItemImpl, value: any): void {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const val: any = {};\n        val[property] = value;\n        if (this.path) {\n            this.deltaBuilder?.reportChanged(this.path, val);\n        }\n    }\n\n    _deltaBuilder: TreeDeltaBuilder<string, TestItemImpl> | undefined;\n    get deltaBuilder(): TreeDeltaBuilder<string, TestItemImpl> | undefined {\n        if (this._deltaBuilder) {\n            return this._deltaBuilder;\n        } else if (this.realParent) {\n            this._deltaBuilder = this.realParent.deltaBuilder;\n            return this._deltaBuilder;\n        } else {\n            return undefined;\n        }\n    }\n\n    _path: string[] | undefined;\n\n    get path(): string[] {\n        if (this._path) {\n            return this._path;\n        } else if (this.realParent instanceof TestItemImpl) {\n            this._path = [...this.realParent.path, this.id];\n            return this._path;\n        } else {\n            return [this.id];\n        }\n    };\n\n    get parent(): TestItem | undefined {\n        const realParent = this.realParent;\n        if (realParent instanceof TestItemImpl) {\n            return realParent;\n        }\n        return undefined;\n    }\n\n    private _parent?: TestItemImpl | TestControllerImpl;\n    get realParent(): TestItemImpl | TestControllerImpl | undefined {\n        return this._parent;\n    }\n\n    set realParent(v: TestItemImpl | TestControllerImpl | undefined) {\n        this.iterate(item => {\n            item._path = undefined;\n            return true;\n        });\n        this._parent = v;\n    }\n\n    get controller(): TestControllerImpl | undefined {\n        return this.realParent?.controller;\n    }\n\n    protected iterate(toDo: (v: TestItemImpl) => boolean): boolean {\n        if (toDo(this)) {\n            for (let i = 0; i < this.items.values.length; i++) {\n                if (!this.items.values[i].iterate(toDo)) {\n                    return false;\n                }\n            }\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    @observableProperty('notifyPropertyChange')\n    label: string = '';\n\n    @observableProperty('notifyPropertyChange')\n    range?: Range;\n\n    @observableProperty('notifyPropertyChange')\n    sortKey?: string | undefined;\n\n    @observableProperty('notifyPropertyChange')\n    tags: string[] = [];\n\n    @observableProperty('notifyPropertyChange')\n    busy: boolean = false;\n\n    @observableProperty('notifyPropertyChange')\n    canResolveChildren: boolean = false;\n\n    @observableProperty('notifyPropertyChange')\n    description?: string | undefined;\n\n    @observableProperty('notifyPropertyChange')\n    error?: string | MarkdownString | undefined;\n\n    items: TestItemCollection;\n    get tests(): readonly TestItemImpl[] {\n        return this.items.values;\n    }\n\n    resolveChildren(): void {\n        if (this.canResolveChildren) {\n            this.controller?.resolveChildren(this);\n        }\n    }\n}\n\nfunction itemToPath(item: TestItem): string[] {\n    if (!(item instanceof TestItemImpl)) {\n        throw new Error(`Not a TestItemImpl: ${item.id}`);\n    }\n    return item.path;\n}\n\nclass TestRunProfileImpl implements TestRunProfile {\n\n    label: string;\n\n    private _isDefault: boolean;\n    set isDefault(isDefault: boolean) {\n        this._isDefault = isDefault;\n        this.proxy.$onDidChangeDefault(this.controllerId, this.id, isDefault);\n    }\n    get isDefault(): boolean {\n        return this._isDefault;\n    }\n\n    tag: string;\n    canConfigure: boolean;\n\n    update(update: Partial<TestRunProfileDTO>): void {\n        if ('label' in update) {\n            this.label = update.label!;\n        }\n\n        if ('isDefault' in update) {\n            this._isDefault = update.isDefault!;\n        }\n\n        if ('tag' in update) {\n            this.tag = update.tag!;\n        }\n\n        if ('canConfigure' in update) {\n            this.canConfigure = update.canConfigure!;\n        }\n\n    }\n\n    constructor(\n        private proxy: TestingExt,\n        private controllerId: string,\n        readonly id: string,\n        readonly kind: TestRunProfileKind,\n        label: string,\n        isDefault: boolean,\n        tag: string) {\n\n        this.label = label;\n        this.isDefault = isDefault;\n        this.tag = tag;\n    }\n\n    configure(): void {\n        this.proxy.$onConfigureRunProfile(this.controllerId, this.id);\n    }\n\n    run(name: string, included: TestItem[], excluded: TestItem[], preserveFocus: boolean): void {\n        this.proxy.$onRunControllerTests([{\n            controllerId: this.controllerId,\n            name,\n            profileId: this.id,\n            includedTests: included.map(item => itemToPath(item)),\n            excludedTests: excluded.map(item => itemToPath(item)),\n            preserveFocus\n        }]);\n    }\n}\n\nclass TestRunImpl implements TestRun {\n    private testStates: Map<TestItem, TestState> = new Map();\n    private outputIndices: Map<TestItem, number[]> = new Map();\n    private outputs: TestOutputItem[] = [];\n    private onDidChangePropertyEmitter = new Emitter<{ name?: string; isRunning?: boolean; }>();\n    onDidChangeProperty: Event<{ name?: string; isRunning?: boolean; }> = this.onDidChangePropertyEmitter.event;\n\n    constructor(readonly controller: TestControllerImpl, readonly proxy: TestingExt, readonly id: string, name: string) {\n        this.name = name;\n        this.isRunning = false;\n    }\n\n    @observableProperty('notifyPropertyChange')\n    isRunning: boolean;\n\n    @observableProperty('notifyPropertyChange')\n    name: string;\n\n    ended(): void {\n        const stateEvents: TestStateChangedEvent[] = [];\n        this.testStates.forEach((state, item) => {\n            if (state.state <= TestExecutionState.Running) {\n                stateEvents.push({\n                    oldState: state,\n                    newState: undefined,\n                    test: item\n                });\n                this.testStates.delete(item);\n            }\n        });\n        if (stateEvents.length > 0) {\n            this.onDidChangeTestStateEmitter.fire(stateEvents);\n        }\n        this.isRunning = false;\n    }\n\n    protected notifyPropertyChange(property: 'name' | 'isRunning', value: unknown): void {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const val: any = {};\n        val[property] = value;\n        this.onDidChangePropertyEmitter.fire(val);\n    }\n\n    cancel(): void {\n        this.proxy.$onCancelTestRun(this.controller.id, this.id);\n    }\n\n    getTestState(item: TestItem): TestState | undefined {\n        return this.testStates.get(item);\n    }\n\n    private onDidChangeTestStateEmitter: Emitter<TestStateChangedEvent[]> = new Emitter();\n    onDidChangeTestState: Event<TestStateChangedEvent[]> = this.onDidChangeTestStateEmitter.event;\n\n    getOutput(item?: TestItem | undefined): readonly TestOutputItem[] {\n        if (!item) {\n            return this.outputs;\n        } else {\n            const indices = this.outputIndices.get(item);\n            if (!indices) {\n                return [];\n            } else {\n                return indices.map(index => this.outputs[index]);\n            }\n        }\n    }\n    private onDidChangeTestOutputEmitter: Emitter<[TestItem | undefined, TestOutputItem][]> = new Emitter();\n    onDidChangeTestOutput: Event<[TestItem | undefined, TestOutputItem][]> = this.onDidChangeTestOutputEmitter.event;\n\n    applyChanges(stateChanges: TestStateChangeDTO[], outputChanges: TestOutputDTO[]): void {\n        const stateEvents: TestStateChangedEvent[] = [];\n        stateChanges.forEach(change => {\n            const item = this.controller.findItem(change.itemPath);\n            if (item) {\n                const oldState = this.testStates.get(item);\n                this.testStates.set(item, change);\n                stateEvents.push({ test: item, oldState: oldState, newState: change });\n            }\n        });\n        const outputEvents: [TestItem | undefined, TestOutputItem][] = [];\n        outputChanges.forEach(change => {\n            const output = {\n                output: change.output,\n                location: convertLocation(change.location)\n            };\n            this.outputs.push(output);\n            let item = undefined;\n            if (change.itemPath) {\n                item = this.controller.findItem(change.itemPath);\n                if (item) {\n                    let indices = this.outputIndices.get(item);\n                    if (!indices) {\n                        indices = [];\n                        this.outputIndices.set(item, indices);\n                    }\n                    indices.push(this.outputs.length - 1);\n                }\n            }\n            outputEvents.push([item, output]);\n        });\n\n        this.onDidChangeTestStateEmitter.fire(stateEvents);\n        this.onDidChangeTestOutputEmitter.fire(outputEvents);\n    }\n\n    get items(): readonly TestItem[] {\n        return [...this.testStates.keys()];\n    }\n}\n\nfunction convertLocation(location: PluginLocation | undefined): Location | undefined {\n    if (!location) {\n        return undefined;\n    }\n    return {\n        uri: location.uri.toString(),\n        range: convertRange(location.range)\n    };\n}\n\ninterface TestCollectionHolder {\n    items: TestItemCollection;\n}\n\nfunction convertRange(range: PluginRange): Range;\nfunction convertRange(range: PluginRange | undefined): Range | undefined;\nfunction convertRange(range: PluginRange | undefined): Range | undefined {\n    if (range) {\n        return {\n            start: {\n                line: range.startLineNumber,\n                character: range.startColumn\n            }, end: {\n                line: range.endLineNumber,\n                character: range.endColumn\n\n            }\n        };\n    }\n    return undefined;\n\n}\n\nclass TestControllerImpl implements TestController {\n\n    private _profiles = new SimpleObservableCollection<TestRunProfileImpl>();\n    private _runs = new SimpleObservableCollection<TestRunImpl>();\n    readonly deltaBuilder = new AccumulatingTreeDeltaEmitter<string, TestItemImpl>(300);\n    canRefresh: boolean;\n    private canResolveChildren: boolean = false;\n    readonly items = new TestItemCollection(this, item => item.path, () => this.deltaBuilder);\n\n    constructor(private readonly proxy: TestingExt, readonly id: string, public label: string) {\n    }\n    refreshTests(token: CancellationToken): Promise<void> {\n        return this.proxy.$refreshTests(this.id, token);\n    }\n\n    applyDelta(diff: TreeDelta<string, TestItemDTO>[]): void {\n        this.applyDeltasToCollection(this, diff);\n    }\n\n    withProfile(profileId: string): TestRunProfileImpl {\n        const profile = this._profiles.values.find(p => p.id === profileId);\n        if (!profile) {\n            throw new Error(`No test profile ${profileId} found in controller with id ${this.id} found`);\n        }\n        return profile;\n\n    }\n\n    withRun(runId: string): TestRunImpl {\n        const run = this._runs.values.find(p => p.id === runId);\n        if (!run) {\n            throw new Error(`No test profile ${runId} found in controller with id ${this.id} found`);\n        }\n        return run;\n    }\n\n    protected applyDeltasToCollection(root: TestCollectionHolder, deltas: TreeDelta<string, TestItemDTO>[]): void {\n        deltas.forEach(delta => this.applyDeltaToCollection(root, delta));\n    }\n\n    protected applyDeltaToCollection(root: TestCollectionHolder, delta: TreeDelta<string, TestItemDTO>): void {\n        if (delta.type === DeltaKind.ADDED || delta.type === DeltaKind.REMOVED) {\n            const node = this.findNodeInRoot(root, delta.path.slice(0, delta.path.length - 1), 0);\n            if (node) {\n                if (delta.type === DeltaKind.ADDED) {\n                    node.items.add(this.createTestItem(delta.value! as TestItemDTO));\n                } else {\n                    node.items.remove(delta.path[delta.path.length - 1]);\n                }\n            }\n        } else {\n            const node = this.findNodeInRoot(root, delta.path, 0);\n            if (node) {\n                if (delta.type === DeltaKind.CHANGED) {\n                    (node as TestItemImpl).update(delta.value!);\n                }\n                if (delta.childDeltas) {\n                    this.applyDeltasToCollection(node, delta.childDeltas);\n                }\n            }\n        }\n    }\n\n    findItem(path: string[]): TestItemImpl | undefined {\n        if (path.length === 0) {\n            console.warn('looking for item with zero-path');\n            return undefined;\n        }\n        return this.findNodeInRoot(this, path, 0) as TestItemImpl;\n    }\n\n    protected findNodeInRoot(root: TestCollectionHolder, path: string[], startIndex: number): TestCollectionHolder | undefined {\n        if (startIndex >= path.length) {\n            return root;\n        }\n        const child = root.items.get(path[startIndex]);\n        if (!child) {\n            return undefined;\n        }\n        return this.findNodeInRoot(child, path, startIndex + 1);\n    }\n\n    protected createTestItem(value: TestItemDTO): TestItemImpl {\n        const item = new TestItemImpl(URI.fromComponents(value.uri!), value?.id!);\n\n        item.update(value);\n\n        value.children?.forEach(child => item.items.add(this.createTestItem(child)));\n\n        return item;\n    }\n\n    get controller(): TestControllerImpl {\n        return this;\n    }\n\n    get testRunProfiles(): readonly TestRunProfile[] {\n        return this._profiles.values;\n    }\n\n    update(change: Partial<TestControllerUpdate>): void {\n        if ('canRefresh' in change) {\n            this.canRefresh = change.canRefresh!;\n        }\n        if ('canResolve' in change) {\n            this.canResolveChildren = change.canResolve!;\n        }\n        if ('label' in change) {\n            this.label = change.label!;\n        }\n    }\n\n    addProfile(profile: TestRunProfileImpl): void {\n        this._profiles.add(profile);\n    }\n\n    addRun(runId: string, runName: string, isRunning: boolean): TestRunImpl {\n        const run = new TestRunImpl(this, this.proxy, runId, runName);\n        run.isRunning = isRunning;\n        this._runs.add(run);\n        return run;\n    }\n\n    onProfilesChanged: Event<CollectionDelta<TestRunProfile, TestRunProfile>> = this._profiles.onChanged;\n\n    removeProfile(profileId: string): void {\n        this._profiles.remove(this.withProfile(profileId));\n    }\n\n    get testRuns(): readonly TestRun[] {\n        return this._runs.values;\n    }\n    onRunsChanged: Event<CollectionDelta<TestRun, TestRun>> = this._runs.onChanged;\n\n    get tests(): readonly TestItemImpl[] {\n        return this.items.values;\n    }\n    onItemsChanged: Event<TreeDelta<string, TestItemImpl>[]> = this.deltaBuilder.onDidFlush;\n\n    resolveChildren(item: TestItem): void {\n        if (this.canResolveChildren) {\n            this.proxy.$onResolveChildren(this.id, itemToPath(item));\n        }\n    }\n\n    clearRuns(): void {\n        this._runs.clear();\n    }\n}\n\nexport class TestingMainImpl implements TestingMain {\n    private testService: TestService;\n    private testExecutionProgressService: TestExecutionProgressService;\n    private controllerRegistrations = new Map<string, [TestControllerImpl, Disposable]>();\n    private proxy: TestingExt;\n    canRefresh: boolean;\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container, commandRegistry: CommandRegistryMainImpl) {\n        this.testService = container.get(TestService);\n        this.testExecutionProgressService = container.get(TestExecutionProgressService);\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.TESTING_EXT);\n        commandRegistry.registerArgumentProcessor({\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            processArgument(arg: any): any {\n                if (arg instanceof TestItemImpl) {\n                    if (!arg.controller || !arg.path) {\n                        throw new Error(`Passing unattached test item ${arg.id} as a command argument`);\n                    }\n                    return TestItemReference.create(arg.controller.id, arg.path);\n                }\n                return arg;\n            }\n        });\n    }\n\n    $registerTestController(controllerId: string, label: string): void {\n        const controller = new TestControllerImpl(this.proxy, controllerId, label);\n        this.controllerRegistrations.set(controllerId, [controller, this.testService.registerTestController(controller)]);\n    }\n    $updateController(controllerId: string, patch: Partial<TestControllerUpdate>): void {\n        this.withController(controllerId).update(patch);\n    }\n\n    $unregisterTestController(controllerId: string): void {\n        const registered = this.controllerRegistrations.get(controllerId);\n        if (registered) {\n            this.controllerRegistrations.delete(controllerId);\n            registered[1].dispose();\n        }\n    }\n\n    private withController(controllerId: string): TestControllerImpl {\n        const registration = this.controllerRegistrations.get(controllerId);\n        if (!registration) {\n            throw new Error(`No test controller with id ${controllerId} found`);\n        }\n        return registration[0];\n    }\n\n    $notifyDelta(controllerId: string, diff: TreeDelta<string, TestItemDTO>[]): void {\n        this.withController(controllerId).applyDelta(diff);\n    }\n\n    $notifyTestRunProfileCreated(controllerId: string, profile: TestRunProfileDTO): void {\n        const registration = this.controllerRegistrations.get(controllerId);\n        if (!registration) {\n            throw new Error(`No test controller with id ${controllerId} found`);\n        }\n        registration[0].addProfile(new TestRunProfileImpl(this.proxy, controllerId, profile.id, profile.kind, profile.label, profile.isDefault, profile.tag));\n    }\n\n    $updateTestRunProfile(controllerId: string, profileId: string, update: Partial<TestRunProfileDTO>): void {\n        this.withController(controllerId).withProfile(profileId).update(update);\n    }\n    $removeTestRunProfile(controllerId: string, profileId: string): void {\n        this.withController(controllerId).removeProfile(profileId);\n    }\n    $notifyTestRunCreated(controllerId: string, run: TestRunDTO, preserveFocus: boolean): void {\n        this.testExecutionProgressService.onTestRunRequested(preserveFocus);\n        this.withController(controllerId).addRun(run.id, run.name, run.isRunning);\n    }\n    $notifyTestStateChanged(controllerId: string, runId: string, stateChanges: TestStateChangeDTO[], outputChanges: TestOutputDTO[]): void {\n        this.withController(controllerId).withRun(runId).applyChanges(stateChanges, outputChanges);\n    }\n\n    $notifyTestRunEnded(controllerId: string, runId: string): void {\n        this.withController(controllerId).withRun(runId).ended();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as monaco from '@theia/monaco-editor-core';\nimport { StandaloneCodeEditor } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneCodeEditor';\nimport { type ILineChange } from '@theia/monaco-editor-core/esm/vs/editor/common/diff/legacyLinesDiffComputer';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { MonacoEditor } from '@theia/monaco/lib/browser/monaco-editor';\nimport {\n    TextEditorConfiguration,\n    EditorChangedPropertiesData,\n    Selection,\n    TextEditorConfigurationUpdate,\n    TextEditorRevealType,\n    SingleEditOperation,\n    ApplyEditsOptions,\n    SnippetEditOptions,\n    DecorationOptions\n} from '../../common/plugin-api-rpc';\nimport { Range } from '../../common/plugin-api-rpc-model';\nimport { Emitter, Event } from '@theia/core';\nimport { TextEditorCursorStyle, cursorStyleToString } from '../../common/editor-options';\nimport { TextEditorLineNumbersStyle, EndOfLine } from '../../plugin/types-impl';\nimport { SimpleMonacoEditor } from '@theia/monaco/lib/browser/simple-monaco-editor';\nimport { MonacoDiffEditor } from '@theia/monaco/lib/browser/monaco-diff-editor';\nimport { EndOfLineSequence, ITextModel } from '@theia/monaco-editor-core/esm/vs/editor/common/model';\nimport { EditorOption, RenderLineNumbersType } from '@theia/monaco-editor-core/esm/vs/editor/common/config/editorOptions';\n\nexport class TextEditorMain implements Disposable {\n\n    private properties: TextEditorPropertiesMain | undefined;\n    private editor: MonacoEditor | SimpleMonacoEditor | undefined;\n\n    private readonly onPropertiesChangedEmitter = new Emitter<EditorChangedPropertiesData>();\n\n    private readonly toDispose = new DisposableCollection(\n        Disposable.create(() => this.properties = undefined),\n        this.onPropertiesChangedEmitter\n    );\n\n    constructor(\n        private id: string,\n        private model: monaco.editor.IModel | ITextModel,\n        editor: MonacoEditor | SimpleMonacoEditor\n    ) {\n        this.toDispose.push(this.model.onDidChangeOptions(() =>\n            this.updateProperties(undefined)\n        ));\n        this.setEditor(editor);\n        this.updateProperties(undefined);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    private updateProperties(source?: string): void {\n        this.setProperties(TextEditorPropertiesMain.readFromEditor(this.properties, this.model, this.editor!), source);\n    }\n\n    private setProperties(newProperties: TextEditorPropertiesMain, source: string | undefined): void {\n        const result = newProperties.generateDelta(this.properties, source);\n        this.properties = newProperties;\n        if (result) {\n            this.onPropertiesChangedEmitter.fire(result);\n        }\n    }\n\n    protected readonly toDisposeOnEditor = new DisposableCollection();\n\n    private setEditor(editor?: MonacoEditor | SimpleMonacoEditor): void {\n        if (this.editor === editor) {\n            return;\n        }\n        this.toDisposeOnEditor.dispose();\n        this.toDispose.push(this.toDisposeOnEditor);\n        this.editor = editor;\n        this.toDisposeOnEditor.push(Disposable.create(() => this.editor = undefined));\n\n        if (this.editor) {\n            const monacoEditor = this.editor.getControl();\n            this.toDisposeOnEditor.push(this.editor.onSelectionChanged(_ => {\n                this.updateProperties();\n            }));\n            this.toDisposeOnEditor.push(monacoEditor.onDidChangeModel(() => {\n                this.setEditor(undefined);\n            }));\n            this.toDisposeOnEditor.push(monacoEditor.onDidChangeCursorSelection(e => {\n                this.updateProperties(e.source);\n            }));\n            this.toDisposeOnEditor.push(monacoEditor.onDidChangeConfiguration(() => {\n                this.updateProperties();\n            }));\n            this.toDisposeOnEditor.push(monacoEditor.onDidLayoutChange(() => {\n                this.updateProperties();\n            }));\n            this.toDisposeOnEditor.push(monacoEditor.onDidScrollChange(() => {\n                this.updateProperties();\n            }));\n\n            this.updateProperties();\n\n        }\n    }\n\n    getId(): string {\n        return this.id;\n    }\n\n    getModel(): monaco.editor.IModel | ITextModel {\n        return this.model;\n    }\n\n    getProperties(): TextEditorPropertiesMain | undefined {\n        return this.properties;\n    }\n\n    get onPropertiesChangedEvent(): Event<EditorChangedPropertiesData> {\n        return this.onPropertiesChangedEmitter.event;\n    }\n\n    get diffInformation(): ILineChange[] | undefined {\n        if (!(this.editor instanceof MonacoDiffEditor)) {\n            return [];\n        }\n        return this.editor.diffInformation;\n    }\n\n    setSelections(selections: Selection[]): void {\n        if (this.editor) {\n            this.editor.getControl().setSelections(selections);\n            return;\n        }\n        const monacoSelections = selections.map(TextEditorMain.toMonacoSelections);\n        this.setProperties(new TextEditorPropertiesMain(monacoSelections, this.properties!.options, this.properties!.visibleRanges), undefined);\n    }\n\n    setConfiguration(newConfiguration: TextEditorConfigurationUpdate): void {\n        this.setIndentConfiguration(newConfiguration);\n\n        if (!this.editor) {\n            return;\n        }\n\n        if (newConfiguration.cursorStyle) {\n            const newCursorStyle = cursorStyleToString(newConfiguration.cursorStyle);\n            this.editor.getControl().updateOptions({\n                cursorStyle: newCursorStyle\n            });\n        }\n\n        if (typeof newConfiguration.lineNumbers !== 'undefined') {\n            let lineNumbers: 'on' | 'off' | 'relative' | 'interval';\n            switch (newConfiguration.lineNumbers) {\n                case TextEditorLineNumbersStyle.On:\n                    lineNumbers = 'on';\n                    break;\n                case TextEditorLineNumbersStyle.Relative:\n                    lineNumbers = 'relative';\n                    break;\n                case TextEditorLineNumbersStyle.Interval:\n                    lineNumbers = 'interval';\n                    break;\n                default:\n                    lineNumbers = 'off';\n            }\n            this.editor.getControl().updateOptions({\n                lineNumbers: lineNumbers\n            });\n        }\n    }\n\n    private setIndentConfiguration(newConfiguration: TextEditorConfigurationUpdate): void {\n        if (newConfiguration.tabSize === 'auto' || newConfiguration.insertSpaces === 'auto') {\n\n            const creationOpts = this.model.getOptions();\n            let insertSpaces = creationOpts.insertSpaces;\n            let tabSize = creationOpts.tabSize;\n\n            if (newConfiguration.insertSpaces !== 'auto' && typeof newConfiguration.insertSpaces !== 'undefined') {\n                insertSpaces = newConfiguration.insertSpaces;\n            }\n\n            if (newConfiguration.tabSize !== 'auto' && typeof newConfiguration.tabSize !== 'undefined') {\n                tabSize = newConfiguration.tabSize;\n            }\n\n            this.model.detectIndentation(insertSpaces, tabSize);\n            return;\n        }\n\n        const newOpts: monaco.editor.ITextModelUpdateOptions = {};\n        if (typeof newConfiguration.insertSpaces !== 'undefined') {\n            newOpts.insertSpaces = newConfiguration.insertSpaces;\n        }\n        if (typeof newConfiguration.tabSize !== 'undefined') {\n            newOpts.tabSize = newConfiguration.tabSize;\n        }\n        if (typeof newConfiguration.indentSize !== 'undefined') {\n            if (newConfiguration.indentSize === 'tabSize') {\n                newOpts.indentSize = newConfiguration.tabSize;\n            } else if (typeof newConfiguration.indentSize == 'number') {\n                newOpts.indentSize = newConfiguration.indentSize;\n            }\n        }\n        this.model.updateOptions(newOpts);\n    }\n\n    revealRange(range: monaco.Range, revealType: TextEditorRevealType): void {\n        if (!this.editor || this.editor instanceof SimpleMonacoEditor) {\n            return;\n        }\n        switch (revealType) {\n            case TextEditorRevealType.Default:\n                this.editor.getControl().revealRange(range, monaco.editor.ScrollType.Smooth);\n                break;\n            case TextEditorRevealType.InCenter:\n                this.editor.getControl().revealRangeInCenter(range, monaco.editor.ScrollType.Smooth);\n                break;\n            case TextEditorRevealType.InCenterIfOutsideViewport:\n                this.editor.getControl().revealRangeInCenterIfOutsideViewport(range, monaco.editor.ScrollType.Smooth);\n                break;\n            case TextEditorRevealType.AtTop:\n                this.editor.getControl().revealRangeAtTop(range, monaco.editor.ScrollType.Smooth);\n                break;\n            default:\n                console.warn(`Unknown revealType: ${revealType}`);\n                break;\n        }\n    }\n\n    applyEdits(versionId: number, edits: SingleEditOperation[], opts: ApplyEditsOptions): boolean {\n        if (this.model.getVersionId() !== versionId) {\n            // model changed in the meantime\n            return false;\n        }\n\n        if (!this.editor) {\n            return false;\n        }\n\n        if (opts.setEndOfLine === EndOfLine.CRLF && !this.isSimpleWidget(this.model)) {\n            this.model.setEOL(monaco.editor.EndOfLineSequence.CRLF);\n        } else if (opts.setEndOfLine === EndOfLine.LF && !this.isSimpleWidget(this.model)) {\n            this.model.setEOL(monaco.editor.EndOfLineSequence.LF);\n        } else if (opts.setEndOfLine === EndOfLine.CRLF && this.isSimpleWidget(this.model)) {\n            this.model.setEOL(EndOfLineSequence.CRLF);\n        } else if (opts.setEndOfLine === EndOfLine.LF && this.isSimpleWidget(this.model)) {\n            this.model.setEOL(EndOfLineSequence.CRLF);\n        }\n\n        const editOperations: monaco.editor.IIdentifiedSingleEditOperation[] = [];\n        for (const edit of edits) {\n            const { range, text } = edit;\n            if (!range && !text) {\n                continue;\n            }\n            if (range && range.startLineNumber === range.endLineNumber && range.startColumn === range.endColumn && !edit.text) {\n                continue;\n            }\n\n            editOperations.push({\n                range: range ? monaco.Range.lift(range) : this.editor.getControl().getModel()!.getFullModelRange(),\n                /* eslint-disable-next-line no-null/no-null */\n                text: text || null,\n                forceMoveMarkers: edit.forceMoveMarkers\n            });\n        }\n\n        if (opts.undoStopBefore) {\n            this.editor.getControl().pushUndoStop();\n        }\n        this.editor.getControl().executeEdits('MainThreadTextEditor', editOperations);\n        if (opts.undoStopAfter) {\n            this.editor.getControl().pushUndoStop();\n        }\n        return true;\n    }\n\n    insertSnippet(template: string, ranges: Range[], opts: SnippetEditOptions): boolean {\n        const snippetController: SnippetController2 | null | undefined = this.editor?.getControl().getContribution('snippetController2');\n\n        if (!snippetController || !this.editor) { return false; }\n\n        const selections = ranges.map(r => new monaco.Selection(r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn));\n        this.editor.getControl().setSelections(selections);\n        this.editor.focus();\n\n        snippetController.insert(template, {\n            undoStopBefore: opts.undoStopBefore,\n            undoStopAfter: opts.undoStopAfter,\n            adjustWhitespace: !opts.keepWhitespace,\n            overwriteBefore: 0,\n            overwriteAfter: 0\n        });\n\n        return true;\n    }\n\n    setDecorations(key: string, ranges: DecorationOptions[]): void {\n        if (!this.editor) {\n            return;\n        }\n        (this.editor.getControl() as unknown as StandaloneCodeEditor)\n            .setDecorationsByType('Plugin decorations', key, ranges.map(option => Object.assign(option, { color: undefined })));\n    }\n\n    setDecorationsFast(key: string, _ranges: number[]): void {\n        if (!this.editor) {\n            return;\n        }\n        const ranges: Range[] = [];\n        const len = Math.floor(_ranges.length / 4);\n        for (let i = 0; i < len; i++) {\n            ranges[i] = new monaco.Range(_ranges[4 * i], _ranges[4 * i + 1], _ranges[4 * i + 2], _ranges[4 * i + 3]);\n        }\n        (this.editor.getControl() as unknown as StandaloneCodeEditor).setDecorationsByTypeFast(key, ranges);\n    }\n\n    private static toMonacoSelections(selection: Selection): monaco.Selection {\n        return new monaco.Selection(selection.selectionStartLineNumber, selection.selectionStartColumn, selection.positionLineNumber, selection.positionColumn);\n    }\n\n    private isSimpleWidget(model: monaco.editor.IModel | ITextModel): model is ITextModel {\n        return !!(model as ITextModel).isForSimpleWidget;\n    }\n}\n\ninterface SnippetInsertOptions {\n    overwriteBefore: number,\n    overwriteAfter: number,\n    undoStopBefore: boolean,\n    undoStopAfter: boolean,\n    adjustWhitespace: boolean\n}\n\n// TODO move to monaco typings!\ninterface SnippetController2 extends monaco.editor.IEditorContribution {\n    insert(template: string, options?: Partial<SnippetInsertOptions>): void;\n    finish(): void;\n    cancel(): void;\n    dispose(): void;\n    prev(): void;\n    next(): void;\n}\n\nexport class TextEditorPropertiesMain {\n    constructor(\n        readonly selections: monaco.Selection[],\n        readonly options: TextEditorConfiguration,\n        readonly visibleRanges: monaco.Range[]\n    ) {\n    }\n\n    generateDelta(old: TextEditorPropertiesMain | undefined, source: string | undefined): EditorChangedPropertiesData | undefined {\n        const result: EditorChangedPropertiesData = {\n            options: undefined,\n            selections: undefined,\n            visibleRanges: undefined\n        };\n\n        if (!old || !TextEditorPropertiesMain.selectionsEqual(old.selections, this.selections)) {\n            result.selections = {\n                selections: this.selections,\n                source: source\n            };\n        }\n\n        if (!old || !TextEditorPropertiesMain.optionsEqual(old.options, this.options)) {\n            result.options = this.options;\n        }\n\n        if (!old || !TextEditorPropertiesMain.rangesEqual(old.visibleRanges, this.visibleRanges)) {\n            result.visibleRanges = this.visibleRanges;\n        }\n\n        if (result.selections || result.visibleRanges || result.options) {\n            return result;\n        }\n\n        return undefined;\n    }\n\n    static readFromEditor(prevProperties: TextEditorPropertiesMain | undefined,\n        model: monaco.editor.IModel | ITextModel,\n        editor: MonacoEditor | SimpleMonacoEditor): TextEditorPropertiesMain {\n\n        const selections = TextEditorPropertiesMain.getSelectionsFromEditor(prevProperties, editor);\n        const options = TextEditorPropertiesMain.getOptionsFromEditor(prevProperties, model, editor);\n        const visibleRanges = TextEditorPropertiesMain.getVisibleRangesFromEditor(prevProperties, editor);\n        return new TextEditorPropertiesMain(selections, options, visibleRanges);\n    }\n\n    private static getSelectionsFromEditor(prevProperties: TextEditorPropertiesMain | undefined, editor: MonacoEditor | SimpleMonacoEditor): monaco.Selection[] {\n        let result: monaco.Selection[] | undefined = undefined;\n        if (editor && editor instanceof MonacoEditor) {\n            result = editor.getControl().getSelections() || undefined;\n        } else if (editor && editor instanceof SimpleMonacoEditor) {\n            result = editor.getControl().getSelections()?.map(selection => {\n                const monacoSelection = new monaco.Selection(\n                    selection.selectionStartLineNumber,\n                    selection.selectionStartColumn,\n                    selection.positionLineNumber,\n                    selection.positionColumn);\n                monacoSelection.setStartPosition(selection.startLineNumber, selection.startColumn);\n                monacoSelection.setEndPosition(selection.endLineNumber, selection.endColumn);\n                return monacoSelection;\n            });\n        }\n\n        if (!result && prevProperties) {\n            result = prevProperties.selections;\n        }\n\n        if (!result) {\n            result = [new monaco.Selection(1, 1, 1, 1)];\n        }\n        return result;\n    }\n\n    private static getOptionsFromEditor(prevProperties: TextEditorPropertiesMain | undefined,\n        model: monaco.editor.IModel | ITextModel,\n        editor: MonacoEditor | SimpleMonacoEditor): TextEditorConfiguration {\n        if (model.isDisposed()) {\n            return prevProperties!.options;\n        }\n\n        let cursorStyle: TextEditorCursorStyle;\n        let lineNumbers: TextEditorLineNumbersStyle;\n        if (editor && editor instanceof MonacoEditor) {\n            const editorOptions = editor.getControl().getOptions();\n            const lineNumbersOpts = editorOptions.get(monaco.editor.EditorOption.lineNumbers);\n            cursorStyle = editorOptions.get(monaco.editor.EditorOption.cursorStyle);\n            switch (lineNumbersOpts.renderType) {\n                case monaco.editor.RenderLineNumbersType.Off:\n                    lineNumbers = TextEditorLineNumbersStyle.Off;\n                    break;\n                case monaco.editor.RenderLineNumbersType.Relative:\n                    lineNumbers = TextEditorLineNumbersStyle.Relative;\n                    break;\n                case monaco.editor.RenderLineNumbersType.Interval:\n                    lineNumbers = TextEditorLineNumbersStyle.Interval;\n                    break;\n                default:\n                    lineNumbers = TextEditorLineNumbersStyle.On;\n                    break;\n            }\n        } else if (editor && editor instanceof SimpleMonacoEditor) {\n            const editorOptions = editor.getControl().getOptions();\n            const lineNumbersOpts = editorOptions.get(EditorOption.lineNumbers);\n            cursorStyle = editorOptions.get(EditorOption.cursorStyle);\n            switch (lineNumbersOpts.renderType) {\n                case RenderLineNumbersType.Off:\n                    lineNumbers = TextEditorLineNumbersStyle.Off;\n                    break;\n                case RenderLineNumbersType.Relative:\n                    lineNumbers = TextEditorLineNumbersStyle.Relative;\n                    break;\n                case RenderLineNumbersType.Interval:\n                    lineNumbers = TextEditorLineNumbersStyle.Interval;\n                    break;\n                default:\n                    lineNumbers = TextEditorLineNumbersStyle.On;\n                    break;\n            }\n\n        } else if (prevProperties) {\n            cursorStyle = prevProperties.options.cursorStyle;\n            lineNumbers = prevProperties.options.lineNumbers;\n        } else {\n            cursorStyle = TextEditorCursorStyle.Line;\n            lineNumbers = TextEditorLineNumbersStyle.On;\n        }\n\n        const modelOptions = model.getOptions();\n        return {\n            insertSpaces: modelOptions.insertSpaces,\n            indentSize: modelOptions.indentSize,\n            tabSize: modelOptions.tabSize,\n            cursorStyle,\n            lineNumbers,\n        };\n    }\n\n    private static getVisibleRangesFromEditor(prevProperties: TextEditorPropertiesMain | undefined, editor: MonacoEditor | SimpleMonacoEditor): monaco.Range[] {\n        if (editor) {\n            return editor.getControl().getVisibleRanges();\n        }\n        return [];\n    }\n\n    private static selectionsEqual(a: monaco.Selection[], b: monaco.Selection[]): boolean {\n        if (a.length !== b.length) {\n            return false;\n        }\n        for (let i = 0; i < a.length; i++) {\n            if (!a[i].equalsSelection(b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    private static optionsEqual(a: TextEditorConfiguration, b: TextEditorConfiguration): boolean {\n        if (a && !b || !a && b) {\n            return false;\n        }\n        if (!a && !b) {\n            return true;\n        }\n        return (\n            a.tabSize === b.tabSize\n            && a.insertSpaces === b.insertSpaces\n            && a.indentSize === b.indentSize\n            && a.cursorStyle === b.cursorStyle\n            && a.lineNumbers === b.lineNumbers\n        );\n    }\n\n    private static rangesEqual(a: monaco.Range[], b: monaco.Range[]): boolean {\n        if (a.length !== b.length) {\n            return false;\n        }\n        for (let i = 0; i < a.length; i++) {\n            if (!a[i].equalsRange(b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { Event, Emitter, ListenerList, Listener } from '@theia/core';\nimport { MonacoEditorModel, WillSaveMonacoModelEvent } from '@theia/monaco/lib/browser/monaco-editor-model';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { MonacoTextModelService } from '@theia/monaco/lib/browser/monaco-text-model-service';\nimport { MonacoWorkspace } from '@theia/monaco/lib/browser/monaco-workspace';\nimport { Schemes } from '../../common/uri-components';\nimport URI from '@theia/core/lib/common/uri';\nimport { Reference } from '@theia/core/lib/common/reference';\n\n@injectable()\nexport class EditorModelService {\n\n    private monacoModelService: MonacoTextModelService;\n    private modelModeChangedEmitter = new Emitter<{ model: MonacoEditorModel, oldModeId: string }>();\n    private onModelRemovedEmitter = new Emitter<MonacoEditorModel>();\n    private modelDirtyEmitter = new Emitter<MonacoEditorModel>();\n    private modelEncodingEmitter = new Emitter<{ model: MonacoEditorModel, encoding: string }>();\n    private modelSavedEmitter = new Emitter<MonacoEditorModel>();\n    private onModelWillSaveListeners: ListenerList<WillSaveMonacoModelEvent, Promise<void>> = new ListenerList();\n\n    readonly onModelDirtyChanged = this.modelDirtyEmitter.event;\n    readonly onModelEncodingChanged = this.modelEncodingEmitter.event;\n    readonly onModelWillSave = this.onModelWillSaveListeners.registration;\n    readonly onModelSaved = this.modelSavedEmitter.event;\n    readonly onModelModeChanged = this.modelModeChangedEmitter.event;\n    readonly onModelRemoved = this.onModelRemovedEmitter.event;\n\n    constructor(@inject(MonacoTextModelService) monacoModelService: MonacoTextModelService,\n        @inject(MonacoWorkspace) monacoWorkspace: MonacoWorkspace) {\n\n        this.monacoModelService = monacoModelService;\n        monacoModelService.models.forEach(model => this.modelCreated(model));\n        monacoModelService.onDidCreate(this.modelCreated, this);\n        monacoWorkspace.onDidCloseTextDocument(model => {\n            setTimeout(() => {\n                this.onModelRemovedEmitter.fire(model);\n            }, 1);\n        });\n    }\n\n    private modelCreated(model: MonacoEditorModel): void {\n        model.textEditorModel.onDidChangeLanguage(e => {\n            this.modelModeChangedEmitter.fire({ model, oldModeId: e.oldLanguage });\n        });\n\n        model.onDidSaveModel(_ => {\n            this.modelSavedEmitter.fire(model);\n        });\n\n        model.onModelWillSaveModel(async (e: WillSaveMonacoModelEvent) => {\n            await Listener.awaitAll(e, this.onModelWillSaveListeners);\n        });\n\n        model.onDirtyChanged(_ => {\n            this.modelDirtyEmitter.fire(model);\n        });\n\n        model.onDidChangeEncoding(encoding => {\n            this.modelEncodingEmitter.fire({ model, encoding });\n        });\n    }\n\n    get onModelAdded(): Event<MonacoEditorModel> {\n        return this.monacoModelService.onDidCreate;\n    }\n\n    getModels(): MonacoEditorModel[] {\n        return this.monacoModelService.models;\n    }\n\n    async save(uri: URI): Promise<boolean> {\n        const model = this.monacoModelService.get(uri.toString());\n        if (model) {\n            await model.save();\n            return true;\n        }\n        return false;\n    }\n\n    async saveAll(includeUntitled?: boolean): Promise<boolean> {\n        const saves = [];\n        for (const model of this.monacoModelService.models) {\n            const { uri } = model.textEditorModel;\n            if (model.dirty && (includeUntitled || uri.scheme !== Schemes.untitled)) {\n                saves.push((async () => {\n                    try {\n                        await model.save();\n                        return true;\n                    } catch (e) {\n                        console.error('Failed to save ', uri.toString(), e);\n                        return false;\n                    }\n                })());\n            }\n        }\n        const results = await Promise.all(saves);\n        return results.reduce((a, b) => a && b, true);\n    }\n\n    async createModelReference(uri: URI): Promise<Reference<MonacoEditorModel>> {\n        return this.monacoModelService.createModelReference(uri);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    TextEditorsMain,\n    MAIN_RPC_CONTEXT,\n    TextEditorsExt,\n    TextEditorConfigurationUpdate,\n    Selection,\n    TextEditorRevealType,\n    SingleEditOperation,\n    ApplyEditsOptions,\n    DecorationRenderOptions,\n    ThemeDecorationInstanceRenderOptions,\n    DecorationOptions,\n    WorkspaceEditDto,\n    WorkspaceNotebookCellEditDto,\n    DocumentsMain,\n    WorkspaceEditMetadataDto,\n    SnippetEditOptions,\n} from '../../common/plugin-api-rpc';\nimport { Range, TextDocumentShowOptions } from '../../common/plugin-api-rpc-model';\nimport { EditorsAndDocumentsMain } from './editors-and-documents-main';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { TextEditorMain } from './text-editor-main';\nimport { disposed } from '../../common/errors';\nimport { toMonacoWorkspaceEdit } from './languages-main';\nimport { MonacoBulkEditService } from '@theia/monaco/lib/browser/monaco-bulk-edit-service';\nimport { UriComponents } from '../../common/uri-components';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { ResourceEdit } from '@theia/monaco-editor-core/esm/vs/editor/browser/services/bulkEditService';\nimport { IDecorationRenderOptions } from '@theia/monaco-editor-core/esm/vs/editor/common/editorCommon';\nimport { StandaloneServices } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneServices';\nimport { ICodeEditorService } from '@theia/monaco-editor-core/esm/vs/editor/browser/services/codeEditorService';\nimport { type ILineChange } from '@theia/monaco-editor-core/esm/vs/editor/common/diff/legacyLinesDiffComputer';\nimport { ArrayUtils, URI } from '@theia/core';\nimport { toNotebookWorspaceEdit } from './notebooks/notebooks-main';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { NotebookService } from '@theia/notebook/lib/browser';\n\nexport class TextEditorsMainImpl implements TextEditorsMain, Disposable {\n\n    private readonly proxy: TextEditorsExt;\n    private readonly toDispose = new DisposableCollection();\n    private readonly editorsToDispose = new Map<string, DisposableCollection>();\n    private readonly fileEndpoint = new Endpoint({ path: 'file' }).getRestUrl();\n\n    private readonly bulkEditService: MonacoBulkEditService;\n    private readonly notebookService: NotebookService;\n\n    constructor(\n        private readonly editorsAndDocuments: EditorsAndDocumentsMain,\n        private readonly documents: DocumentsMain,\n        rpc: RPCProtocol,\n        container: interfaces.Container\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.TEXT_EDITORS_EXT);\n\n        this.bulkEditService = container.get(MonacoBulkEditService);\n        this.notebookService = container.get(NotebookService);\n\n        this.toDispose.push(editorsAndDocuments);\n        this.toDispose.push(editorsAndDocuments.onTextEditorAdd(editors => editors.forEach(this.onTextEditorAdd, this)));\n        this.toDispose.push(editorsAndDocuments.onTextEditorRemove(editors => editors.forEach(this.onTextEditorRemove, this)));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    private onTextEditorAdd(editor: TextEditorMain): void {\n        const id = editor.getId();\n        const toDispose = new DisposableCollection(\n            editor.onPropertiesChangedEvent(e => {\n                this.proxy.$acceptEditorPropertiesChanged(id, e);\n            }),\n            Disposable.create(() => this.editorsToDispose.delete(id))\n        );\n        this.editorsToDispose.set(id, toDispose);\n        this.toDispose.push(toDispose);\n    }\n\n    private onTextEditorRemove(id: string): void {\n        const disposables = this.editorsToDispose.get(id);\n        if (disposables) {\n            disposables.dispose();\n        }\n    }\n\n    $tryShowTextDocument(uri: UriComponents, options?: TextDocumentShowOptions): Promise<void> {\n        return this.documents.$tryShowDocument(uri, options);\n    }\n\n    $trySetOptions(id: string, options: TextEditorConfigurationUpdate): Promise<void> {\n        if (!this.editorsAndDocuments.getEditor(id)) {\n            return Promise.reject(disposed(`TextEditor: ${id}`));\n        }\n        this.editorsAndDocuments.getEditor(id)!.setConfiguration(options);\n        return Promise.resolve();\n    }\n\n    $trySetSelections(id: string, selections: Selection[]): Promise<void> {\n        if (!this.editorsAndDocuments.getEditor(id)) {\n            return Promise.reject(disposed(`TextEditor: ${id}`));\n        }\n        this.editorsAndDocuments.getEditor(id)!.setSelections(selections);\n        return Promise.resolve();\n    }\n\n    $tryRevealRange(id: string, range: Range, revealType: TextEditorRevealType): Promise<void> {\n        if (!this.editorsAndDocuments.getEditor(id)) {\n            return Promise.reject(disposed(`TextEditor(${id})`));\n        }\n\n        this.editorsAndDocuments.getEditor(id)!.revealRange(new monaco.Range(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn), revealType);\n        return Promise.resolve();\n    }\n\n    $tryApplyEdits(id: string, modelVersionId: number, edits: SingleEditOperation[], opts: ApplyEditsOptions): Promise<boolean> {\n        if (!this.editorsAndDocuments.getEditor(id)) {\n            return Promise.reject(disposed(`TextEditor(${id})`));\n        }\n\n        return Promise.resolve(this.editorsAndDocuments.getEditor(id)!.applyEdits(modelVersionId, edits, opts));\n    }\n\n    async $tryApplyWorkspaceEdit(dto: WorkspaceEditDto, metadata?: WorkspaceEditMetadataDto): Promise<boolean> {\n        const [notebookEdits, monacoEdits] = ArrayUtils.partition(dto.edits, edit => WorkspaceNotebookCellEditDto.is(edit));\n        try {\n            if (notebookEdits.length > 0) {\n                const workspaceEdit = toNotebookWorspaceEdit({ edits: notebookEdits });\n                return this.notebookService.applyWorkspaceEdit(workspaceEdit);\n            }\n            if (monacoEdits.length > 0) {\n                const workspaceEdit = toMonacoWorkspaceEdit({ edits: monacoEdits });\n                const edits = ResourceEdit.convert(workspaceEdit);\n                const { isApplied } = await this.bulkEditService.apply(edits, { respectAutoSaveConfig: metadata?.isRefactoring });\n                return isApplied;\n            }\n            return false;\n        } catch {\n            return false;\n        }\n    }\n\n    $tryInsertSnippet(id: string, template: string, ranges: Range[], opts: SnippetEditOptions): Promise<boolean> {\n        if (!this.editorsAndDocuments.getEditor(id)) {\n            return Promise.reject(disposed(`TextEditor(${id})`));\n        }\n        return Promise.resolve(this.editorsAndDocuments.getEditor(id)!.insertSnippet(template, ranges, opts));\n    }\n\n    $registerTextEditorDecorationType(key: string, options: DecorationRenderOptions): void {\n        this.injectRemoteUris(options);\n        StandaloneServices.get(ICodeEditorService).registerDecorationType('Plugin decoration', key, options as IDecorationRenderOptions);\n        this.toDispose.push(Disposable.create(() => this.$removeTextEditorDecorationType(key)));\n    }\n\n    protected injectRemoteUris(options: DecorationRenderOptions | ThemeDecorationInstanceRenderOptions): void {\n        if (options.before) {\n            options.before.contentIconPath = this.toRemoteUri(options.before.contentIconPath);\n        }\n        if (options.after) {\n            options.after.contentIconPath = this.toRemoteUri(options.after.contentIconPath);\n        }\n        if ('gutterIconPath' in options) {\n            options.gutterIconPath = this.toRemoteUri(options.gutterIconPath);\n        }\n        if ('dark' in options && options.dark) {\n            this.injectRemoteUris(options.dark);\n        }\n        if ('light' in options && options.light) {\n            this.injectRemoteUris(options.light);\n        }\n    }\n\n    protected toRemoteUri(uri?: UriComponents): UriComponents | undefined {\n        if (uri && uri.scheme === 'file') {\n            return this.fileEndpoint.withQuery(URI.fromComponents(uri).toString()).toComponents();\n        }\n        return uri;\n    }\n\n    $removeTextEditorDecorationType(key: string): void {\n        StandaloneServices.get(ICodeEditorService).removeDecorationType(key);\n    }\n\n    $tryHideEditor(id: string): Promise<void> {\n        return this.editorsAndDocuments.hideEditor(id);\n    }\n\n    $trySetDecorations(id: string, key: string, ranges: DecorationOptions[]): Promise<void> {\n        if (!this.editorsAndDocuments.getEditor(id)) {\n            return Promise.reject(disposed(`TextEditor(${id})`));\n        }\n        this.editorsAndDocuments.getEditor(id)!.setDecorations(key, ranges);\n        return Promise.resolve();\n    }\n\n    $trySetDecorationsFast(id: string, key: string, ranges: number[]): Promise<void> {\n        if (!this.editorsAndDocuments.getEditor(id)) {\n            return Promise.reject(disposed(`TextEditor(${id})`));\n        }\n        this.editorsAndDocuments.getEditor(id)!.setDecorationsFast(key, ranges);\n        return Promise.resolve();\n    }\n\n    $save(uri: UriComponents): PromiseLike<UriComponents | undefined> {\n        return this.editorsAndDocuments.save(URI.fromComponents(uri)).then(u => u?.toComponents());\n    }\n\n    $saveAs(uri: UriComponents): PromiseLike<UriComponents | undefined> {\n        return this.editorsAndDocuments.saveAs(URI.fromComponents(uri)).then(u => u?.toComponents());\n    }\n\n    $saveAll(includeUntitled?: boolean): Promise<boolean> {\n        return this.editorsAndDocuments.saveAll(includeUntitled);\n    }\n\n    $getDiffInformation(id: string): Promise<ILineChange[]> {\n        return Promise.resolve(this.editorsAndDocuments.getDiffInformation(id));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { getIconRegistry } from '@theia/monaco-editor-core/esm/vs/platform/theme/common/iconRegistry';\n\n// @monaco-uplift\n// Keep this up-to-date with the table at https://code.visualstudio.com/api/references/icons-in-labels#icon-listing\nconst codeIconMap: Record<string, string> = {\n    'accounts-view-bar-icon': 'account',\n    'breakpoints-activate': 'activate-breakpoints',\n    'breakpoints-remove-all': 'close-all',\n    'breakpoints-view-icon': 'debug-alt',\n    'callhierarchy-incoming': 'call-incoming',\n    'callhierarchy-outgoing': 'call-outgoing',\n    'callstack-view-icon': 'debug-alt',\n    'callstack-view-session': 'bug',\n    'chat-editor-label-icon': 'comment-discussion',\n    'comments-view-icon': 'comment-discussion',\n    'debug-breakpoint': 'debug-breakpoint',\n    'debug-breakpoint-conditional': 'debug-breakpoint-conditional',\n    'debug-breakpoint-conditional-disabled': 'debug-breakpoint-conditional-disabled',\n    'debug-breakpoint-conditional-unverified': 'debug-breakpoint-conditional-unverified',\n    'debug-breakpoint-data': 'debug-breakpoint-data',\n    'debug-breakpoint-data-disabled': 'debug-breakpoint-data-disabled',\n    'debug-breakpoint-data-unverified': 'debug-breakpoint-data-unverified',\n    'debug-breakpoint-disabled': 'debug-breakpoint-disabled',\n    'debug-breakpoint-function': 'debug-breakpoint-function',\n    'debug-breakpoint-function-disabled': 'debug-breakpoint-function-disabled',\n    'debug-breakpoint-function-unverified': 'debug-breakpoint-function-unverified',\n    'debug-breakpoint-log': 'debug-breakpoint-log',\n    'debug-breakpoint-log-disabled': 'debug-breakpoint-log-disabled',\n    'debug-breakpoint-log-unverified': 'debug-breakpoint-log-unverified',\n    'debug-breakpoint-unsupported': 'debug-breakpoint-unsupported',\n    'debug-breakpoint-unverified': 'debug-breakpoint-unverified',\n    'debug-collapse-all': 'collapse-all',\n    'debug-configure': 'gear',\n    'debug-console-clear-all': 'clear-all',\n    'debug-console-evaluation-input': 'arrow-small-right',\n    'debug-console-evaluation-prompt': 'chevron-right',\n    'debug-console-view-icon': 'debug-console',\n    'debug-continue': 'debug-continue',\n    'debug-disconnect': 'debug-disconnect',\n    'debug-gripper': 'gripper',\n    'debug-hint': 'debug-hint',\n    'debug-pause': 'debug-pause',\n    'debug-restart': 'debug-restart',\n    'debug-restart-frame': 'debug-restart-frame',\n    'debug-reverse-continue': 'debug-reverse-continue',\n    'debug-stackframe': 'debug-stackframe',\n    'debug-stackframe-focused': 'debug-stackframe-focused',\n    'debug-start': 'debug-start',\n    'debug-step-back': 'debug-step-back',\n    'debug-step-into': 'debug-step-into',\n    'debug-step-out': 'debug-step-out',\n    'debug-step-over': 'debug-step-over',\n    'debug-stop': 'debug-stop',\n    'default-view-icon': 'window',\n    'diff-editor-next-change': 'arrow-down',\n    'diff-editor-previous-change': 'arrow-up',\n    'diff-editor-toggle-whitespace': 'whitespace',\n    'diff-insert': 'add',\n    'diff-remove': 'remove',\n    'diff-review-close': 'close',\n    'diff-review-insert': 'add',\n    'diff-review-remove': 'remove',\n    'explorer-view-icon': 'files',\n    'extensions-clear-search-results': 'clear-all',\n    'extensions-configure-recommended': 'pencil',\n    'extensions-filter': 'filter',\n    'extensions-info-message': 'info',\n    'extensions-install-count': 'cloud-download',\n    'extensions-install-local-in-remote': 'cloud-download',\n    'extensions-install-workspace-recommended': 'cloud-download',\n    'extensions-manage': 'gear',\n    'extensions-rating': 'star',\n    'extensions-refresh': 'refresh',\n    'extensions-remote': 'remote',\n    'extensions-star-empty': 'star-empty',\n    'extensions-star-full': 'star-full',\n    'extensions-star-half': 'star-half',\n    'extensions-sync-enabled': 'sync',\n    'extensions-sync-ignored': 'sync-ignored',\n    'extensions-view-icon': 'extensions',\n    'extensions-warning-message': 'warning',\n    'find-collapsed': 'chevron-right',\n    'find-expanded': 'chevron-down',\n    'find-next-match': 'arrow-down',\n    'find-previous-match': 'arrow-up',\n    'find-replace': 'replace',\n    'find-replace-all': 'replace-all',\n    'find-selection': 'selection',\n    'folding-collapsed': 'chevron-right',\n    'folding-expanded': 'chevron-down',\n    'getting-started-beginner': 'lightbulb',\n    'getting-started-codespaces': 'github',\n    'getting-started-item-checked': 'pass-filled',\n    'getting-started-item-unchecked': 'circle-large-outline',\n    'getting-started-setup': 'heart',\n    'goto-next-location': 'arrow-down',\n    'goto-previous-location': 'arrow-up',\n    'keybindings-add': 'add',\n    'keybindings-edit': 'edit',\n    'keybindings-record-keys': 'record-keys',\n    'keybindings-sort': 'sort-precedence',\n    'loaded-scripts-view-icon': 'debug-alt',\n    'marker-navigation-next': 'chevron-down',\n    'marker-navigation-previous': 'chevron-up',\n    'markers-view-filter': 'filter',\n    'markers-view-icon': 'warning',\n    'markers-view-multi-line-collapsed': 'chevron-down',\n    'markers-view-multi-line-expanded': 'chevron-up',\n    'notebook-clear': 'clear-all',\n    'notebook-collapsed': 'chevron-right',\n    'notebook-delete-cell': 'trash',\n    'notebook-edit': 'pencil',\n    'notebook-execute': 'play',\n    'notebook-execute-all': 'run-all',\n    'notebook-expanded': 'chevron-down',\n    'notebook-kernel-configure': 'settings-gear',\n    'notebook-kernel-select': 'server-environment',\n    'notebook-mimetype': 'code',\n    'notebook-move-down': 'arrow-down',\n    'notebook-move-up': 'arrow-up',\n    'notebook-open-as-text': 'file-code',\n    'notebook-render-output': 'preview',\n    'notebook-revert': 'discard',\n    'notebook-split-cell': 'split-vertical',\n    'notebook-state-error': 'error',\n    'notebook-state-success': 'check',\n    'notebook-stop': 'primitive-square',\n    'notebook-stop-edit': 'check',\n    'notebook-unfold': 'unfold',\n    'notifications-clear': 'close',\n    'notifications-clear-all': 'clear-all',\n    'notifications-collapse': 'chevron-down',\n    'notifications-configure': 'gear',\n    'notifications-expand': 'chevron-up',\n    'notifications-hide': 'chevron-down',\n    'open-editors-view-icon': 'book',\n    'outline-view-icon': 'symbol-class',\n    'output-view-icon': 'output',\n    'panel-close': 'close',\n    'panel-maximize': 'chevron-up',\n    'panel-restore': 'chevron-down',\n    'parameter-hints-next': 'chevron-down',\n    'parameter-hints-previous': 'chevron-up',\n    'ports-forward-icon': 'plus',\n    'ports-open-browser-icon': 'globe',\n    'ports-stop-forward-icon': 'x',\n    'ports-view-icon': 'plug',\n    'preferences-clear-input': 'clear-all',\n    'preferences-open-settings': 'go-to-file',\n    'private-ports-view-icon': 'lock',\n    'public-ports-view-icon': 'eye',\n    'refactor-preview-view-icon': 'lightbulb',\n    'remote-explorer-documentation': 'book',\n    'remote-explorer-feedback': 'twitter',\n    'remote-explorer-get-started': 'star',\n    'remote-explorer-report-issues': 'comment',\n    'remote-explorer-review-issues': 'issues',\n    'remote-explorer-view-icon': 'remote-explorer',\n    'review-comment-collapse': 'chevron-up',\n    'run-view-icon': 'debug-alt',\n    'runtime-extensions-editor-label-icon': ' extensions',\n    'search-clear-results': 'clear-all',\n    'search-collapse-results': 'collapse-all',\n    'search-details': 'ellipsis',\n    'search-editor-label-icon': 'search',\n    'search-expand-results': 'expand-all',\n    'search-hide-replace': 'chevron-right',\n    'search-new-editor': 'new-file',\n    'search-refresh': 'refresh',\n    'search-remove': 'close',\n    'search-replace': 'replace',\n    'search-replace-all': 'replace-all',\n    'search-show-context': 'list-selection',\n    'search-show-replace': 'chevron-down',\n    'search-stop': 'search-stop',\n    'search-view-icon': 'search',\n    'settings-add': 'add',\n    'settings-discard': 'discard',\n    'settings-edit': 'edit',\n    'settings-editor-label-icon': 'settings',\n    'settings-folder-dropdown': 'triangle-down',\n    'settings-group-collapsed': 'chevron-right',\n    'settings-group-expanded': 'chevron-down',\n    'settings-more-action': 'gear',\n    'settings-remove': 'close',\n    'settings-sync-view-icon': 'sync',\n    'settings-view-bar-icon': 'settings-gear',\n    'source-control-view-icon': 'source-control',\n    'suggest-more-info': 'chevron-right',\n    'tasks-list-configure': 'gear',\n    'tasks-remove': 'close',\n    'terminal-kill': 'trash',\n    'terminal-new': 'add',\n    'terminal-rename': 'gear',\n    'terminal-view-icon': 'terminal',\n    'test-view-icon': 'beaker',\n    'testing-cancel-icon': 'close',\n    'testing-debug-icon': 'debug-alt',\n    'testing-error-icon': 'warning',\n    'testing-failed-icon': 'close',\n    'testing-passed-icon': 'pass',\n    'testing-queued-icon': 'watch',\n    'testing-run-all-icon': 'run-all',\n    'testing-run-icon': 'run',\n    'testing-show-as-list-icon': 'list-tree',\n    'testing-skipped-icon': 'debug-step-over',\n    'testing-unset-icon': 'circle-outline',\n    'timeline-open': 'history',\n    'timeline-pin': 'pin',\n    'timeline-refresh': 'refresh',\n    'timeline-unpin': 'pinned',\n    'timeline-view-icon': 'history',\n    'variables-view-icon': 'debug-alt',\n    'view-pane-container-collapsed': 'chevron-right',\n    'view-pane-container-expanded': 'chevron-down',\n    'watch-expressions-add': 'add',\n    'watch-expressions-add-function-breakpoint': 'add',\n    'watch-expressions-remove-all': 'close-all',\n    'watch-view-icon': 'debug-alt',\n    'widget-close': 'close',\n    'workspace-trust-editor-label-icon': ' shield'\n};\n\nconst registry = getIconRegistry();\n\nfor (const key in codeIconMap) {\n    if (codeIconMap.hasOwnProperty(key)) {\n        registry.registerIcon(key, { id: codeIconMap[key] }, key);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MAIN_RPC_CONTEXT, ThemingMain, ThemingExt } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { ThemeService } from '@theia/core/lib/browser/theming';\nimport { Disposable } from '@theia/core/lib/common/disposable';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/bafca191f55a234fad20ab67bb689aacc80e7a1a/src/vs/workbench/api/browser/mainThreadTheming.ts\n\nexport class ThemingMainImpl implements ThemingMain {\n\n    private readonly proxy: ThemingExt;\n    private readonly themeChangeListener: Disposable;\n\n    constructor(rpc: RPCProtocol, themeService: ThemeService) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.THEMING_EXT);\n        this.themeChangeListener = themeService.onDidColorThemeChange(e => this.proxy.$onColorThemeChange(e.newTheme.type));\n        this.proxy.$onColorThemeChange(themeService.getCurrentTheme().type);\n    }\n\n    dispose(): void {\n        this.themeChangeListener.dispose();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { MAIN_RPC_CONTEXT, TimelineExt, TimelineMain } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { TimelineService } from '@theia/timeline/lib/browser/timeline-service';\nimport { Emitter } from '@theia/core/lib/common';\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport {\n    InternalTimelineOptions,\n    Timeline,\n    TimelineOptions,\n    TimelineProviderDescriptor,\n    TimelineChangeEvent\n} from '@theia/timeline/lib/common/timeline-model';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/afacd2bdfe7060f09df9b9139521718915949757/src/vs/workbench/api/browser/mainThreadTimeline.ts\n\nexport class TimelineMainImpl implements TimelineMain {\n    private readonly proxy: TimelineExt;\n    private readonly timelineService: TimelineService;\n    private readonly providerEmitters = new Map<string, Emitter<TimelineChangeEvent>>();\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.TIMELINE_EXT);\n        this.timelineService = container.get<TimelineService>(TimelineService);\n    }\n\n    async $registerTimelineProvider(provider: TimelineProviderDescriptor): Promise<void> {\n        const proxy = this.proxy;\n\n        const emitters = this.providerEmitters;\n        let onDidChange = emitters.get(provider.id);\n        if (onDidChange === undefined) {\n            onDidChange = new Emitter<TimelineChangeEvent>();\n            emitters.set(provider.id, onDidChange);\n        }\n\n        this.timelineService.registerTimelineProvider({\n            ...provider,\n            onDidChange: onDidChange.event,\n            provideTimeline(uri: URI, options: TimelineOptions, internalOptions?: InternalTimelineOptions): Promise<Timeline | undefined> {\n                return proxy.$getTimeline(provider.id, uri, options, internalOptions);\n            },\n            dispose(): void {\n                emitters.delete(provider.id);\n                if (onDidChange) {\n                    onDidChange.dispose();\n                }\n            }\n        });\n    }\n\n    async $unregisterTimelineProvider(id: string): Promise<void> {\n        this.timelineService.unregisterTimelineProvider(id);\n    }\n\n    async $fireTimelineChanged(e: TimelineChangeEvent): Promise<void> {\n        const emitter = this.providerEmitters.get(e.id);\n        if (emitter) {\n            emitter.fire(e);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2024 STMicroelectronics.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable, URI } from '@theia/core';\nimport { MAIN_RPC_CONTEXT, UriExt, UriMain } from '../../common';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { OpenHandler, OpenerOptions, OpenerService } from '@theia/core/lib/browser';\nimport { FrontendApplicationConfigProvider } from '@theia/core/lib/browser/frontend-application-config-provider';\nimport { HostedPluginSupport } from '../../hosted/browser/hosted-plugin';\n\nexport class UriMainImpl implements UriMain, Disposable {\n    private readonly proxy: UriExt;\n    private handlers = new Set<string>();\n    private readonly openerService: OpenerService;\n    private readonly pluginSupport: HostedPluginSupport;\n    private readonly openHandler: OpenHandler;\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.URI_EXT);\n        this.openerService = container.get(OpenerService);\n        this.pluginSupport = container.get(HostedPluginSupport);\n\n        this.openHandler = {\n            id: 'theia-plugin-open-handler',\n            canHandle: async (uri: URI, options?: OpenerOptions | undefined): Promise<number> => {\n                if (uri.scheme !== FrontendApplicationConfigProvider.get().electron.uriScheme) {\n                    return 0;\n                }\n                await this.pluginSupport.activateByUri(uri.scheme, uri.authority);\n                if (this.handlers.has(uri.authority)) {\n                    return 500;\n                }\n                return 0;\n            },\n            open: async (uri: URI, options?: OpenerOptions | undefined): Promise<undefined> => {\n                if (!this.handlers.has(uri.authority)) {\n                    throw new Error(`No plugin to handle this uri: : '${uri}'`);\n                }\n                this.proxy.$handleExternalUri(uri.toComponents());\n            }\n        };\n\n        this.openerService.addHandler?.(this.openHandler);\n    }\n\n    dispose(): void {\n        this.openerService.removeHandler?.(this.openHandler);\n        this.handlers.clear();\n    }\n\n    async $registerUriHandler(pluginId: string, extensionDisplayName: string): Promise<void> {\n        this.handlers.add(pluginId);\n    }\n\n    async $unregisterUriHandler(pluginId: string): Promise<void> {\n        this.handlers.delete(pluginId);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\n\n@injectable()\nexport class DnDFileContentStore {\n    private static id: number = 0;\n    private files: Map<string, File> = new Map();\n\n    addFile(f: File): string {\n        const id = (DnDFileContentStore.id++).toString();\n        this.files.set(id, f);\n        return id;\n    }\n\n    removeFile(id: string): boolean {\n        return this.files.delete(id);\n    }\n\n    getFile(id: string): File {\n        const file = this.files.get(id);\n        if (file) {\n            return file;\n        }\n\n        throw new Error(`File with id ${id} not found in dnd operation`);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { LabelProviderContribution, LabelProvider, URIIconReference } from '@theia/core/lib/browser/label-provider';\nimport { TreeLabelProvider } from '@theia/core/lib/browser/tree/tree-label-provider';\nimport { TreeViewNode } from './tree-view-widget';\nimport { TreeNode } from '@theia/core/lib/browser/tree/tree';\nimport { ThemeIcon } from '@theia/monaco-editor-core/esm/vs/base/common/themables';\n\n@injectable()\nexport class PluginTreeViewNodeLabelProvider implements LabelProviderContribution {\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(TreeLabelProvider)\n    protected readonly treeLabelProvider: TreeLabelProvider;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    canHandle(element: TreeViewNode | any): number {\n        if (TreeNode.is(element) && ('resourceUri' in element || 'themeIcon' in element)) {\n            return Number.MAX_SAFE_INTEGER - 512;\n        }\n        return 0;\n    }\n\n    getIcon(node: TreeViewNode): string | undefined {\n        if (node.icon) {\n            return node.icon;\n        }\n        if (node.themeIcon) {\n            if (node.themeIcon.id === 'file' || node.themeIcon.id === 'folder') {\n                const uri = node.resourceUri && new URI(node.resourceUri) || undefined;\n                if (uri) {\n                    return this.labelProvider.getIcon(URIIconReference.create(node.themeIcon.id, uri));\n                }\n            }\n            return ThemeIcon.asClassName(node.themeIcon);\n        }\n        if (node.resourceUri) {\n            return this.labelProvider.getIcon(new URI(node.resourceUri));\n        }\n        return undefined;\n    }\n\n    getName(node: TreeViewNode): string | undefined {\n        if (node.name) {\n            return node.name;\n        }\n        if (node.resourceUri) {\n            return this.labelProvider.getName(new URI(node.resourceUri));\n        }\n        return undefined;\n    }\n\n    getLongName(node: TreeViewNode): string | undefined {\n        if (typeof node.description === 'string') {\n            return node.description;\n        }\n        if (node.description === true && node.resourceUri) {\n            return this.labelProvider.getLongName(new URI(node.resourceUri));\n        }\n        return undefined;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct, optional } from '@theia/core/shared/inversify';\nimport {\n    ApplicationShell, ViewContainer as ViewContainerWidget, WidgetManager, QuickViewService,\n    ViewContainerIdentifier, ViewContainerTitleOptions, Widget, FrontendApplicationContribution,\n    StatefulWidget, CommonMenus, TreeViewWelcomeWidget, ViewContainerPart, BaseWidget,\n} from '@theia/core/lib/browser';\nimport { ViewContainer, View, ViewWelcome, PluginViewType } from '../../../common';\nimport { PluginSharedStyle } from '../plugin-shared-style';\nimport { DebugWidget } from '@theia/debug/lib/browser/view/debug-widget';\nimport { PluginViewWidget, PluginViewWidgetIdentifier } from './plugin-view-widget';\nimport { SCM_VIEW_CONTAINER_ID, ScmContribution } from '@theia/scm/lib/browser/scm-contribution';\nimport { EXPLORER_VIEW_CONTAINER_ID, FileNavigatorWidget, FILE_NAVIGATOR_ID } from '@theia/navigator/lib/browser';\nimport { FileNavigatorContribution } from '@theia/navigator/lib/browser/navigator-contribution';\nimport { DebugFrontendApplicationContribution } from '@theia/debug/lib/browser/debug-frontend-application-contribution';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { MenuModelRegistry } from '@theia/core/lib/common/menu';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { ContextKey, ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { ViewContextKeyService } from './view-context-key-service';\nimport { PROBLEMS_WIDGET_ID } from '@theia/markers/lib/browser/problem/problem-widget';\nimport { OutputWidget } from '@theia/output/lib/browser/output-widget';\nimport { DebugConsoleContribution } from '@theia/debug/lib/browser/console/debug-console-contribution';\nimport { TreeViewWidget } from './tree-view-widget';\nimport { SEARCH_VIEW_CONTAINER_ID } from '@theia/search-in-workspace/lib/browser/search-in-workspace-factory';\nimport { TEST_VIEW_CONTAINER_ID } from '@theia/test/lib/browser/view/test-view-contribution';\nimport { WebviewView, WebviewViewResolver } from '../webview-views/webview-views';\nimport { WebviewWidget, WebviewWidgetIdentifier } from '../webview/webview';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { generateUuid } from '@theia/core/lib/common/uuid';\nimport { nls } from '@theia/core';\nimport { TheiaDockPanel } from '@theia/core/lib/browser/shell/theia-dock-panel';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { ThemeIcon } from '@theia/monaco-editor-core/esm/vs/base/common/themables';\n\nexport const PLUGIN_VIEW_FACTORY_ID = 'plugin-view';\nexport const PLUGIN_VIEW_CONTAINER_FACTORY_ID = 'plugin-view-container';\nexport const PLUGIN_VIEW_DATA_FACTORY_ID = 'plugin-view-data';\n\nexport type ViewDataProvider = (params: { state?: object, viewInfo: View }) => Promise<TreeViewWidget>;\n\nexport interface ViewContainerInfo {\n    id: string\n    location: string\n    options: ViewContainerTitleOptions\n    onViewAdded: () => void\n}\n\n@injectable()\nexport class PluginViewRegistry implements FrontendApplicationContribution {\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(PluginSharedStyle)\n    protected readonly style: PluginSharedStyle;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    @inject(ScmContribution)\n    protected readonly scm: ScmContribution;\n\n    @inject(FileNavigatorContribution)\n    protected readonly explorer: FileNavigatorContribution;\n\n    @inject(DebugFrontendApplicationContribution)\n    protected readonly debug: DebugFrontendApplicationContribution;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(MenuModelRegistry)\n    protected readonly menus: MenuModelRegistry;\n\n    @inject(QuickViewService) @optional()\n    protected readonly quickView: QuickViewService;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(ViewContextKeyService)\n    protected readonly viewContextKeys: ViewContextKeyService;\n\n    protected readonly onDidExpandViewEmitter = new Emitter<string>();\n    readonly onDidExpandView = this.onDidExpandViewEmitter.event;\n\n    private readonly views = new Map<string, [string, View]>();\n    private readonly viewsWelcome = new Map<string, ViewWelcome[]>();\n    private readonly viewContainers = new Map<string, ViewContainerInfo>();\n    private readonly containerViews = new Map<string, string[]>();\n    private readonly viewClauseContexts = new Map<string, Set<string> | undefined>();\n\n    private readonly viewDataProviders = new Map<string, ViewDataProvider>();\n    private readonly viewDataState = new Map<string, object>();\n\n    private readonly webviewViewResolvers = new Map<string, WebviewViewResolver>();\n    protected readonly onNewResolverRegisteredEmitter = new Emitter<{ readonly viewType: string }>();\n    readonly onNewResolverRegistered = this.onNewResolverRegisteredEmitter.event;\n\n    private readonly webviewViewRevivals = new Map<string, { readonly webview: WebviewView; readonly revival: Deferred<void> }>();\n\n    private nextViewContainerId = 0;\n\n    private static readonly BUILTIN_VIEW_CONTAINERS = new Set<string>([\n        'explorer',\n        'scm',\n        'search',\n        'test',\n        'debug'\n    ]);\n\n    private static readonly ID_MAPPINGS: Map<string, string> = new Map([\n        // VS Code Viewlets\n        [EXPLORER_VIEW_CONTAINER_ID, 'workbench.view.explorer'],\n        [SCM_VIEW_CONTAINER_ID, 'workbench.view.scm'],\n        [SEARCH_VIEW_CONTAINER_ID, 'workbench.view.search'],\n        [DebugWidget.ID, 'workbench.view.debug'],\n        ['vsx-extensions-view-container', 'workbench.view.extensions'], // cannot use the id from 'vsx-registry' package because of circular dependency\n        [PROBLEMS_WIDGET_ID, 'workbench.panel.markers'],\n        [TEST_VIEW_CONTAINER_ID, 'workbench.view.testing'],\n        [OutputWidget.ID, 'workbench.panel.output'],\n        [DebugConsoleContribution.options.id, 'workbench.panel.repl'],\n        // Theia does not have a single terminal widget, but instead each terminal gets its own widget. Therefore \"the terminal widget is active\" doesn't make sense in Theia\n        // [TERMINAL_WIDGET_FACTORY_ID, 'workbench.panel.terminal'],\n        // [?? , 'workbench.panel.comments'] not sure what this mean: we don't show comments in sidebars nor the bottom\n    ]);\n\n    @postConstruct()\n    protected init(): void {\n\n        // TODO workbench.panel.comments - Theia does not have a proper comments view yet\n\n        this.updateFocusedView();\n        this.shell.onDidChangeActiveWidget(() => this.updateFocusedView());\n\n        this.widgetManager.onWillCreateWidget(({ factoryId, widget, waitUntil }) => {\n            if (factoryId === EXPLORER_VIEW_CONTAINER_ID && widget instanceof ViewContainerWidget) {\n                waitUntil(this.prepareViewContainer('explorer', widget));\n            }\n            if (factoryId === SCM_VIEW_CONTAINER_ID && widget instanceof ViewContainerWidget) {\n                waitUntil(this.prepareViewContainer('scm', widget));\n            }\n            if (factoryId === SEARCH_VIEW_CONTAINER_ID && widget instanceof ViewContainerWidget) {\n                waitUntil(this.prepareViewContainer('search', widget));\n            }\n            if (factoryId === TEST_VIEW_CONTAINER_ID && widget instanceof ViewContainerWidget) {\n                waitUntil(this.prepareViewContainer('test', widget));\n            }\n            if (factoryId === DebugWidget.ID && widget instanceof DebugWidget) {\n                const viewContainer = widget['sessionWidget']['viewContainer'];\n                waitUntil(this.prepareViewContainer('debug', viewContainer));\n            }\n            if (factoryId === PLUGIN_VIEW_CONTAINER_FACTORY_ID && widget instanceof ViewContainerWidget) {\n                waitUntil(this.prepareViewContainer(this.toViewContainerId(widget.options), widget));\n            }\n            if (factoryId === PLUGIN_VIEW_FACTORY_ID && widget instanceof PluginViewWidget) {\n                waitUntil(this.prepareView(widget));\n            }\n        });\n        this.widgetManager.onDidCreateWidget(event => {\n            if (event.widget instanceof FileNavigatorWidget) {\n                const disposable = new DisposableCollection();\n                disposable.push(this.registerViewWelcome({\n                    view: 'explorer',\n                    content: nls.localizeByDefault(\n                        'You have not yet opened a folder.\\n{0}',\n                        `[${nls.localizeByDefault('Open Folder')}](command:workbench.action.files.openFolder)`\n                    ),\n                    order: 0\n                }));\n                disposable.push(event.widget.onDidDispose(() => disposable.dispose()));\n            }\n        });\n        this.contextKeyService.onDidChange(e => {\n            for (const [, view] of this.views.values()) {\n                const clauseContext = this.viewClauseContexts.get(view.id);\n                if (clauseContext && e.affects(clauseContext)) {\n                    this.updateViewVisibility(view.id);\n                }\n            }\n            for (const [viewId, viewWelcomes] of this.viewsWelcome) {\n                for (const [index] of viewWelcomes.entries()) {\n                    const viewWelcomeId = this.toViewWelcomeId(index, viewId);\n                    const clauseContext = this.viewClauseContexts.get(viewWelcomeId);\n                    if (clauseContext && e.affects(clauseContext)) {\n                        this.updateViewWelcomeVisibility(viewId);\n                    }\n                }\n            }\n        });\n\n        const hookDockPanelKey = (panel: TheiaDockPanel, key: ContextKey<string>) => {\n            let toDisposeOnActivate = new DisposableCollection();\n            panel.onDidChangeCurrent(title => {\n                toDisposeOnActivate.dispose();\n                toDisposeOnActivate = new DisposableCollection();\n                if (title && title.owner instanceof BaseWidget) {\n                    const widget = title.owner;\n                    let value = PluginViewRegistry.ID_MAPPINGS.get(widget.id);\n                    if (!value) {\n                        if (widget.id.startsWith(PLUGIN_VIEW_CONTAINER_FACTORY_ID)) {\n                            value = this.toViewContainerId({ id: widget.id });\n                        }\n                    }\n                    const setKey = () => {\n                        if (widget.isVisible && value) {\n                            key.set(value);\n                        } else {\n                            key.reset();\n                        }\n                    };\n                    toDisposeOnActivate.push(widget.onDidChangeVisibility(() => {\n                        setKey();\n                    }));\n                    setKey();\n\n                }\n            });\n        };\n\n        this.shell.initialized.then(() => {\n            hookDockPanelKey(this.shell.leftPanelHandler.dockPanel, this.viewContextKeys.activeViewlet);\n            hookDockPanelKey(this.shell.rightPanelHandler.dockPanel, this.viewContextKeys.activeAuxiliary);\n            hookDockPanelKey(this.shell.bottomPanel, this.viewContextKeys.activePanel);\n        });\n    }\n\n    protected async updateViewWelcomeVisibility(viewId: string): Promise<void> {\n        const widget = await this.getTreeViewWelcomeWidget(viewId);\n        if (widget) {\n            widget.handleWelcomeContextChange();\n        }\n    }\n\n    protected async updateViewVisibility(viewId: string): Promise<void> {\n        const widget = await this.getView(viewId);\n        if (!widget) {\n            if (this.isViewVisible(viewId)) {\n                await this.openView(viewId);\n            }\n            return;\n        }\n        const viewInfo = this.views.get(viewId);\n        if (!viewInfo) {\n            return;\n        }\n        const [viewContainerId] = viewInfo;\n        const viewContainer = await this.getPluginViewContainer(viewContainerId);\n        if (!viewContainer) {\n            return;\n        }\n        const part = viewContainer.getPartFor(widget);\n        if (!part) {\n            return;\n        }\n        widget.updateViewVisibility(() =>\n            part.setHidden(!this.isViewVisible(viewId))\n        );\n    }\n\n    protected isViewVisible(viewId: string): boolean {\n        const viewInfo = this.views.get(viewId);\n        if (!viewInfo) {\n            return false;\n        }\n        const [, view] = viewInfo;\n        return view.when === undefined || view.when === 'true' || this.contextKeyService.match(view.when);\n    }\n\n    registerViewContainer(location: string, viewContainer: ViewContainer): Disposable {\n        const containerId = `workbench.view.extension.${viewContainer.id}`;\n        if (this.viewContainers.has(containerId)) {\n            console.warn('view container such id already registered: ', JSON.stringify(viewContainer));\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection();\n        const containerClass = 'theia-plugin-view-container';\n        let themeIconClass = '';\n        const iconClass = 'plugin-view-container-icon-' + this.nextViewContainerId++; // having dots in class would not work for css, so we need to generate an id.\n\n        if (viewContainer.themeIcon) {\n            const icon = ThemeIcon.fromString(viewContainer.themeIcon);\n            if (icon) {\n                themeIconClass = ThemeIcon.asClassName(icon) ?? '';\n            }\n        }\n\n        if (!themeIconClass) {\n            const iconUrl = PluginSharedStyle.toExternalIconUrl(viewContainer.iconUrl);\n            toDispose.push(this.style.insertRule('.' + containerClass + '.' + iconClass, () => `\n                mask: url('${iconUrl}') no-repeat 50% 50%;\n                -webkit-mask: url('${iconUrl}') no-repeat 50% 50%;\n            `));\n        }\n\n        toDispose.push(this.doRegisterViewContainer(containerId, location, {\n            label: viewContainer.title,\n            // The container class automatically sets a mask; if we're using a theme icon, we don't want one.\n            iconClass: (themeIconClass || containerClass) + ' ' + iconClass,\n            closeable: true\n        }));\n        return toDispose;\n    }\n\n    protected async toggleViewContainer(id: string): Promise<void> {\n        let widget = await this.getPluginViewContainer(id);\n        if (widget && widget.isAttached) {\n            widget.dispose();\n        } else {\n            widget = await this.openViewContainer(id);\n            if (widget) {\n                this.shell.activateWidget(widget.id);\n            }\n        }\n    }\n\n    protected doRegisterViewContainer(id: string, location: string, options: ViewContainerTitleOptions): Disposable {\n        const toDispose = new DisposableCollection();\n        toDispose.push(Disposable.create(() => this.viewContainers.delete(id)));\n        const toggleCommandId = `plugin.view-container.${id}.toggle`;\n        // Some plugins may register empty view containers.\n        // We should not register commands for them immediately, as that leads to bad UX.\n        // Instead, we register commands the first time we add a view to them.\n        let activate = () => {\n            toDispose.push(this.commands.registerCommand({\n                id: toggleCommandId,\n                category: nls.localizeByDefault('View'),\n                label: nls.localizeByDefault('Toggle {0}', options.label)\n            }, {\n                execute: () => this.toggleViewContainer(id)\n            }));\n            toDispose.push(this.menus.registerMenuAction(CommonMenus.VIEW_VIEWS, {\n                commandId: toggleCommandId,\n                label: options.label\n            }));\n            toDispose.push(this.quickView?.registerItem({\n                label: options.label,\n                open: async () => {\n                    const widget = await this.openViewContainer(id);\n                    if (widget) {\n                        this.shell.activateWidget(widget.id);\n                    }\n                }\n            }));\n            toDispose.push(Disposable.create(async () => {\n                const widget = await this.getPluginViewContainer(id);\n                if (widget) {\n                    widget.dispose();\n                }\n            }));\n            // Ignore every subsequent activation call\n            activate = () => { };\n        };\n        this.viewContainers.set(id, {\n            id,\n            location,\n            options,\n            onViewAdded: () => activate()\n        });\n        return toDispose;\n    }\n\n    getContainerViews(viewContainerId: string): string[] {\n        return this.containerViews.get(viewContainerId) || [];\n    }\n\n    registerView(viewContainerId: string, view: View): Disposable {\n        if (!PluginViewRegistry.BUILTIN_VIEW_CONTAINERS.has(viewContainerId)) {\n            // if it's not a built-in view container, it must be a contributed view container, see https://github.com/eclipse-theia/theia/issues/13249\n            viewContainerId = `workbench.view.extension.${viewContainerId}`;\n        }\n        if (this.views.has(view.id)) {\n            console.warn('view with such id already registered: ', JSON.stringify(view));\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection();\n\n        view.when = view.when?.trim();\n        this.views.set(view.id, [viewContainerId, view]);\n        toDispose.push(Disposable.create(() => this.views.delete(view.id)));\n\n        const containerInfo = this.viewContainers.get(viewContainerId);\n        if (containerInfo) {\n            containerInfo.onViewAdded();\n        }\n\n        const containerViews = this.getContainerViews(viewContainerId);\n        containerViews.push(view.id);\n        this.containerViews.set(viewContainerId, containerViews);\n        toDispose.push(Disposable.create(() => {\n            const index = containerViews.indexOf(view.id);\n            if (index !== -1) {\n                containerViews.splice(index, 1);\n            }\n        }));\n\n        if (view.when && view.when !== 'false' && view.when !== 'true') {\n            const keys = this.contextKeyService.parseKeys(view.when);\n            if (keys) {\n                this.viewClauseContexts.set(view.id, keys);\n                toDispose.push(Disposable.create(() => this.viewClauseContexts.delete(view.id)));\n            }\n        }\n        toDispose.push(this.quickView?.registerItem({\n            label: view.name,\n            when: view.when,\n            open: () => this.openView(view.id, { activate: true })\n        }));\n        toDispose.push(this.commands.registerCommand({ id: `${view.id}.focus` }, {\n            execute: async () => { await this.openView(view.id, { activate: true }); }\n        }));\n        toDispose.push(this.commands.registerCommand({ id: `${view.id}.open` }, {\n            execute: async () => { await this.openView(view.id, { activate: true }); }\n        }));\n        return toDispose;\n    }\n\n    async resolveWebviewView(viewId: string, webview: WebviewView, cancellation: CancellationToken): Promise<void> {\n        const resolver = this.webviewViewResolvers.get(viewId);\n        if (resolver) {\n            return resolver.resolve(webview, cancellation);\n        }\n        const pendingRevival = this.webviewViewRevivals.get(viewId);\n        if (pendingRevival) {\n            return pendingRevival.revival.promise;\n        }\n        const pending = new Deferred<void>();\n        this.webviewViewRevivals.set(viewId, { webview, revival: pending });\n        return pending.promise;\n    }\n\n    async registerWebviewView(viewId: string, resolver: WebviewViewResolver): Promise<Disposable> {\n        if (this.webviewViewResolvers.has(viewId)) {\n            throw new Error(`View resolver already registered for ${viewId}`);\n        }\n        this.webviewViewResolvers.set(viewId, resolver);\n        this.onNewResolverRegisteredEmitter.fire({ viewType: viewId });\n\n        const toDispose = new DisposableCollection(Disposable.create(() => this.webviewViewResolvers.delete(viewId)));\n        this.initView(viewId, toDispose);\n\n        const pendingRevival = this.webviewViewRevivals.get(viewId);\n        if (pendingRevival) {\n            resolver.resolve(pendingRevival.webview, CancellationToken.None).then(() => {\n                this.webviewViewRevivals.delete(viewId);\n                pendingRevival.revival.resolve();\n            });\n        }\n\n        return toDispose;\n    }\n\n    protected async createNewWebviewView(viewId: string): Promise<WebviewView> {\n        const webview = await this.widgetManager.getOrCreateWidget<WebviewWidget>(\n            WebviewWidget.FACTORY_ID, <WebviewWidgetIdentifier>{\n                id: generateUuid(),\n                viewId,\n            });\n        webview.setContentOptions({ allowScripts: true });\n\n        let _description: string | undefined;\n        let _resolved = false;\n        let _pendingResolution: Promise<void> | undefined;\n\n        const webviewView: WebviewView = {\n            webview,\n\n            get onDidChangeVisibility(): Event<boolean> { return webview.onDidChangeVisibility; },\n            get onDidDispose(): Event<void> { return webview.onDidDispose; },\n\n            get title(): string | undefined { return webview.title.label; },\n            set title(value: string | undefined) { webview.title.label = value || ''; },\n\n            get description(): string | undefined { return _description; },\n            set description(value: string | undefined) { _description = value; },\n\n            dispose: () => {\n                _resolved = false;\n                webview.dispose();\n                toDispose.dispose();\n            },\n            resolve: async () => {\n                if (_resolved) {\n                    return;\n                }\n                if (_pendingResolution) {\n                    return _pendingResolution;\n                }\n                _pendingResolution = this.resolveWebviewView(viewId, webviewView, CancellationToken.None).then(() => {\n                    _resolved = true;\n                    _pendingResolution = undefined;\n                });\n                return _pendingResolution;\n            },\n            show: webview.show\n        };\n\n        const toDispose = this.onNewResolverRegistered(resolver => {\n            if (resolver.viewType === viewId) {\n                // Potentially re-activate if we have a new resolver\n                webviewView.resolve();\n            }\n        });\n\n        webviewView.resolve();\n        return webviewView;\n    }\n\n    registerViewWelcome(viewWelcome: ViewWelcome): Disposable {\n        const toDispose = new DisposableCollection();\n\n        const viewsWelcome = this.viewsWelcome.get(viewWelcome.view) || [];\n        if (viewsWelcome.some(e => e.content === viewWelcome.content)) {\n            return toDispose;\n        }\n        viewsWelcome.push(viewWelcome);\n        this.viewsWelcome.set(viewWelcome.view, viewsWelcome);\n        this.handleViewWelcomeChange(viewWelcome.view);\n        toDispose.push(Disposable.create(() => {\n            const index = viewsWelcome.indexOf(viewWelcome);\n            if (index !== -1) {\n                viewsWelcome.splice(index, 1);\n            }\n            this.handleViewWelcomeChange(viewWelcome.view);\n        }));\n\n        if (viewWelcome.when) {\n            const index = viewsWelcome.indexOf(viewWelcome);\n            const viewWelcomeId = this.toViewWelcomeId(index, viewWelcome.view);\n            this.viewClauseContexts.set(viewWelcomeId, this.contextKeyService.parseKeys(viewWelcome.when));\n            toDispose.push(Disposable.create(() => this.viewClauseContexts.delete(viewWelcomeId)));\n        }\n        return toDispose;\n    }\n\n    async handleViewWelcomeChange(viewId: string): Promise<void> {\n        const widget = await this.getTreeViewWelcomeWidget(viewId);\n        if (widget) {\n            widget.handleViewWelcomeContentChange(this.getViewWelcomes(viewId));\n        }\n    }\n\n    protected async getTreeViewWelcomeWidget(viewId: string): Promise<TreeViewWelcomeWidget | undefined> {\n        switch (viewId) {\n            case 'explorer':\n                return this.widgetManager.getWidget<TreeViewWelcomeWidget>(FILE_NAVIGATOR_ID);\n            default:\n                return this.widgetManager.getWidget<TreeViewWelcomeWidget>(PLUGIN_VIEW_DATA_FACTORY_ID, { id: viewId });\n        }\n    }\n\n    getViewWelcomes(viewId: string): ViewWelcome[] {\n        return this.viewsWelcome.get(viewId) || [];\n    }\n\n    async getView(viewId: string): Promise<PluginViewWidget | undefined> {\n        if (!this.views.has(viewId)) {\n            return undefined;\n        }\n        return this.widgetManager.getWidget<PluginViewWidget>(PLUGIN_VIEW_FACTORY_ID, this.toPluginViewWidgetIdentifier(viewId));\n    }\n\n    async openView(viewId: string, options?: { activate?: boolean, reveal?: boolean }): Promise<PluginViewWidget | undefined> {\n        const view = await this.doOpenView(viewId);\n        if (view && options) {\n            if (options.activate === true) {\n                await this.shell.activateWidget(view.id);\n            } else if (options.reveal === true) {\n                await this.shell.revealWidget(view.id);\n            }\n        }\n        return view;\n    }\n    protected async doOpenView(viewId: string): Promise<PluginViewWidget | undefined> {\n        const widget = await this.getView(viewId);\n        if (widget) {\n            return widget;\n        }\n        const data = this.views.get(viewId);\n        if (!data) {\n            return undefined;\n        }\n        const [containerId] = data;\n        await this.openViewContainer(containerId);\n        return this.getView(viewId);\n    }\n\n    protected async prepareView(widget: PluginViewWidget): Promise<void> {\n        const data = this.views.get(widget.options.viewId);\n        if (!data) {\n            return;\n        }\n        const [, view] = data;\n        if (!widget.title.label) {\n            widget.title.label = view.name;\n        }\n        const currentDataWidget = widget.widgets[0];\n        const webviewId = currentDataWidget instanceof WebviewWidget ? currentDataWidget.identifier?.id : undefined;\n        const viewDataWidget = await this.createViewDataWidget(view.id, webviewId);\n        if (widget.isDisposed) {\n            viewDataWidget?.dispose();\n            return;\n        }\n        if (currentDataWidget !== viewDataWidget) {\n            if (currentDataWidget) {\n                currentDataWidget.dispose();\n            }\n            if (viewDataWidget) {\n                widget.addWidget(viewDataWidget);\n            }\n        }\n    }\n\n    protected getOrCreateViewContainerWidget(containerId: string): Promise<ViewContainerWidget> {\n        const identifier = this.toViewContainerIdentifier(containerId);\n        return this.widgetManager.getOrCreateWidget<ViewContainerWidget>(PLUGIN_VIEW_CONTAINER_FACTORY_ID, identifier);\n    }\n\n    async openViewContainer(containerId: string): Promise<ViewContainerWidget | undefined> {\n        if (containerId === 'explorer') {\n            const widget = await this.explorer.openView();\n            if (widget.parent instanceof ViewContainerWidget) {\n                return widget.parent;\n            }\n            return undefined;\n        }\n        if (containerId === 'scm') {\n            const widget = await this.scm.openView();\n            if (widget.parent instanceof ViewContainerWidget) {\n                return widget.parent;\n            }\n            return undefined;\n        }\n        if (containerId === 'debug') {\n            const widget = await this.debug.openView();\n            return widget['sessionWidget']['viewContainer'];\n        }\n        const data = this.viewContainers.get(containerId);\n        if (!data) {\n            return undefined;\n        }\n        const { location } = data;\n        const containerWidget = await this.getOrCreateViewContainerWidget(containerId);\n        if (!containerWidget.isAttached) {\n            await this.shell.addWidget(containerWidget, {\n                area: ApplicationShell.isSideArea(location) ? location : 'left',\n                rank: Number.MAX_SAFE_INTEGER\n            });\n        }\n        return containerWidget;\n    }\n\n    protected async prepareViewContainer(viewContainerId: string, containerWidget: ViewContainerWidget): Promise<void> {\n        const data = this.viewContainers.get(viewContainerId);\n        if (data) {\n            const { options } = data;\n            containerWidget.setTitleOptions(options);\n        }\n        for (const viewId of this.getContainerViews(viewContainerId)) {\n            const identifier = this.toPluginViewWidgetIdentifier(viewId);\n            // Keep existing widget in its current container and reregister its part to the plugin view widget events.\n            const existingWidget = this.widgetManager.tryGetWidget<PluginViewWidget>(PLUGIN_VIEW_FACTORY_ID, identifier);\n            if (existingWidget && existingWidget.currentViewContainerId) {\n                const currentContainer = await this.getPluginViewContainer(existingWidget.currentViewContainerId);\n                if (currentContainer && this.registerWidgetPartEvents(existingWidget, currentContainer)) {\n                    continue;\n                }\n            }\n            const widget = await this.widgetManager.getOrCreateWidget<PluginViewWidget>(PLUGIN_VIEW_FACTORY_ID, identifier);\n            if (containerWidget.getTrackableWidgets().indexOf(widget) === -1) {\n                containerWidget.addWidget(widget, {\n                    initiallyCollapsed: !!containerWidget.getParts().length,\n                    initiallyHidden: !this.isViewVisible(viewId)\n                });\n            }\n            this.registerWidgetPartEvents(widget, containerWidget);\n        }\n    }\n\n    protected registerWidgetPartEvents(widget: PluginViewWidget, containerWidget: ViewContainerWidget): ViewContainerPart | undefined {\n        const part = containerWidget.getPartFor(widget);\n        if (part) {\n\n            widget.currentViewContainerId = this.getViewContainerId(containerWidget);\n            part.onDidMove(event => { widget.currentViewContainerId = this.getViewContainerId(event); });\n\n            // if a view is explicitly hidden then suppress updating visibility based on `when` closure\n            part.onDidChangeVisibility(() => widget.suppressUpdateViewVisibility = part.isHidden);\n\n            const tryFireOnDidExpandView = () => {\n                if (widget.widgets.length === 0) {\n                    if (!part.collapsed && part.isVisible) {\n                        const viewId = this.toViewId(widget.options);\n                        this.onDidExpandViewEmitter.fire(viewId);\n                    }\n                } else {\n                    toFire.dispose();\n                }\n            };\n            const toFire = new DisposableCollection(\n                part.onCollapsed(tryFireOnDidExpandView),\n                part.onDidChangeVisibility(tryFireOnDidExpandView)\n            );\n\n            tryFireOnDidExpandView();\n            return part;\n        }\n    };\n\n    protected getViewContainerId(container: ViewContainerWidget): string | undefined {\n        const description = this.widgetManager.getDescription(container);\n        switch (description?.factoryId) {\n            case EXPLORER_VIEW_CONTAINER_ID: return 'explorer';\n            case SCM_VIEW_CONTAINER_ID: return 'scm';\n            case SEARCH_VIEW_CONTAINER_ID: return 'search';\n            case TEST_VIEW_CONTAINER_ID: return 'test';\n            case undefined: return container.parent?.parent instanceof DebugWidget ? 'debug' : container.id;\n            case PLUGIN_VIEW_CONTAINER_FACTORY_ID: return this.toViewContainerId(description.options);\n            default: return container.id;\n        }\n    }\n\n    protected async getPluginViewContainer(viewContainerId: string): Promise<ViewContainerWidget | undefined> {\n        if (viewContainerId === 'explorer') {\n            return this.widgetManager.getWidget<ViewContainerWidget>(EXPLORER_VIEW_CONTAINER_ID);\n        }\n        if (viewContainerId === 'scm') {\n            return this.widgetManager.getWidget<ViewContainerWidget>(SCM_VIEW_CONTAINER_ID);\n        }\n        if (viewContainerId === 'search') {\n            return this.widgetManager.getWidget<ViewContainerWidget>(SEARCH_VIEW_CONTAINER_ID);\n        }\n        if (viewContainerId === 'test') {\n            return this.widgetManager.getWidget<ViewContainerWidget>(TEST_VIEW_CONTAINER_ID);\n        }\n        if (viewContainerId === 'debug') {\n            const debug = await this.widgetManager.getWidget(DebugWidget.ID);\n            if (debug instanceof DebugWidget) {\n                return debug['sessionWidget']['viewContainer'];\n            }\n        }\n        const identifier = this.toViewContainerIdentifier(viewContainerId);\n        return this.widgetManager.getWidget<ViewContainerWidget>(PLUGIN_VIEW_CONTAINER_FACTORY_ID, identifier);\n    }\n\n    protected async initViewContainer(containerId: string): Promise<void> {\n        let viewContainer = await this.getPluginViewContainer(containerId);\n        if (!viewContainer) {\n            viewContainer = await this.openViewContainer(containerId);\n            if (viewContainer && !viewContainer.getParts().filter(part => !part.isHidden).length) {\n                // close view containers without any visible view parts\n                viewContainer.dispose();\n            }\n        } else {\n            await this.prepareViewContainer(this.toViewContainerId(viewContainer.options), viewContainer);\n        }\n    }\n\n    async initWidgets(): Promise<void> {\n        const promises: Promise<void>[] = [];\n        for (const id of this.viewContainers.keys()) {\n            promises.push((async () => {\n                await this.initViewContainer(id);\n            })().catch(console.error));\n        }\n        promises.push((async () => {\n            const explorer = await this.widgetManager.getWidget(EXPLORER_VIEW_CONTAINER_ID);\n            if (explorer instanceof ViewContainerWidget) {\n                await this.prepareViewContainer('explorer', explorer);\n            }\n        })().catch(console.error));\n        promises.push((async () => {\n            const scm = await this.widgetManager.getWidget(SCM_VIEW_CONTAINER_ID);\n            if (scm instanceof ViewContainerWidget) {\n                await this.prepareViewContainer('scm', scm);\n            }\n        })().catch(console.error));\n        promises.push((async () => {\n            const search = await this.widgetManager.getWidget(SEARCH_VIEW_CONTAINER_ID);\n            if (search instanceof ViewContainerWidget) {\n                await this.prepareViewContainer('search', search);\n            }\n        })().catch(console.error));\n        promises.push((async () => {\n            const test = await this.widgetManager.getWidget(TEST_VIEW_CONTAINER_ID);\n            if (test instanceof ViewContainerWidget) {\n                await this.prepareViewContainer('test', test);\n            }\n        })().catch(console.error));\n        promises.push((async () => {\n            const debug = await this.widgetManager.getWidget(DebugWidget.ID);\n            if (debug instanceof DebugWidget) {\n                const viewContainer = debug['sessionWidget']['viewContainer'];\n                await this.prepareViewContainer('debug', viewContainer);\n            }\n        })().catch(console.error));\n        await Promise.all(promises);\n    }\n\n    async removeStaleWidgets(): Promise<void> {\n        const views = this.widgetManager.getWidgets(PLUGIN_VIEW_FACTORY_ID);\n        for (const view of views) {\n            if (view instanceof PluginViewWidget) {\n                const id = this.toViewId(view.options);\n                if (!this.views.has(id)) {\n                    view.dispose();\n                }\n            }\n        }\n        const viewContainers = this.widgetManager.getWidgets(PLUGIN_VIEW_CONTAINER_FACTORY_ID);\n        for (const viewContainer of viewContainers) {\n            if (viewContainer instanceof ViewContainerWidget) {\n                const id = this.toViewContainerId(viewContainer.options);\n                if (!this.viewContainers.has(id)) {\n                    viewContainer.dispose();\n                }\n            }\n        }\n    }\n\n    protected toViewContainerIdentifier(viewContainerId: string): ViewContainerIdentifier {\n        return { id: PLUGIN_VIEW_CONTAINER_FACTORY_ID + ':' + viewContainerId, progressLocationId: viewContainerId };\n    }\n    protected toViewContainerId(identifier: ViewContainerIdentifier): string {\n        return identifier.id.substring(PLUGIN_VIEW_CONTAINER_FACTORY_ID.length + 1);\n    }\n\n    protected toPluginViewWidgetIdentifier(viewId: string): PluginViewWidgetIdentifier {\n        return { id: PLUGIN_VIEW_FACTORY_ID + ':' + viewId, viewId };\n    }\n    protected toViewId(identifier: PluginViewWidgetIdentifier): string {\n        return identifier.viewId;\n    }\n\n    protected toViewWelcomeId(index: number, viewId: string): string {\n        return `view-welcome.${viewId}.${index}`;\n    }\n\n    /**\n     * retrieve restored layout state from previous user session but close widgets\n     * widgets should be opened only when view data providers are registered\n     */\n    onDidInitializeLayout(): void {\n        const widgets = this.widgetManager.getWidgets(PLUGIN_VIEW_DATA_FACTORY_ID);\n        for (const widget of widgets) {\n            if (StatefulWidget.is(widget)) {\n                const state = widget.storeState();\n                if (state) {\n                    this.viewDataState.set(widget.id, state);\n                }\n            }\n            widget.dispose();\n        }\n    }\n\n    registerViewDataProvider(viewId: string, provider: ViewDataProvider): Disposable {\n        if (this.viewDataProviders.has(viewId)) {\n            console.error(`data provider for '${viewId}' view is already registered`);\n            return Disposable.NULL;\n        }\n        this.viewDataProviders.set(viewId, provider);\n        const toDispose = new DisposableCollection(Disposable.create(() => {\n            this.viewDataProviders.delete(viewId);\n            this.viewDataState.delete(viewId);\n        }));\n        this.initView(viewId, toDispose);\n        return toDispose;\n    }\n\n    protected async initView(viewId: string, toDispose: DisposableCollection): Promise<void> {\n        const view = await this.getView(viewId);\n        if (toDispose.disposed) {\n            return;\n        }\n        if (view) {\n            if (view.isVisible) {\n                await this.prepareView(view);\n            } else {\n                const toDisposeOnDidExpandView = new DisposableCollection(this.onDidExpandView(async id => {\n                    if (id === viewId) {\n                        unsubscribe();\n                        await this.prepareView(view);\n                    }\n                }));\n                const unsubscribe = () => toDisposeOnDidExpandView.dispose();\n                view.disposed.connect(unsubscribe);\n                toDisposeOnDidExpandView.push(Disposable.create(() => view.disposed.disconnect(unsubscribe)));\n                toDispose.push(toDisposeOnDidExpandView);\n            }\n        }\n    }\n\n    protected async createViewDataWidget(viewId: string, webviewId?: string): Promise<Widget | undefined> {\n        const view = this.views.get(viewId);\n        if (view?.[1]?.type === PluginViewType.Webview) {\n            return this.createWebviewWidget(viewId, webviewId);\n        }\n        const provider = this.viewDataProviders.get(viewId);\n        if (!view || !provider) {\n            return undefined;\n        }\n        const [, viewInfo] = view;\n        const state = this.viewDataState.get(viewId);\n        const widget = await provider({ state, viewInfo });\n        widget.handleViewWelcomeContentChange(this.getViewWelcomes(viewId));\n        if (StatefulWidget.is(widget)) {\n            this.storeViewDataStateOnDispose(viewId, widget);\n        } else {\n            this.viewDataState.delete(viewId);\n        }\n        return widget;\n    }\n\n    protected async createWebviewWidget(viewId: string, webviewId?: string): Promise<Widget | undefined> {\n        if (!webviewId) {\n            const webviewView = await this.createNewWebviewView(viewId);\n            webviewId = webviewView.webview.identifier.id;\n        }\n        const webviewWidget = this.widgetManager.getWidget(WebviewWidget.FACTORY_ID, <WebviewWidgetIdentifier>{ id: webviewId, viewId });\n        return webviewWidget;\n    }\n\n    protected storeViewDataStateOnDispose(viewId: string, widget: Widget & StatefulWidget): void {\n        const dispose = widget.dispose.bind(widget);\n        widget.dispose = () => {\n            const state = widget.storeState();\n            if (state) {\n                this.viewDataState.set(viewId, state);\n            }\n            dispose();\n        };\n    }\n\n    protected isVisibleWidget(widget: Widget): boolean {\n        return !widget.isDisposed && widget.isVisible;\n    }\n\n    protected updateFocusedView(): void {\n        const widget = this.shell.activeWidget;\n        if (widget instanceof PluginViewWidget) {\n            this.viewContextKeys.focusedView.set(widget.options.viewId);\n        } else {\n            this.viewContextKeys.focusedView.reset();\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { Panel, Widget } from '@theia/core/shared/@lumino/widgets';\nimport { MenuModelRegistry } from '@theia/core/lib/common/menu';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { StatefulWidget } from '@theia/core/lib/browser/shell/shell-layout-restorer';\nimport { Message } from '@theia/core/shared/@lumino/messaging';\nimport { TreeViewWidget } from './tree-view-widget';\nimport { DescriptionWidget, DynamicToolbarWidget } from '@theia/core/lib/browser/view-container';\nimport { DisposableCollection, Emitter, Event } from '@theia/core/lib/common';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\n\n@injectable()\nexport class PluginViewWidgetIdentifier {\n    id: string;\n    viewId: string;\n}\n\n@injectable()\nexport class PluginViewWidget extends Panel implements StatefulWidget, DescriptionWidget, DynamicToolbarWidget {\n\n    currentViewContainerId?: string;\n\n    protected _message?: string;\n    protected _description: string = '';\n    protected _suppressUpdateViewVisibility = false;\n    protected updatingViewVisibility = false;\n    protected onDidChangeDescriptionEmitter = new Emitter<void>();\n    protected toDispose = new DisposableCollection(this.onDidChangeDescriptionEmitter);\n    protected readonly onDidChangeToolbarItemsEmitter = new Emitter<void>();\n\n    get onDidChangeToolbarItems(): Event<void> {\n        return this.onDidChangeToolbarItemsEmitter.event;\n    }\n\n    @inject(MenuModelRegistry)\n    protected readonly menus: MenuModelRegistry;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(PluginViewWidgetIdentifier)\n    readonly options: PluginViewWidgetIdentifier;\n\n    constructor() {\n        super();\n        this.node.tabIndex = -1;\n        this.node.style.height = '100%';\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.id = this.options.id;\n        const localContext = this.contextKeyService.createScoped(this.node);\n        localContext.setContext('view', this.options.viewId);\n    }\n\n    get onDidChangeDescription(): Event<void> {\n        return this.onDidChangeDescriptionEmitter.event;\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        const widget = this.widgets[0];\n        if (widget) {\n            widget.activate();\n            this.updateWidgetMessage();\n        } else {\n            this.node.focus();\n        }\n    }\n\n    storeState(): PluginViewWidget.State {\n        return {\n            label: this.title.label,\n            message: this.message,\n            widgets: this.widgets,\n            suppressUpdateViewVisibility: this._suppressUpdateViewVisibility,\n            currentViewContainerId: this.currentViewContainerId\n        };\n    }\n\n    restoreState(state: PluginViewWidget.State): void {\n        this.title.label = state.label;\n        this.message = state.message;\n        this.suppressUpdateViewVisibility = state.suppressUpdateViewVisibility;\n        this.currentViewContainerId = state.currentViewContainerId;\n        for (const widget of state.widgets) {\n            this.addWidget(widget);\n        }\n    }\n\n    set suppressUpdateViewVisibility(suppressUpdateViewVisibility: boolean) {\n        this._suppressUpdateViewVisibility = !this.updatingViewVisibility && suppressUpdateViewVisibility;\n    }\n\n    updateViewVisibility(cb: () => void): void {\n        if (this._suppressUpdateViewVisibility) {\n            return;\n        }\n        try {\n            this.updatingViewVisibility = true;\n            cb();\n        } finally {\n            this.updatingViewVisibility = false;\n        }\n    }\n\n    get message(): string | undefined {\n        return this._message;\n    }\n\n    set message(message: string | undefined) {\n        this._message = message;\n        this.updateWidgetMessage();\n    }\n\n    get description(): string {\n        return this._description;\n    }\n\n    set description(description: string) {\n        this._description = description;\n        this.onDidChangeDescriptionEmitter.fire();\n    }\n\n    private updateWidgetMessage(): void {\n        const widget = this.widgets[0];\n        if (widget) {\n            if (widget instanceof TreeViewWidget) {\n                widget.message = this._message;\n            }\n        }\n    }\n\n    override addWidget(widget: Widget): void {\n        super.addWidget(widget);\n        this.updateWidgetMessage();\n        this.onDidChangeToolbarItemsEmitter.fire();\n    }\n\n    override insertWidget(index: number, widget: Widget): void {\n        super.insertWidget(index, widget);\n        this.updateWidgetMessage();\n        this.onDidChangeToolbarItemsEmitter.fire();\n    }\n\n    override dispose(): void {\n        this.toDispose.dispose();\n        super.dispose();\n    }\n}\nexport namespace PluginViewWidget {\n    export interface State {\n        label: string,\n        message?: string,\n        widgets: ReadonlyArray<Widget>,\n        suppressUpdateViewVisibility: boolean;\n        currentViewContainerId: string | undefined;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2021 1C-Soft LLC and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable, interfaces, named } from '@theia/core/shared/inversify';\nimport { AbstractTreeDecoratorService, TreeDecorator } from '@theia/core/lib/browser/tree/tree-decorator';\nimport { bindContributionProvider, ContributionProvider, isObject } from '@theia/core';\nimport { TreeNode } from '@theia/core/lib/browser';\nimport { TreeItem } from '@theia/plugin';\nimport URI from '@theia/core/lib/common/uri';\nimport { FileTreeDecoratorAdapter } from '@theia/filesystem/lib/browser';\n\nexport const TreeViewDecorator = Symbol('TreeViewDecorator');\n\n@injectable()\nexport class TreeViewDecoratorAdapter extends FileTreeDecoratorAdapter {\n    protected override getUriForNode(node: TreeNode | TreeItem): string | undefined {\n        if (this.isTreeItem(node)) {\n            return new URI(node.resourceUri).toString();\n        }\n    }\n\n    protected isTreeItem(node: unknown): node is TreeItem {\n        return isObject<TreeItem>(node) && !!node.resourceUri;\n    }\n}\n\n@injectable()\nexport class TreeViewDecoratorService extends AbstractTreeDecoratorService {\n    constructor(@inject(ContributionProvider) @named(TreeViewDecorator) contributions: ContributionProvider<TreeDecorator>) {\n        super(contributions.getContributions());\n    }\n}\n\nexport function bindTreeViewDecoratorUtilities(bind: interfaces.Bind): void {\n    bind(TreeViewDecoratorAdapter).toSelf().inSingletonScope();\n    bindContributionProvider(bind, TreeViewDecorator);\n    bind(TreeViewDecorator).toService(TreeViewDecoratorAdapter);\n}\n","// *****************************************************************************\n// Copyright (C) 2018-2019 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { TreeViewsExt, TreeViewItemCollapsibleState, TreeViewItem, TreeViewItemReference, ThemeIcon, DataTransferFileDTO } from '../../../common/plugin-api-rpc';\nimport { Command } from '../../../common/plugin-api-rpc-model';\nimport {\n    TreeNode,\n    NodeProps,\n    SelectableTreeNode,\n    ExpandableTreeNode,\n    CompositeTreeNode,\n    TreeImpl,\n    TREE_NODE_SEGMENT_CLASS,\n    TREE_NODE_SEGMENT_GROW_CLASS,\n    TREE_NODE_TAIL_CLASS,\n    TreeModelImpl,\n    TreeViewWelcomeWidget,\n    TooltipAttributes,\n    TreeSelection,\n    HoverService,\n    ApplicationShell,\n    KeybindingRegistry\n} from '@theia/core/lib/browser';\nimport { MenuPath, MenuModelRegistry, CommandMenu, AcceleratorSource } from '@theia/core/lib/common/menu';\nimport * as React from '@theia/core/shared/react';\nimport { PluginSharedStyle } from '../plugin-shared-style';\nimport { ACTION_ITEM, Widget } from '@theia/core/lib/browser/widgets/widget';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { View } from '../../../common/plugin-protocol';\nimport { URI } from '@theia/core/lib/common/uri';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering';\nimport { AccessibilityInformation } from '@theia/plugin';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\nimport { DecoratedTreeNode } from '@theia/core/lib/browser/tree/tree-decorator';\nimport { WidgetDecoration } from '@theia/core/lib/browser/widget-decoration';\nimport { CancellationTokenSource, CancellationToken, Mutable } from '@theia/core/lib/common';\nimport { mixin } from '../../../common/types';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { DnDFileContentStore } from './dnd-file-content-store';\n\nexport const TREE_NODE_HYPERLINK = 'theia-TreeNodeHyperlink';\nexport const VIEW_ITEM_CONTEXT_MENU: MenuPath = ['view-item-context-menu'];\nexport const VIEW_ITEM_INLINE_MENU: MenuPath = ['view-item-context-menu', 'inline'];\n\nexport interface SelectionEventHandler {\n    readonly node: SelectableTreeNode;\n    readonly contextSelection: boolean;\n}\n\nexport interface TreeViewNode extends SelectableTreeNode, DecoratedTreeNode {\n    contextValue?: string;\n    command?: Command;\n    resourceUri?: string;\n    themeIcon?: ThemeIcon;\n    tooltip?: string | MarkdownString;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    description?: string | boolean | any;\n    accessibilityInformation?: AccessibilityInformation;\n}\nexport namespace TreeViewNode {\n    export function is(arg: TreeNode | undefined): arg is TreeViewNode {\n        return !!arg && SelectableTreeNode.is(arg) && DecoratedTreeNode.is(arg);\n    }\n}\n\nexport class ResolvableTreeViewNode implements TreeViewNode {\n    contextValue?: string;\n    command?: Command;\n    resourceUri?: string;\n    themeIcon?: ThemeIcon;\n    tooltip?: string | MarkdownString;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    description?: string | boolean | any;\n    accessibilityInformation?: AccessibilityInformation;\n    selected: boolean;\n    focus?: boolean;\n    id: string;\n    name?: string;\n    icon?: string;\n    visible?: boolean;\n    parent: Readonly<CompositeTreeNode>;\n    previousSibling?: TreeNode;\n    nextSibling?: TreeNode;\n    busy?: number;\n    decorationData: WidgetDecoration.Data;\n\n    resolve: ((token: CancellationToken) => Promise<void>);\n\n    private _resolved = false;\n    private resolving: Deferred<void> | undefined;\n\n    constructor(treeViewNode: Partial<TreeViewNode>, resolve: (token: CancellationToken) => Promise<TreeViewItem | undefined>) {\n        mixin(this, treeViewNode);\n        this.resolve = async (token: CancellationToken) => {\n            if (this.resolving) {\n                return this.resolving.promise;\n            }\n            if (!this._resolved) {\n                this.resolving = new Deferred();\n                const resolvedTreeItem = await resolve(token);\n                if (resolvedTreeItem) {\n                    this.command = this.command ?? resolvedTreeItem.command;\n                    this.tooltip = this.tooltip ?? resolvedTreeItem.tooltip;\n                }\n                this.resolving.resolve();\n                this.resolving = undefined;\n            }\n            if (!token.isCancellationRequested) {\n                this._resolved = true;\n            }\n        };\n    }\n\n    reset(): void {\n        this._resolved = false;\n        this.resolving = undefined;\n        this.command = undefined;\n        this.tooltip = undefined;\n    }\n\n    get resolved(): boolean {\n        return this._resolved;\n    }\n}\n\nexport class ResolvableCompositeTreeViewNode extends ResolvableTreeViewNode implements CompositeTreeViewNode {\n    expanded: boolean;\n    children: readonly TreeNode[];\n    constructor(\n        treeViewNode: Pick<CompositeTreeViewNode, 'children' | 'expanded'> & Partial<TreeViewNode>,\n        resolve: (token: CancellationToken) => Promise<TreeViewItem | undefined>) {\n        super(treeViewNode, resolve);\n        this.expanded = treeViewNode.expanded;\n        this.children = treeViewNode.children;\n    }\n}\n\nexport interface CompositeTreeViewNode extends TreeViewNode, ExpandableTreeNode, CompositeTreeNode {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    description?: string | boolean | any;\n}\nexport namespace CompositeTreeViewNode {\n    export function is(arg: TreeNode | undefined): arg is CompositeTreeViewNode {\n        return TreeViewNode.is(arg) && ExpandableTreeNode.is(arg) && CompositeTreeNode.is(arg);\n    }\n}\n\n@injectable()\nexport class TreeViewWidgetOptions {\n    id: string;\n    manageCheckboxStateManually: boolean | undefined;\n    showCollapseAll: boolean | undefined;\n    multiSelect: boolean | undefined;\n    dragMimeTypes: string[] | undefined;\n    dropMimeTypes: string[] | undefined;\n}\n\n@injectable()\nexport class PluginTree extends TreeImpl {\n\n    @inject(PluginSharedStyle)\n    protected readonly sharedStyle: PluginSharedStyle;\n\n    @inject(TreeViewWidgetOptions)\n    protected readonly options: TreeViewWidgetOptions;\n\n    @inject(MessageService)\n    protected readonly notification: MessageService;\n\n    protected readonly onDidChangeWelcomeStateEmitter: Emitter<void> = new Emitter<void>();\n    readonly onDidChangeWelcomeState = this.onDidChangeWelcomeStateEmitter.event;\n\n    private _proxy: TreeViewsExt | undefined;\n    private _viewInfo: View | undefined;\n    private _isEmpty: boolean;\n    private _hasTreeItemResolve: Promise<boolean> = Promise.resolve(false);\n\n    set proxy(proxy: TreeViewsExt | undefined) {\n        this._proxy = proxy;\n        if (proxy) {\n            this._hasTreeItemResolve = proxy.$hasResolveTreeItem(this.options.id);\n        } else {\n            this._hasTreeItemResolve = Promise.resolve(false);\n        }\n    }\n    get proxy(): TreeViewsExt | undefined {\n        return this._proxy;\n    }\n\n    get hasTreeItemResolve(): Promise<boolean> {\n        return this._hasTreeItemResolve;\n    }\n\n    set viewInfo(viewInfo: View) {\n        this._viewInfo = viewInfo;\n    }\n\n    get isEmpty(): boolean {\n        return this._isEmpty;\n    }\n\n    protected override async resolveChildren(parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (!this._proxy) {\n            return super.resolveChildren(parent);\n        }\n        const children = await this.fetchChildren(this._proxy, parent);\n        const hasResolve = await this.hasTreeItemResolve;\n        return children.map(value => hasResolve ? this.createResolvableTreeNode(value, parent) : this.createTreeNode(value, parent));\n    }\n\n    protected async fetchChildren(proxy: TreeViewsExt, parent: CompositeTreeNode): Promise<TreeViewItem[]> {\n        try {\n            const children = await proxy.$getChildren(this.options.id, parent.id);\n            const oldEmpty = this._isEmpty;\n            this._isEmpty = !parent.id && (!children || children.length === 0);\n            if (oldEmpty !== this._isEmpty) {\n                this.onDidChangeWelcomeStateEmitter.fire();\n            }\n            return children || [];\n        } catch (e) {\n            if (e) {\n                console.error(`Failed to fetch children for '${this.options.id}'`, e);\n                const label = this._viewInfo ? this._viewInfo.name : this.options.id;\n                this.notification.error(`${label}: ${e.message}`);\n            }\n            return [];\n        }\n    }\n\n    protected createTreeNode(item: TreeViewItem, parent: CompositeTreeNode): TreeNode {\n        const update: Partial<TreeViewNode> = this.createTreeNodeUpdate(item);\n        const node = this.getNode(item.id);\n        if (item.collapsibleState !== undefined && item.collapsibleState !== TreeViewItemCollapsibleState.None) {\n            if (CompositeTreeViewNode.is(node)) {\n                return Object.assign(node, update);\n            }\n            return Object.assign({\n                id: item.id,\n                parent,\n                visible: true,\n                selected: false,\n                expanded: TreeViewItemCollapsibleState.Expanded === item.collapsibleState,\n                children: [],\n                command: item.command\n            }, update);\n        }\n        if (TreeViewNode.is(node) && !ExpandableTreeNode.is(node)) {\n            return Object.assign(node, update, { command: item.command });\n        }\n        return Object.assign({\n            id: item.id,\n            parent,\n            visible: true,\n            selected: false,\n            command: item.command,\n        }, update);\n    }\n\n    override markAsChecked(node: Mutable<TreeNode>, checked: boolean): void {\n        function findParentsToChange(child: TreeNode, nodes: TreeNode[]): void {\n            if ((child.parent?.checkboxInfo !== undefined && child.parent.checkboxInfo.checked !== checked) &&\n                (!checked || !child.parent.children.some(candidate => candidate !== child && candidate.checkboxInfo?.checked === false))) {\n                nodes.push(child.parent);\n                findParentsToChange(child.parent, nodes);\n            }\n        }\n\n        function findChildrenToChange(parent: TreeNode, nodes: TreeNode[]): void {\n            if (CompositeTreeNode.is(parent)) {\n                parent.children.forEach(child => {\n                    if (child.checkboxInfo !== undefined && child.checkboxInfo.checked !== checked) {\n                        nodes.push(child);\n                    }\n                    findChildrenToChange(child, nodes);\n                });\n            }\n        }\n\n        const nodesToChange = [node];\n        if (!this.options.manageCheckboxStateManually) {\n            findParentsToChange(node, nodesToChange);\n            findChildrenToChange(node, nodesToChange);\n\n        }\n        nodesToChange.forEach(n => n.checkboxInfo!.checked = checked);\n        this.onDidUpdateEmitter.fire(nodesToChange);\n        this.proxy?.$checkStateChanged(this.options.id, [{ id: node.id, checked: checked }]);\n    }\n\n    /** Creates a resolvable tree node. If a node already exists, reset it because the underlying TreeViewItem might have been disposed in the backend. */\n    protected createResolvableTreeNode(item: TreeViewItem, parent: CompositeTreeNode): TreeNode {\n        const update: Partial<TreeViewNode> = this.createTreeNodeUpdate(item);\n        const node = this.getNode(item.id);\n\n        // Node is a composite node that might contain children\n        if (item.collapsibleState !== undefined && item.collapsibleState !== TreeViewItemCollapsibleState.None) {\n            // Reuse existing composite node and reset it\n            if (node instanceof ResolvableCompositeTreeViewNode) {\n                node.reset();\n                return Object.assign(node, update);\n            }\n            // Create new composite node\n            const compositeNode = Object.assign({\n                id: item.id,\n                parent,\n                visible: true,\n                selected: false,\n                expanded: TreeViewItemCollapsibleState.Expanded === item.collapsibleState,\n                children: [],\n                command: item.command\n            }, update);\n            return new ResolvableCompositeTreeViewNode(compositeNode, async (token: CancellationToken) => this._proxy?.$resolveTreeItem(this.options.id, item.id, token));\n        }\n\n        // Node is a leaf\n        // Reuse existing node and reset it.\n        if (node instanceof ResolvableTreeViewNode && !ExpandableTreeNode.is(node)) {\n            node.reset();\n            return Object.assign(node, update);\n        }\n        const treeNode = Object.assign({\n            id: item.id,\n            parent,\n            visible: true,\n            selected: false,\n            command: item.command,\n        }, update);\n        return new ResolvableTreeViewNode(treeNode, async (token: CancellationToken) => this._proxy?.$resolveTreeItem(this.options.id, item.id, token));\n    }\n\n    protected createTreeNodeUpdate(item: TreeViewItem): Partial<TreeViewNode> {\n        const decorationData = this.toDecorationData(item);\n        const icon = this.toIconClass(item);\n        const resourceUri = item.resourceUri && URI.fromComponents(item.resourceUri).toString();\n        const themeIcon = item.themeIcon ? item.themeIcon : item.collapsibleState !== TreeViewItemCollapsibleState.None ? { id: 'folder' } : undefined;\n        return {\n            name: item.label,\n            decorationData,\n            icon,\n            description: item.description,\n            themeIcon,\n            resourceUri,\n            tooltip: item.tooltip,\n            contextValue: item.contextValue,\n            command: item.command,\n            checkboxInfo: item.checkboxInfo,\n            accessibilityInformation: item.accessibilityInformation,\n        };\n    }\n\n    protected toDecorationData(item: TreeViewItem): WidgetDecoration.Data {\n        let decoration: WidgetDecoration.Data = {};\n        if (item.highlights) {\n            const highlight = {\n                ranges: item.highlights.map(h => ({ offset: h[0], length: h[1] - h[0] }))\n            };\n            decoration = { highlight };\n        }\n        return decoration;\n    }\n\n    protected toIconClass(item: TreeViewItem): string | undefined {\n        if (item.icon) {\n            return 'fa ' + item.icon;\n        }\n        if (item.iconUrl) {\n            const reference = this.sharedStyle.toIconClass(item.iconUrl);\n            this.toDispose.push(reference);\n            return reference.object.iconClass;\n        }\n        return undefined;\n    }\n\n}\n\n@injectable()\nexport class PluginTreeModel extends TreeModelImpl {\n\n    @inject(PluginTree)\n    protected override readonly tree: PluginTree;\n\n    set proxy(proxy: TreeViewsExt | undefined) {\n        this.tree.proxy = proxy;\n    }\n    get proxy(): TreeViewsExt | undefined {\n        return this.tree.proxy;\n    }\n\n    get hasTreeItemResolve(): Promise<boolean> {\n        return this.tree.hasTreeItemResolve;\n    }\n\n    set viewInfo(viewInfo: View) {\n        this.tree.viewInfo = viewInfo;\n    }\n\n    get isTreeEmpty(): boolean {\n        return this.tree.isEmpty;\n    }\n\n    get onDidChangeWelcomeState(): Event<void> {\n        return this.tree.onDidChangeWelcomeState;\n    }\n\n    override doOpenNode(node: TreeNode): void {\n        super.doOpenNode(node);\n        if (node instanceof ResolvableTreeViewNode) {\n            node.resolve(CancellationToken.None);\n        }\n    }\n}\n\n@injectable()\nexport class TreeViewWidget extends TreeViewWelcomeWidget {\n    async refresh(items?: string[]): Promise<void> {\n        if (items) {\n            for (const id of items) {\n                const node = this.model.getNode(id);\n                if (CompositeTreeNode.is(node)) {\n                    await this.model.refresh(node);\n                }\n            };\n        } else {\n            this.model.refresh();\n        }\n    }\n\n    protected _contextSelection = false;\n\n    @inject(ApplicationShell)\n    protected readonly applicationShell: ApplicationShell;\n\n    @inject(MenuModelRegistry)\n    protected readonly menus: MenuModelRegistry;\n\n    @inject(KeybindingRegistry)\n    protected readonly keybindings: KeybindingRegistry;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeys: ContextKeyService;\n\n    @inject(TreeViewWidgetOptions)\n    readonly options: TreeViewWidgetOptions;\n\n    @inject(PluginTreeModel)\n    override readonly model: PluginTreeModel;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(HoverService)\n    protected readonly hoverService: HoverService;\n\n    @inject(ColorRegistry)\n    protected readonly colorRegistry: ColorRegistry;\n\n    @inject(DnDFileContentStore)\n    protected readonly dndFileContentStore: DnDFileContentStore;\n\n    protected treeDragType: string;\n    protected readonly expansionTimeouts: Map<string, number> = new Map();\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.id = this.options.id;\n        this.addClass('theia-tree-view');\n        this.node.style.height = '100%';\n        this.model.onDidChangeWelcomeState(this.update, this);\n        this.toDispose.push(this.model.onDidChangeWelcomeState(this.update, this));\n        this.toDispose.push(this.onDidChangeVisibilityEmitter);\n        this.toDispose.push(this.contextKeyService.onDidChange(() => this.update()));\n        this.toDispose.push(this.keybindings.onKeybindingsChanged(() => this.update()));\n        this.treeDragType = `application/vnd.code.tree.${this.id.toLowerCase()}`;\n    }\n\n    get showCollapseAll(): boolean {\n        return this.options.showCollapseAll || false;\n    }\n\n    protected override renderIcon(node: TreeNode, props: NodeProps): React.ReactNode {\n        const icon = this.toNodeIcon(node);\n        if (icon) {\n            let style: React.CSSProperties | undefined;\n            if (TreeViewNode.is(node) && node.themeIcon?.color) {\n                const color = this.colorRegistry.getCurrentColor(node.themeIcon.color.id);\n                if (color) {\n                    style = { color };\n                }\n            }\n            return <div className={icon + ' theia-tree-view-icon'} style={style}></div>;\n        }\n        return undefined;\n    }\n\n    protected override renderCaption(node: TreeViewNode, props: NodeProps): React.ReactNode {\n        const classes = [TREE_NODE_SEGMENT_CLASS];\n        if (!this.hasTrailingSuffixes(node)) {\n            classes.push(TREE_NODE_SEGMENT_GROW_CLASS);\n        }\n        const className = classes.join(' ');\n\n        let attrs: React.HTMLAttributes<HTMLElement> & Partial<TooltipAttributes> = {\n            ...this.decorateCaption(node, {}),\n            className,\n            id: node.id\n        };\n\n        if (node.accessibilityInformation) {\n            attrs = {\n                ...attrs,\n                'aria-label': node.accessibilityInformation.label,\n                'role': node.accessibilityInformation.role\n            };\n        }\n\n        if (!node.tooltip && node instanceof ResolvableTreeViewNode) {\n            let configuredTip = false;\n            let source: CancellationTokenSource | undefined;\n            attrs = {\n                ...attrs,\n                onMouseLeave: () => source?.cancel(),\n                onMouseEnter: async event => {\n                    const target = event.currentTarget; // event.currentTarget will be null after awaiting node resolve()\n                    if (configuredTip) {\n                        if (MarkdownString.is(node.tooltip)) {\n                            this.hoverService.requestHover({\n                                content: node.tooltip,\n                                target: event.target as HTMLElement,\n                                position: 'right'\n                            });\n                        }\n                        return;\n                    }\n                    if (!node.resolved) {\n                        source = new CancellationTokenSource();\n                        const token = source.token;\n                        await node.resolve(token);\n                        if (token.isCancellationRequested) {\n                            return;\n                        }\n                    }\n                    if (MarkdownString.is(node.tooltip)) {\n                        this.hoverService.requestHover({\n                            content: node.tooltip,\n                            target: event.target as HTMLElement,\n                            position: 'right'\n                        });\n                    } else {\n                        const title = node.tooltip ||\n                            (node.resourceUri && this.labelProvider.getLongName(new URI(node.resourceUri)))\n                            || this.toNodeName(node);\n                        target.title = title;\n                    }\n                    configuredTip = true;\n                }\n            };\n        } else if (MarkdownString.is(node.tooltip)) {\n            attrs = {\n                ...attrs,\n                onMouseEnter: event => {\n                    this.hoverService.requestHover({\n                        content: node.tooltip!,\n                        target: event.target as HTMLElement,\n                        position: 'right'\n                    });\n                }\n            };\n        } else {\n            const title = node.tooltip ||\n                (node.resourceUri && this.labelProvider.getLongName(new URI(node.resourceUri)))\n                || this.toNodeName(node);\n\n            attrs = {\n                ...attrs,\n                title\n            };\n        }\n\n        const children: React.ReactNode[] = [];\n        const caption = this.toNodeName(node);\n        const highlight = this.getDecorationData(node, 'highlight')[0];\n        if (highlight) {\n            children.push(this.toReactNode(caption, highlight));\n        }\n        const searchHighlight = this.searchHighlights && this.searchHighlights.get(node.id);\n        if (searchHighlight) {\n            children.push(...this.toReactNode(caption, searchHighlight));\n        } else if (!highlight) {\n            children.push(caption);\n        }\n        const description = this.toNodeDescription(node);\n        if (description) {\n            children.push(<span className='theia-tree-view-description'>{description}</span>);\n        }\n        return <div {...attrs}>{...children}</div>;\n    }\n\n    protected override createNodeAttributes(node: TreeViewNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        const attrs = super.createNodeAttributes(node, props);\n\n        if (this.options.dragMimeTypes) {\n            attrs.onDragStart = event => this.handleDragStartEvent(node, event);\n            attrs.onDragEnd = event => this.handleDragEnd(node, event);\n            attrs.draggable = true;\n        }\n\n        if (this.options.dropMimeTypes) {\n            attrs.onDrop = event => this.handleDropEvent(node, event);\n            attrs.onDragEnter = event => this.handleDragEnter(node, event);\n            attrs.onDragLeave = event => this.handleDragLeave(node, event);\n            attrs.onDragOver = event => this.handleDragOver(event);\n        }\n\n        return attrs;\n    }\n    handleDragLeave(node: TreeViewNode, event: React.DragEvent<HTMLElement>): void {\n        const timeout = this.expansionTimeouts.get(node.id);\n        if (typeof timeout !== 'undefined') {\n            console.debug(`dragleave ${node.id} canceling timeout`);\n            clearTimeout(timeout);\n            this.expansionTimeouts.delete(node.id);\n        }\n    }\n    handleDragEnter(node: TreeViewNode, event: React.DragEvent<HTMLElement>): void {\n        console.debug(`dragenter ${node.id}`);\n        if (ExpandableTreeNode.is(node)) {\n            console.debug(`dragenter ${node.id} starting timeout`);\n            this.expansionTimeouts.set(node.id, window.setTimeout(() => {\n                console.debug(`dragenter ${node.id} timeout reached`);\n                this.model.expandNode(node);\n            }, 500));\n        }\n    }\n\n    protected override createContainerAttributes(): React.HTMLAttributes<HTMLElement> {\n        const attrs = super.createContainerAttributes();\n        if (this.options.dropMimeTypes) {\n            attrs.onDrop = event => this.handleDropEvent(undefined, event);\n            attrs.onDragOver = event => this.handleDragOver(event);\n        }\n        return attrs;\n    }\n\n    protected handleDragStartEvent(node: TreeViewNode, event: React.DragEvent<HTMLElement>): void {\n        event.dataTransfer!.setData(this.treeDragType, '');\n        let selectedNodes: TreeViewNode[] = [];\n        if (this.model.selectedNodes.find(selected => TreeNode.equals(selected, node))) {\n            selectedNodes = this.model.selectedNodes.filter(TreeViewNode.is);\n        } else {\n            selectedNodes = [node];\n        }\n\n        this.options.dragMimeTypes!.forEach(type => {\n            if (type === 'text/uri-list') {\n                ApplicationShell.setDraggedEditorUris(event.dataTransfer, selectedNodes.filter(n => n.resourceUri).map(n => new URI(n.resourceUri)));\n            } else {\n                event.dataTransfer.setData(type, '');\n            }\n        });\n\n        this.model.proxy!.$dragStarted(this.options.id, selectedNodes.map(selected => selected.id), CancellationToken.None).then(maybeUris => {\n            if (maybeUris) {\n                this.applicationShell.addAdditionalDraggedEditorUris(maybeUris.map(uri => URI.fromComponents(uri)));\n            }\n        });\n    }\n\n    handleDragEnd(node: TreeViewNode, event: React.DragEvent<HTMLElement>): void {\n        this.applicationShell.clearAdditionalDraggedEditorUris();\n        this.model.proxy!.$dragEnd(this.id);\n    }\n\n    handleDragOver(event: React.DragEvent<HTMLElement>): void {\n        const hasFiles = (items: DataTransferItemList) => {\n            for (let i = 0; i < items.length; i++) {\n                if (items[i].kind === 'file') {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        if (event.dataTransfer) {\n            const canDrop = event.dataTransfer.types.some(type => this.options.dropMimeTypes!.includes(type)) ||\n                event.dataTransfer.types.includes(this.treeDragType) ||\n                this.options.dropMimeTypes!.includes('files') && hasFiles(event.dataTransfer.items);\n            if (canDrop) {\n                event.preventDefault();\n                event.dataTransfer.dropEffect = 'move';\n            } else {\n                event.dataTransfer.dropEffect = 'none';\n            }\n            event.stopPropagation();\n        }\n    }\n\n    protected handleDropEvent(node: TreeViewNode | undefined, event: React.DragEvent<HTMLElement>): void {\n        if (event.dataTransfer) {\n            const items: [string, string | DataTransferFileDTO][] = [];\n            let files: string[] = [];\n            try {\n                for (let i = 0; i < event.dataTransfer.items.length; i++) {\n                    const transferItem = event.dataTransfer.items[i];\n                    if (transferItem.type !== this.treeDragType) {\n                        // do not pass the artificial drag data to the extension\n                        const f = event.dataTransfer.items[i].getAsFile();\n                        if (f) {\n                            const fileId = this.dndFileContentStore.addFile(f);\n                            files.push(fileId);\n                            const path = window.electronTheiaCore.getPathForFile(f);\n                            const uri = path ? {\n                                scheme: 'file',\n                                path: path,\n                                authority: '',\n                                query: '',\n                                fragment: ''\n                            } : undefined;\n                            items.push([transferItem.type, new DataTransferFileDTO(f.name, fileId, uri)]);\n                        } else {\n                            const textData = event.dataTransfer.getData(transferItem.type);\n                            if (textData) {\n                                items.push([transferItem.type, textData]);\n                            }\n                        }\n                    }\n                }\n                if (items.length > 0 || event.dataTransfer.types.includes(this.treeDragType)) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.model.proxy?.$drop(this.id, node?.id, items, CancellationToken.None).finally(() => {\n                        for (const file of files) {\n                            this.dndFileContentStore.removeFile(file);\n                        }\n                    });\n                    files = [];\n                }\n            } catch (e) {\n                for (const file of files) {\n                    this.dndFileContentStore.removeFile(file);\n                }\n                throw e;\n            }\n        }\n    }\n\n    protected override renderTailDecorations(treeViewNode: TreeViewNode, props: NodeProps): React.ReactNode {\n        return this.contextKeys.with({ view: this.id, viewItem: treeViewNode.contextValue }, () => {\n            const menu = this.menus.getMenu(VIEW_ITEM_INLINE_MENU);\n            const args = this.toContextMenuArgs(treeViewNode);\n            const inlineCommands = menu?.children.filter((item): item is CommandMenu => CommandMenu.is(item)) || [];\n            const tailDecorations = super.renderTailDecorations(treeViewNode, props);\n            return <React.Fragment>\n                {inlineCommands.length > 0 && <div className={TREE_NODE_SEGMENT_CLASS + ' flex'}>\n                    {inlineCommands.map((item, index) => this.renderInlineCommand(item, index, this.focusService.hasFocus(treeViewNode), args))}\n                </div>}\n                {tailDecorations !== undefined && <div className={TREE_NODE_SEGMENT_CLASS + ' flex'}>{tailDecorations}</div>}\n            </React.Fragment>;\n        });\n    }\n\n    toTreeViewItemReference(treeNode: TreeNode): TreeViewItemReference {\n        return { viewId: this.id, itemId: treeNode.id };\n    }\n\n    protected resolveKeybindingForCommand(command: string | undefined): string {\n        let result = '';\n        if (command) {\n            const bindings = this.keybindings.getKeybindingsForCommand(command);\n            let found = false;\n            if (bindings && bindings.length > 0) {\n                bindings.forEach(binding => {\n                    if (!found && this.keybindings.isEnabledInScope(binding, this.node)) {\n                        found = true;\n                        result = ` (${this.keybindings.acceleratorFor(binding, '+')})`;\n                    }\n                });\n            }\n        }\n        return result;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected renderInlineCommand(actionMenuNode: CommandMenu, index: number, tabbable: boolean, args: any[]): React.ReactNode {\n        const nodePath = [...VIEW_ITEM_INLINE_MENU, actionMenuNode.id];\n        if (!actionMenuNode.icon || !actionMenuNode.isVisible(nodePath, this.contextKeys, undefined)) {\n            return false;\n        }\n        const className = [TREE_NODE_SEGMENT_CLASS, TREE_NODE_TAIL_CLASS, actionMenuNode.icon, ACTION_ITEM, 'theia-tree-view-inline-action'].join(' ');\n        const tabIndex = tabbable ? 0 : undefined;\n        const titleString = actionMenuNode.label + (AcceleratorSource.is(actionMenuNode) ? actionMenuNode.getAccelerator(undefined).join('+') : '');\n\n        return <div key={index} className={className} title={titleString} tabIndex={tabIndex} onClick={e => {\n            e.stopPropagation();\n            actionMenuNode.run(nodePath, ...args);\n        }} />;\n    }\n\n    protected override toContextMenuArgs(target: SelectableTreeNode): [TreeViewItemReference, TreeViewItemReference[]] | [TreeViewItemReference] {\n        if (this.options.multiSelect) {\n            return [this.toTreeViewItemReference(target), this.model.selectedNodes.map(node => this.toTreeViewItemReference(node))];\n        } else {\n            return [this.toTreeViewItemReference(target)];\n        }\n    }\n\n    override setFlag(flag: Widget.Flag): void {\n        super.setFlag(flag);\n        if (flag === Widget.Flag.IsVisible) {\n            this.onDidChangeVisibilityEmitter.fire(this.isVisible);\n        }\n    }\n\n    override clearFlag(flag: Widget.Flag): void {\n        super.clearFlag(flag);\n        if (flag === Widget.Flag.IsVisible) {\n            this.onDidChangeVisibilityEmitter.fire(this.isVisible);\n        }\n    }\n\n    override handleEnter(event: KeyboardEvent): void {\n        super.handleEnter(event);\n        this.tryExecuteCommand();\n    }\n\n    protected override tapNode(node?: TreeNode): void {\n        super.tapNode(node);\n        this.findCommands(node).then(commandMap => {\n            if (commandMap.size > 0) {\n                this.tryExecuteCommandMap(commandMap);\n            } else if (node && this.isExpandable(node)) {\n                this.model.toggleNodeExpansion(node);\n            }\n        });\n    }\n\n    // execute TreeItem.command if present\n    protected async tryExecuteCommand(node?: TreeNode): Promise<void> {\n        this.tryExecuteCommandMap(await this.findCommands(node));\n    }\n\n    protected tryExecuteCommandMap(commandMap: Map<string, unknown[]>): void {\n        commandMap.forEach((args, commandId) => {\n            this.commands.executeCommand(commandId, ...args);\n        });\n    }\n\n    protected async findCommands(node?: TreeNode): Promise<Map<string, unknown[]>> {\n        const commandMap = new Map<string, unknown[]>();\n        const treeNodes = (node ? [node] : this.model.selectedNodes) as TreeViewNode[];\n        if (await this.model.hasTreeItemResolve) {\n            const cancellationToken = new CancellationTokenSource().token;\n            // Resolve all resolvable nodes that don't have a command and haven't been resolved.\n            const allResolved = Promise.all(treeNodes.map(maybeNeedsResolve => {\n                if (!maybeNeedsResolve.command && maybeNeedsResolve instanceof ResolvableTreeViewNode && !maybeNeedsResolve.resolved) {\n                    return maybeNeedsResolve.resolve(cancellationToken).catch(err => {\n                        console.error(`Failed to resolve tree item '${maybeNeedsResolve.id}'`, err);\n                    });\n                }\n                return Promise.resolve(maybeNeedsResolve);\n            }));\n            // Only need to wait but don't need the values because tree items are resolved in place.\n            await allResolved;\n        }\n        for (const treeNode of treeNodes) {\n            if (treeNode && treeNode.command) {\n                commandMap.set(treeNode.command.id, treeNode.command.arguments || []);\n            }\n        }\n        return commandMap;\n    }\n\n    private _message: string | undefined;\n    get message(): string | undefined {\n        return this._message;\n    }\n\n    set message(message: string | undefined) {\n        this._message = message;\n        this.update();\n    }\n\n    protected override render(): React.ReactNode {\n        return React.createElement('div', this.createContainerAttributes(), this.renderSearchInfo(), this.renderTree(this.model));\n    }\n\n    protected renderSearchInfo(): React.ReactNode {\n        if (this._message) {\n            return <div className='theia-TreeViewInfo'>{this._message}</div>;\n        }\n        return undefined;\n    }\n\n    override shouldShowWelcomeView(): boolean {\n        return (this.model.proxy === undefined || this.model.isTreeEmpty) && this.message === undefined;\n    }\n\n    protected override handleContextMenuEvent(node: TreeNode | undefined, event: React.MouseEvent<HTMLElement, MouseEvent>): void {\n        if (SelectableTreeNode.is(node)) {\n            // Keep the selection for the context menu, if the widget support multi-selection and the right click happens on an already selected node.\n            if (!this.props.multiSelect || !node.selected) {\n                const type = !!this.props.multiSelect && this.hasCtrlCmdMask(event) ? TreeSelection.SelectionType.TOGGLE : TreeSelection.SelectionType.DEFAULT;\n                this.model.addSelection({ node, type });\n            }\n            this.focusService.setFocus(node);\n            const contextMenuPath = this.props.contextMenuPath;\n            if (contextMenuPath) {\n                const { x, y } = event.nativeEvent;\n                const args = this.toContextMenuArgs(node);\n                const contextKeyService = this.contextKeyService.createOverlay([\n                    ['viewItem', (TreeViewNode.is(node) && node.contextValue) || undefined],\n                    ['view', this.options.id]\n                ]);\n                setTimeout(() => this.contextMenuRenderer.render({\n                    menuPath: contextMenuPath,\n                    anchor: { x, y },\n                    args,\n                    contextKeyService,\n                    context: event.currentTarget\n                }), 10);\n            }\n        }\n        event.stopPropagation();\n        event.preventDefault();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { MAIN_RPC_CONTEXT, TreeViewsMain, TreeViewsExt, TreeViewRevealOptions, RegisterTreeDataProviderOptions } from '../../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { PluginViewRegistry, PLUGIN_VIEW_DATA_FACTORY_ID } from './plugin-view-registry';\nimport {\n    SelectableTreeNode,\n    ExpandableTreeNode,\n    CompositeTreeNode,\n    WidgetManager,\n    BadgeService\n} from '@theia/core/lib/browser';\nimport { Disposable, DisposableCollection } from '@theia/core';\nimport { TreeViewWidget, TreeViewNode, PluginTreeModel, TreeViewWidgetOptions } from './tree-view-widget';\nimport { PluginViewWidget } from './plugin-view-widget';\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\nimport { DnDFileContentStore } from './dnd-file-content-store';\nimport { ViewBadge } from '@theia/plugin';\n\nexport class TreeViewsMainImpl implements TreeViewsMain, Disposable {\n\n    private readonly proxy: TreeViewsExt;\n    private readonly viewRegistry: PluginViewRegistry;\n    private readonly widgetManager: WidgetManager;\n    private readonly fileContentStore: DnDFileContentStore;\n    private readonly badgeService: BadgeService;\n\n    private readonly treeViewProviders = new Map<string, Disposable>();\n\n    private readonly toDispose = new DisposableCollection(\n        Disposable.create(() => { /* mark as not disposed */ })\n    );\n\n    constructor(rpc: RPCProtocol, private container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.TREE_VIEWS_EXT);\n        this.viewRegistry = container.get(PluginViewRegistry);\n\n        this.widgetManager = this.container.get(WidgetManager);\n        this.fileContentStore = this.container.get(DnDFileContentStore);\n        this.badgeService = this.container.get(BadgeService);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    async $registerTreeDataProvider(treeViewId: string, $options: RegisterTreeDataProviderOptions): Promise<void> {\n        this.treeViewProviders.set(treeViewId, this.viewRegistry.registerViewDataProvider(treeViewId, async ({ state, viewInfo }) => {\n            const options: TreeViewWidgetOptions = {\n                id: treeViewId,\n                manageCheckboxStateManually: $options.manageCheckboxStateManually,\n                showCollapseAll: $options.showCollapseAll,\n                multiSelect: $options.canSelectMany,\n                dragMimeTypes: $options.dragMimeTypes,\n                dropMimeTypes: $options.dropMimeTypes\n            };\n            const widget = await this.widgetManager.getOrCreateWidget<TreeViewWidget>(PLUGIN_VIEW_DATA_FACTORY_ID, options);\n            widget.model.viewInfo = viewInfo;\n            if (state) {\n                widget.restoreState(state);\n                // ensure that state is completely restored\n                await widget.model.refresh();\n            } else if (!widget.model.root) {\n                const root: CompositeTreeNode & ExpandableTreeNode = {\n                    id: '',\n                    parent: undefined,\n                    name: '',\n                    visible: false,\n                    expanded: true,\n                    children: []\n                };\n                widget.model.root = root;\n            }\n            if (this.toDispose.disposed) {\n                widget.model.proxy = undefined;\n            } else {\n                widget.model.proxy = this.proxy;\n                this.toDispose.push(Disposable.create(() => widget.model.proxy = undefined));\n                this.handleTreeEvents(widget.id, widget);\n            }\n            widget.model.refresh();\n            return widget;\n        }));\n        this.toDispose.push(Disposable.create(() => this.$unregisterTreeDataProvider(treeViewId)));\n    }\n\n    async $unregisterTreeDataProvider(treeViewId: string): Promise<void> {\n        const treeDataProvider = this.treeViewProviders.get(treeViewId);\n        if (treeDataProvider) {\n            this.treeViewProviders.delete(treeViewId);\n            treeDataProvider.dispose();\n        }\n    }\n\n    async $readDroppedFile(contentId: string): Promise<BinaryBuffer> {\n        const file = this.fileContentStore.getFile(contentId);\n        const buffer = await file.arrayBuffer();\n        return BinaryBuffer.wrap(new Uint8Array(buffer));\n    }\n\n    async $refresh(treeViewId: string, items?: string[]): Promise<void> {\n        const viewPanel = await this.viewRegistry.getView(treeViewId);\n        const widget = viewPanel && viewPanel.widgets[0];\n        if (widget instanceof TreeViewWidget) {\n            await widget.refresh(items);\n        }\n    }\n\n    // elementParentChain parameter contain a list of tree ids from root to the revealed node\n    // all parents of the revealed node should be fetched and expanded in order for it to reveal\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async $reveal(treeViewId: string, elementParentChain: string[], options: TreeViewRevealOptions): Promise<any> {\n        const viewPanel = await this.viewRegistry.openView(treeViewId, { activate: options.focus, reveal: true });\n        const widget = viewPanel && viewPanel.widgets[0];\n        if (widget instanceof TreeViewWidget) {\n            // pop last element which is the node to reveal\n            const elementId = elementParentChain.pop();\n            await this.expandParentChain(widget.model, elementParentChain);\n            const treeNode = widget.model.getNode(elementId);\n            if (treeNode) {\n                if (options.expand && ExpandableTreeNode.is(treeNode)) {\n                    await widget.model.expandNode(treeNode);\n                }\n                if (options.select && SelectableTreeNode.is(treeNode)) {\n                    widget.model.selectNode(treeNode);\n                }\n            }\n        }\n    }\n\n    /**\n     * Expand all parents of the node to reveal from root. This should also fetch missing nodes to the frontend.\n     */\n    private async expandParentChain(model: PluginTreeModel, elementParentChain: string[]): Promise<void> {\n        for (const elementId of elementParentChain) {\n            const treeNode = model.getNode(elementId);\n            if (ExpandableTreeNode.is(treeNode)) {\n                await model.expandNode(treeNode);\n            }\n        }\n    }\n\n    async $setMessage(treeViewId: string, message: string): Promise<void> {\n        const viewPanel = await this.viewRegistry.getView(treeViewId);\n        if (viewPanel instanceof PluginViewWidget) {\n            viewPanel.message = message;\n        }\n    }\n\n    async $setTitle(treeViewId: string, title: string): Promise<void> {\n        const viewPanel = await this.viewRegistry.getView(treeViewId);\n        if (viewPanel) {\n            viewPanel.title.label = title;\n        }\n    }\n\n    async $setDescription(treeViewId: string, description: string): Promise<void> {\n        const viewPanel = await this.viewRegistry.getView(treeViewId);\n        if (viewPanel) {\n            viewPanel.description = description;\n        }\n    }\n\n    async $setBadge(treeViewId: string, badge: ViewBadge | undefined): Promise<void> {\n        const viewPanel = await this.viewRegistry.getView(treeViewId);\n        if (viewPanel) {\n            this.badgeService.showBadge(viewPanel, badge);\n        }\n    }\n\n    async setChecked(treeViewWidget: TreeViewWidget, changedNodes: TreeViewNode[]): Promise<void> {\n        await this.proxy.$checkStateChanged(treeViewWidget.id, changedNodes.map(node => ({\n            id: node.id,\n            checked: !!node.checkboxInfo?.checked\n        })));\n    }\n\n    protected handleTreeEvents(treeViewId: string, treeViewWidget: TreeViewWidget): void {\n        this.toDispose.push(treeViewWidget.model.onExpansionChanged(event => {\n            this.proxy.$setExpanded(treeViewId, event.id, event.expanded);\n        }));\n\n        this.toDispose.push(treeViewWidget.model.onSelectionChanged(event => {\n            this.proxy.$setSelection(treeViewId, event.map((node: TreeViewNode) => node.id));\n        }));\n\n        const updateVisible = () => this.proxy.$setVisible(treeViewId, treeViewWidget.isVisible);\n        updateVisible();\n        this.toDispose.push(treeViewWidget.onDidChangeVisibility(() => updateVisible()));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, postConstruct, inject } from '@theia/core/shared/inversify';\nimport { ContextKey, ContextKeyService } from '@theia/core/lib/browser/context-key-service';\n\n@injectable()\nexport class ViewContextKeyService {\n    protected _viewItem: ContextKey<string>;\n    get viewItem(): ContextKey<string> {\n        return this._viewItem;\n    }\n\n    // for the next three keys, see https://code.visualstudio.com/api/references/when-clause-contexts#visible-view-container-when-clause-context\n\n    protected _activeViewlet: ContextKey<string>;\n    get activeViewlet(): ContextKey<string> {\n        return this._activeViewlet;\n    }\n\n    protected _activePanel: ContextKey<string>;\n    get activePanel(): ContextKey<string> {\n        return this._activePanel;\n    }\n\n    protected _activeAuxiliary: ContextKey<string>;\n    get activeAuxiliary(): ContextKey<string> {\n        return this._activeAuxiliary;\n    }\n\n    protected _focusedView: ContextKey<string>;\n    get focusedView(): ContextKey<string> {\n        return this._focusedView;\n    }\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @postConstruct()\n    protected init(): void {\n        this._viewItem = this.contextKeyService.createKey('viewItem', '');\n        this._activeViewlet = this.contextKeyService.createKey('activeViewlet', '');\n        this._activePanel = this.contextKeyService.createKey('activePanel', '');\n        this._activeAuxiliary = this.contextKeyService.createKey('activeAuxiliary', '');\n        this._focusedView = this.contextKeyService.createKey('focusedView', '');\n    }\n\n    match(expression: string | undefined): boolean {\n        return !expression || this.contextKeyService.match(expression);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/e1f0f8f51390dea5df9096718fb6b647ed5a9534/src/vs/workbench/api/browser/mainThreadWebviewViews.ts\n\nimport { inject, interfaces } from '@theia/core/shared/inversify';\nimport { WebviewViewsMain, MAIN_RPC_CONTEXT, WebviewViewsExt } from '../../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../../common/rpc-protocol';\nimport { Disposable, DisposableCollection, ILogger } from '@theia/core';\nimport { WebviewView } from './webview-views';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { WebviewsMainImpl } from '../webviews-main';\nimport { BadgeService, Widget, WidgetManager } from '@theia/core/lib/browser';\nimport { PluginViewRegistry } from '../view/plugin-view-registry';\nimport { ViewBadge } from '@theia/plugin';\nimport { PluginViewWidget } from '../view/plugin-view-widget';\n\nexport class WebviewViewsMainImpl implements WebviewViewsMain, Disposable {\n\n    protected readonly proxy: WebviewViewsExt;\n    protected readonly toDispose = new DisposableCollection(\n        Disposable.create(() => { /* mark as not disposed */ })\n    );\n\n    protected readonly webviewViews = new Map<string, WebviewView>();\n    protected readonly webviewViewProviders = new Map<string, Disposable>();\n    protected readonly widgetManager: WidgetManager;\n    protected readonly pluginViewRegistry: PluginViewRegistry;\n    protected readonly badgeService: BadgeService;\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    constructor(rpc: RPCProtocol,\n        container: interfaces.Container,\n        readonly webviewsMain: WebviewsMainImpl\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.WEBVIEW_VIEWS_EXT);\n        this.widgetManager = container.get(WidgetManager);\n        this.pluginViewRegistry = container.get(PluginViewRegistry);\n        this.badgeService = container.get(BadgeService);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    async $registerWebviewViewProvider(viewType: string, options: { retainContextWhenHidden?: boolean, serializeBuffersForPostMessage: boolean }): Promise<void> {\n\n        if (this.webviewViewProviders.has(viewType)) {\n            throw new Error(`View provider for ${viewType} already registered`);\n        }\n\n        const registration = await this.pluginViewRegistry.registerWebviewView(viewType, {\n            resolve: async (webviewView: WebviewView, cancellation: CancellationToken) => {\n                const handle = webviewView.webview.identifier.id;\n                this.webviewViews.set(handle, webviewView);\n                this.webviewsMain.hookWebview(webviewView.webview);\n\n                let state: string | undefined;\n                if (webviewView.webview.state) {\n                    try {\n                        state = JSON.parse(webviewView.webview.state);\n                        console.log(state);\n                    } catch (e) {\n                        console.error('Could not load webview state', e, webviewView.webview.state);\n                    }\n                }\n                if (options) {\n                    webviewView.webview.options = options;\n                }\n\n                webviewView.onDidChangeVisibility(async visible => {\n                    if (visible) {\n                        await webviewView.resolve();\n                    }\n                    this.proxy.$onDidChangeWebviewViewVisibility(handle, visible);\n                });\n\n                webviewView.onDidDispose(() => {\n                    this.proxy.$disposeWebviewView(handle);\n                    this.webviewViews.delete(handle);\n                });\n\n                try {\n                    await this.proxy.$resolveWebviewView(handle, viewType, webviewView.title, state, cancellation);\n                } catch (error) {\n                    this.logger.error(`Error resolving webview view '${viewType}': ${error}`);\n                    webviewView.webview.setHTML('failed to load plugin webview view');\n                }\n            }\n        });\n\n        this.webviewViewProviders.set(viewType, registration);\n    }\n\n    protected getWebview(handle: string): Widget | undefined {\n        return this.widgetManager.tryGetWidget(handle);\n    }\n\n    $unregisterWebviewViewProvider(viewType: string): void {\n        const provider = this.webviewViewProviders.get(viewType);\n        if (!provider) {\n            throw new Error(`No view provider for ${viewType} registered`);\n        }\n        provider.dispose();\n        this.webviewViewProviders.delete(viewType);\n    }\n\n    $setWebviewViewTitle(handle: string, value: string | undefined): void {\n        const webviewView = this.getWebviewView(handle);\n        webviewView.title = value;\n    }\n\n    $setWebviewViewDescription(handle: string, value: string | undefined): void {\n        const webviewView = this.getWebviewView(handle);\n        webviewView.description = value;\n    }\n\n    async $setBadge(handle: string, badge: ViewBadge | undefined): Promise<void> {\n        const webviewView = this.getWebviewView(handle);\n        if (webviewView) {\n            if (!(webviewView.webview.parent instanceof PluginViewWidget)) {\n                throw new Error('Unexpected parent of WebviewViewWidget');\n            }\n            this.badgeService.showBadge(webviewView.webview.parent, badge);\n        }\n    }\n\n    $show(handle: string, preserveFocus: boolean): void {\n        const webviewView = this.getWebviewView(handle);\n        webviewView.show(preserveFocus);\n    }\n\n    protected getWebviewView(handle: string): WebviewView {\n        const webviewView = this.webviewViews.get(handle);\n        if (!webviewView) {\n            throw new Error(`No webview view registered for handle '${handle}'`);\n        }\n        return webviewView;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2023 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ApplicationShell, FocusTracker, Widget } from '@theia/core/lib/browser';\nimport { ContextKey, ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { CustomEditorWidget } from '../custom-editors/custom-editor-widget';\nimport { WebviewWidget } from './webview';\n\n@injectable()\nexport class WebviewContextKeys {\n\n    /**\n     * Context key representing the `viewType` of the active `WebviewWidget`, if any.\n     */\n    activeWebviewPanelId: ContextKey<string>;\n\n    /**\n     * Context key representing the `viewType` of the active `CustomEditorWidget`, if any.\n     */\n    activeCustomEditorId: ContextKey<string>;\n\n    @inject(ApplicationShell)\n    protected applicationShell: ApplicationShell;\n\n    @inject(ContextKeyService)\n    protected contextKeyService: ContextKeyService;\n\n    @postConstruct()\n    protected init(): void {\n        this.activeWebviewPanelId = this.contextKeyService.createKey('activeWebviewPanelId', '');\n        this.activeCustomEditorId = this.contextKeyService.createKey('activeCustomEditorId', '');\n        this.applicationShell.onDidChangeCurrentWidget(this.handleDidChangeCurrentWidget, this);\n    }\n\n    protected handleDidChangeCurrentWidget(change: FocusTracker.IChangedArgs<Widget>): void {\n        const { newValue } = change;\n        if (newValue instanceof CustomEditorWidget) {\n            this.activeCustomEditorId.set(newValue.viewType);\n        } else {\n            this.activeCustomEditorId.set('');\n        }\n        if (newValue instanceof WebviewWidget) {\n            this.activeWebviewPanelId.set(newValue.viewType);\n        } else {\n            this.activeWebviewPanelId.set('');\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport URI from '@theia/core/lib/common/uri';\nimport { WebviewExternalEndpoint } from '../../common/webview-protocol';\nimport { environment } from '@theia/core/shared/@theia/application-package/lib/environment';\n\n@injectable()\nexport class WebviewEnvironment {\n\n    protected _hostPatternPromise: Promise<string>;\n\n    protected readonly externalEndpointHost = new Deferred<string>();\n\n    @inject(EnvVariablesServer)\n    protected readonly environments: EnvVariablesServer;\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        this._hostPatternPromise = this.getHostPattern();\n        try {\n            const endpointPattern = await this.hostPatternPromise;\n            const { host } = new Endpoint();\n            this.externalEndpointHost.resolve(endpointPattern.replace('{{hostname}}', host));\n        } catch (e) {\n            this.externalEndpointHost.reject(e);\n        }\n    }\n\n    get hostPatternPromise(): Promise<string> {\n        return this._hostPatternPromise;\n    }\n\n    async externalEndpointUrl(): Promise<URI> {\n        const host = await this.externalEndpointHost.promise;\n        return new Endpoint({\n            host,\n            path: '/webview'\n        }).getRestUrl();\n    }\n\n    async externalEndpoint(): Promise<string> {\n        return (await this.externalEndpointUrl()).toString(true);\n    }\n\n    async resourceRoot(host: string): Promise<string> {\n        if (host === 'frontend') {\n            return (await this.externalEndpointUrl()).withPath('{{path}}').toString(true);\n        }\n\n        // Make sure we preserve the scheme of the resource but convert it into a normal path segment\n        // The scheme is important as we need to know if we are requesting a local or a remote resource.\n        return (await this.externalEndpointUrl()).resolve('theia-resource/{{scheme}}//{{authority}}/{{path}}').toString(true);\n    }\n\n    async cspSource(): Promise<string> {\n        return (await this.externalEndpointUrl()).withPath('').withQuery('').withFragment('').toString(true).replace('{{uuid}}', '*');\n    }\n\n    protected async getHostPattern(): Promise<string> {\n        return environment.electron.is()\n            ? WebviewExternalEndpoint.defaultPattern\n            : this.environments.getValue(WebviewExternalEndpoint.pattern)\n                .then(variable => variable?.value || WebviewExternalEndpoint.defaultPattern);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2025 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\nimport { nls, PreferenceContribution, PreferenceSchema, PreferenceSchemaService, PreferenceScope } from '@theia/core';\nimport { FrontendApplicationConfigProvider } from '@theia/core/lib/browser/frontend-application-config-provider';\n\nconst schema: PreferenceSchema = {\n    properties: {\n        'webview.warnIfUnsecure': {\n            scope: PreferenceScope.Default,\n            type: 'boolean',\n            description: nls.localize('theia/plugin-ext/webviewWarnIfUnsecure', 'Warns users that webviews are currently deployed insecurely.'),\n            default: true,\n\n        }\n    }\n};\n\nexport class WebviewFrontendPreferenceContribution implements PreferenceContribution {\n    async initSchema(service: PreferenceSchemaService): Promise<void> {\n        const frontendConfig = FrontendApplicationConfigProvider.get();\n        if (frontendConfig.securityWarnings) {\n            service.addSchema(schema);\n        }\n    }\n};\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MessageService } from '@theia/core';\nimport { Dialog, FrontendApplicationContribution } from '@theia/core/lib/browser';\nimport { FrontendApplicationConfigProvider } from '@theia/core/lib/browser/frontend-application-config-provider';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { WindowService } from '@theia/core/lib/browser/window/window-service';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { WebviewExternalEndpoint } from '../../common/webview-protocol';\nimport { WebviewEnvironment } from './webview-environment';\n\n@injectable()\nexport class WebviewFrontendSecurityWarnings implements FrontendApplicationContribution {\n\n    @inject(WindowService)\n    protected windowService: WindowService;\n\n    @inject(MessageService)\n    protected messageService: MessageService;\n\n    @inject(WebviewEnvironment)\n    protected webviewEnvironment: WebviewEnvironment;\n\n    initialize(): void {\n        this.checkHostPattern();\n    }\n\n    protected async checkHostPattern(): Promise<void> {\n        if (FrontendApplicationConfigProvider.get()['warnOnPotentiallyInsecureHostPattern'] === false) {\n            return;\n        }\n        const hostPattern = await this.webviewEnvironment.hostPatternPromise;\n        if (hostPattern !== WebviewExternalEndpoint.defaultPattern) {\n            const goToReadme = nls.localize('theia/webview/goToReadme', 'Go To README');\n            const message = nls.localize('theia/webview/messageWarning', '\\\n            The {0} endpoint\\'s host pattern has been changed to `{1}`; changing the pattern can lead to security vulnerabilities. \\\n            See `{2}` for more information.', 'webview', hostPattern, '@theia/plugin-ext/README.md');\n            this.messageService.warn(message, Dialog.OK, goToReadme).then(action => {\n                if (action === goToReadme) {\n                    this.windowService.openNewWindow('https://www.npmjs.com/package/@theia/plugin-ext', { external: true });\n                }\n            });\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { MaybePromise } from '@theia/core/lib/common/types';\n\nexport interface WebviewResourceResponse {\n    eTag: string | undefined,\n    body(): MaybePromise<Uint8Array>\n}\n\n/**\n * Browser based cache of webview resources across all instances.\n */\n@injectable()\nexport class WebviewResourceCache {\n\n    protected readonly cache = new Deferred<Cache | undefined>();\n\n    constructor() {\n        this.resolveCache();\n    }\n\n    protected async resolveCache(): Promise<void> {\n        try {\n            this.cache.resolve(await caches.open('webview:v1'));\n        } catch (e) {\n            console.error('Failed to enable webview caching: ', e);\n            this.cache.resolve(undefined);\n        }\n    }\n\n    async match(url: string): Promise<WebviewResourceResponse | undefined> {\n        const cache = await this.cache.promise;\n        if (!cache) {\n            return undefined;\n        }\n        const response = await cache.match(url);\n        if (!response) {\n            return undefined;\n        }\n        return {\n            eTag: response.headers.get('ETag') || undefined,\n            body: async () => {\n                const buffer = await response.arrayBuffer();\n                return new Uint8Array(buffer);\n            }\n        };\n    }\n\n    async delete(url: string): Promise<boolean> {\n        const cache = await this.cache.promise;\n        if (!cache) {\n            return false;\n        }\n        return cache.delete(url);\n    }\n\n    async put(url: string, response: WebviewResourceResponse): Promise<void> {\n        if (!response.eTag) {\n            return;\n        }\n        const cache = await this.cache.promise;\n        if (!cache) {\n            return;\n        }\n        const body = await response.body();\n        await cache.put(url, new Response(body, {\n            status: 200,\n            headers: { 'ETag': response.eTag }\n        }));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2024 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MaybePromise } from '@theia/core/lib/common';\nimport { FrontendApplication, FrontendApplicationContribution } from '@theia/core/lib/browser';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { SecondaryWindowHandler } from '@theia/core/lib/browser/secondary-window-handler';\nimport { WebviewWidget } from './webview';\n\n@injectable()\nexport class WebviewSecondaryWindowSupport implements FrontendApplicationContribution {\n    @inject(SecondaryWindowHandler)\n    protected readonly secondaryWindowHandler: SecondaryWindowHandler;\n\n    onStart(app: FrontendApplication): MaybePromise<void> {\n        this.secondaryWindowHandler.onDidAddWidget(([widget, win]) => {\n            if (widget instanceof WebviewWidget) {\n                const script = win.document.createElement('script');\n                script.text = `\n                        window.addEventListener('message', e => {\n                        // Only process messages from Theia main window\n                        if (e.source === window.opener) {\n                            // Delegate message to iframe\n                            const frame = window.document.getElementsByTagName('iframe').item(0);\n                            if (frame) {\n                                frame.contentWindow?.postMessage({ ...e.data }, '*');\n                            }\n                        }\n                        }); `;\n                win.document.head.append(script);\n            }\n        });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// copied and modified from https://github.com/microsoft/vscode/blob/ba40bd16433d5a817bfae15f3b4350e18f144af4/src/vs/workbench/contrib/webview/common/themeing.ts\n\nimport { inject, postConstruct, injectable } from '@theia/core/shared/inversify';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { EditorPreferences, EditorConfiguration } from '@theia/editor/lib/common/editor-preferences';\nimport { ThemeService } from '@theia/core/lib/browser/theming';\nimport { Theme } from '@theia/core/lib/common/theme';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\nimport { ColorApplicationContribution } from '@theia/core/lib/browser/color-application-contribution';\n\nexport type WebviewThemeType = 'vscode-light' | 'vscode-dark' | 'vscode-high-contrast';\nexport interface WebviewThemeData {\n    readonly activeThemeName: string;\n    readonly activeThemeType: WebviewThemeType;\n    readonly styles: { readonly [key: string]: string | number; };\n}\n\n@injectable()\nexport class WebviewThemeDataProvider {\n\n    protected readonly onDidChangeThemeDataEmitter = new Emitter<void>();\n    readonly onDidChangeThemeData = this.onDidChangeThemeDataEmitter.event;\n\n    @inject(EditorPreferences) protected readonly editorPreferences: EditorPreferences;\n    @inject(ColorRegistry) protected readonly colors: ColorRegistry;\n    @inject(ColorApplicationContribution) protected readonly colorContribution: ColorApplicationContribution;\n    @inject(ThemeService) protected readonly themeService: ThemeService;\n\n    protected themeData: WebviewThemeData | undefined;\n\n    protected readonly editorStyles = new Map<keyof EditorConfiguration, string>([\n        ['editor.fontFamily', 'editor-font-family'],\n        ['editor.fontWeight', 'editor-font-weight'],\n        ['editor.fontSize', 'editor-font-size']\n    ]);\n\n    @postConstruct()\n    protected init(): void {\n        this.colorContribution.onDidChange(() => this.reset());\n\n        this.editorPreferences.onPreferenceChanged(e => {\n            if (this.editorStyles.has(e.preferenceName)) {\n                this.reset();\n            }\n        });\n    }\n\n    protected reset(): void {\n        if (this.themeData) {\n            this.themeData = undefined;\n            this.onDidChangeThemeDataEmitter.fire(undefined);\n        }\n    }\n\n    getThemeData(): WebviewThemeData {\n        if (!this.themeData) {\n            this.themeData = this.computeThemeData();\n        }\n        return this.themeData;\n    }\n\n    protected computeThemeData(): WebviewThemeData {\n        const styles: { [key: string]: string | number; } = {};\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const addStyle = (id: string, rawValue: any) => {\n            if (rawValue) {\n                const value = typeof rawValue === 'number' || typeof rawValue === 'string' ? rawValue : String(rawValue);\n                styles[this.colors.toCssVariableName(id).substring(2)] = value;\n                styles[this.colors.toCssVariableName(id, 'vscode').substring(2)] = value;\n            }\n        };\n\n        addStyle('font-family', '-apple-system, BlinkMacSystemFont, \"Segoe WPC\", \"Segoe UI\", \"Ubuntu\", \"Droid Sans\", sans-serif');\n        addStyle('font-weight', 'normal');\n        addStyle('font-size', '13px');\n        this.editorStyles.forEach((value, key) => addStyle(value, this.editorPreferences[key]));\n\n        for (const id of this.colors.getColors()) {\n            const color = this.colors.getCurrentColor(id);\n            if (color) {\n                addStyle(id, color.toString());\n            }\n        }\n\n        const activeTheme = this.getActiveTheme();\n        return {\n            styles,\n            activeThemeName: activeTheme.label,\n            activeThemeType: this.getThemeType(activeTheme)\n        };\n    }\n\n    protected getActiveTheme(): Theme {\n        return this.themeService.getCurrentTheme();\n    }\n\n    protected getThemeType(theme: Theme): WebviewThemeType {\n        switch (theme.type) {\n            case 'light': return 'vscode-light';\n            case 'dark': return 'vscode-dark';\n            default: return 'vscode-high-contrast';\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { WebviewWidget, WebviewWidgetIdentifier, WebviewWidgetExternalEndpoint } from './webview';\nimport { WebviewEnvironment } from './webview-environment';\nimport { hashValue } from '@theia/core/lib/common/uuid';\n\nexport class WebviewWidgetFactory {\n\n    readonly id = WebviewWidget.FACTORY_ID;\n\n    protected readonly container: interfaces.Container;\n\n    constructor(container: interfaces.Container) {\n        this.container = container;\n    }\n\n    async createWidget(identifier: WebviewWidgetIdentifier): Promise<WebviewWidget> {\n        const externalEndpoint = await this.container.get(WebviewEnvironment).externalEndpoint();\n        let endpoint = externalEndpoint.replace('{{uuid}}', identifier.viewId ? hashValue(identifier.viewId) : identifier.id);\n        if (endpoint[endpoint.length - 1] === '/') {\n            endpoint = endpoint.slice(0, endpoint.length - 1);\n        }\n        const child = this.container.createChild();\n        child.bind(WebviewWidgetIdentifier).toConstantValue(identifier);\n        child.bind(WebviewWidgetExternalEndpoint).toConstantValue(endpoint);\n        return child.get(WebviewWidget);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\n// copied and modified from https://github.com/microsoft/vscode/blob/ba40bd16433d5a817bfae15f3b4350e18f144af4/src/vs/workbench/contrib/webview/browser/baseWebviewElement.ts\n// copied and modified from https://github.com/microsoft/vscode/blob/ba40bd16433d5a817bfae15f3b4350e18f144af4/src/vs/workbench/contrib/webview/browser/webviewElement.ts#\n\nimport * as mime from 'mime';\nimport { JSONExt } from '@theia/core/shared/@lumino/coreutils';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { WebviewPanelOptions, WebviewPortMapping } from '@theia/plugin';\nimport { BaseWidget, Message } from '@theia/core/lib/browser/widgets/widget';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { ApplicationShellMouseTracker } from '@theia/core/lib/browser/shell/application-shell-mouse-tracker';\nimport { StatefulWidget } from '@theia/core/lib/browser/shell/shell-layout-restorer';\nimport { WebviewPanelViewState } from '../../../common/plugin-api-rpc';\nimport { IconUrl } from '../../../common/plugin-protocol';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { WebviewEnvironment } from './webview-environment';\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { open, OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { KeybindingRegistry } from '@theia/core/lib/browser/keybinding';\nimport { Schemes } from '../../../common/uri-components';\nimport { PluginSharedStyle } from '../plugin-shared-style';\nimport { WebviewThemeDataProvider } from './webview-theme-data-provider';\nimport { ExternalUriService } from '@theia/core/lib/browser/external-uri-service';\nimport { OutputChannelManager } from '@theia/output/lib/browser/output-channel';\nimport { WebviewResourceCache } from './webview-resource-cache';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport { isFirefox } from '@theia/core/lib/browser/browser';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { FileOperationError, FileOperationResult } from '@theia/filesystem/lib/common/files';\nimport { BinaryBufferReadableStream } from '@theia/core/lib/common/buffer';\nimport { ExtractableWidget } from '@theia/core/lib/browser/widgets/extractable-widget';\nimport { MenuPath } from '@theia/core';\nimport { ContextMenuRenderer } from '@theia/core/lib/browser';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { PluginViewWidget } from '../view/plugin-view-widget';\nimport { WebviewPreferences } from '../../common/webview-preferences';\n\n// Style from core\nconst TRANSPARENT_OVERLAY_STYLE = 'theia-transparent-overlay';\n\nexport const WEBVIEW_CONTEXT_MENU: MenuPath = ['webview-context-menu'];\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nexport const enum WebviewMessageChannels {\n    onmessage = 'onmessage',\n    didClickLink = 'did-click-link',\n    didFocus = 'did-focus',\n    didBlur = 'did-blur',\n    doUpdateState = 'do-update-state',\n    doReload = 'do-reload',\n    loadResource = 'load-resource',\n    loadLocalhost = 'load-localhost',\n    webviewReady = 'webview-ready',\n    didKeydown = 'did-keydown',\n    didMouseDown = 'did-mousedown',\n    didMouseUp = 'did-mouseup',\n    onconsole = 'onconsole',\n    didcontextmenu = 'did-context-menu'\n}\n\nexport interface WebviewContentOptions {\n    readonly allowScripts?: boolean;\n    readonly allowForms?: boolean;\n    readonly localResourceRoots?: ReadonlyArray<string>;\n    readonly portMapping?: ReadonlyArray<WebviewPortMapping>;\n    readonly enableCommandUris?: boolean | readonly string[];\n}\n\nexport interface WebviewConsoleLog {\n    level: Extract<keyof typeof console, 'log' | 'info' | 'warn' | 'error' | 'trace' | 'debug'>;\n    message?: string;\n    optionalParams?: string;\n}\n\n@injectable()\nexport class WebviewWidgetIdentifier {\n    id: string;\n    viewId?: string;\n}\n\nexport const WebviewWidgetExternalEndpoint = Symbol('WebviewWidgetExternalEndpoint');\n\n@injectable()\nexport class WebviewWidget extends BaseWidget implements StatefulWidget, ExtractableWidget {\n\n    private static readonly standardSupportedLinkSchemes = new Set([\n        Schemes.http,\n        Schemes.https,\n        Schemes.mailto,\n        Schemes.vscode,\n        Schemes.vscodeNotebookCell\n    ]);\n\n    static FACTORY_ID = 'plugin-webview';\n\n    protected element: HTMLIFrameElement | undefined;\n\n    // eslint-disable-next-line max-len\n    // XXX This is a hack to be able to tack the mouse events when drag and dropping the widgets.\n    // On `mousedown` we put a transparent div over the `iframe` to avoid losing the mouse tacking.\n    protected transparentOverlay: HTMLElement;\n\n    @inject(WebviewWidgetIdentifier)\n    readonly identifier: WebviewWidgetIdentifier;\n\n    @inject(WebviewWidgetExternalEndpoint)\n    readonly externalEndpoint: string;\n\n    @inject(ApplicationShellMouseTracker)\n    protected readonly mouseTracker: ApplicationShellMouseTracker;\n\n    @inject(WebviewEnvironment)\n    protected readonly environment: WebviewEnvironment;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(KeybindingRegistry)\n    protected readonly keybindings: KeybindingRegistry;\n\n    @inject(PluginSharedStyle)\n    protected readonly sharedStyle: PluginSharedStyle;\n\n    @inject(WebviewThemeDataProvider)\n    protected readonly themeDataProvider: WebviewThemeDataProvider;\n\n    @inject(ExternalUriService)\n    protected readonly externalUriService: ExternalUriService;\n\n    @inject(OutputChannelManager)\n    protected readonly outputManager: OutputChannelManager;\n\n    @inject(WebviewPreferences)\n    protected readonly preferences: WebviewPreferences;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(WebviewResourceCache)\n    protected readonly resourceCache: WebviewResourceCache;\n\n    @inject(ContextMenuRenderer)\n    protected readonly contextMenuRenderer: ContextMenuRenderer;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    viewState: WebviewPanelViewState = {\n        visible: false,\n        active: false,\n        position: 0\n    };\n\n    protected html = '';\n\n    protected _contentOptions: WebviewContentOptions = {};\n    get contentOptions(): WebviewContentOptions {\n        return this._contentOptions;\n    }\n\n    protected _state: string | undefined;\n    get state(): string | undefined {\n        return this._state;\n    }\n\n    viewType: string;\n    options: WebviewPanelOptions = {};\n\n    protected ready = new Deferred<void>();\n\n    protected readonly onMessageEmitter = new Emitter<any>();\n    readonly onMessage = this.onMessageEmitter.event;\n    protected readonly pendingMessages: any[] = [];\n\n    protected readonly toHide = new DisposableCollection();\n    protected hideTimeout: any | number | undefined;\n\n    isExtractable: boolean = true;\n    secondaryWindow: Window | undefined = undefined;\n\n    @postConstruct()\n    protected init(): void {\n        this.node.tabIndex = 0;\n        this.id = WebviewWidget.FACTORY_ID + ':' + this.identifier.id;\n        this.title.closable = true;\n        this.addClass(WebviewWidget.Styles.WEBVIEW);\n\n        this.toDispose.push(this.onMessageEmitter);\n\n        this.transparentOverlay = document.createElement('div');\n        this.transparentOverlay.classList.add(TRANSPARENT_OVERLAY_STYLE);\n        this.transparentOverlay.style.display = 'none';\n        this.node.appendChild(this.transparentOverlay);\n\n        this.toDispose.push(this.mouseTracker.onMousedown(() => {\n            if (this.element && this.element.style.display !== 'none') {\n                this.transparentOverlay.style.display = 'block';\n            }\n        }));\n        this.toDispose.push(this.mouseTracker.onMouseup(() => {\n            if (this.element && this.element.style.display !== 'none') {\n                this.transparentOverlay.style.display = 'none';\n            }\n        }));\n    }\n\n    protected override onBeforeAttach(msg: Message): void {\n        super.onBeforeAttach(msg);\n        this.doShow();\n        // iframe has to be reloaded when moved to another DOM element\n        this.toDisposeOnDetach.push(Disposable.create(() => this.forceHide()));\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.addEventListener(this.node, 'focus', () => {\n            if (this.element) {\n                this.doSend('focus');\n            }\n        });\n    }\n\n    protected override onBeforeShow(msg: Message): void {\n        super.onBeforeShow(msg);\n        this.doShow();\n    }\n\n    protected override onAfterHide(msg: Message): void {\n        super.onAfterHide(msg);\n        this.doHide();\n    }\n\n    protected doHide(): void {\n        if (this.options.retainContextWhenHidden !== true) {\n            if (this.hideTimeout === undefined) {\n                // avoid removing iframe if a widget moved quickly\n                this.hideTimeout = setTimeout(() => this.forceHide(), 50);\n            }\n        }\n    }\n\n    protected forceHide(): void {\n        clearTimeout(this.hideTimeout);\n        this.hideTimeout = undefined;\n        this.toHide.dispose();\n    }\n\n    protected doShow(): void {\n        clearTimeout(this.hideTimeout);\n        this.hideTimeout = undefined;\n        if (!this.toHide.disposed) {\n            return;\n        }\n        this.toDispose.push(this.toHide);\n\n        const element = document.createElement('iframe');\n        element.className = 'webview';\n        element.sandbox.add('allow-scripts', 'allow-forms', 'allow-same-origin', 'allow-downloads');\n        if (!isFirefox) {\n            element.setAttribute('allow', 'clipboard-read; clipboard-write; usb; serial; hid;');\n        }\n        element.setAttribute('src', `${this.externalEndpoint}/index.html?id=${this.identifier.id}`);\n        element.style.border = 'none';\n        element.style.width = '100%';\n        element.style.height = '100%';\n        this.element = element;\n        this.node.appendChild(this.element);\n        this.toHide.push(Disposable.create(() => {\n            if (this.element) {\n                this.element.remove();\n                this.element = undefined;\n            }\n        }));\n\n        const oldReady = this.ready;\n        const ready = new Deferred<void>();\n        ready.promise.then(() => oldReady.resolve());\n        this.ready = ready;\n        this.toHide.push(Disposable.create(() => this.ready = new Deferred<void>()));\n        const subscription = this.on(WebviewMessageChannels.webviewReady, () => {\n            subscription.dispose();\n            ready.resolve();\n        });\n        this.toHide.push(subscription);\n\n        this.toHide.push(this.on(WebviewMessageChannels.onmessage, (data: any) => this.onMessageEmitter.fire(data)));\n        this.toHide.push(this.on(WebviewMessageChannels.onconsole, (data: WebviewConsoleLog) => this.forwardConsoleLog(data)));\n        this.toHide.push(this.on(WebviewMessageChannels.didClickLink, (uri: string) => this.openLink(new URI(uri))));\n        this.toHide.push(this.on(WebviewMessageChannels.doUpdateState, (state: any) => {\n            this._state = state;\n        }));\n        this.toHide.push(this.on(WebviewMessageChannels.didFocus, () =>\n            // emulate the webview focus without actually changing focus\n            this.node.dispatchEvent(new FocusEvent('focus'))\n        ));\n        this.toHide.push(this.on(WebviewMessageChannels.didBlur, () => {\n            /* no-op: webview loses focus only if another element gains focus in the main window */\n        }));\n        this.toHide.push(this.on(WebviewMessageChannels.doReload, () => this.reload()));\n        this.toHide.push(this.on(WebviewMessageChannels.loadResource, (entry: any) => this.loadResource(entry.path, entry.query)));\n        this.toHide.push(this.on(WebviewMessageChannels.loadLocalhost, (entry: any) =>\n            this.loadLocalhost(entry.origin)\n        ));\n        this.toHide.push(this.on(WebviewMessageChannels.didKeydown, (data: KeyboardEvent) => {\n            // Electron: workaround for https://github.com/electron/electron/issues/14258\n            // We have to detect keyboard events in the <webview> and dispatch them to our\n            // keybinding service because these events do not bubble to the parent window anymore.\n            this.keybindings.dispatchKeyDown(data, this.element);\n        }));\n        this.toHide.push(this.on(WebviewMessageChannels.didMouseDown, (data: MouseEvent) => {\n            // We have to dispatch mousedown events so menus will be closed when clicking inside webviews.\n            // See: https://github.com/eclipse-theia/theia/issues/7752\n            this.dispatchMouseEvent('mousedown', data);\n        }));\n        this.toHide.push(this.on(WebviewMessageChannels.didMouseUp, (data: MouseEvent) => {\n            this.dispatchMouseEvent('mouseup', data);\n        }));\n\n        this.toHide.push(this.on(WebviewMessageChannels.didcontextmenu, (event: { clientX: number, clientY: number, context: any }) => {\n            this.handleContextMenu(event);\n        }));\n\n        this.style();\n        this.toHide.push(this.themeDataProvider.onDidChangeThemeData(() => this.style()));\n\n        this.doUpdateContent();\n        while (this.pendingMessages.length) {\n            this.sendMessage(this.pendingMessages.shift());\n        }\n    }\n\n    protected async loadLocalhost(origin: string): Promise<void> {\n        const redirect = await this.getRedirect(origin);\n        return this.doSend('did-load-localhost', { origin, location: redirect });\n    }\n\n    protected dispatchMouseEvent(type: string, data: MouseEvent): void {\n        const domRect = this.node.getBoundingClientRect();\n        document.dispatchEvent(new MouseEvent(type, {\n            ...data,\n            clientX: domRect.x + data.clientX,\n            clientY: domRect.y + data.clientY\n        }));\n    }\n\n    handleContextMenu(event: { clientX: number, clientY: number, context: any }): void {\n        const domRect = this.node.getBoundingClientRect();\n        this.contextKeyService.with(this.parent instanceof PluginViewWidget ?\n            { webviewId: this.parent.options.viewId, ...event.context } : {},\n            () => {\n                this.contextMenuRenderer.render({\n                    menuPath: WEBVIEW_CONTEXT_MENU,\n                    args: [event.context],\n                    anchor: {\n                        x: domRect.x + event.clientX, y: domRect.y + event.clientY\n                    },\n                    context: this.node\n                });\n            });\n    }\n\n    protected async getRedirect(url: string): Promise<string | undefined> {\n        const uri = new URI(url);\n        const localhost = this.externalUriService.parseLocalhost(uri);\n        if (!localhost) {\n            return undefined;\n        }\n\n        if (this._contentOptions.portMapping) {\n            for (const mapping of this._contentOptions.portMapping) {\n                if (mapping.webviewPort === localhost.port) {\n                    if (mapping.webviewPort !== mapping.extensionHostPort) {\n                        return this.toRemoteUrl(\n                            uri.withAuthority(`${localhost.address}:${mapping.extensionHostPort}`)\n                        );\n                    }\n                }\n            }\n        }\n\n        return this.toRemoteUrl(uri);\n    }\n\n    protected async toRemoteUrl(localUri: URI): Promise<string> {\n        const remoteUri = await this.externalUriService.resolve(localUri);\n        const remoteUrl = remoteUri.toString();\n        if (remoteUrl[remoteUrl.length - 1] === '/') {\n            return remoteUrl.slice(0, remoteUrl.length - 1);\n        }\n        return remoteUrl;\n    }\n\n    setContentOptions(contentOptions: WebviewContentOptions): void {\n        if (JSONExt.deepEqual(<any>this.contentOptions, <any>contentOptions)) {\n            return;\n        }\n        this._contentOptions = contentOptions;\n        this.doUpdateContent();\n    }\n\n    protected iconUrl: IconUrl | undefined;\n    protected readonly toDisposeOnIcon = new DisposableCollection();\n    setIconUrl(iconUrl: IconUrl | undefined): void {\n        if ((this.iconUrl && iconUrl && JSONExt.deepEqual(this.iconUrl, iconUrl)) || (this.iconUrl === iconUrl)) {\n            return;\n        }\n        this.toDisposeOnIcon.dispose();\n        this.toDispose.push(this.toDisposeOnIcon);\n        this.iconUrl = iconUrl;\n        if (iconUrl) {\n            const darkIconUrl = typeof iconUrl === 'object' ? iconUrl.dark : iconUrl;\n            const lightIconUrl = typeof iconUrl === 'object' ? iconUrl.light : iconUrl;\n            const iconClass = `webview-${this.identifier.id}-file-icon`;\n            this.toDisposeOnIcon.push(this.sharedStyle.insertRule(\n                `.theia-webview-icon.${iconClass}::before`,\n                theme => `background-image: url(${this.toEndpoint(theme.type === 'light' ? lightIconUrl : darkIconUrl)});`\n            ));\n            this.title.iconClass = `theia-webview-icon ${iconClass}`;\n        } else {\n            this.title.iconClass = '';\n        }\n    }\n\n    protected toEndpoint(pathname: string): string {\n        return new Endpoint({ path: pathname }).getRestUrl().toString();\n    }\n\n    setHTML(value: string): void {\n        this.html = this.preprocessHtml(value);\n        this.doUpdateContent();\n    }\n\n    protected preprocessHtml(value: string): string {\n        return value\n            .replace(/([\"'])(?:vscode|theia)-resource:(\\/\\/([^\\s\\/'\"]+?)(?=\\/))?([^\\s'\"]+?)([\"'])/gi, (_, startQuote, _1, scheme, path, endQuote) => {\n                if (scheme) {\n                    return `${startQuote}${this.externalEndpoint}/theia-resource/${scheme}${path}${endQuote}`;\n                }\n                return `${startQuote}${this.externalEndpoint}/theia-resource/file${path}${endQuote}`;\n            });\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.node.focus();\n    }\n\n    reload(): void {\n        this.doUpdateContent();\n    }\n\n    protected forwardConsoleLog(log: WebviewConsoleLog): void {\n        const message = `[webview: ${this.identifier.id}] ${log.message ? JSON.parse(log.message) : undefined}`;\n        if (log.optionalParams !== undefined) {\n            console[log.level](message, JSON.parse(log.optionalParams));\n        } else {\n            console[log.level](message);\n        }\n    }\n\n    protected style(): void {\n        const { styles, activeThemeType, activeThemeName } = this.themeDataProvider.getThemeData();\n        this.doSend('styles', { styles, activeThemeType, activeThemeName });\n    }\n\n    protected openLink(link: URI): void {\n        const supported = this.toSupportedLink(link);\n        if (supported) {\n            open(this.openerService, supported);\n        }\n    }\n\n    protected toSupportedLink(link: URI): URI | undefined {\n        if (WebviewWidget.standardSupportedLinkSchemes.has(link.scheme)) {\n            const linkAsString = link.toString();\n            for (const resourceRoot of [this.externalEndpoint + '/theia-resource', this.externalEndpoint + '/vscode-resource']) {\n                if (linkAsString.startsWith(resourceRoot + '/')) {\n                    return this.normalizeRequestUri(linkAsString.substring(resourceRoot.length));\n                }\n            }\n            return link;\n        }\n        if (link.scheme === Schemes.command) {\n            if (Array.isArray(this.contentOptions.enableCommandUris) && this.contentOptions.enableCommandUris.some(value => value === link.path.toString())) {\n                return link;\n            } else if (this.contentOptions.enableCommandUris === true) {\n                return link;\n            }\n        }\n        return undefined;\n    }\n\n    protected async loadResource(requestPath: string, requestQuery: string = ''): Promise<void> {\n        const normalizedUri = this.normalizeRequestUri(requestPath).withQuery(decodeURIComponent(requestQuery));\n        // browser cache does not support file scheme, normalize to current endpoint scheme and host\n        // use requestPath rather than normalizedUri.path to preserve the scheme of the requested resource as a path segment\n        const cacheUrl = new Endpoint({ path: requestPath }).getRestUrl().withQuery(decodeURIComponent(requestQuery)).toString();\n\n        try {\n            if (this.contentOptions.localResourceRoots) {\n                for (const root of this.contentOptions.localResourceRoots) {\n                    if (!new URI(root).path.isEqualOrParent(normalizedUri.path)) {\n                        continue;\n                    }\n                    let cached = await this.resourceCache.match(cacheUrl);\n                    try {\n                        const result = await this.fileService.readFileStream(normalizedUri, { etag: cached?.eTag });\n                        const { buffer } = await BinaryBufferReadableStream.toBuffer(result.value);\n                        cached = { body: () => buffer, eTag: result.etag };\n                        this.resourceCache.put(cacheUrl, cached);\n                    } catch (e) {\n                        if (!(e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_NOT_MODIFIED_SINCE)) {\n                            throw e;\n                        }\n                    }\n                    if (cached) {\n                        const data = await cached.body();\n                        return this.doSend('did-load-resource', {\n                            status: 200,\n                            path: requestPath,\n                            mime: mime.getType(normalizedUri.path.toString()) || 'application/octet-stream',\n                            data\n                        });\n                    }\n                }\n            }\n        } catch {\n            // no-op\n        }\n\n        this.resourceCache.delete(cacheUrl);\n        return this.doSend('did-load-resource', {\n            status: 404,\n            path: requestPath\n        });\n    }\n\n    protected normalizeRequestUri(requestPath: string): URI {\n        const normalizedPath = decodeURIComponent(requestPath);\n        const requestUri = new URI(normalizedPath.replace(/^\\/([a-zA-Z0-9.\\-+]+)\\/(.+)$/, (_, scheme, path) => scheme + ':/' + path));\n        if (requestUri.scheme !== 'theia-resource' && requestUri.scheme !== 'vscode-resource') {\n            return requestUri;\n        }\n\n        // Modern vscode-resources uris put the scheme of the requested resource as the authority\n        if (requestUri.authority) {\n            return new URI(requestUri.authority + ':' + requestUri.path);\n        }\n\n        // Old style vscode-resource uris lose the scheme of the resource which means they are unable to\n        // load a mix of local and remote content properly.\n        return requestUri.withScheme('file');\n    }\n\n    sendMessage(data: any): void {\n        if (this.element) {\n            this.doSend('message', data);\n        } else {\n            this.pendingMessages.push(data);\n        }\n    }\n\n    protected doUpdateContent(): void {\n        this.doSend('content', {\n            contents: this.html,\n            options: this.contentOptions,\n            state: this.state\n        });\n    }\n\n    storeState(): WebviewWidget.State {\n        return {\n            viewType: this.viewType,\n            title: this.title.label,\n            iconUrl: this.iconUrl,\n            options: this.options,\n            contentOptions: this.contentOptions,\n            state: this.state\n        };\n    }\n\n    restoreState(oldState: WebviewWidget.State): void {\n        const { viewType, title, iconUrl, options, contentOptions, state } = oldState;\n        this.viewType = viewType;\n        this.title.label = title;\n        this.setIconUrl(iconUrl);\n        this.options = options;\n        this._contentOptions = contentOptions;\n        this._state = state;\n    }\n\n    setIframeHeight(height: number): void {\n        if (this.element) {\n            this.element.style.height = `${height}px`;\n        }\n    }\n\n    protected async doSend(channel: string, data?: any): Promise<void> {\n        if (!this.element) {\n            return;\n        }\n        try {\n            await this.ready.promise;\n            this.postMessage(channel, data);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    protected postMessage(channel: string, data?: any): void {\n        if (this.element) {\n            this.trace('out', channel, data);\n            if (this.secondaryWindow) {\n                this.secondaryWindow.postMessage({ channel, args: data }, '*');\n            } else {\n                this.element.contentWindow!.postMessage({ channel, args: data }, '*');\n            }\n        }\n    }\n\n    protected on<T = unknown>(channel: WebviewMessageChannels, handler: (data: T) => void): Disposable {\n        const listener = (e: any) => {\n            if (!e || !e.data || e.data.target !== this.identifier.id) {\n                return;\n            }\n            if (e.data.channel === channel) {\n                this.trace('in', e.data.channel, e.data.data);\n                handler(e.data.data);\n            }\n        };\n        window.addEventListener('message', listener);\n        return Disposable.create(() =>\n            window.removeEventListener('message', listener)\n        );\n    }\n\n    protected trace(kind: 'in' | 'out', channel: string, data?: any): void {\n        const value = this.preferences['webview.trace'];\n        if (value === 'off') {\n            return;\n        }\n        const output = this.outputManager.getChannel('webviews');\n        output.append('\\n' + this.identifier.id);\n        output.append(kind === 'out' ? ' => ' : ' <= ');\n        output.append(channel);\n        if (value === 'verbose') {\n            if (data) {\n                output.append('\\n' + JSON.stringify(data, undefined, 2));\n            }\n        }\n    }\n\n}\nexport namespace WebviewWidget {\n    export namespace Styles {\n        export const WEBVIEW = 'theia-webview';\n    }\n    export interface State {\n        viewType: string\n        title: string\n        iconUrl?: IconUrl\n        options: WebviewPanelOptions\n        contentOptions: WebviewContentOptions\n        state?: string\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport debounce = require('@theia/core/shared/lodash.debounce');\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { WebviewsMain, MAIN_RPC_CONTEXT, WebviewsExt, WebviewPanelViewState } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { WebviewOptions, WebviewPanelOptions, WebviewPanelShowOptions } from '@theia/plugin';\nimport { ApplicationShell } from '@theia/core/lib/browser/shell/application-shell';\nimport { WebviewWidget, WebviewWidgetIdentifier } from './webview/webview';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { ViewColumnService } from '@theia/core/lib/browser/shell/view-column-service';\nimport { WidgetManager } from '@theia/core/lib/browser/widget-manager';\nimport { JSONExt } from '@theia/core/shared/@lumino/coreutils';\nimport { Mutable } from '@theia/core/lib/common/types';\nimport { HostedPluginSupport } from '../../hosted/browser/hosted-plugin';\nimport { IconUrl } from '../../common/plugin-protocol';\nimport { CustomEditorWidget } from './custom-editors/custom-editor-widget';\nimport { ViewColumn, WebviewPanelTargetArea } from '../../plugin/types-impl';\n\nexport class WebviewsMainImpl implements WebviewsMain, Disposable {\n\n    private readonly proxy: WebviewsExt;\n    protected readonly shell: ApplicationShell;\n    protected readonly widgetManager: WidgetManager;\n    protected readonly pluginService: HostedPluginSupport;\n    protected readonly viewColumnService: ViewColumnService;\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.WEBVIEWS_EXT);\n        this.shell = container.get(ApplicationShell);\n        this.viewColumnService = container.get(ViewColumnService);\n        this.widgetManager = container.get(WidgetManager);\n        this.pluginService = container.get(HostedPluginSupport);\n        this.toDispose.push(this.shell.onDidChangeActiveWidget(() => this.updateViewStates()));\n        this.toDispose.push(this.shell.onDidChangeCurrentWidget(() => this.updateViewStates()));\n        this.toDispose.push(this.viewColumnService.onViewColumnChanged(() => this.updateViewStates()));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    async $createWebviewPanel(\n        panelId: string,\n        viewType: string,\n        title: string,\n        showOptions: WebviewPanelShowOptions,\n        options: WebviewPanelOptions & WebviewOptions\n    ): Promise<void> {\n        const view = await this.widgetManager.getOrCreateWidget<WebviewWidget>(WebviewWidget.FACTORY_ID, <WebviewWidgetIdentifier>{ id: panelId, viewId: viewType });\n        this.hookWebview(view);\n        view.viewType = viewType;\n        view.title.label = title;\n        const { enableFindWidget, retainContextWhenHidden, enableScripts, enableForms, localResourceRoots, ...contentOptions } = options;\n        view.options = { enableFindWidget, retainContextWhenHidden };\n        view.setContentOptions({\n            allowScripts: enableScripts,\n            allowForms: enableForms,\n            localResourceRoots: localResourceRoots && localResourceRoots.map(root => root.toString()),\n            ...contentOptions\n        });\n        this.addOrReattachWidget(view, showOptions);\n    }\n\n    hookWebview(view: WebviewWidget): void {\n        const handle = view.identifier.id;\n        this.toDispose.push(view.onDidChangeVisibility(() => this.updateViewState(view)));\n        this.toDispose.push(view.onMessage(data => this.proxy.$onMessage(handle, data)));\n        view.disposed.connect(() => {\n            if (this.toDispose.disposed) {\n                return;\n            }\n            this.proxy.$onDidDisposeWebviewPanel(handle);\n        });\n    }\n\n    addOrReattachWidget(widget: WebviewWidget, showOptions: WebviewPanelShowOptions): void {\n        const area = showOptions.area ? showOptions.area : WebviewPanelTargetArea.Main;\n        const widgetOptions: ApplicationShell.WidgetOptions = { area };\n        let mode = 'open-to-right';\n        const canOpenBeside = showOptions.viewColumn === ViewColumn.Beside && (area === WebviewPanelTargetArea.Main || area === WebviewPanelTargetArea.Bottom);\n        if (canOpenBeside) {\n            const activeOrRightmostTabbar = this.shell.getTabBarFor(area);\n            const ref = activeOrRightmostTabbar?.currentTitle?.owner;\n            if (ref) {\n                Object.assign(widgetOptions, { ref, mode });\n            }\n        } else if (widgetOptions.area === 'main' && showOptions.viewColumn !== undefined) {\n            this.viewColumnService.updateViewColumns();\n            let widgetIds = this.viewColumnService.getViewColumnIds(showOptions.viewColumn);\n            if (widgetIds.length > 0) {\n                mode = 'tab-after';\n            } else if (showOptions.viewColumn >= 0) {\n                const columnsSize = this.viewColumnService.viewColumnsSize();\n                if (columnsSize) {\n                    showOptions.viewColumn = columnsSize - 1;\n                    widgetIds = this.viewColumnService.getViewColumnIds(showOptions.viewColumn);\n                }\n            }\n            const ref = this.shell.getWidgets(widgetOptions.area).find(w => !w.isHidden && widgetIds.indexOf(w.id) !== -1);\n            if (ref) {\n                Object.assign(widgetOptions, { ref, mode });\n            }\n        }\n\n        this.shell.addWidget(widget, widgetOptions);\n        if (showOptions.preserveFocus) {\n            this.shell.revealWidget(widget.id);\n        } else {\n            this.shell.activateWidget(widget.id);\n        }\n    }\n\n    async $disposeWebview(handle: string): Promise<void> {\n        const view = await this.tryGetWebview(handle);\n        if (view) {\n            view.dispose();\n        }\n    }\n\n    async $reveal(handle: string, showOptions: WebviewPanelShowOptions): Promise<void> {\n        const widget = await this.getWebview(handle);\n        if (widget.isDisposed) {\n            return;\n        }\n        if ((showOptions.viewColumn !== undefined && showOptions.viewColumn !== widget.viewState.position) || showOptions.area !== undefined) {\n            this.viewColumnService.updateViewColumns();\n            const columnIds = showOptions.viewColumn ? this.viewColumnService.getViewColumnIds(showOptions.viewColumn) : [];\n            const area = this.shell.getAreaFor(widget);\n            if (columnIds.indexOf(widget.id) === -1 || area !== showOptions.area) {\n                this.addOrReattachWidget(widget, showOptions);\n                return;\n            }\n        }\n        if (showOptions.preserveFocus) {\n            this.shell.revealWidget(widget.id);\n        } else {\n            this.shell.activateWidget(widget.id);\n        }\n    }\n\n    async $setTitle(handle: string, value: string): Promise<void> {\n        const webview = await this.getWebview(handle);\n        webview.title.label = value;\n    }\n\n    async $setIconPath(handle: string, iconUrl: IconUrl | undefined): Promise<void> {\n        const webview = await this.getWebview(handle);\n        webview.setIconUrl(iconUrl);\n    }\n\n    async $setHtml(handle: string, value: string): Promise<void> {\n        const webview = await this.getWebview(handle);\n        webview.setHTML(value);\n    }\n\n    async $setOptions(handle: string, options: WebviewOptions): Promise<void> {\n        const webview = await this.getWebview(handle);\n        const { enableScripts, enableForms, localResourceRoots, ...contentOptions } = options;\n        webview.setContentOptions({\n            allowScripts: enableScripts,\n            allowForms: enableForms,\n            localResourceRoots: localResourceRoots && localResourceRoots.map(root => root.toString()),\n            ...contentOptions\n        });\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async $postMessage(handle: string, value: any): Promise<boolean> {\n        // Due to async nature of $postMessage, the webview may have been disposed in the meantime.\n        // Therefore, don't throw an error if the webview is not found, but return false in this case.\n        const webview = await this.tryGetWebview(handle);\n        if (!webview) {\n            return false;\n        }\n        webview.sendMessage(value);\n        return true;\n    }\n\n    $registerSerializer(viewType: string): void {\n        this.pluginService.registerWebviewReviver(viewType, widget => this.restoreWidget(widget));\n        this.toDispose.push(Disposable.create(() => this.$unregisterSerializer(viewType)));\n    }\n\n    $unregisterSerializer(viewType: string): void {\n        this.pluginService.unregisterWebviewReviver(viewType);\n    }\n\n    protected async restoreWidget(widget: WebviewWidget): Promise<void> {\n        this.hookWebview(widget);\n        const handle = widget.identifier.id;\n        const title = widget.title.label;\n\n        let state = undefined;\n        if (widget.state) {\n            try {\n                state = JSON.parse(widget.state);\n            } catch {\n                // noop\n            }\n        }\n\n        const options = widget.options;\n        const { allowScripts, allowForms, localResourceRoots, ...contentOptions } = widget.contentOptions;\n        this.updateViewState(widget);\n        await this.proxy.$deserializeWebviewPanel(handle, widget.viewType, title, state, widget.viewState, {\n            enableScripts: allowScripts,\n            enableForms: allowForms,\n            localResourceRoots: localResourceRoots && localResourceRoots.map(root => URI.parse(root)),\n            ...contentOptions,\n            ...options\n        });\n    }\n\n    protected readonly updateViewStates = debounce(() => {\n        const widgets = this.widgetManager.getWidgets(WebviewWidget.FACTORY_ID);\n        const customEditors = this.widgetManager.getWidgets(CustomEditorWidget.FACTORY_ID);\n\n        for (const widget of widgets.concat(customEditors)) {\n            if (widget instanceof WebviewWidget) {\n                this.updateViewState(widget);\n            }\n        }\n    }, 100);\n\n    private updateViewState(widget: WebviewWidget, viewColumn?: number | undefined): void {\n        const viewState: Mutable<WebviewPanelViewState> = {\n            active: this.shell.activeWidget === widget,\n            visible: !widget.isHidden,\n            position: viewColumn || 0\n        };\n        if (typeof viewColumn !== 'number') {\n            this.viewColumnService.updateViewColumns();\n            viewState.position = this.viewColumnService.getViewColumn(widget.id) || 0;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (JSONExt.deepEqual(<any>viewState, <any>widget.viewState)) {\n            return;\n        }\n        widget.viewState = viewState;\n        this.proxy.$onDidChangeWebviewPanelViewState(widget.identifier.id, widget.viewState);\n    }\n\n    private async getWebview(viewId: string): Promise<WebviewWidget> {\n        const webview = await this.tryGetWebview(viewId);\n        if (!webview) {\n            throw new Error(`Unknown Webview: ${viewId}`);\n        }\n        return webview;\n    }\n\n    private async tryGetWebview(id: string): Promise<WebviewWidget | undefined> {\n        const webview = await this.widgetManager.findWidget<WebviewWidget>(WebviewWidget.FACTORY_ID, options => {\n            if (options) {\n                return options.id === id;\n            }\n            return false;\n        })\n            || await this.widgetManager.getWidget<CustomEditorWidget>(CustomEditorWidget.FACTORY_ID, <WebviewWidgetIdentifier>{ id });\n        return webview;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2024 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable, Emitter, Event } from '@theia/core';\n\nconst CHECK_INACTIVITY_LIMIT = 30;\nconst CHECK_INACTIVITY_INTERVAL = 1000;\n\nconst eventListenerOptions: AddEventListenerOptions = {\n    passive: true,\n    capture: true\n};\nexport class WindowActivityTracker implements Disposable {\n\n    private inactivityCounter = 0; // number of times inactivity was checked since last reset\n    private readonly inactivityLimit = CHECK_INACTIVITY_LIMIT; // number of inactivity checks done before sending inactive signal\n    private readonly checkInactivityInterval = CHECK_INACTIVITY_INTERVAL; // check interval in milliseconds\n    private interval: NodeJS.Timeout | undefined;\n\n    protected readonly onDidChangeActiveStateEmitter = new Emitter<boolean>();\n    private _activeState: boolean = true;\n\n    constructor(readonly win: Window) {\n        this.initializeListeners(this.win);\n    }\n\n    get onDidChangeActiveState(): Event<boolean> {\n        return this.onDidChangeActiveStateEmitter.event;\n    }\n\n    private set activeState(newState: boolean) {\n        if (this._activeState !== newState) {\n            this._activeState = newState;\n            this.onDidChangeActiveStateEmitter.fire(this._activeState);\n        }\n    }\n\n    private initializeListeners(win: Window): void {\n        // currently assumes activity based on key/mouse/touch pressed, not on mouse move or scrolling.\n        win.addEventListener('mousedown', this.resetInactivity, eventListenerOptions);\n        win.addEventListener('keydown', this.resetInactivity, eventListenerOptions);\n        win.addEventListener('touchstart', this.resetInactivity, eventListenerOptions);\n    }\n\n    dispose(): void {\n        this.stopTracking();\n        this.win.removeEventListener('mousedown', this.resetInactivity);\n        this.win.removeEventListener('keydown', this.resetInactivity);\n        this.win.removeEventListener('touchstart', this.resetInactivity);\n\n    }\n\n    // Reset inactivity time\n    private resetInactivity = (): void => {\n        this.inactivityCounter = 0;\n        if (!this.interval) {\n            // it was not active. Set as active and restart tracking inactivity\n            this.activeState = true;\n            this.startTracking();\n        }\n    };\n\n    // Check inactivity status\n    private checkInactivity = (): void => {\n        this.inactivityCounter++;\n        if (this.inactivityCounter >= this.inactivityLimit) {\n            this.activeState = false;\n            this.stopTracking();\n        }\n    };\n\n    public startTracking(): void {\n        this.stopTracking();\n        this.interval = setInterval(this.checkInactivity, this.checkInactivityInterval);\n    }\n\n    public stopTracking(): void {\n        if (this.interval) {\n            clearInterval(this.interval);\n            this.interval = undefined;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport CoreURI from '@theia/core/lib/common/uri';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { WindowStateExt, MAIN_RPC_CONTEXT, WindowMain } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { UriComponents } from '../../common/uri-components';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { open, OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { ExternalUriService } from '@theia/core/lib/browser/external-uri-service';\nimport { WindowActivityTracker } from './window-activity-tracker';\n\nexport class WindowStateMain implements WindowMain, Disposable {\n\n    private readonly proxy: WindowStateExt;\n\n    private readonly openerService: OpenerService;\n\n    private readonly externalUriService: ExternalUriService;\n\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.WINDOW_STATE_EXT);\n        this.openerService = container.get(OpenerService);\n        this.externalUriService = container.get(ExternalUriService);\n\n        const fireDidFocus = () => this.onFocusChanged(true);\n        window.addEventListener('focus', fireDidFocus);\n        this.toDispose.push(Disposable.create(() => window.removeEventListener('focus', fireDidFocus)));\n\n        const fireDidBlur = () => this.onFocusChanged(false);\n        window.addEventListener('blur', fireDidBlur);\n        this.toDispose.push(Disposable.create(() => window.removeEventListener('blur', fireDidBlur)));\n\n       const tracker = new WindowActivityTracker(window);\n       this.toDispose.push(tracker.onDidChangeActiveState(isActive => this.onActiveStateChanged(isActive)));\n       this.toDispose.push(tracker);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    private onFocusChanged(focused: boolean): void {\n        this.proxy.$onDidChangeWindowFocus(focused);\n    }\n\n    private onActiveStateChanged(isActive: boolean): void {\n        this.proxy.$onDidChangeWindowActive(isActive);\n    }\n\n    async $openUri(uriComponent: UriComponents): Promise<boolean> {\n        const uri = URI.revive(uriComponent);\n        const url = new CoreURI(encodeURI(uri.toString(true)));\n        try {\n            await open(this.openerService, url, { openExternalApp: true });\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    async $asExternalUri(uriComponents: UriComponents): Promise<UriComponents> {\n        const uri = URI.revive(uriComponents);\n        const resolved = await this.externalUriService.resolve(new CoreURI(uri));\n        return URI.parse(resolved.toString());\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code was copied and modified from https://github.com/Microsoft/vscode/blob/main/src/vs/workbench/api/browser/mainThreadWorkspace.ts\nimport * as theia from '@theia/plugin';\nimport { interfaces, injectable } from '@theia/core/shared/inversify';\nimport { WorkspaceExt, StorageExt, MAIN_RPC_CONTEXT, WorkspaceMain, WorkspaceFolderPickOptionsMain, FindFilesOptions } from '../../common/plugin-api-rpc';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { URI as Uri } from '@theia/core/shared/vscode-uri';\nimport { UriComponents } from '../../common/uri-components';\nimport { FileSearchService } from '@theia/file-search/lib/common/file-search-service';\nimport URI from '@theia/core/lib/common/uri';\nimport { WorkspaceService, WorkspaceTrustService, CanonicalUriService } from '@theia/workspace/lib/browser';\nimport { Resource } from '@theia/core/lib/common/resource';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Emitter, Event, ResourceResolver, CancellationToken, isUndefined } from '@theia/core';\nimport { PluginServer } from '../../common/plugin-protocol';\nimport { FileSystemPreferences } from '@theia/filesystem/lib/common';\nimport { SearchInWorkspaceService } from '@theia/search-in-workspace/lib/browser/search-in-workspace-service';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\nimport { MonacoQuickInputService } from '@theia/monaco/lib/browser/monaco-quick-input-service';\nimport { RequestService } from '@theia/core/shared/@theia/request';\nimport { UTF16be, UTF16le, UTF8, UTF8_with_bom } from '@theia/core/lib/common/encodings';\nimport { EncodingRegistry } from '@theia/core/lib/browser/encoding-registry';\nimport { PreferenceService } from '@theia/core/lib/common/preferences/preference-service';\n\nexport class WorkspaceMainImpl implements WorkspaceMain, Disposable {\n\n    private readonly proxy: WorkspaceExt;\n\n    private storageProxy: StorageExt;\n\n    private monacoQuickInputService: MonacoQuickInputService;\n\n    private fileSearchService: FileSearchService;\n\n    private searchInWorkspaceService: SearchInWorkspaceService;\n\n    private roots: string[];\n\n    private resourceResolver: TextContentResourceResolver;\n\n    private pluginServer: PluginServer;\n\n    private requestService: RequestService;\n\n    private workspaceService: WorkspaceService;\n\n    protected readonly canonicalUriService: CanonicalUriService;\n\n    private workspaceTrustService: WorkspaceTrustService;\n\n    private encodingRegistry: EncodingRegistry;\n\n    private fsPreferences: FileSystemPreferences;\n\n    private preferenceService: PreferenceService;\n\n    protected readonly toDispose = new DisposableCollection();\n\n    protected workspaceSearch: Set<number> = new Set<number>();\n\n    protected readonly canonicalUriProviders = new Map<string, Disposable>();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.WORKSPACE_EXT);\n        this.storageProxy = rpc.getProxy(MAIN_RPC_CONTEXT.STORAGE_EXT);\n        this.monacoQuickInputService = container.get(MonacoQuickInputService);\n        this.fileSearchService = container.get(FileSearchService);\n        this.searchInWorkspaceService = container.get(SearchInWorkspaceService);\n        this.resourceResolver = container.get(TextContentResourceResolver);\n        this.pluginServer = container.get(PluginServer);\n        this.requestService = container.get(RequestService);\n        this.workspaceService = container.get(WorkspaceService);\n        this.canonicalUriService = container.get(CanonicalUriService);\n        this.workspaceTrustService = container.get(WorkspaceTrustService);\n        this.encodingRegistry = container.get(EncodingRegistry);\n        this.fsPreferences = container.get(FileSystemPreferences);\n        this.preferenceService = container.get(PreferenceService);\n\n        this.processWorkspaceFoldersChanged(this.workspaceService.tryGetRoots().map(root => root.resource.toString()));\n        this.toDispose.push(this.workspaceService.onWorkspaceChanged(roots => {\n            this.processWorkspaceFoldersChanged(roots.map(root => root.resource.toString()));\n        }));\n        this.toDispose.push(this.workspaceService.onWorkspaceLocationChanged(stat => {\n            this.proxy.$onWorkspaceLocationChanged(stat);\n        }));\n\n        this.workspaceTrustService.getWorkspaceTrust().then(trust => this.proxy.$onWorkspaceTrustChanged(trust));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    $resolveProxy(url: string): Promise<string | undefined> {\n        return this.requestService.resolveProxy(url);\n    }\n\n    protected async processWorkspaceFoldersChanged(roots: string[]): Promise<void> {\n        if (this.isAnyRootChanged(roots) === false) {\n            return;\n        }\n        this.roots = roots;\n        this.proxy.$onWorkspaceFoldersChanged({ roots });\n\n        const keyValueStorageWorkspacesData = await this.pluginServer.getAllStorageValues({\n            workspace: this.workspaceService.workspace?.resource.toString(),\n            roots: this.workspaceService.tryGetRoots().map(root => root.resource.toString())\n        });\n        this.storageProxy.$updatePluginsWorkspaceData(keyValueStorageWorkspacesData);\n\n    }\n\n    private isAnyRootChanged(roots: string[]): boolean {\n        if (!this.roots || this.roots.length !== roots.length) {\n            return true;\n        }\n\n        return this.roots.some((root, index) => root !== roots[index]);\n    }\n\n    async $getWorkspace(): Promise<FileStat | undefined> {\n        return this.workspaceService.workspace;\n    }\n\n    $pickWorkspaceFolder(options: WorkspaceFolderPickOptionsMain): Promise<theia.WorkspaceFolder | undefined> {\n        return new Promise((resolve, reject) => {\n            // Return undefined if workspace root is not set\n            if (!this.roots || !this.roots.length) {\n                resolve(undefined);\n                return;\n            }\n\n            // Active before appearing the pick menu\n            const activeElement: HTMLElement | undefined = window.document.activeElement as HTMLElement;\n\n            // WorkspaceFolder to be returned\n            let returnValue: theia.WorkspaceFolder | undefined;\n\n            const items = this.roots.map(root => {\n                const rootUri = Uri.parse(root);\n                const rootPathName = rootUri.path.substring(rootUri.path.lastIndexOf('/') + 1);\n                return {\n                    label: rootPathName,\n                    detail: rootUri.path,\n                    execute: () => {\n                        returnValue = {\n                            uri: rootUri,\n                            name: rootPathName,\n                            index: 0\n                        } as theia.WorkspaceFolder;\n                    }\n                };\n            });\n\n            // Show pick menu\n            this.monacoQuickInputService.showQuickPick(items, {\n                onDidHide: () => {\n                    if (activeElement) {\n                        activeElement.focus({ preventScroll: true });\n                    }\n                    resolve(returnValue);\n                }\n            });\n        });\n    }\n\n    async $startFileSearch(includePattern: string, includeFolderUri: string | undefined, options: FindFilesOptions): Promise<UriComponents[]> {\n        const roots: FileSearchService.RootOptions = {};\n        const rootUris = includeFolderUri ? [includeFolderUri] : this.roots;\n        for (const rootUri of rootUris) {\n            roots[rootUri] = {};\n        }\n        const opts: FileSearchService.Options = {\n            rootOptions: roots,\n            fuzzyMatch: options.fuzzy,\n            useGitIgnore: options.useIgnoreFiles\n        };\n        if (includePattern) {\n            opts.includePatterns = [includePattern];\n        }\n        if (options.exclude) {\n            opts.excludePatterns = [options.exclude];\n        }\n        if (options.useDefaultExcludes) {\n            for (const rootUri of rootUris) {\n                const filesExclude = this.fsPreferences.get('files.exclude', undefined, rootUri);\n                if (filesExclude) {\n                    for (const excludePattern in filesExclude) {\n                        if (filesExclude[excludePattern]) {\n                            const rootOptions = roots[rootUri];\n                            const rootExcludePatterns = rootOptions.excludePatterns || [];\n                            rootExcludePatterns.push(excludePattern);\n                            rootOptions.excludePatterns = rootExcludePatterns;\n                        }\n                    }\n                }\n            }\n        }\n        if (typeof options.maxResults === 'number') {\n            opts.limit = options.maxResults;\n        }\n        const uriStrs = await this.fileSearchService.find('', opts);\n        return uriStrs.map(uriStr => Uri.parse(uriStr));\n    }\n\n    async $findTextInFiles(query: theia.TextSearchQuery, options: theia.FindTextInFilesOptions, searchRequestId: number,\n        token: theia.CancellationToken = CancellationToken.None): Promise<theia.TextSearchComplete> {\n        const maxHits = options.maxResults ? options.maxResults : 150;\n        const excludes = options.exclude ? (typeof options.exclude === 'string' ? options.exclude : (<theia.RelativePattern>options.exclude).pattern) : undefined;\n        const includes = options.include ? (typeof options.include === 'string' ? options.include : (<theia.RelativePattern>options.include).pattern) : undefined;\n        let canceledRequest = false;\n        return new Promise(resolve => {\n            let matches = 0;\n            const what: string = query.pattern;\n            this.searchInWorkspaceService.searchWithCallback(what, this.roots, {\n                onResult: (searchId, result) => {\n                    if (canceledRequest) {\n                        return;\n                    }\n                    const hasSearch = this.workspaceSearch.has(searchId);\n                    if (!hasSearch) {\n                        this.workspaceSearch.add(searchId);\n                        token.onCancellationRequested(() => {\n                            this.searchInWorkspaceService.cancel(searchId);\n                            canceledRequest = true;\n                        });\n                    }\n                    if (token.isCancellationRequested) {\n                        this.searchInWorkspaceService.cancel(searchId);\n                        canceledRequest = true;\n                        return;\n                    }\n                    if (result && result.matches && result.matches.length) {\n                        while ((matches + result.matches.length) > maxHits) {\n                            result.matches.splice(result.matches.length - 1, 1);\n                        }\n                        this.proxy.$onTextSearchResult(searchRequestId, false, result);\n                        matches += result.matches.length;\n                        if (maxHits <= matches) {\n                            this.searchInWorkspaceService.cancel(searchId);\n                        }\n                    }\n                },\n                onDone: (searchId, _error) => {\n                    const hasSearch = this.workspaceSearch.has(searchId);\n                    if (hasSearch) {\n                        this.searchInWorkspaceService.cancel(searchId);\n                        this.workspaceSearch.delete(searchId);\n                    }\n                    this.proxy.$onTextSearchResult(searchRequestId, true);\n                    if (maxHits <= matches) {\n                        resolve({ limitHit: true });\n                    } else {\n                        resolve({ limitHit: false });\n                    }\n                }\n            }, {\n                useRegExp: query.isRegExp,\n                matchCase: query.isCaseSensitive,\n                matchWholeWord: query.isWordMatch,\n                exclude: excludes ? [excludes] : undefined,\n                include: includes ? [includes] : undefined,\n                maxResults: maxHits\n            });\n        });\n    }\n\n    async $registerTextDocumentContentProvider(scheme: string): Promise<void> {\n        this.resourceResolver.registerContentProvider(scheme, this.proxy);\n        this.toDispose.push(Disposable.create(() => this.resourceResolver.unregisterContentProvider(scheme)));\n    }\n\n    $unregisterTextDocumentContentProvider(scheme: string): void {\n        this.resourceResolver.unregisterContentProvider(scheme);\n    }\n\n    $onTextDocumentContentChange(uri: string, content: string): void {\n        this.resourceResolver.onContentChange(uri, content);\n    }\n\n    async $updateWorkspaceFolders(start: number, deleteCount?: number, ...rootsToAdd: string[]): Promise<void> {\n        await this.workspaceService.spliceRoots(start, deleteCount, ...rootsToAdd.map(root => new URI(root)));\n    }\n\n    async $requestWorkspaceTrust(_options?: theia.WorkspaceTrustRequestOptions): Promise<boolean | undefined> {\n        return this.workspaceTrustService.requestWorkspaceTrust();\n    }\n\n    async $registerCanonicalUriProvider(scheme: string): Promise<void | undefined> {\n        this.canonicalUriProviders.set(scheme,\n            this.canonicalUriService.registerCanonicalUriProvider(scheme, {\n                provideCanonicalUri: async (uri, targetScheme, token) => {\n                    const canonicalUri = await this.proxy.$provideCanonicalUri(uri.toString(), targetScheme, CancellationToken.None);\n                    return isUndefined(uri) ? undefined : new URI(canonicalUri);\n                },\n                dispose: () => {\n                    this.proxy.$disposeCanonicalUriProvider(scheme);\n                },\n            }));\n    }\n\n    $unregisterCanonicalUriProvider(scheme: string): void {\n        const disposable = this.canonicalUriProviders.get(scheme);\n        if (disposable) {\n            this.canonicalUriProviders.delete(scheme);\n            disposable.dispose();\n        } else {\n            console.warn(`No canonical uri provider registered for '${scheme}'`);\n        }\n    }\n\n    async $getCanonicalUri(uri: string, targetScheme: string, token: theia.CancellationToken): Promise<string | undefined> {\n        const canonicalUri = await this.canonicalUriService.provideCanonicalUri(new URI(uri), targetScheme, token);\n        return isUndefined(canonicalUri) ? undefined : canonicalUri.toString();\n    }\n\n    async $resolveDecoding(resource: UriComponents | undefined, options?: { encoding?: string }): Promise<{ preferredEncoding: string; guessEncoding: boolean }> {\n        const preferredEncoding = await this.getPreferredReadEncoding(resource, options);\n\n        return {\n            preferredEncoding,\n            guessEncoding: this.preferenceService.get('files.autoGuessEncoding', false, resource ? resource.toString() : undefined)\n        };\n    }\n\n    async $resolveEncoding(resource: UriComponents | undefined, options?: { encoding?: string }): Promise<{ encoding: string; hasBOM: boolean }> {\n        let encoding: string;\n        if (resource) {\n            encoding = await this.encodingRegistry.getEncodingForResource(URI.fromComponents(resource), options?.encoding);\n        } else {\n            encoding = options?.encoding ?? UTF8;\n        }\n        // see https://github.com/microsoft/vscode/blob/118f9ecd71a8f101b71ae19e3bf44802aa173209/src/vs/workbench/services/textfile/browser/textFileService.ts#L806\n        const hasBOM = encoding === UTF16be || encoding === UTF16le || encoding === UTF8_with_bom;\n\n        return { encoding, hasBOM };\n    }\n\n    async $getValidEncoding(uri: UriComponents | undefined, detectedEncoding: string | undefined, options: { encoding: string } | undefined): Promise<string> {\n        return this.getPreferredReadEncoding(uri, options, detectedEncoding);\n    }\n\n    async getPreferredReadEncoding(uri: UriComponents | undefined, options?: { encoding?: string }, detectedEncoding?: string): Promise<string> {\n        let preferredEncoding: string | undefined;\n\n        // either encoding is passed as an option\n        // or we have a detected encoding,\n        // or we are looking in the preferences\n        // or we default at UTF8\n        if (options?.encoding) {\n            if (detectedEncoding === UTF8_with_bom && options.encoding === UTF8) {\n                preferredEncoding = UTF8_with_bom; // indicate the file has BOM if we are to resolve with UTF 8\n            } else {\n                preferredEncoding = options.encoding; // give passed in encoding highest priority\n            }\n        } else if (typeof detectedEncoding === 'string') {\n            preferredEncoding = detectedEncoding;\n        }\n        let encoding;\n        if (uri) {\n            encoding = await this.encodingRegistry.getEncodingForResource(URI.fromComponents(uri), preferredEncoding);\n        } else {\n            encoding = preferredEncoding ?? UTF8;\n        }\n\n        return encoding;\n    }\n}\n\n/**\n * Text content provider for resources with custom scheme.\n */\nexport interface TextContentResourceProvider {\n\n    /**\n     * Provides resource for given URI\n     */\n    provideResource(uri: URI): Resource;\n\n}\n\n@injectable()\nexport class TextContentResourceResolver implements ResourceResolver {\n\n    // Resource providers for different schemes\n    private providers = new Map<string, TextContentResourceProvider>();\n\n    // Opened resources\n    private resources = new Map<string, TextContentResource>();\n\n    async resolve(uri: URI): Promise<Resource> {\n        const provider = this.providers.get(uri.scheme);\n        if (provider) {\n            return provider.provideResource(uri);\n        }\n\n        throw new Error(`Unable to find Text Content Resource Provider for scheme '${uri.scheme}'`);\n    }\n\n    registerContentProvider(scheme: string, proxy: WorkspaceExt): void {\n        if (this.providers.has(scheme)) {\n            throw new Error(`Text Content Resource Provider for scheme '${scheme}' is already registered`);\n        }\n\n        const instance = this;\n        this.providers.set(scheme, {\n            provideResource: (uri: URI): Resource => {\n                let resource = instance.resources.get(uri.toString());\n                if (resource) {\n                    return resource;\n                }\n\n                resource = new TextContentResource(uri, proxy, {\n                    dispose(): void {\n                        instance.resources.delete(uri.toString());\n                    }\n                });\n\n                instance.resources.set(uri.toString(), resource);\n                return resource;\n            }\n        });\n    }\n\n    unregisterContentProvider(scheme: string): void {\n        if (!this.providers.delete(scheme)) {\n            throw new Error(`Text Content Resource Provider for scheme '${scheme}' has not been registered`);\n        }\n    }\n\n    onContentChange(uri: string, content: string): void {\n        const resource = this.resources.get(uri);\n        if (resource) {\n            resource.setContent(content);\n        }\n    }\n\n}\n\nexport class TextContentResource implements Resource {\n\n    private onDidChangeContentsEmitter: Emitter<void> = new Emitter<void>();\n    readonly onDidChangeContents: Event<void> = this.onDidChangeContentsEmitter.event;\n\n    // cached content\n    cache: string | undefined;\n\n    constructor(public uri: URI, private proxy: WorkspaceExt, protected disposable: Disposable) {\n    }\n\n    async readContents(options?: { encoding?: string }): Promise<string> {\n        if (this.cache) {\n            const content = this.cache;\n            this.cache = undefined;\n            return content;\n        } else {\n            const content = await this.proxy.$provideTextDocumentContent(this.uri.toString());\n            return content ?? '';\n        }\n    }\n\n    dispose(): void {\n        this.disposable.dispose();\n    }\n\n    setContent(content: string): void {\n        this.cache = content;\n        this.onDidChangeContentsEmitter.fire(undefined);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { MessageRegistryMain, MainMessageType, MainMessageOptions, MainMessageItem } from '../../common/plugin-api-rpc';\n\n/**\n * A basic implementation of the message registry that does not support the modal option\n * as that requires an UI.\n */\nexport class BasicMessageRegistryMainImpl implements MessageRegistryMain {\n    protected readonly messageService: MessageService;\n\n    constructor(container: interfaces.Container) {\n        this.messageService = container.get(MessageService);\n    }\n\n    async $showMessage(type: MainMessageType, message: string, options: MainMessageOptions, actions: MainMessageItem[]): Promise<number | undefined> {\n        const action = await this.doShowMessage(type, message, options, actions);\n        const handle = action\n            ? actions.map(a => a.title).indexOf(action)\n            : undefined;\n        return handle === undefined && options.modal ? options.onCloseActionHandle : handle;\n    }\n\n    protected async doShowMessage(type: MainMessageType, message: string, options: MainMessageOptions, actions: MainMessageItem[]): Promise<string | undefined> {\n        // Modal notifications are not supported in this context\n        switch (type) {\n            case MainMessageType.Info:\n                return this.messageService.info(message, ...actions.map(a => a.title));\n            case MainMessageType.Warning:\n                return this.messageService.warn(message, ...actions.map(a => a.title));\n            case MainMessageType.Error:\n                return this.messageService.error(message, ...actions.map(a => a.title));\n        }\n        throw new Error(`Message type '${type}' is not supported yet!`);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { NotificationExt, NotificationMain } from '../../common';\nimport { ProgressService, Progress, ProgressMessage } from '@theia/core/lib/common';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { ProxyIdentifier, RPCProtocol } from '../../common/rpc-protocol';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\n\nexport class BasicNotificationMainImpl implements NotificationMain, Disposable {\n    protected readonly progressService: ProgressService;\n    protected readonly progressMap = new Map<string, Progress>();\n    protected readonly progress2Work = new Map<string, number>();\n    protected readonly proxy: NotificationExt;\n\n    protected readonly toDispose = new DisposableCollection(\n        Disposable.create(() => { /* mark as not disposed */ })\n    );\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container, extIdentifier: ProxyIdentifier<NotificationExt>) {\n        this.progressService = container.get(ProgressService);\n        this.proxy = rpc.getProxy(extIdentifier);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    async $startProgress(options: NotificationMain.StartProgressOptions): Promise<string> {\n        const onDidCancel = () => {\n            // If the map does not contain current id, it has already stopped and should not be cancelled\n            if (this.progressMap.has(id)) {\n                this.proxy.$acceptProgressCanceled(id);\n            }\n        };\n\n        const progressMessage = this.mapOptions(options);\n        const progress = await this.progressService.showProgress(progressMessage, onDidCancel);\n        const id = progress.id;\n        this.progressMap.set(id, progress);\n        this.progress2Work.set(id, 0);\n        if (this.toDispose.disposed) {\n            this.$stopProgress(id);\n        } else {\n            this.toDispose.push(Disposable.create(() => this.$stopProgress(id)));\n        }\n        return id;\n    }\n    protected mapOptions(options: NotificationMain.StartProgressOptions): ProgressMessage {\n        const { title, location, cancellable } = options;\n        return { text: title, options: { location, cancelable: cancellable } };\n    }\n\n    $stopProgress(id: string): void {\n        const progress = this.progressMap.get(id);\n\n        if (progress) {\n            this.progressMap.delete(id);\n            this.progress2Work.delete(id);\n            progress.cancel();\n        }\n    }\n\n    $updateProgress(id: string, item: NotificationMain.ProgressReport): void {\n        const progress = this.progressMap.get(id);\n        if (!progress) {\n            return;\n        }\n        const done = Math.min((this.progress2Work.get(id) || 0) + (item.increment || 0), 100);\n        this.progress2Work.set(id, done);\n        progress.report({ message: item.message, work: done ? { done, total: 100 } : undefined });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { EnvMain } from '../../common/plugin-api-rpc';\nimport { isWindows, isOSX } from '@theia/core';\nimport { OperatingSystem } from '../../plugin/types-impl';\n\nexport class EnvMainImpl implements EnvMain {\n    private envVariableServer: EnvVariablesServer;\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.envVariableServer = container.get(EnvVariablesServer);\n    }\n\n    $getEnvVariable(envVarName: string): Promise<string | undefined> {\n        return this.envVariableServer.getValue(envVarName).then(result => result ? result.value : undefined);\n    }\n\n    async $getClientOperatingSystem(): Promise<OperatingSystem> {\n        if (isWindows) {\n            return OperatingSystem.Windows;\n        }\n        if (isOSX) {\n            return OperatingSystem.OSX;\n        }\n        return OperatingSystem.Linux;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport const pluginPathsServicePath = '/services/plugin-paths';\n\n// Service to create plugin configuration folders for different purpose.\nexport const PluginPathsService = Symbol('PluginPathsService');\nexport interface PluginPathsService {\n    /** Returns hosted log path. Create directory by this path if it is not exist on the file system. */\n    getHostLogPath(): Promise<string>;\n    /** Returns storage path for given workspace */\n    getHostStoragePath(workspaceUri: string | undefined, rootUris: string[]): Promise<string | undefined>;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport {\n    createPreferenceProxy,\n    PreferenceContribution,\n    PreferenceProxy,\n    PreferenceSchema,\n    PreferenceService,\n} from '@theia/core/lib/common/preferences';\nimport { nls } from '@theia/core/lib/common/nls';\n\nexport const WebviewConfigSchema: PreferenceSchema = {\n    properties: {\n        'webview.trace': {\n            type: 'string',\n            enum: ['off', 'on', 'verbose'],\n            description: nls.localize('theia/plugin-ext/webviewTrace', 'Controls communication tracing with webviews.'),\n            default: 'off'\n        }\n    }\n};\n\nexport interface WebviewConfiguration {\n    'webview.trace': 'off' | 'on' | 'verbose'\n    'webview.warnIfUnsecure'?: boolean\n}\n\nexport const WebviewPreferenceContribution = Symbol('WebviewPreferenceContribution');\nexport const WebviewPreferences = Symbol('WebviewPreferences');\nexport type WebviewPreferences = PreferenceProxy<WebviewConfiguration>;\n\nexport function createWebviewPreferences(preferences: PreferenceService, schema: PreferenceSchema = WebviewConfigSchema): WebviewPreferences {\n    return createPreferenceProxy(preferences, schema);\n}\n\nexport function bindWebviewPreferences(bind: interfaces.Bind): void {\n    bind(WebviewPreferences).toDynamicValue(ctx => {\n        const preferences = ctx.container.get<PreferenceService>(PreferenceService);\n        const contribution = ctx.container.get<PreferenceContribution>(WebviewPreferenceContribution);\n        return createWebviewPreferences(preferences, contribution.schema);\n    }).inSingletonScope();\n    bind(WebviewPreferenceContribution).toConstantValue({ schema: WebviewConfigSchema });\n    bind(PreferenceContribution).toService(WebviewPreferenceContribution);\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * Each webview should be deployed on a unique origin (https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy)\n * to ensure isolation from browser shared state as cookies, local storage and so on.\n *\n * Default hostname pattern of a origin is `{{uuid}}.webview.{{hostname}}`. Where `{{uuid}}` is a placeholder for a webview global id.\n * For electron target the default pattern is always used.\n * For the browser target use `THEIA_WEBVIEW_EXTERNAL_ENDPOINT` env variable to customize it.\n */\nexport namespace WebviewExternalEndpoint {\n    export const pattern = 'THEIA_WEBVIEW_EXTERNAL_ENDPOINT';\n    export const defaultPattern = '{{uuid}}.webview.{{hostname}}';\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport mainModule from './main/browser/plugin-ext-frontend-module';\n\nexport default mainModule;\n","'use strict';\n\n/**\n * @param typeMap [Object] Map of MIME type -> Array[extensions]\n * @param ...\n */\nfunction Mime() {\n  this._types = Object.create(null);\n  this._extensions = Object.create(null);\n\n  for (let i = 0; i < arguments.length; i++) {\n    this.define(arguments[i]);\n  }\n\n  this.define = this.define.bind(this);\n  this.getType = this.getType.bind(this);\n  this.getExtension = this.getExtension.bind(this);\n}\n\n/**\n * Define mimetype -> extension mappings.  Each key is a mime-type that maps\n * to an array of extensions associated with the type.  The first extension is\n * used as the default extension for the type.\n *\n * e.g. mime.define({'audio/ogg', ['oga', 'ogg', 'spx']});\n *\n * If a type declares an extension that has already been defined, an error will\n * be thrown.  To suppress this error and force the extension to be associated\n * with the new type, pass `force`=true.  Alternatively, you may prefix the\n * extension with \"*\" to map the type to extension, without mapping the\n * extension to the type.\n *\n * e.g. mime.define({'audio/wav', ['wav']}, {'audio/x-wav', ['*wav']});\n *\n *\n * @param map (Object) type definitions\n * @param force (Boolean) if true, force overriding of existing definitions\n */\nMime.prototype.define = function(typeMap, force) {\n  for (let type in typeMap) {\n    let extensions = typeMap[type].map(function(t) {\n      return t.toLowerCase();\n    });\n    type = type.toLowerCase();\n\n    for (let i = 0; i < extensions.length; i++) {\n      const ext = extensions[i];\n\n      // '*' prefix = not the preferred type for this extension.  So fixup the\n      // extension, and skip it.\n      if (ext[0] === '*') {\n        continue;\n      }\n\n      if (!force && (ext in this._types)) {\n        throw new Error(\n          'Attempt to change mapping for \"' + ext +\n          '\" extension from \"' + this._types[ext] + '\" to \"' + type +\n          '\". Pass `force=true` to allow this, otherwise remove \"' + ext +\n          '\" from the list of extensions for \"' + type + '\".'\n        );\n      }\n\n      this._types[ext] = type;\n    }\n\n    // Use first extension as default\n    if (force || !this._extensions[type]) {\n      const ext = extensions[0];\n      this._extensions[type] = (ext[0] !== '*') ? ext : ext.substr(1);\n    }\n  }\n};\n\n/**\n * Lookup a mime type based on extension\n */\nMime.prototype.getType = function(path) {\n  path = String(path);\n  let last = path.replace(/^.*[/\\\\]/, '').toLowerCase();\n  let ext = last.replace(/^.*\\./, '').toLowerCase();\n\n  let hasPath = last.length < path.length;\n  let hasDot = ext.length < last.length - 1;\n\n  return (hasDot || !hasPath) && this._types[ext] || null;\n};\n\n/**\n * Return file extension associated with a mime type\n */\nMime.prototype.getExtension = function(type) {\n  type = /^\\s*([^;\\s]*)/.test(type) && RegExp.$1;\n  return type && this._extensions[type.toLowerCase()] || null;\n};\n\nmodule.exports = Mime;\n","'use strict';\n\nlet Mime = require('./Mime');\nmodule.exports = new Mime(require('./types/standard'), require('./types/other'));\n","module.exports = {\"application/prs.cww\":[\"cww\"],\"application/vnd.1000minds.decision-model+xml\":[\"1km\"],\"application/vnd.3gpp.pic-bw-large\":[\"plb\"],\"application/vnd.3gpp.pic-bw-small\":[\"psb\"],\"application/vnd.3gpp.pic-bw-var\":[\"pvb\"],\"application/vnd.3gpp2.tcap\":[\"tcap\"],\"application/vnd.3m.post-it-notes\":[\"pwn\"],\"application/vnd.accpac.simply.aso\":[\"aso\"],\"application/vnd.accpac.simply.imp\":[\"imp\"],\"application/vnd.acucobol\":[\"acu\"],\"application/vnd.acucorp\":[\"atc\",\"acutc\"],\"application/vnd.adobe.air-application-installer-package+zip\":[\"air\"],\"application/vnd.adobe.formscentral.fcdt\":[\"fcdt\"],\"application/vnd.adobe.fxp\":[\"fxp\",\"fxpl\"],\"application/vnd.adobe.xdp+xml\":[\"xdp\"],\"application/vnd.adobe.xfdf\":[\"xfdf\"],\"application/vnd.ahead.space\":[\"ahead\"],\"application/vnd.airzip.filesecure.azf\":[\"azf\"],\"application/vnd.airzip.filesecure.azs\":[\"azs\"],\"application/vnd.amazon.ebook\":[\"azw\"],\"application/vnd.americandynamics.acc\":[\"acc\"],\"application/vnd.amiga.ami\":[\"ami\"],\"application/vnd.android.package-archive\":[\"apk\"],\"application/vnd.anser-web-certificate-issue-initiation\":[\"cii\"],\"application/vnd.anser-web-funds-transfer-initiation\":[\"fti\"],\"application/vnd.antix.game-component\":[\"atx\"],\"application/vnd.apple.installer+xml\":[\"mpkg\"],\"application/vnd.apple.keynote\":[\"key\"],\"application/vnd.apple.mpegurl\":[\"m3u8\"],\"application/vnd.apple.numbers\":[\"numbers\"],\"application/vnd.apple.pages\":[\"pages\"],\"application/vnd.apple.pkpass\":[\"pkpass\"],\"application/vnd.aristanetworks.swi\":[\"swi\"],\"application/vnd.astraea-software.iota\":[\"iota\"],\"application/vnd.audiograph\":[\"aep\"],\"application/vnd.balsamiq.bmml+xml\":[\"bmml\"],\"application/vnd.blueice.multipass\":[\"mpm\"],\"application/vnd.bmi\":[\"bmi\"],\"application/vnd.businessobjects\":[\"rep\"],\"application/vnd.chemdraw+xml\":[\"cdxml\"],\"application/vnd.chipnuts.karaoke-mmd\":[\"mmd\"],\"application/vnd.cinderella\":[\"cdy\"],\"application/vnd.citationstyles.style+xml\":[\"csl\"],\"application/vnd.claymore\":[\"cla\"],\"application/vnd.cloanto.rp9\":[\"rp9\"],\"application/vnd.clonk.c4group\":[\"c4g\",\"c4d\",\"c4f\",\"c4p\",\"c4u\"],\"application/vnd.cluetrust.cartomobile-config\":[\"c11amc\"],\"application/vnd.cluetrust.cartomobile-config-pkg\":[\"c11amz\"],\"application/vnd.commonspace\":[\"csp\"],\"application/vnd.contact.cmsg\":[\"cdbcmsg\"],\"application/vnd.cosmocaller\":[\"cmc\"],\"application/vnd.crick.clicker\":[\"clkx\"],\"application/vnd.crick.clicker.keyboard\":[\"clkk\"],\"application/vnd.crick.clicker.palette\":[\"clkp\"],\"application/vnd.crick.clicker.template\":[\"clkt\"],\"application/vnd.crick.clicker.wordbank\":[\"clkw\"],\"application/vnd.criticaltools.wbs+xml\":[\"wbs\"],\"application/vnd.ctc-posml\":[\"pml\"],\"application/vnd.cups-ppd\":[\"ppd\"],\"application/vnd.curl.car\":[\"car\"],\"application/vnd.curl.pcurl\":[\"pcurl\"],\"application/vnd.dart\":[\"dart\"],\"application/vnd.data-vision.rdz\":[\"rdz\"],\"application/vnd.dbf\":[\"dbf\"],\"application/vnd.dece.data\":[\"uvf\",\"uvvf\",\"uvd\",\"uvvd\"],\"application/vnd.dece.ttml+xml\":[\"uvt\",\"uvvt\"],\"application/vnd.dece.unspecified\":[\"uvx\",\"uvvx\"],\"application/vnd.dece.zip\":[\"uvz\",\"uvvz\"],\"application/vnd.denovo.fcselayout-link\":[\"fe_launch\"],\"application/vnd.dna\":[\"dna\"],\"application/vnd.dolby.mlp\":[\"mlp\"],\"application/vnd.dpgraph\":[\"dpg\"],\"application/vnd.dreamfactory\":[\"dfac\"],\"application/vnd.ds-keypoint\":[\"kpxx\"],\"application/vnd.dvb.ait\":[\"ait\"],\"application/vnd.dvb.service\":[\"svc\"],\"application/vnd.dynageo\":[\"geo\"],\"application/vnd.ecowin.chart\":[\"mag\"],\"application/vnd.enliven\":[\"nml\"],\"application/vnd.epson.esf\":[\"esf\"],\"application/vnd.epson.msf\":[\"msf\"],\"application/vnd.epson.quickanime\":[\"qam\"],\"application/vnd.epson.salt\":[\"slt\"],\"application/vnd.epson.ssf\":[\"ssf\"],\"application/vnd.eszigno3+xml\":[\"es3\",\"et3\"],\"application/vnd.ezpix-album\":[\"ez2\"],\"application/vnd.ezpix-package\":[\"ez3\"],\"application/vnd.fdf\":[\"fdf\"],\"application/vnd.fdsn.mseed\":[\"mseed\"],\"application/vnd.fdsn.seed\":[\"seed\",\"dataless\"],\"application/vnd.flographit\":[\"gph\"],\"application/vnd.fluxtime.clip\":[\"ftc\"],\"application/vnd.framemaker\":[\"fm\",\"frame\",\"maker\",\"book\"],\"application/vnd.frogans.fnc\":[\"fnc\"],\"application/vnd.frogans.ltf\":[\"ltf\"],\"application/vnd.fsc.weblaunch\":[\"fsc\"],\"application/vnd.fujitsu.oasys\":[\"oas\"],\"application/vnd.fujitsu.oasys2\":[\"oa2\"],\"application/vnd.fujitsu.oasys3\":[\"oa3\"],\"application/vnd.fujitsu.oasysgp\":[\"fg5\"],\"application/vnd.fujitsu.oasysprs\":[\"bh2\"],\"application/vnd.fujixerox.ddd\":[\"ddd\"],\"application/vnd.fujixerox.docuworks\":[\"xdw\"],\"application/vnd.fujixerox.docuworks.binder\":[\"xbd\"],\"application/vnd.fuzzysheet\":[\"fzs\"],\"application/vnd.genomatix.tuxedo\":[\"txd\"],\"application/vnd.geogebra.file\":[\"ggb\"],\"application/vnd.geogebra.tool\":[\"ggt\"],\"application/vnd.geometry-explorer\":[\"gex\",\"gre\"],\"application/vnd.geonext\":[\"gxt\"],\"application/vnd.geoplan\":[\"g2w\"],\"application/vnd.geospace\":[\"g3w\"],\"application/vnd.gmx\":[\"gmx\"],\"application/vnd.google-apps.document\":[\"gdoc\"],\"application/vnd.google-apps.presentation\":[\"gslides\"],\"application/vnd.google-apps.spreadsheet\":[\"gsheet\"],\"application/vnd.google-earth.kml+xml\":[\"kml\"],\"application/vnd.google-earth.kmz\":[\"kmz\"],\"application/vnd.grafeq\":[\"gqf\",\"gqs\"],\"application/vnd.groove-account\":[\"gac\"],\"application/vnd.groove-help\":[\"ghf\"],\"application/vnd.groove-identity-message\":[\"gim\"],\"application/vnd.groove-injector\":[\"grv\"],\"application/vnd.groove-tool-message\":[\"gtm\"],\"application/vnd.groove-tool-template\":[\"tpl\"],\"application/vnd.groove-vcard\":[\"vcg\"],\"application/vnd.hal+xml\":[\"hal\"],\"application/vnd.handheld-entertainment+xml\":[\"zmm\"],\"application/vnd.hbci\":[\"hbci\"],\"application/vnd.hhe.lesson-player\":[\"les\"],\"application/vnd.hp-hpgl\":[\"hpgl\"],\"application/vnd.hp-hpid\":[\"hpid\"],\"application/vnd.hp-hps\":[\"hps\"],\"application/vnd.hp-jlyt\":[\"jlt\"],\"application/vnd.hp-pcl\":[\"pcl\"],\"application/vnd.hp-pclxl\":[\"pclxl\"],\"application/vnd.hydrostatix.sof-data\":[\"sfd-hdstx\"],\"application/vnd.ibm.minipay\":[\"mpy\"],\"application/vnd.ibm.modcap\":[\"afp\",\"listafp\",\"list3820\"],\"application/vnd.ibm.rights-management\":[\"irm\"],\"application/vnd.ibm.secure-container\":[\"sc\"],\"application/vnd.iccprofile\":[\"icc\",\"icm\"],\"application/vnd.igloader\":[\"igl\"],\"application/vnd.immervision-ivp\":[\"ivp\"],\"application/vnd.immervision-ivu\":[\"ivu\"],\"application/vnd.insors.igm\":[\"igm\"],\"application/vnd.intercon.formnet\":[\"xpw\",\"xpx\"],\"application/vnd.intergeo\":[\"i2g\"],\"application/vnd.intu.qbo\":[\"qbo\"],\"application/vnd.intu.qfx\":[\"qfx\"],\"application/vnd.ipunplugged.rcprofile\":[\"rcprofile\"],\"application/vnd.irepository.package+xml\":[\"irp\"],\"application/vnd.is-xpr\":[\"xpr\"],\"application/vnd.isac.fcs\":[\"fcs\"],\"application/vnd.jam\":[\"jam\"],\"application/vnd.jcp.javame.midlet-rms\":[\"rms\"],\"application/vnd.jisp\":[\"jisp\"],\"application/vnd.joost.joda-archive\":[\"joda\"],\"application/vnd.kahootz\":[\"ktz\",\"ktr\"],\"application/vnd.kde.karbon\":[\"karbon\"],\"application/vnd.kde.kchart\":[\"chrt\"],\"application/vnd.kde.kformula\":[\"kfo\"],\"application/vnd.kde.kivio\":[\"flw\"],\"application/vnd.kde.kontour\":[\"kon\"],\"application/vnd.kde.kpresenter\":[\"kpr\",\"kpt\"],\"application/vnd.kde.kspread\":[\"ksp\"],\"application/vnd.kde.kword\":[\"kwd\",\"kwt\"],\"application/vnd.kenameaapp\":[\"htke\"],\"application/vnd.kidspiration\":[\"kia\"],\"application/vnd.kinar\":[\"kne\",\"knp\"],\"application/vnd.koan\":[\"skp\",\"skd\",\"skt\",\"skm\"],\"application/vnd.kodak-descriptor\":[\"sse\"],\"application/vnd.las.las+xml\":[\"lasxml\"],\"application/vnd.llamagraphics.life-balance.desktop\":[\"lbd\"],\"application/vnd.llamagraphics.life-balance.exchange+xml\":[\"lbe\"],\"application/vnd.lotus-1-2-3\":[\"123\"],\"application/vnd.lotus-approach\":[\"apr\"],\"application/vnd.lotus-freelance\":[\"pre\"],\"application/vnd.lotus-notes\":[\"nsf\"],\"application/vnd.lotus-organizer\":[\"org\"],\"application/vnd.lotus-screencam\":[\"scm\"],\"application/vnd.lotus-wordpro\":[\"lwp\"],\"application/vnd.macports.portpkg\":[\"portpkg\"],\"application/vnd.mapbox-vector-tile\":[\"mvt\"],\"application/vnd.mcd\":[\"mcd\"],\"application/vnd.medcalcdata\":[\"mc1\"],\"application/vnd.mediastation.cdkey\":[\"cdkey\"],\"application/vnd.mfer\":[\"mwf\"],\"application/vnd.mfmp\":[\"mfm\"],\"application/vnd.micrografx.flo\":[\"flo\"],\"application/vnd.micrografx.igx\":[\"igx\"],\"application/vnd.mif\":[\"mif\"],\"application/vnd.mobius.daf\":[\"daf\"],\"application/vnd.mobius.dis\":[\"dis\"],\"application/vnd.mobius.mbk\":[\"mbk\"],\"application/vnd.mobius.mqy\":[\"mqy\"],\"application/vnd.mobius.msl\":[\"msl\"],\"application/vnd.mobius.plc\":[\"plc\"],\"application/vnd.mobius.txf\":[\"txf\"],\"application/vnd.mophun.application\":[\"mpn\"],\"application/vnd.mophun.certificate\":[\"mpc\"],\"application/vnd.mozilla.xul+xml\":[\"xul\"],\"application/vnd.ms-artgalry\":[\"cil\"],\"application/vnd.ms-cab-compressed\":[\"cab\"],\"application/vnd.ms-excel\":[\"xls\",\"xlm\",\"xla\",\"xlc\",\"xlt\",\"xlw\"],\"application/vnd.ms-excel.addin.macroenabled.12\":[\"xlam\"],\"application/vnd.ms-excel.sheet.binary.macroenabled.12\":[\"xlsb\"],\"application/vnd.ms-excel.sheet.macroenabled.12\":[\"xlsm\"],\"application/vnd.ms-excel.template.macroenabled.12\":[\"xltm\"],\"application/vnd.ms-fontobject\":[\"eot\"],\"application/vnd.ms-htmlhelp\":[\"chm\"],\"application/vnd.ms-ims\":[\"ims\"],\"application/vnd.ms-lrm\":[\"lrm\"],\"application/vnd.ms-officetheme\":[\"thmx\"],\"application/vnd.ms-outlook\":[\"msg\"],\"application/vnd.ms-pki.seccat\":[\"cat\"],\"application/vnd.ms-pki.stl\":[\"*stl\"],\"application/vnd.ms-powerpoint\":[\"ppt\",\"pps\",\"pot\"],\"application/vnd.ms-powerpoint.addin.macroenabled.12\":[\"ppam\"],\"application/vnd.ms-powerpoint.presentation.macroenabled.12\":[\"pptm\"],\"application/vnd.ms-powerpoint.slide.macroenabled.12\":[\"sldm\"],\"application/vnd.ms-powerpoint.slideshow.macroenabled.12\":[\"ppsm\"],\"application/vnd.ms-powerpoint.template.macroenabled.12\":[\"potm\"],\"application/vnd.ms-project\":[\"mpp\",\"mpt\"],\"application/vnd.ms-word.document.macroenabled.12\":[\"docm\"],\"application/vnd.ms-word.template.macroenabled.12\":[\"dotm\"],\"application/vnd.ms-works\":[\"wps\",\"wks\",\"wcm\",\"wdb\"],\"application/vnd.ms-wpl\":[\"wpl\"],\"application/vnd.ms-xpsdocument\":[\"xps\"],\"application/vnd.mseq\":[\"mseq\"],\"application/vnd.musician\":[\"mus\"],\"application/vnd.muvee.style\":[\"msty\"],\"application/vnd.mynfc\":[\"taglet\"],\"application/vnd.neurolanguage.nlu\":[\"nlu\"],\"application/vnd.nitf\":[\"ntf\",\"nitf\"],\"application/vnd.noblenet-directory\":[\"nnd\"],\"application/vnd.noblenet-sealer\":[\"nns\"],\"application/vnd.noblenet-web\":[\"nnw\"],\"application/vnd.nokia.n-gage.ac+xml\":[\"*ac\"],\"application/vnd.nokia.n-gage.data\":[\"ngdat\"],\"application/vnd.nokia.n-gage.symbian.install\":[\"n-gage\"],\"application/vnd.nokia.radio-preset\":[\"rpst\"],\"application/vnd.nokia.radio-presets\":[\"rpss\"],\"application/vnd.novadigm.edm\":[\"edm\"],\"application/vnd.novadigm.edx\":[\"edx\"],\"application/vnd.novadigm.ext\":[\"ext\"],\"application/vnd.oasis.opendocument.chart\":[\"odc\"],\"application/vnd.oasis.opendocument.chart-template\":[\"otc\"],\"application/vnd.oasis.opendocument.database\":[\"odb\"],\"application/vnd.oasis.opendocument.formula\":[\"odf\"],\"application/vnd.oasis.opendocument.formula-template\":[\"odft\"],\"application/vnd.oasis.opendocument.graphics\":[\"odg\"],\"application/vnd.oasis.opendocument.graphics-template\":[\"otg\"],\"application/vnd.oasis.opendocument.image\":[\"odi\"],\"application/vnd.oasis.opendocument.image-template\":[\"oti\"],\"application/vnd.oasis.opendocument.presentation\":[\"odp\"],\"application/vnd.oasis.opendocument.presentation-template\":[\"otp\"],\"application/vnd.oasis.opendocument.spreadsheet\":[\"ods\"],\"application/vnd.oasis.opendocument.spreadsheet-template\":[\"ots\"],\"application/vnd.oasis.opendocument.text\":[\"odt\"],\"application/vnd.oasis.opendocument.text-master\":[\"odm\"],\"application/vnd.oasis.opendocument.text-template\":[\"ott\"],\"application/vnd.oasis.opendocument.text-web\":[\"oth\"],\"application/vnd.olpc-sugar\":[\"xo\"],\"application/vnd.oma.dd2+xml\":[\"dd2\"],\"application/vnd.openblox.game+xml\":[\"obgx\"],\"application/vnd.openofficeorg.extension\":[\"oxt\"],\"application/vnd.openstreetmap.data+xml\":[\"osm\"],\"application/vnd.openxmlformats-officedocument.presentationml.presentation\":[\"pptx\"],\"application/vnd.openxmlformats-officedocument.presentationml.slide\":[\"sldx\"],\"application/vnd.openxmlformats-officedocument.presentationml.slideshow\":[\"ppsx\"],\"application/vnd.openxmlformats-officedocument.presentationml.template\":[\"potx\"],\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":[\"xlsx\"],\"application/vnd.openxmlformats-officedocument.spreadsheetml.template\":[\"xltx\"],\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":[\"docx\"],\"application/vnd.openxmlformats-officedocument.wordprocessingml.template\":[\"dotx\"],\"application/vnd.osgeo.mapguide.package\":[\"mgp\"],\"application/vnd.osgi.dp\":[\"dp\"],\"application/vnd.osgi.subsystem\":[\"esa\"],\"application/vnd.palm\":[\"pdb\",\"pqa\",\"oprc\"],\"application/vnd.pawaafile\":[\"paw\"],\"application/vnd.pg.format\":[\"str\"],\"application/vnd.pg.osasli\":[\"ei6\"],\"application/vnd.picsel\":[\"efif\"],\"application/vnd.pmi.widget\":[\"wg\"],\"application/vnd.pocketlearn\":[\"plf\"],\"application/vnd.powerbuilder6\":[\"pbd\"],\"application/vnd.previewsystems.box\":[\"box\"],\"application/vnd.proteus.magazine\":[\"mgz\"],\"application/vnd.publishare-delta-tree\":[\"qps\"],\"application/vnd.pvi.ptid1\":[\"ptid\"],\"application/vnd.quark.quarkxpress\":[\"qxd\",\"qxt\",\"qwd\",\"qwt\",\"qxl\",\"qxb\"],\"application/vnd.rar\":[\"rar\"],\"application/vnd.realvnc.bed\":[\"bed\"],\"application/vnd.recordare.musicxml\":[\"mxl\"],\"application/vnd.recordare.musicxml+xml\":[\"musicxml\"],\"application/vnd.rig.cryptonote\":[\"cryptonote\"],\"application/vnd.rim.cod\":[\"cod\"],\"application/vnd.rn-realmedia\":[\"rm\"],\"application/vnd.rn-realmedia-vbr\":[\"rmvb\"],\"application/vnd.route66.link66+xml\":[\"link66\"],\"application/vnd.sailingtracker.track\":[\"st\"],\"application/vnd.seemail\":[\"see\"],\"application/vnd.sema\":[\"sema\"],\"application/vnd.semd\":[\"semd\"],\"application/vnd.semf\":[\"semf\"],\"application/vnd.shana.informed.formdata\":[\"ifm\"],\"application/vnd.shana.informed.formtemplate\":[\"itp\"],\"application/vnd.shana.informed.interchange\":[\"iif\"],\"application/vnd.shana.informed.package\":[\"ipk\"],\"application/vnd.simtech-mindmapper\":[\"twd\",\"twds\"],\"application/vnd.smaf\":[\"mmf\"],\"application/vnd.smart.teacher\":[\"teacher\"],\"application/vnd.software602.filler.form+xml\":[\"fo\"],\"application/vnd.solent.sdkm+xml\":[\"sdkm\",\"sdkd\"],\"application/vnd.spotfire.dxp\":[\"dxp\"],\"application/vnd.spotfire.sfs\":[\"sfs\"],\"application/vnd.stardivision.calc\":[\"sdc\"],\"application/vnd.stardivision.draw\":[\"sda\"],\"application/vnd.stardivision.impress\":[\"sdd\"],\"application/vnd.stardivision.math\":[\"smf\"],\"application/vnd.stardivision.writer\":[\"sdw\",\"vor\"],\"application/vnd.stardivision.writer-global\":[\"sgl\"],\"application/vnd.stepmania.package\":[\"smzip\"],\"application/vnd.stepmania.stepchart\":[\"sm\"],\"application/vnd.sun.wadl+xml\":[\"wadl\"],\"application/vnd.sun.xml.calc\":[\"sxc\"],\"application/vnd.sun.xml.calc.template\":[\"stc\"],\"application/vnd.sun.xml.draw\":[\"sxd\"],\"application/vnd.sun.xml.draw.template\":[\"std\"],\"application/vnd.sun.xml.impress\":[\"sxi\"],\"application/vnd.sun.xml.impress.template\":[\"sti\"],\"application/vnd.sun.xml.math\":[\"sxm\"],\"application/vnd.sun.xml.writer\":[\"sxw\"],\"application/vnd.sun.xml.writer.global\":[\"sxg\"],\"application/vnd.sun.xml.writer.template\":[\"stw\"],\"application/vnd.sus-calendar\":[\"sus\",\"susp\"],\"application/vnd.svd\":[\"svd\"],\"application/vnd.symbian.install\":[\"sis\",\"sisx\"],\"application/vnd.syncml+xml\":[\"xsm\"],\"application/vnd.syncml.dm+wbxml\":[\"bdm\"],\"application/vnd.syncml.dm+xml\":[\"xdm\"],\"application/vnd.syncml.dmddf+xml\":[\"ddf\"],\"application/vnd.tao.intent-module-archive\":[\"tao\"],\"application/vnd.tcpdump.pcap\":[\"pcap\",\"cap\",\"dmp\"],\"application/vnd.tmobile-livetv\":[\"tmo\"],\"application/vnd.trid.tpt\":[\"tpt\"],\"application/vnd.triscape.mxs\":[\"mxs\"],\"application/vnd.trueapp\":[\"tra\"],\"application/vnd.ufdl\":[\"ufd\",\"ufdl\"],\"application/vnd.uiq.theme\":[\"utz\"],\"application/vnd.umajin\":[\"umj\"],\"application/vnd.unity\":[\"unityweb\"],\"application/vnd.uoml+xml\":[\"uoml\"],\"application/vnd.vcx\":[\"vcx\"],\"application/vnd.visio\":[\"vsd\",\"vst\",\"vss\",\"vsw\"],\"application/vnd.visionary\":[\"vis\"],\"application/vnd.vsf\":[\"vsf\"],\"application/vnd.wap.wbxml\":[\"wbxml\"],\"application/vnd.wap.wmlc\":[\"wmlc\"],\"application/vnd.wap.wmlscriptc\":[\"wmlsc\"],\"application/vnd.webturbo\":[\"wtb\"],\"application/vnd.wolfram.player\":[\"nbp\"],\"application/vnd.wordperfect\":[\"wpd\"],\"application/vnd.wqd\":[\"wqd\"],\"application/vnd.wt.stf\":[\"stf\"],\"application/vnd.xara\":[\"xar\"],\"application/vnd.xfdl\":[\"xfdl\"],\"application/vnd.yamaha.hv-dic\":[\"hvd\"],\"application/vnd.yamaha.hv-script\":[\"hvs\"],\"application/vnd.yamaha.hv-voice\":[\"hvp\"],\"application/vnd.yamaha.openscoreformat\":[\"osf\"],\"application/vnd.yamaha.openscoreformat.osfpvg+xml\":[\"osfpvg\"],\"application/vnd.yamaha.smaf-audio\":[\"saf\"],\"application/vnd.yamaha.smaf-phrase\":[\"spf\"],\"application/vnd.yellowriver-custom-menu\":[\"cmp\"],\"application/vnd.zul\":[\"zir\",\"zirz\"],\"application/vnd.zzazz.deck+xml\":[\"zaz\"],\"application/x-7z-compressed\":[\"7z\"],\"application/x-abiword\":[\"abw\"],\"application/x-ace-compressed\":[\"ace\"],\"application/x-apple-diskimage\":[\"*dmg\"],\"application/x-arj\":[\"arj\"],\"application/x-authorware-bin\":[\"aab\",\"x32\",\"u32\",\"vox\"],\"application/x-authorware-map\":[\"aam\"],\"application/x-authorware-seg\":[\"aas\"],\"application/x-bcpio\":[\"bcpio\"],\"application/x-bdoc\":[\"*bdoc\"],\"application/x-bittorrent\":[\"torrent\"],\"application/x-blorb\":[\"blb\",\"blorb\"],\"application/x-bzip\":[\"bz\"],\"application/x-bzip2\":[\"bz2\",\"boz\"],\"application/x-cbr\":[\"cbr\",\"cba\",\"cbt\",\"cbz\",\"cb7\"],\"application/x-cdlink\":[\"vcd\"],\"application/x-cfs-compressed\":[\"cfs\"],\"application/x-chat\":[\"chat\"],\"application/x-chess-pgn\":[\"pgn\"],\"application/x-chrome-extension\":[\"crx\"],\"application/x-cocoa\":[\"cco\"],\"application/x-conference\":[\"nsc\"],\"application/x-cpio\":[\"cpio\"],\"application/x-csh\":[\"csh\"],\"application/x-debian-package\":[\"*deb\",\"udeb\"],\"application/x-dgc-compressed\":[\"dgc\"],\"application/x-director\":[\"dir\",\"dcr\",\"dxr\",\"cst\",\"cct\",\"cxt\",\"w3d\",\"fgd\",\"swa\"],\"application/x-doom\":[\"wad\"],\"application/x-dtbncx+xml\":[\"ncx\"],\"application/x-dtbook+xml\":[\"dtb\"],\"application/x-dtbresource+xml\":[\"res\"],\"application/x-dvi\":[\"dvi\"],\"application/x-envoy\":[\"evy\"],\"application/x-eva\":[\"eva\"],\"application/x-font-bdf\":[\"bdf\"],\"application/x-font-ghostscript\":[\"gsf\"],\"application/x-font-linux-psf\":[\"psf\"],\"application/x-font-pcf\":[\"pcf\"],\"application/x-font-snf\":[\"snf\"],\"application/x-font-type1\":[\"pfa\",\"pfb\",\"pfm\",\"afm\"],\"application/x-freearc\":[\"arc\"],\"application/x-futuresplash\":[\"spl\"],\"application/x-gca-compressed\":[\"gca\"],\"application/x-glulx\":[\"ulx\"],\"application/x-gnumeric\":[\"gnumeric\"],\"application/x-gramps-xml\":[\"gramps\"],\"application/x-gtar\":[\"gtar\"],\"application/x-hdf\":[\"hdf\"],\"application/x-httpd-php\":[\"php\"],\"application/x-install-instructions\":[\"install\"],\"application/x-iso9660-image\":[\"*iso\"],\"application/x-iwork-keynote-sffkey\":[\"*key\"],\"application/x-iwork-numbers-sffnumbers\":[\"*numbers\"],\"application/x-iwork-pages-sffpages\":[\"*pages\"],\"application/x-java-archive-diff\":[\"jardiff\"],\"application/x-java-jnlp-file\":[\"jnlp\"],\"application/x-keepass2\":[\"kdbx\"],\"application/x-latex\":[\"latex\"],\"application/x-lua-bytecode\":[\"luac\"],\"application/x-lzh-compressed\":[\"lzh\",\"lha\"],\"application/x-makeself\":[\"run\"],\"application/x-mie\":[\"mie\"],\"application/x-mobipocket-ebook\":[\"prc\",\"mobi\"],\"application/x-ms-application\":[\"application\"],\"application/x-ms-shortcut\":[\"lnk\"],\"application/x-ms-wmd\":[\"wmd\"],\"application/x-ms-wmz\":[\"wmz\"],\"application/x-ms-xbap\":[\"xbap\"],\"application/x-msaccess\":[\"mdb\"],\"application/x-msbinder\":[\"obd\"],\"application/x-mscardfile\":[\"crd\"],\"application/x-msclip\":[\"clp\"],\"application/x-msdos-program\":[\"*exe\"],\"application/x-msdownload\":[\"*exe\",\"*dll\",\"com\",\"bat\",\"*msi\"],\"application/x-msmediaview\":[\"mvb\",\"m13\",\"m14\"],\"application/x-msmetafile\":[\"*wmf\",\"*wmz\",\"*emf\",\"emz\"],\"application/x-msmoney\":[\"mny\"],\"application/x-mspublisher\":[\"pub\"],\"application/x-msschedule\":[\"scd\"],\"application/x-msterminal\":[\"trm\"],\"application/x-mswrite\":[\"wri\"],\"application/x-netcdf\":[\"nc\",\"cdf\"],\"application/x-ns-proxy-autoconfig\":[\"pac\"],\"application/x-nzb\":[\"nzb\"],\"application/x-perl\":[\"pl\",\"pm\"],\"application/x-pilot\":[\"*prc\",\"*pdb\"],\"application/x-pkcs12\":[\"p12\",\"pfx\"],\"application/x-pkcs7-certificates\":[\"p7b\",\"spc\"],\"application/x-pkcs7-certreqresp\":[\"p7r\"],\"application/x-rar-compressed\":[\"*rar\"],\"application/x-redhat-package-manager\":[\"rpm\"],\"application/x-research-info-systems\":[\"ris\"],\"application/x-sea\":[\"sea\"],\"application/x-sh\":[\"sh\"],\"application/x-shar\":[\"shar\"],\"application/x-shockwave-flash\":[\"swf\"],\"application/x-silverlight-app\":[\"xap\"],\"application/x-sql\":[\"sql\"],\"application/x-stuffit\":[\"sit\"],\"application/x-stuffitx\":[\"sitx\"],\"application/x-subrip\":[\"srt\"],\"application/x-sv4cpio\":[\"sv4cpio\"],\"application/x-sv4crc\":[\"sv4crc\"],\"application/x-t3vm-image\":[\"t3\"],\"application/x-tads\":[\"gam\"],\"application/x-tar\":[\"tar\"],\"application/x-tcl\":[\"tcl\",\"tk\"],\"application/x-tex\":[\"tex\"],\"application/x-tex-tfm\":[\"tfm\"],\"application/x-texinfo\":[\"texinfo\",\"texi\"],\"application/x-tgif\":[\"*obj\"],\"application/x-ustar\":[\"ustar\"],\"application/x-virtualbox-hdd\":[\"hdd\"],\"application/x-virtualbox-ova\":[\"ova\"],\"application/x-virtualbox-ovf\":[\"ovf\"],\"application/x-virtualbox-vbox\":[\"vbox\"],\"application/x-virtualbox-vbox-extpack\":[\"vbox-extpack\"],\"application/x-virtualbox-vdi\":[\"vdi\"],\"application/x-virtualbox-vhd\":[\"vhd\"],\"application/x-virtualbox-vmdk\":[\"vmdk\"],\"application/x-wais-source\":[\"src\"],\"application/x-web-app-manifest+json\":[\"webapp\"],\"application/x-x509-ca-cert\":[\"der\",\"crt\",\"pem\"],\"application/x-xfig\":[\"fig\"],\"application/x-xliff+xml\":[\"*xlf\"],\"application/x-xpinstall\":[\"xpi\"],\"application/x-xz\":[\"xz\"],\"application/x-zmachine\":[\"z1\",\"z2\",\"z3\",\"z4\",\"z5\",\"z6\",\"z7\",\"z8\"],\"audio/vnd.dece.audio\":[\"uva\",\"uvva\"],\"audio/vnd.digital-winds\":[\"eol\"],\"audio/vnd.dra\":[\"dra\"],\"audio/vnd.dts\":[\"dts\"],\"audio/vnd.dts.hd\":[\"dtshd\"],\"audio/vnd.lucent.voice\":[\"lvp\"],\"audio/vnd.ms-playready.media.pya\":[\"pya\"],\"audio/vnd.nuera.ecelp4800\":[\"ecelp4800\"],\"audio/vnd.nuera.ecelp7470\":[\"ecelp7470\"],\"audio/vnd.nuera.ecelp9600\":[\"ecelp9600\"],\"audio/vnd.rip\":[\"rip\"],\"audio/x-aac\":[\"aac\"],\"audio/x-aiff\":[\"aif\",\"aiff\",\"aifc\"],\"audio/x-caf\":[\"caf\"],\"audio/x-flac\":[\"flac\"],\"audio/x-m4a\":[\"*m4a\"],\"audio/x-matroska\":[\"mka\"],\"audio/x-mpegurl\":[\"m3u\"],\"audio/x-ms-wax\":[\"wax\"],\"audio/x-ms-wma\":[\"wma\"],\"audio/x-pn-realaudio\":[\"ram\",\"ra\"],\"audio/x-pn-realaudio-plugin\":[\"rmp\"],\"audio/x-realaudio\":[\"*ra\"],\"audio/x-wav\":[\"*wav\"],\"chemical/x-cdx\":[\"cdx\"],\"chemical/x-cif\":[\"cif\"],\"chemical/x-cmdf\":[\"cmdf\"],\"chemical/x-cml\":[\"cml\"],\"chemical/x-csml\":[\"csml\"],\"chemical/x-xyz\":[\"xyz\"],\"image/prs.btif\":[\"btif\"],\"image/prs.pti\":[\"pti\"],\"image/vnd.adobe.photoshop\":[\"psd\"],\"image/vnd.airzip.accelerator.azv\":[\"azv\"],\"image/vnd.dece.graphic\":[\"uvi\",\"uvvi\",\"uvg\",\"uvvg\"],\"image/vnd.djvu\":[\"djvu\",\"djv\"],\"image/vnd.dvb.subtitle\":[\"*sub\"],\"image/vnd.dwg\":[\"dwg\"],\"image/vnd.dxf\":[\"dxf\"],\"image/vnd.fastbidsheet\":[\"fbs\"],\"image/vnd.fpx\":[\"fpx\"],\"image/vnd.fst\":[\"fst\"],\"image/vnd.fujixerox.edmics-mmr\":[\"mmr\"],\"image/vnd.fujixerox.edmics-rlc\":[\"rlc\"],\"image/vnd.microsoft.icon\":[\"ico\"],\"image/vnd.ms-dds\":[\"dds\"],\"image/vnd.ms-modi\":[\"mdi\"],\"image/vnd.ms-photo\":[\"wdp\"],\"image/vnd.net-fpx\":[\"npx\"],\"image/vnd.pco.b16\":[\"b16\"],\"image/vnd.tencent.tap\":[\"tap\"],\"image/vnd.valve.source.texture\":[\"vtf\"],\"image/vnd.wap.wbmp\":[\"wbmp\"],\"image/vnd.xiff\":[\"xif\"],\"image/vnd.zbrush.pcx\":[\"pcx\"],\"image/x-3ds\":[\"3ds\"],\"image/x-cmu-raster\":[\"ras\"],\"image/x-cmx\":[\"cmx\"],\"image/x-freehand\":[\"fh\",\"fhc\",\"fh4\",\"fh5\",\"fh7\"],\"image/x-icon\":[\"*ico\"],\"image/x-jng\":[\"jng\"],\"image/x-mrsid-image\":[\"sid\"],\"image/x-ms-bmp\":[\"*bmp\"],\"image/x-pcx\":[\"*pcx\"],\"image/x-pict\":[\"pic\",\"pct\"],\"image/x-portable-anymap\":[\"pnm\"],\"image/x-portable-bitmap\":[\"pbm\"],\"image/x-portable-graymap\":[\"pgm\"],\"image/x-portable-pixmap\":[\"ppm\"],\"image/x-rgb\":[\"rgb\"],\"image/x-tga\":[\"tga\"],\"image/x-xbitmap\":[\"xbm\"],\"image/x-xpixmap\":[\"xpm\"],\"image/x-xwindowdump\":[\"xwd\"],\"message/vnd.wfa.wsc\":[\"wsc\"],\"model/vnd.collada+xml\":[\"dae\"],\"model/vnd.dwf\":[\"dwf\"],\"model/vnd.gdl\":[\"gdl\"],\"model/vnd.gtw\":[\"gtw\"],\"model/vnd.mts\":[\"mts\"],\"model/vnd.opengex\":[\"ogex\"],\"model/vnd.parasolid.transmit.binary\":[\"x_b\"],\"model/vnd.parasolid.transmit.text\":[\"x_t\"],\"model/vnd.sap.vds\":[\"vds\"],\"model/vnd.usdz+zip\":[\"usdz\"],\"model/vnd.valve.source.compiled-map\":[\"bsp\"],\"model/vnd.vtu\":[\"vtu\"],\"text/prs.lines.tag\":[\"dsc\"],\"text/vnd.curl\":[\"curl\"],\"text/vnd.curl.dcurl\":[\"dcurl\"],\"text/vnd.curl.mcurl\":[\"mcurl\"],\"text/vnd.curl.scurl\":[\"scurl\"],\"text/vnd.dvb.subtitle\":[\"sub\"],\"text/vnd.fly\":[\"fly\"],\"text/vnd.fmi.flexstor\":[\"flx\"],\"text/vnd.graphviz\":[\"gv\"],\"text/vnd.in3d.3dml\":[\"3dml\"],\"text/vnd.in3d.spot\":[\"spot\"],\"text/vnd.sun.j2me.app-descriptor\":[\"jad\"],\"text/vnd.wap.wml\":[\"wml\"],\"text/vnd.wap.wmlscript\":[\"wmls\"],\"text/x-asm\":[\"s\",\"asm\"],\"text/x-c\":[\"c\",\"cc\",\"cxx\",\"cpp\",\"h\",\"hh\",\"dic\"],\"text/x-component\":[\"htc\"],\"text/x-fortran\":[\"f\",\"for\",\"f77\",\"f90\"],\"text/x-handlebars-template\":[\"hbs\"],\"text/x-java-source\":[\"java\"],\"text/x-lua\":[\"lua\"],\"text/x-markdown\":[\"mkd\"],\"text/x-nfo\":[\"nfo\"],\"text/x-opml\":[\"opml\"],\"text/x-org\":[\"*org\"],\"text/x-pascal\":[\"p\",\"pas\"],\"text/x-processing\":[\"pde\"],\"text/x-sass\":[\"sass\"],\"text/x-scss\":[\"scss\"],\"text/x-setext\":[\"etx\"],\"text/x-sfv\":[\"sfv\"],\"text/x-suse-ymp\":[\"ymp\"],\"text/x-uuencode\":[\"uu\"],\"text/x-vcalendar\":[\"vcs\"],\"text/x-vcard\":[\"vcf\"],\"video/vnd.dece.hd\":[\"uvh\",\"uvvh\"],\"video/vnd.dece.mobile\":[\"uvm\",\"uvvm\"],\"video/vnd.dece.pd\":[\"uvp\",\"uvvp\"],\"video/vnd.dece.sd\":[\"uvs\",\"uvvs\"],\"video/vnd.dece.video\":[\"uvv\",\"uvvv\"],\"video/vnd.dvb.file\":[\"dvb\"],\"video/vnd.fvt\":[\"fvt\"],\"video/vnd.mpegurl\":[\"mxu\",\"m4u\"],\"video/vnd.ms-playready.media.pyv\":[\"pyv\"],\"video/vnd.uvvu.mp4\":[\"uvu\",\"uvvu\"],\"video/vnd.vivo\":[\"viv\"],\"video/x-f4v\":[\"f4v\"],\"video/x-fli\":[\"fli\"],\"video/x-flv\":[\"flv\"],\"video/x-m4v\":[\"m4v\"],\"video/x-matroska\":[\"mkv\",\"mk3d\",\"mks\"],\"video/x-mng\":[\"mng\"],\"video/x-ms-asf\":[\"asf\",\"asx\"],\"video/x-ms-vob\":[\"vob\"],\"video/x-ms-wm\":[\"wm\"],\"video/x-ms-wmv\":[\"wmv\"],\"video/x-ms-wmx\":[\"wmx\"],\"video/x-ms-wvx\":[\"wvx\"],\"video/x-msvideo\":[\"avi\"],\"video/x-sgi-movie\":[\"movie\"],\"video/x-smv\":[\"smv\"],\"x-conference/x-cooltalk\":[\"ice\"]};","module.exports = {\"application/andrew-inset\":[\"ez\"],\"application/applixware\":[\"aw\"],\"application/atom+xml\":[\"atom\"],\"application/atomcat+xml\":[\"atomcat\"],\"application/atomdeleted+xml\":[\"atomdeleted\"],\"application/atomsvc+xml\":[\"atomsvc\"],\"application/atsc-dwd+xml\":[\"dwd\"],\"application/atsc-held+xml\":[\"held\"],\"application/atsc-rsat+xml\":[\"rsat\"],\"application/bdoc\":[\"bdoc\"],\"application/calendar+xml\":[\"xcs\"],\"application/ccxml+xml\":[\"ccxml\"],\"application/cdfx+xml\":[\"cdfx\"],\"application/cdmi-capability\":[\"cdmia\"],\"application/cdmi-container\":[\"cdmic\"],\"application/cdmi-domain\":[\"cdmid\"],\"application/cdmi-object\":[\"cdmio\"],\"application/cdmi-queue\":[\"cdmiq\"],\"application/cu-seeme\":[\"cu\"],\"application/dash+xml\":[\"mpd\"],\"application/davmount+xml\":[\"davmount\"],\"application/docbook+xml\":[\"dbk\"],\"application/dssc+der\":[\"dssc\"],\"application/dssc+xml\":[\"xdssc\"],\"application/ecmascript\":[\"es\",\"ecma\"],\"application/emma+xml\":[\"emma\"],\"application/emotionml+xml\":[\"emotionml\"],\"application/epub+zip\":[\"epub\"],\"application/exi\":[\"exi\"],\"application/express\":[\"exp\"],\"application/fdt+xml\":[\"fdt\"],\"application/font-tdpfr\":[\"pfr\"],\"application/geo+json\":[\"geojson\"],\"application/gml+xml\":[\"gml\"],\"application/gpx+xml\":[\"gpx\"],\"application/gxf\":[\"gxf\"],\"application/gzip\":[\"gz\"],\"application/hjson\":[\"hjson\"],\"application/hyperstudio\":[\"stk\"],\"application/inkml+xml\":[\"ink\",\"inkml\"],\"application/ipfix\":[\"ipfix\"],\"application/its+xml\":[\"its\"],\"application/java-archive\":[\"jar\",\"war\",\"ear\"],\"application/java-serialized-object\":[\"ser\"],\"application/java-vm\":[\"class\"],\"application/javascript\":[\"js\",\"mjs\"],\"application/json\":[\"json\",\"map\"],\"application/json5\":[\"json5\"],\"application/jsonml+json\":[\"jsonml\"],\"application/ld+json\":[\"jsonld\"],\"application/lgr+xml\":[\"lgr\"],\"application/lost+xml\":[\"lostxml\"],\"application/mac-binhex40\":[\"hqx\"],\"application/mac-compactpro\":[\"cpt\"],\"application/mads+xml\":[\"mads\"],\"application/manifest+json\":[\"webmanifest\"],\"application/marc\":[\"mrc\"],\"application/marcxml+xml\":[\"mrcx\"],\"application/mathematica\":[\"ma\",\"nb\",\"mb\"],\"application/mathml+xml\":[\"mathml\"],\"application/mbox\":[\"mbox\"],\"application/mediaservercontrol+xml\":[\"mscml\"],\"application/metalink+xml\":[\"metalink\"],\"application/metalink4+xml\":[\"meta4\"],\"application/mets+xml\":[\"mets\"],\"application/mmt-aei+xml\":[\"maei\"],\"application/mmt-usd+xml\":[\"musd\"],\"application/mods+xml\":[\"mods\"],\"application/mp21\":[\"m21\",\"mp21\"],\"application/mp4\":[\"mp4s\",\"m4p\"],\"application/msword\":[\"doc\",\"dot\"],\"application/mxf\":[\"mxf\"],\"application/n-quads\":[\"nq\"],\"application/n-triples\":[\"nt\"],\"application/node\":[\"cjs\"],\"application/octet-stream\":[\"bin\",\"dms\",\"lrf\",\"mar\",\"so\",\"dist\",\"distz\",\"pkg\",\"bpk\",\"dump\",\"elc\",\"deploy\",\"exe\",\"dll\",\"deb\",\"dmg\",\"iso\",\"img\",\"msi\",\"msp\",\"msm\",\"buffer\"],\"application/oda\":[\"oda\"],\"application/oebps-package+xml\":[\"opf\"],\"application/ogg\":[\"ogx\"],\"application/omdoc+xml\":[\"omdoc\"],\"application/onenote\":[\"onetoc\",\"onetoc2\",\"onetmp\",\"onepkg\"],\"application/oxps\":[\"oxps\"],\"application/p2p-overlay+xml\":[\"relo\"],\"application/patch-ops-error+xml\":[\"xer\"],\"application/pdf\":[\"pdf\"],\"application/pgp-encrypted\":[\"pgp\"],\"application/pgp-signature\":[\"asc\",\"sig\"],\"application/pics-rules\":[\"prf\"],\"application/pkcs10\":[\"p10\"],\"application/pkcs7-mime\":[\"p7m\",\"p7c\"],\"application/pkcs7-signature\":[\"p7s\"],\"application/pkcs8\":[\"p8\"],\"application/pkix-attr-cert\":[\"ac\"],\"application/pkix-cert\":[\"cer\"],\"application/pkix-crl\":[\"crl\"],\"application/pkix-pkipath\":[\"pkipath\"],\"application/pkixcmp\":[\"pki\"],\"application/pls+xml\":[\"pls\"],\"application/postscript\":[\"ai\",\"eps\",\"ps\"],\"application/provenance+xml\":[\"provx\"],\"application/pskc+xml\":[\"pskcxml\"],\"application/raml+yaml\":[\"raml\"],\"application/rdf+xml\":[\"rdf\",\"owl\"],\"application/reginfo+xml\":[\"rif\"],\"application/relax-ng-compact-syntax\":[\"rnc\"],\"application/resource-lists+xml\":[\"rl\"],\"application/resource-lists-diff+xml\":[\"rld\"],\"application/rls-services+xml\":[\"rs\"],\"application/route-apd+xml\":[\"rapd\"],\"application/route-s-tsid+xml\":[\"sls\"],\"application/route-usd+xml\":[\"rusd\"],\"application/rpki-ghostbusters\":[\"gbr\"],\"application/rpki-manifest\":[\"mft\"],\"application/rpki-roa\":[\"roa\"],\"application/rsd+xml\":[\"rsd\"],\"application/rss+xml\":[\"rss\"],\"application/rtf\":[\"rtf\"],\"application/sbml+xml\":[\"sbml\"],\"application/scvp-cv-request\":[\"scq\"],\"application/scvp-cv-response\":[\"scs\"],\"application/scvp-vp-request\":[\"spq\"],\"application/scvp-vp-response\":[\"spp\"],\"application/sdp\":[\"sdp\"],\"application/senml+xml\":[\"senmlx\"],\"application/sensml+xml\":[\"sensmlx\"],\"application/set-payment-initiation\":[\"setpay\"],\"application/set-registration-initiation\":[\"setreg\"],\"application/shf+xml\":[\"shf\"],\"application/sieve\":[\"siv\",\"sieve\"],\"application/smil+xml\":[\"smi\",\"smil\"],\"application/sparql-query\":[\"rq\"],\"application/sparql-results+xml\":[\"srx\"],\"application/srgs\":[\"gram\"],\"application/srgs+xml\":[\"grxml\"],\"application/sru+xml\":[\"sru\"],\"application/ssdl+xml\":[\"ssdl\"],\"application/ssml+xml\":[\"ssml\"],\"application/swid+xml\":[\"swidtag\"],\"application/tei+xml\":[\"tei\",\"teicorpus\"],\"application/thraud+xml\":[\"tfi\"],\"application/timestamped-data\":[\"tsd\"],\"application/toml\":[\"toml\"],\"application/trig\":[\"trig\"],\"application/ttml+xml\":[\"ttml\"],\"application/ubjson\":[\"ubj\"],\"application/urc-ressheet+xml\":[\"rsheet\"],\"application/urc-targetdesc+xml\":[\"td\"],\"application/voicexml+xml\":[\"vxml\"],\"application/wasm\":[\"wasm\"],\"application/widget\":[\"wgt\"],\"application/winhlp\":[\"hlp\"],\"application/wsdl+xml\":[\"wsdl\"],\"application/wspolicy+xml\":[\"wspolicy\"],\"application/xaml+xml\":[\"xaml\"],\"application/xcap-att+xml\":[\"xav\"],\"application/xcap-caps+xml\":[\"xca\"],\"application/xcap-diff+xml\":[\"xdf\"],\"application/xcap-el+xml\":[\"xel\"],\"application/xcap-ns+xml\":[\"xns\"],\"application/xenc+xml\":[\"xenc\"],\"application/xhtml+xml\":[\"xhtml\",\"xht\"],\"application/xliff+xml\":[\"xlf\"],\"application/xml\":[\"xml\",\"xsl\",\"xsd\",\"rng\"],\"application/xml-dtd\":[\"dtd\"],\"application/xop+xml\":[\"xop\"],\"application/xproc+xml\":[\"xpl\"],\"application/xslt+xml\":[\"*xsl\",\"xslt\"],\"application/xspf+xml\":[\"xspf\"],\"application/xv+xml\":[\"mxml\",\"xhvml\",\"xvml\",\"xvm\"],\"application/yang\":[\"yang\"],\"application/yin+xml\":[\"yin\"],\"application/zip\":[\"zip\"],\"audio/3gpp\":[\"*3gpp\"],\"audio/adpcm\":[\"adp\"],\"audio/amr\":[\"amr\"],\"audio/basic\":[\"au\",\"snd\"],\"audio/midi\":[\"mid\",\"midi\",\"kar\",\"rmi\"],\"audio/mobile-xmf\":[\"mxmf\"],\"audio/mp3\":[\"*mp3\"],\"audio/mp4\":[\"m4a\",\"mp4a\"],\"audio/mpeg\":[\"mpga\",\"mp2\",\"mp2a\",\"mp3\",\"m2a\",\"m3a\"],\"audio/ogg\":[\"oga\",\"ogg\",\"spx\",\"opus\"],\"audio/s3m\":[\"s3m\"],\"audio/silk\":[\"sil\"],\"audio/wav\":[\"wav\"],\"audio/wave\":[\"*wav\"],\"audio/webm\":[\"weba\"],\"audio/xm\":[\"xm\"],\"font/collection\":[\"ttc\"],\"font/otf\":[\"otf\"],\"font/ttf\":[\"ttf\"],\"font/woff\":[\"woff\"],\"font/woff2\":[\"woff2\"],\"image/aces\":[\"exr\"],\"image/apng\":[\"apng\"],\"image/avif\":[\"avif\"],\"image/bmp\":[\"bmp\"],\"image/cgm\":[\"cgm\"],\"image/dicom-rle\":[\"drle\"],\"image/emf\":[\"emf\"],\"image/fits\":[\"fits\"],\"image/g3fax\":[\"g3\"],\"image/gif\":[\"gif\"],\"image/heic\":[\"heic\"],\"image/heic-sequence\":[\"heics\"],\"image/heif\":[\"heif\"],\"image/heif-sequence\":[\"heifs\"],\"image/hej2k\":[\"hej2\"],\"image/hsj2\":[\"hsj2\"],\"image/ief\":[\"ief\"],\"image/jls\":[\"jls\"],\"image/jp2\":[\"jp2\",\"jpg2\"],\"image/jpeg\":[\"jpeg\",\"jpg\",\"jpe\"],\"image/jph\":[\"jph\"],\"image/jphc\":[\"jhc\"],\"image/jpm\":[\"jpm\"],\"image/jpx\":[\"jpx\",\"jpf\"],\"image/jxr\":[\"jxr\"],\"image/jxra\":[\"jxra\"],\"image/jxrs\":[\"jxrs\"],\"image/jxs\":[\"jxs\"],\"image/jxsc\":[\"jxsc\"],\"image/jxsi\":[\"jxsi\"],\"image/jxss\":[\"jxss\"],\"image/ktx\":[\"ktx\"],\"image/ktx2\":[\"ktx2\"],\"image/png\":[\"png\"],\"image/sgi\":[\"sgi\"],\"image/svg+xml\":[\"svg\",\"svgz\"],\"image/t38\":[\"t38\"],\"image/tiff\":[\"tif\",\"tiff\"],\"image/tiff-fx\":[\"tfx\"],\"image/webp\":[\"webp\"],\"image/wmf\":[\"wmf\"],\"message/disposition-notification\":[\"disposition-notification\"],\"message/global\":[\"u8msg\"],\"message/global-delivery-status\":[\"u8dsn\"],\"message/global-disposition-notification\":[\"u8mdn\"],\"message/global-headers\":[\"u8hdr\"],\"message/rfc822\":[\"eml\",\"mime\"],\"model/3mf\":[\"3mf\"],\"model/gltf+json\":[\"gltf\"],\"model/gltf-binary\":[\"glb\"],\"model/iges\":[\"igs\",\"iges\"],\"model/mesh\":[\"msh\",\"mesh\",\"silo\"],\"model/mtl\":[\"mtl\"],\"model/obj\":[\"obj\"],\"model/step+xml\":[\"stpx\"],\"model/step+zip\":[\"stpz\"],\"model/step-xml+zip\":[\"stpxz\"],\"model/stl\":[\"stl\"],\"model/vrml\":[\"wrl\",\"vrml\"],\"model/x3d+binary\":[\"*x3db\",\"x3dbz\"],\"model/x3d+fastinfoset\":[\"x3db\"],\"model/x3d+vrml\":[\"*x3dv\",\"x3dvz\"],\"model/x3d+xml\":[\"x3d\",\"x3dz\"],\"model/x3d-vrml\":[\"x3dv\"],\"text/cache-manifest\":[\"appcache\",\"manifest\"],\"text/calendar\":[\"ics\",\"ifb\"],\"text/coffeescript\":[\"coffee\",\"litcoffee\"],\"text/css\":[\"css\"],\"text/csv\":[\"csv\"],\"text/html\":[\"html\",\"htm\",\"shtml\"],\"text/jade\":[\"jade\"],\"text/jsx\":[\"jsx\"],\"text/less\":[\"less\"],\"text/markdown\":[\"markdown\",\"md\"],\"text/mathml\":[\"mml\"],\"text/mdx\":[\"mdx\"],\"text/n3\":[\"n3\"],\"text/plain\":[\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\",\"in\",\"ini\"],\"text/richtext\":[\"rtx\"],\"text/rtf\":[\"*rtf\"],\"text/sgml\":[\"sgml\",\"sgm\"],\"text/shex\":[\"shex\"],\"text/slim\":[\"slim\",\"slm\"],\"text/spdx\":[\"spdx\"],\"text/stylus\":[\"stylus\",\"styl\"],\"text/tab-separated-values\":[\"tsv\"],\"text/troff\":[\"t\",\"tr\",\"roff\",\"man\",\"me\",\"ms\"],\"text/turtle\":[\"ttl\"],\"text/uri-list\":[\"uri\",\"uris\",\"urls\"],\"text/vcard\":[\"vcard\"],\"text/vtt\":[\"vtt\"],\"text/xml\":[\"*xml\"],\"text/yaml\":[\"yaml\",\"yml\"],\"video/3gpp\":[\"3gp\",\"3gpp\"],\"video/3gpp2\":[\"3g2\"],\"video/h261\":[\"h261\"],\"video/h263\":[\"h263\"],\"video/h264\":[\"h264\"],\"video/iso.segment\":[\"m4s\"],\"video/jpeg\":[\"jpgv\"],\"video/jpm\":[\"*jpm\",\"jpgm\"],\"video/mj2\":[\"mj2\",\"mjp2\"],\"video/mp2t\":[\"ts\"],\"video/mp4\":[\"mp4\",\"mp4v\",\"mpg4\"],\"video/mpeg\":[\"mpeg\",\"mpg\",\"mpe\",\"m1v\",\"m2v\"],\"video/ogg\":[\"ogv\"],\"video/quicktime\":[\"qt\",\"mov\"],\"video/webm\":[\"webm\"]};","import api from \"!../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../../css-loader/dist/cjs.js!./modal-notification.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../css-loader/dist/cjs.js!./comments.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../css-loader/dist/cjs.js!./index.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!./status-bar.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './task-service';\nexport * from './task-contribution';\nexport * from './task-definition-registry';\nexport * from './task-problem-matcher-registry';\nexport * from './task-problem-pattern-registry';\nexport * from './task-schema-updater';\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './typehierarchy';\nexport * from './typehierarchy-contribution';\nexport * from './typehierarchy-frontend-module';\nexport * from './typehierarchy-service';\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { UriComponents } from '@theia/core/lib/common/uri';\nimport { Range, SymbolKind, SymbolTag } from '@theia/core/shared/vscode-languageserver-protocol';\n\nexport interface TypeHierarchyItem {\n    _sessionId?: string;\n    _itemId?: string;\n\n    kind: SymbolKind;\n    tags?: readonly SymbolTag[];\n    name: string;\n    detail?: string;\n    uri: UriComponents;\n    range: Range;\n    selectionRange: Range;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Semaphore_1 = require(\"./Semaphore\");\nvar Mutex = /** @class */ (function () {\n    function Mutex(cancelError) {\n        this._semaphore = new Semaphore_1.default(1, cancelError);\n    }\n    Mutex.prototype.acquire = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, releaser;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._semaphore.acquire()];\n                    case 1:\n                        _a = _b.sent(), releaser = _a[1];\n                        return [2 /*return*/, releaser];\n                }\n            });\n        });\n    };\n    Mutex.prototype.runExclusive = function (callback) {\n        return this._semaphore.runExclusive(function () { return callback(); });\n    };\n    Mutex.prototype.isLocked = function () {\n        return this._semaphore.isLocked();\n    };\n    Mutex.prototype.waitForUnlock = function () {\n        return this._semaphore.waitForUnlock();\n    };\n    Mutex.prototype.release = function () {\n        if (this._semaphore.isLocked())\n            this._semaphore.release();\n    };\n    Mutex.prototype.cancel = function () {\n        return this._semaphore.cancel();\n    };\n    return Mutex;\n}());\nexports.default = Mutex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar errors_1 = require(\"./errors\");\nvar Semaphore = /** @class */ (function () {\n    function Semaphore(_value, _cancelError) {\n        if (_cancelError === void 0) { _cancelError = errors_1.E_CANCELED; }\n        this._value = _value;\n        this._cancelError = _cancelError;\n        this._weightedQueues = [];\n        this._weightedWaiters = [];\n    }\n    Semaphore.prototype.acquire = function (weight) {\n        var _this = this;\n        if (weight === void 0) { weight = 1; }\n        if (weight <= 0)\n            throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n        return new Promise(function (resolve, reject) {\n            if (!_this._weightedQueues[weight - 1])\n                _this._weightedQueues[weight - 1] = [];\n            _this._weightedQueues[weight - 1].push({ resolve: resolve, reject: reject });\n            _this._dispatch();\n        });\n    };\n    Semaphore.prototype.runExclusive = function (callback, weight) {\n        if (weight === void 0) { weight = 1; }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, value, release;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.acquire(weight)];\n                    case 1:\n                        _a = _b.sent(), value = _a[0], release = _a[1];\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 4, 5]);\n                        return [4 /*yield*/, callback(value)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                    case 4:\n                        release();\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Semaphore.prototype.waitForUnlock = function (weight) {\n        var _this = this;\n        if (weight === void 0) { weight = 1; }\n        if (weight <= 0)\n            throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n        return new Promise(function (resolve) {\n            if (!_this._weightedWaiters[weight - 1])\n                _this._weightedWaiters[weight - 1] = [];\n            _this._weightedWaiters[weight - 1].push(resolve);\n            _this._dispatch();\n        });\n    };\n    Semaphore.prototype.isLocked = function () {\n        return this._value <= 0;\n    };\n    Semaphore.prototype.getValue = function () {\n        return this._value;\n    };\n    Semaphore.prototype.setValue = function (value) {\n        this._value = value;\n        this._dispatch();\n    };\n    Semaphore.prototype.release = function (weight) {\n        if (weight === void 0) { weight = 1; }\n        if (weight <= 0)\n            throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n        this._value += weight;\n        this._dispatch();\n    };\n    Semaphore.prototype.cancel = function () {\n        var _this = this;\n        this._weightedQueues.forEach(function (queue) { return queue.forEach(function (entry) { return entry.reject(_this._cancelError); }); });\n        this._weightedQueues = [];\n    };\n    Semaphore.prototype._dispatch = function () {\n        var _a;\n        for (var weight = this._value; weight > 0; weight--) {\n            var queueEntry = (_a = this._weightedQueues[weight - 1]) === null || _a === void 0 ? void 0 : _a.shift();\n            if (!queueEntry)\n                continue;\n            var previousValue = this._value;\n            var previousWeight = weight;\n            this._value -= weight;\n            weight = this._value + 1;\n            queueEntry.resolve([previousValue, this._newReleaser(previousWeight)]);\n        }\n        this._drainUnlockWaiters();\n    };\n    Semaphore.prototype._newReleaser = function (weight) {\n        var _this = this;\n        var called = false;\n        return function () {\n            if (called)\n                return;\n            called = true;\n            _this.release(weight);\n        };\n    };\n    Semaphore.prototype._drainUnlockWaiters = function () {\n        for (var weight = this._value; weight > 0; weight--) {\n            if (!this._weightedWaiters[weight - 1])\n                continue;\n            this._weightedWaiters[weight - 1].forEach(function (waiter) { return waiter(); });\n            this._weightedWaiters[weight - 1] = [];\n        }\n    };\n    return Semaphore;\n}());\nexports.default = Semaphore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.E_CANCELED = exports.E_ALREADY_LOCKED = exports.E_TIMEOUT = void 0;\nexports.E_TIMEOUT = new Error('timeout while waiting for mutex to become available');\nexports.E_ALREADY_LOCKED = new Error('mutex already locked');\nexports.E_CANCELED = new Error('request for lock canceled');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = exports.withTimeout = exports.Semaphore = exports.Mutex = void 0;\nvar tslib_1 = require(\"tslib\");\nvar Mutex_1 = require(\"./Mutex\");\nObject.defineProperty(exports, \"Mutex\", { enumerable: true, get: function () { return Mutex_1.default; } });\nvar Semaphore_1 = require(\"./Semaphore\");\nObject.defineProperty(exports, \"Semaphore\", { enumerable: true, get: function () { return Semaphore_1.default; } });\nvar withTimeout_1 = require(\"./withTimeout\");\nObject.defineProperty(exports, \"withTimeout\", { enumerable: true, get: function () { return withTimeout_1.withTimeout; } });\nvar tryAcquire_1 = require(\"./tryAcquire\");\nObject.defineProperty(exports, \"tryAcquire\", { enumerable: true, get: function () { return tryAcquire_1.tryAcquire; } });\ntslib_1.__exportStar(require(\"./errors\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = void 0;\nvar errors_1 = require(\"./errors\");\nvar withTimeout_1 = require(\"./withTimeout\");\n// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types\nfunction tryAcquire(sync, alreadyAcquiredError) {\n    if (alreadyAcquiredError === void 0) { alreadyAcquiredError = errors_1.E_ALREADY_LOCKED; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (0, withTimeout_1.withTimeout)(sync, 0, alreadyAcquiredError);\n}\nexports.tryAcquire = tryAcquire;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withTimeout = void 0;\nvar tslib_1 = require(\"tslib\");\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar errors_1 = require(\"./errors\");\nfunction withTimeout(sync, timeout, timeoutError) {\n    var _this = this;\n    if (timeoutError === void 0) { timeoutError = errors_1.E_TIMEOUT; }\n    return {\n        acquire: function (weight) {\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n            }\n            return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                var isTimeout, handle, ticket, release, e_1;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            isTimeout = false;\n                            handle = setTimeout(function () {\n                                isTimeout = true;\n                                reject(timeoutError);\n                            }, timeout);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, sync.acquire(weight)];\n                        case 2:\n                            ticket = _a.sent();\n                            if (isTimeout) {\n                                release = Array.isArray(ticket) ? ticket[1] : ticket;\n                                release();\n                            }\n                            else {\n                                clearTimeout(handle);\n                                resolve(ticket);\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            e_1 = _a.sent();\n                            if (!isTimeout) {\n                                clearTimeout(handle);\n                                reject(e_1);\n                            }\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); });\n        },\n        runExclusive: function (callback, weight) {\n            return tslib_1.__awaiter(this, void 0, void 0, function () {\n                var release, ticket;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            release = function () { return undefined; };\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, , 7, 8]);\n                            return [4 /*yield*/, this.acquire(weight)];\n                        case 2:\n                            ticket = _a.sent();\n                            if (!Array.isArray(ticket)) return [3 /*break*/, 4];\n                            release = ticket[1];\n                            return [4 /*yield*/, callback(ticket[0])];\n                        case 3: return [2 /*return*/, _a.sent()];\n                        case 4:\n                            release = ticket;\n                            return [4 /*yield*/, callback()];\n                        case 5: return [2 /*return*/, _a.sent()];\n                        case 6: return [3 /*break*/, 8];\n                        case 7:\n                            release();\n                            return [7 /*endfinally*/];\n                        case 8: return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        release: function (weight) {\n            sync.release(weight);\n        },\n        cancel: function () {\n            return sync.cancel();\n        },\n        waitForUnlock: function (weight) {\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(\"invalid weight \".concat(weight, \": must be positive\"));\n            }\n            return new Promise(function (resolve, reject) {\n                var handle = setTimeout(function () { return reject(timeoutError); }, timeout);\n                sync.waitForUnlock(weight).then(function () {\n                    clearTimeout(handle);\n                    resolve();\n                });\n            });\n        },\n        isLocked: function () { return sync.isLocked(); },\n        getValue: function () { return sync.getValue(); },\n        setValue: function (value) { return sync.setValue(value); },\n    };\n}\nexports.withTimeout = withTimeout;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n.modal-Notification {\n  pointer-events: all;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  display: flex;\n  flex-direction: row;\n  -webkit-justify-content: center;\n  justify-content: center;\n  clear: both;\n  box-sizing: border-box;\n  position: relative;\n  min-width: 200px;\n  max-width: min(66vw, 800px);\n  background-color: var(--theia-editorWidget-background);\n  min-height: 35px;\n  margin-bottom: 1px;\n  color: var(--theia-editorWidget-foreground);\n}\n\n.modal-Notification .icon {\n  display: inline-block;\n  font-size: 20px;\n  padding: 5px 0;\n  width: 35px;\n  order: 1;\n}\n\n.modal-Notification .icon .codicon {\n  line-height: inherit;\n  vertical-align: middle;\n  font-size: calc(var(--theia-ui-padding) * 5);\n  color: var(--theia-editorInfo-foreground);\n}\n\n.modal-Notification .icon .error {\n  color: var(--theia-editorError-foreground);\n}\n\n.modal-Notification .icon .warning {\n  color: var(--theia-editorWarning-foreground);\n}\n\n.modal-Notification .text {\n  order: 2;\n  display: inline-block;\n  max-height: min(66vh, 600px);\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  align-self: center;\n  flex: 1 100%;\n  padding: 10px;\n  overflow: auto;\n  white-space: pre-wrap;\n}\n\n.modal-Notification .text > p {\n  margin: 0;\n  font-size: var(--theia-ui-font-size1);\n  font-family: var(--theia-ui-font-family);\n  vertical-align: middle;\n}\n\n.modal-Notification .buttons {\n  display: flex;\n  flex-direction: row;\n  order: 3;\n  white-space: nowrap;\n  align-self: flex-end;\n  height: 40px;\n}\n\n.modal-Notification .buttons > button {\n  background-color: var(--theia-button-background);\n  color: var(--theia-button-foreground);\n  border: none;\n  border-radius: 0;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  padding: 0 10px;\n  margin: 0;\n  font-size: var(--theia-ui-font-size1);\n  outline: none;\n  cursor: pointer;\n}\n\n.modal-Notification .buttons > button:hover {\n  background-color: var(--theia-button-hoverBackground);\n}\n\n.modal-Notification .detail {\n  align-self: center;\n  order: 3;\n  flex: 1 100%;\n  color: var(--theia-descriptionForeground);\n}\n\n.modal-Notification .detail > p {\n  margin: calc(var(--theia-ui-padding) * 2) 0px 0px 0px;\n}\n\n.modal-Notification .text {\n  padding: calc(var(--theia-ui-padding) * 1.5);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../node_modules/@theia/plugin-ext/src/main/browser/dialogs/style/modal-notification.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;AACjF;EACE,mBAAmB;EACnB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,aAAa;EACb,mBAAmB;EACnB,+BAA+B;EAC/B,uBAAuB;EACvB,WAAW;EACX,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,2BAA2B;EAC3B,sDAAsD;EACtD,gBAAgB;EAChB,kBAAkB;EAClB,2CAA2C;AAC7C;;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,cAAc;EACd,WAAW;EACX,QAAQ;AACV;;AAEA;EACE,oBAAoB;EACpB,sBAAsB;EACtB,4CAA4C;EAC5C,yCAAyC;AAC3C;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,4CAA4C;AAC9C;;AAEA;EACE,QAAQ;EACR,qBAAqB;EACrB,4BAA4B;EAC5B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,SAAS;EACT,qCAAqC;EACrC,wCAAwC;EACxC,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,mBAAmB;EACnB,oBAAoB;EACpB,YAAY;AACd;;AAEA;EACE,gDAAgD;EAChD,qCAAqC;EACrC,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,qBAAqB;EACrB,qBAAqB;EACrB,eAAe;EACf,SAAS;EACT,qCAAqC;EACrC,aAAa;EACb,eAAe;AACjB;;AAEA;EACE,qDAAqD;AACvD;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,YAAY;EACZ,yCAAyC;AAC3C;;AAEA;EACE,qDAAqD;AACvD;;AAEA;EACE,4CAA4C;AAC9C\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2018 Red Hat, Inc. and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n.modal-Notification {\\n  pointer-events: all;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  display: flex;\\n  flex-direction: row;\\n  -webkit-justify-content: center;\\n  justify-content: center;\\n  clear: both;\\n  box-sizing: border-box;\\n  position: relative;\\n  min-width: 200px;\\n  max-width: min(66vw, 800px);\\n  background-color: var(--theia-editorWidget-background);\\n  min-height: 35px;\\n  margin-bottom: 1px;\\n  color: var(--theia-editorWidget-foreground);\\n}\\n\\n.modal-Notification .icon {\\n  display: inline-block;\\n  font-size: 20px;\\n  padding: 5px 0;\\n  width: 35px;\\n  order: 1;\\n}\\n\\n.modal-Notification .icon .codicon {\\n  line-height: inherit;\\n  vertical-align: middle;\\n  font-size: calc(var(--theia-ui-padding) * 5);\\n  color: var(--theia-editorInfo-foreground);\\n}\\n\\n.modal-Notification .icon .error {\\n  color: var(--theia-editorError-foreground);\\n}\\n\\n.modal-Notification .icon .warning {\\n  color: var(--theia-editorWarning-foreground);\\n}\\n\\n.modal-Notification .text {\\n  order: 2;\\n  display: inline-block;\\n  max-height: min(66vh, 600px);\\n  -webkit-user-select: text;\\n  -moz-user-select: text;\\n  -ms-user-select: text;\\n  user-select: text;\\n  align-self: center;\\n  flex: 1 100%;\\n  padding: 10px;\\n  overflow: auto;\\n  white-space: pre-wrap;\\n}\\n\\n.modal-Notification .text > p {\\n  margin: 0;\\n  font-size: var(--theia-ui-font-size1);\\n  font-family: var(--theia-ui-font-family);\\n  vertical-align: middle;\\n}\\n\\n.modal-Notification .buttons {\\n  display: flex;\\n  flex-direction: row;\\n  order: 3;\\n  white-space: nowrap;\\n  align-self: flex-end;\\n  height: 40px;\\n}\\n\\n.modal-Notification .buttons > button {\\n  background-color: var(--theia-button-background);\\n  color: var(--theia-button-foreground);\\n  border: none;\\n  border-radius: 0;\\n  text-align: center;\\n  text-decoration: none;\\n  display: inline-block;\\n  padding: 0 10px;\\n  margin: 0;\\n  font-size: var(--theia-ui-font-size1);\\n  outline: none;\\n  cursor: pointer;\\n}\\n\\n.modal-Notification .buttons > button:hover {\\n  background-color: var(--theia-button-hoverBackground);\\n}\\n\\n.modal-Notification .detail {\\n  align-self: center;\\n  order: 3;\\n  flex: 1 100%;\\n  color: var(--theia-descriptionForeground);\\n}\\n\\n.modal-Notification .detail > p {\\n  margin: calc(var(--theia-ui-padding) * 2) 0px 0px 0px;\\n}\\n\\n.modal-Notification .text {\\n  padding: calc(var(--theia-ui-padding) * 1.5);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* some code copied and modified from https://github.com/microsoft/vscode/blob/1.49.3/src/vs/workbench/contrib/comments/browser/media/review.css */\n\n.comment-range-glyph {\n    margin-left: 5px;\n    cursor: pointer;\n}\n\n.comment-range-glyph:before {\n    position: absolute;\n    content: '';\n    height: 100%;\n    width: 0;\n    left: -2px;\n    transition: width 80ms linear, left 80ms linear;\n}\n\n.monaco-editor .margin-view-overlays > div:hover > .comment-range-glyph.comment-diff-added:before,\n.monaco-editor .comment-range-glyph.comment-thread:before {\n    position: absolute;\n    height: 100%;\n    width: 9px;\n    left: -6px;\n    z-index: 10;\n    color: black;\n    text-align: center;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n}\n\n.monaco-editor .comment-diff-added {\n    border-left: 3px solid var(--theia-editorGutter-commentRangeForeground);\n    transition: opacity 0.5s;\n}\n\n.monaco-editor .comment-diff-added:before {\n    background: var(--theia-editorGutter-commentRangeForeground);\n}\n\n.monaco-editor .margin-view-overlays > div:hover > .comment-range-glyph.comment-diff-added:before {\n    content: \"+\";\n}\n\n.monaco-editor .comment-range-glyph.comment-thread {\n    z-index: 20;\n    border-left: 3px solid #000;\n}\n\n.monaco-editor .comment-thread:before {\n    background: var(--theia-editorGutter-commentRangeForeground);\n}\n\n.monaco-editor .comment-range-glyph.comment-thread:before {\n    content: \"\";\n    font-size: 10px;\n    line-height: 100%;\n    z-index: 20;\n}\n\n.monaco-editor .review-widget .body {\n    overflow: hidden;\n}\n\n.monaco-editor .review-widget .head {\n    box-sizing: border-box;\n    display: flex;\n    height: 100%;\n}\n\n.monaco-editor .review-widget .head .review-title {\n    display: inline-block;\n    font-size: 13px;\n    margin-left: 20px;\n    cursor: default;\n}\n\n.monaco-editor .review-widget .head .review-actions {\n    flex: 1;\n    text-align: right;\n    padding-right: 2px;\n}\n\n.monaco-editor .review-widget .head .review-actions > .monaco-action-bar {\n    display: inline-block;\n}\n\n.monaco-editor .review-widget .head .review-actions > .monaco-action-bar,\n.monaco-editor .review-widget .head .review-actions > .monaco-action-bar > .actions-container {\n    height: 100%;\n}\n\n.monaco-editor .review-widget .action-item {\n    min-width: 18px;\n    min-height: 20px;\n    margin-left: 4px;\n}\n\n.monaco-editor .review-widget .head .review-actions > .monaco-action-bar .action-label {\n    width: 16px;\n    height: 100%;\n    margin: 0;\n    color: var(--theia-editorWidget-foreground);\n    line-height: inherit;\n    background-repeat: no-repeat;\n    background-position: center center;\n}\n\n.monaco-editor .review-widget>.body {\n    border-top: 1px solid;\n    position: relative;\n}\n\n.monaco-editor .review-widget .body .comment-form {\n    margin: 8px 20px;\n}\n\n.monaco-editor .review-widget .body .review-comment {\n    padding: 8px 16px 8px 20px;\n    display: flex;\n}\n\n.monaco-editor .review-widget .body .review-comment .avatar-container {\n    margin-right: 8px !important;\n    margin-top: 4px !important;\n}\n\n.monaco-editor .review-widget .body .review-comment .avatar-container img.avatar {\n    height: 28px;\n    width: 28px;\n    display: inline-block;\n    overflow: hidden;\n    line-height: 1;\n    vertical-align: middle;\n    border-radius: 3px;\n    border-style: none;\n}\n\n.monaco-editor .review-widget .body .review-comment .review-comment-contents {\n    user-select: text;\n    -webkit-user-select: text;\n    width: 100%;\n    overflow: hidden;\n}\n\n.monaco-editor .review-widget .body .review-comment .review-comment-contents .author {\n    line-height: var(--theia-content-line-height);\n}\n\n.monaco-editor .review-widget .body .review-comment .review-comment-contents .timestamp {\n    line-height: var(--theia-content-line-height);\n    margin: 0 5px 0 5px;\n    padding: 0 2px 0 2px;\n}\n\n.monaco-editor .review-widget .body .review-comment .review-comment-contents .isPending {\n    margin: 0 5px 0 5px;\n    padding: 0 2px 0 2px;\n    font-style: italic;\n}\n\n.monaco-editor .review-widget .body .review-comment .review-comment-contents .comment-body {\n    padding-top: 4px;\n}\n\n.monaco-editor .review-widget .body .review-comment .comment-title {\n    display: flex;\n    width: 100%;\n}\n\n.monaco-editor .review-widget .body .comment-form .theia-comments-input-message-container {\n    display: none;\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container,\n.edit-textarea .theia-comments-input-message-container {\n    display: flex;\n    flex-direction: column;\n    margin: 0px 0px 7px 0px;\n    max-height: 400px;\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container textarea,\n.edit-textarea .theia-comments-input-message-container textarea {\n    line-height: var(--theia-content-line-height);\n    background: var(--theia-editor-background);\n    resize: none;\n    height: 90px;\n    box-sizing: border-box;\n    min-height: 32px;\n    padding: 4px;\n    border: none;\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container textarea:placeholder-shown,\n.edit-textarea .theia-comments-input-message-container textarea:placeholder-shown {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container textarea:not(:focus),\n.edit-textarea .theia-comments-input-message-container textarea:not(:focus) {\n    border: var(--theia-border-width) solid var(--theia-editor-background);\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container textarea:focus,\n.edit-textarea .theia-comments-input-message-container textarea:focus {\n    border: var(--theia-border-width) solid var(--theia-focusBorder);\n}\n\n.theia-comments-input-message {\n    width: 100%;\n}\n\n.monaco-editor .review-widget .body .comment-body p,\n.monaco-editor .review-widget .body .comment-body ul {\n    margin: 8px 0;\n}\n\n.monaco-editor .review-widget .body .comment-body p:first-child,\n.monaco-editor .review-widget .body .comment-body ul:first-child {\n    margin-top: 0;\n}\n\n.monaco-editor .review-widget .body .comment-body p:last-child,\n.monaco-editor .review-widget .body.comment-body ul:last-child {\n    margin-bottom: 0;\n}\n\n.monaco-editor .review-widget .body .comment-body ul {\n    padding-left: 20px;\n}\n\n.monaco-editor .review-widget .body .comment-body li > p {\n    margin-bottom: 0;\n}\n\n.monaco-editor .review-widget .body .comment-body li > ul {\n    margin-top: 0;\n}\n\n.monaco-editor .review-widget .body .comment-body code {\n    border-radius: 3px;\n    padding: 0 0.4em;\n}\n\n.monaco-editor .review-widget .body .comment-body span {\n    white-space: pre;\n}\n\n.monaco-editor .review-widget .body .comment-body img {\n    max-width: 100%;\n}\n\n.monaco-editor .review-widget .body .comment-form {\n    flex: 1;\n    margin: 0px;\n    /* Reset margin as it's handled by container */\n}\n\n.monaco-editor .review-widget .body .comment-form .form-actions {\n    display: none;\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .form-actions {\n    display: block;\n    box-sizing: content-box;\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .review-thread-reply-button {\n    display: none;\n}\n\n.monaco-editor .review-widget .body .comment-form .review-thread-reply-button {\n    text-align: left;\n    display: block;\n    width: 100%;\n    resize: vertical;\n    background: var(--theia-editor-background);\n    color: var(--theia-input-foreground);\n    cursor: text;\n    font-size: var(--theia-ui-font-size1);\n    border-radius: 0;\n    box-sizing: border-box;\n    padding: 6px 12px;\n    font-weight: 600;\n    line-height: 20px;\n    white-space: nowrap;\n    border: 0px;\n    outline: 1px solid transparent;\n}\n\n.monaco-editor .review-widget .body .comment-form .review-thread-reply-button:focus {\n    outline-style: solid;\n    outline-width: 1px;\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .form-actions,\n.monaco-editor .review-widget .body .edit-container .form-actions {\n    overflow: auto;\n    padding: 10px 0;\n}\n\n.monaco-editor .review-widget .body .edit-container .form-actions {\n    display: flex;\n    justify-content: flex-end;\n}\n\n.monaco-editor .review-widget .body .edit-textarea {\n    margin: 5px 0 10px 0;\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .comments-text-button,\n.monaco-editor .review-widget .body .edit-container .comments-text-button {\n    width: auto;\n    padding: 4px 10px;\n    margin-left: 5px;\n    margin-bottom: 5px;\n}\n\n.monaco-editor .review-widget .body .comment-form.expand .comments-text-button {\n    float: right;\n}\n\n.theia-comments-inline-actions-container {\n    display: flex;\n    justify-content: flex-end;\n    margin-left: auto;\n    min-height: 16px;\n}\n\n.theia-comments-inline-actions {\n    display: flex;\n    margin: 0 3px;\n}\n\n.theia-comments-inline-actions a {\n    color: var(--theia-icon-foreground);\n}\n\n.theia-comments-inline-action {\n    padding: 0px 3px;\n    font-size: var(--theia-ui-font-size1);\n    margin: 0 2px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../node_modules/@theia/plugin-ext/src/main/browser/style/comments.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\n *--------------------------------------------------------------------------------------------*/\\n/* some code copied and modified from https://github.com/microsoft/vscode/blob/1.49.3/src/vs/workbench/contrib/comments/browser/media/review.css */\\n\\n.comment-range-glyph {\\n    margin-left: 5px;\\n    cursor: pointer;\\n}\\n\\n.comment-range-glyph:before {\\n    position: absolute;\\n    content: '';\\n    height: 100%;\\n    width: 0;\\n    left: -2px;\\n    transition: width 80ms linear, left 80ms linear;\\n}\\n\\n.monaco-editor .margin-view-overlays > div:hover > .comment-range-glyph.comment-diff-added:before,\\n.monaco-editor .comment-range-glyph.comment-thread:before {\\n    position: absolute;\\n    height: 100%;\\n    width: 9px;\\n    left: -6px;\\n    z-index: 10;\\n    color: black;\\n    text-align: center;\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\\n.monaco-editor .comment-diff-added {\\n    border-left: 3px solid var(--theia-editorGutter-commentRangeForeground);\\n    transition: opacity 0.5s;\\n}\\n\\n.monaco-editor .comment-diff-added:before {\\n    background: var(--theia-editorGutter-commentRangeForeground);\\n}\\n\\n.monaco-editor .margin-view-overlays > div:hover > .comment-range-glyph.comment-diff-added:before {\\n    content: \\\"+\\\";\\n}\\n\\n.monaco-editor .comment-range-glyph.comment-thread {\\n    z-index: 20;\\n    border-left: 3px solid #000;\\n}\\n\\n.monaco-editor .comment-thread:before {\\n    background: var(--theia-editorGutter-commentRangeForeground);\\n}\\n\\n.monaco-editor .comment-range-glyph.comment-thread:before {\\n    content: \\\"\\\";\\n    font-size: 10px;\\n    line-height: 100%;\\n    z-index: 20;\\n}\\n\\n.monaco-editor .review-widget .body {\\n    overflow: hidden;\\n}\\n\\n.monaco-editor .review-widget .head {\\n    box-sizing: border-box;\\n    display: flex;\\n    height: 100%;\\n}\\n\\n.monaco-editor .review-widget .head .review-title {\\n    display: inline-block;\\n    font-size: 13px;\\n    margin-left: 20px;\\n    cursor: default;\\n}\\n\\n.monaco-editor .review-widget .head .review-actions {\\n    flex: 1;\\n    text-align: right;\\n    padding-right: 2px;\\n}\\n\\n.monaco-editor .review-widget .head .review-actions > .monaco-action-bar {\\n    display: inline-block;\\n}\\n\\n.monaco-editor .review-widget .head .review-actions > .monaco-action-bar,\\n.monaco-editor .review-widget .head .review-actions > .monaco-action-bar > .actions-container {\\n    height: 100%;\\n}\\n\\n.monaco-editor .review-widget .action-item {\\n    min-width: 18px;\\n    min-height: 20px;\\n    margin-left: 4px;\\n}\\n\\n.monaco-editor .review-widget .head .review-actions > .monaco-action-bar .action-label {\\n    width: 16px;\\n    height: 100%;\\n    margin: 0;\\n    color: var(--theia-editorWidget-foreground);\\n    line-height: inherit;\\n    background-repeat: no-repeat;\\n    background-position: center center;\\n}\\n\\n.monaco-editor .review-widget>.body {\\n    border-top: 1px solid;\\n    position: relative;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form {\\n    margin: 8px 20px;\\n}\\n\\n.monaco-editor .review-widget .body .review-comment {\\n    padding: 8px 16px 8px 20px;\\n    display: flex;\\n}\\n\\n.monaco-editor .review-widget .body .review-comment .avatar-container {\\n    margin-right: 8px !important;\\n    margin-top: 4px !important;\\n}\\n\\n.monaco-editor .review-widget .body .review-comment .avatar-container img.avatar {\\n    height: 28px;\\n    width: 28px;\\n    display: inline-block;\\n    overflow: hidden;\\n    line-height: 1;\\n    vertical-align: middle;\\n    border-radius: 3px;\\n    border-style: none;\\n}\\n\\n.monaco-editor .review-widget .body .review-comment .review-comment-contents {\\n    user-select: text;\\n    -webkit-user-select: text;\\n    width: 100%;\\n    overflow: hidden;\\n}\\n\\n.monaco-editor .review-widget .body .review-comment .review-comment-contents .author {\\n    line-height: var(--theia-content-line-height);\\n}\\n\\n.monaco-editor .review-widget .body .review-comment .review-comment-contents .timestamp {\\n    line-height: var(--theia-content-line-height);\\n    margin: 0 5px 0 5px;\\n    padding: 0 2px 0 2px;\\n}\\n\\n.monaco-editor .review-widget .body .review-comment .review-comment-contents .isPending {\\n    margin: 0 5px 0 5px;\\n    padding: 0 2px 0 2px;\\n    font-style: italic;\\n}\\n\\n.monaco-editor .review-widget .body .review-comment .review-comment-contents .comment-body {\\n    padding-top: 4px;\\n}\\n\\n.monaco-editor .review-widget .body .review-comment .comment-title {\\n    display: flex;\\n    width: 100%;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form .theia-comments-input-message-container {\\n    display: none;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container,\\n.edit-textarea .theia-comments-input-message-container {\\n    display: flex;\\n    flex-direction: column;\\n    margin: 0px 0px 7px 0px;\\n    max-height: 400px;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container textarea,\\n.edit-textarea .theia-comments-input-message-container textarea {\\n    line-height: var(--theia-content-line-height);\\n    background: var(--theia-editor-background);\\n    resize: none;\\n    height: 90px;\\n    box-sizing: border-box;\\n    min-height: 32px;\\n    padding: 4px;\\n    border: none;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container textarea:placeholder-shown,\\n.edit-textarea .theia-comments-input-message-container textarea:placeholder-shown {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container textarea:not(:focus),\\n.edit-textarea .theia-comments-input-message-container textarea:not(:focus) {\\n    border: var(--theia-border-width) solid var(--theia-editor-background);\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .theia-comments-input-message-container textarea:focus,\\n.edit-textarea .theia-comments-input-message-container textarea:focus {\\n    border: var(--theia-border-width) solid var(--theia-focusBorder);\\n}\\n\\n.theia-comments-input-message {\\n    width: 100%;\\n}\\n\\n.monaco-editor .review-widget .body .comment-body p,\\n.monaco-editor .review-widget .body .comment-body ul {\\n    margin: 8px 0;\\n}\\n\\n.monaco-editor .review-widget .body .comment-body p:first-child,\\n.monaco-editor .review-widget .body .comment-body ul:first-child {\\n    margin-top: 0;\\n}\\n\\n.monaco-editor .review-widget .body .comment-body p:last-child,\\n.monaco-editor .review-widget .body.comment-body ul:last-child {\\n    margin-bottom: 0;\\n}\\n\\n.monaco-editor .review-widget .body .comment-body ul {\\n    padding-left: 20px;\\n}\\n\\n.monaco-editor .review-widget .body .comment-body li > p {\\n    margin-bottom: 0;\\n}\\n\\n.monaco-editor .review-widget .body .comment-body li > ul {\\n    margin-top: 0;\\n}\\n\\n.monaco-editor .review-widget .body .comment-body code {\\n    border-radius: 3px;\\n    padding: 0 0.4em;\\n}\\n\\n.monaco-editor .review-widget .body .comment-body span {\\n    white-space: pre;\\n}\\n\\n.monaco-editor .review-widget .body .comment-body img {\\n    max-width: 100%;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form {\\n    flex: 1;\\n    margin: 0px;\\n    /* Reset margin as it's handled by container */\\n}\\n\\n.monaco-editor .review-widget .body .comment-form .form-actions {\\n    display: none;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .form-actions {\\n    display: block;\\n    box-sizing: content-box;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .review-thread-reply-button {\\n    display: none;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form .review-thread-reply-button {\\n    text-align: left;\\n    display: block;\\n    width: 100%;\\n    resize: vertical;\\n    background: var(--theia-editor-background);\\n    color: var(--theia-input-foreground);\\n    cursor: text;\\n    font-size: var(--theia-ui-font-size1);\\n    border-radius: 0;\\n    box-sizing: border-box;\\n    padding: 6px 12px;\\n    font-weight: 600;\\n    line-height: 20px;\\n    white-space: nowrap;\\n    border: 0px;\\n    outline: 1px solid transparent;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form .review-thread-reply-button:focus {\\n    outline-style: solid;\\n    outline-width: 1px;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .form-actions,\\n.monaco-editor .review-widget .body .edit-container .form-actions {\\n    overflow: auto;\\n    padding: 10px 0;\\n}\\n\\n.monaco-editor .review-widget .body .edit-container .form-actions {\\n    display: flex;\\n    justify-content: flex-end;\\n}\\n\\n.monaco-editor .review-widget .body .edit-textarea {\\n    margin: 5px 0 10px 0;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .comments-text-button,\\n.monaco-editor .review-widget .body .edit-container .comments-text-button {\\n    width: auto;\\n    padding: 4px 10px;\\n    margin-left: 5px;\\n    margin-bottom: 5px;\\n}\\n\\n.monaco-editor .review-widget .body .comment-form.expand .comments-text-button {\\n    float: right;\\n}\\n\\n.theia-comments-inline-actions-container {\\n    display: flex;\\n    justify-content: flex-end;\\n    margin-left: auto;\\n    min-height: 16px;\\n}\\n\\n.theia-comments-inline-actions {\\n    display: flex;\\n    margin: 0 3px;\\n}\\n\\n.theia-comments-inline-actions a {\\n    color: var(--theia-icon-foreground);\\n}\\n\\n.theia-comments-inline-action {\\n    padding: 0px 3px;\\n    font-size: var(--theia-ui-font-size1);\\n    margin: 0 2px;\\n    cursor: pointer;\\n    display: flex;\\n    align-items: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../../css-loader/dist/cjs.js!./plugin-sidebar.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_1___ from \"-!../../../../../../css-loader/dist/cjs.js!./webview.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_2___ from \"-!../../../../../../css-loader/dist/cjs.js!./tree.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_1___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_2___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.spinnerContainer {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.flexcontainer {\n  display: flex;\n}\n\n.row {\n  width: 100%;\n}\n\n.column {\n  flex-direction: column;\n}\n\n.theia-plugin-view-container {\n  /*\n        It might take a second or two until the real plugin mask is loaded\n        To prevent flickering on the icon, we set a transparent mask instead\n        Since masks only support images, svg or gradients, we create a transparent gradient here\n    */\n  -webkit-mask: linear-gradient(transparent, transparent);\n  mask: linear-gradient(transparent, transparent);\n  background-color: var(--theia-activityBar-inactiveForeground);\n}\n\n.theia-plugin-file-icon,\n.theia-plugin-file-icon::before,\n.theia-plugin-folder-icon,\n.theia-plugin-folder-icon::before,\n.theia-plugin-folder-expanded-icon,\n.theia-plugin-folder-expanded-icon::before,\n.theia-plugin-root-folder-icon,\n.theia-plugin-root-folder-icon::before,\n.theia-plugin-root-folder-expanded-icon,\n.theia-plugin-root-folder-expanded-icon::before {\n  padding-right: var(--theia-ui-padding);\n  width: var(--theia-icon-size);\n  height: var(--theia-content-line-height);\n  line-height: inherit !important;\n  display: inline-block;\n}\n\n.lm-TabBar.theia-app-sides .theia-plugin-file-icon,\n.lm-TabBar.theia-app-sides .theia-plugin-file-icon::before,\n.lm-TabBar.theia-app-sides .theia-plugin-folder-icon,\n.lm-TabBar.theia-app-sides .theia-plugin-folder-icon::before,\n.lm-TabBar.theia-app-sides .theia-plugin-folder-expanded-icon,\n.lm-TabBar.theia-app-sides .theia-plugin-folder-expanded-icon::before,\n.lm-TabBar.theia-app-sides .theia-plugin-root-folder-icon,\n.lm-TabBar.theia-app-sides .theia-plugin-root-folder-icon::before,\n.lm-TabBar.theia-app-sides .theia-plugin-root-folder-expanded-icon,\n.lm-TabBar.theia-app-sides .theia-plugin-root-folder-expanded-icon::before {\n  padding: 0px !important;\n  width: var(--theia-private-sidebar-icon-size) !important;\n  height: var(--theia-private-sidebar-icon-size) !important;\n  background-size: var(--theia-private-sidebar-icon-size) !important;\n  font-size: var(--theia-private-sidebar-icon-size) !important;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../node_modules/@theia/plugin-ext/src/main/browser/style/index.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE;;;;KAIG;EACH,uDAAuD;EACvD,+CAA+C;EAC/C,6DAA6D;AAC/D;;AAEA;;;;;;;;;;EAUE,sCAAsC;EACtC,6BAA6B;EAC7B,wCAAwC;EACxC,+BAA+B;EAC/B,qBAAqB;AACvB;;AAEA;;;;;;;;;;EAUE,uBAAuB;EACvB,wDAAwD;EACxD,yDAAyD;EACzD,kEAAkE;EAClE,4DAA4D;AAC9D\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2018 Red Hat, Inc. and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.spinnerContainer {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.flexcontainer {\\n  display: flex;\\n}\\n\\n.row {\\n  width: 100%;\\n}\\n\\n.column {\\n  flex-direction: column;\\n}\\n\\n.theia-plugin-view-container {\\n  /*\\n        It might take a second or two until the real plugin mask is loaded\\n        To prevent flickering on the icon, we set a transparent mask instead\\n        Since masks only support images, svg or gradients, we create a transparent gradient here\\n    */\\n  -webkit-mask: linear-gradient(transparent, transparent);\\n  mask: linear-gradient(transparent, transparent);\\n  background-color: var(--theia-activityBar-inactiveForeground);\\n}\\n\\n.theia-plugin-file-icon,\\n.theia-plugin-file-icon::before,\\n.theia-plugin-folder-icon,\\n.theia-plugin-folder-icon::before,\\n.theia-plugin-folder-expanded-icon,\\n.theia-plugin-folder-expanded-icon::before,\\n.theia-plugin-root-folder-icon,\\n.theia-plugin-root-folder-icon::before,\\n.theia-plugin-root-folder-expanded-icon,\\n.theia-plugin-root-folder-expanded-icon::before {\\n  padding-right: var(--theia-ui-padding);\\n  width: var(--theia-icon-size);\\n  height: var(--theia-content-line-height);\\n  line-height: inherit !important;\\n  display: inline-block;\\n}\\n\\n.lm-TabBar.theia-app-sides .theia-plugin-file-icon,\\n.lm-TabBar.theia-app-sides .theia-plugin-file-icon::before,\\n.lm-TabBar.theia-app-sides .theia-plugin-folder-icon,\\n.lm-TabBar.theia-app-sides .theia-plugin-folder-icon::before,\\n.lm-TabBar.theia-app-sides .theia-plugin-folder-expanded-icon,\\n.lm-TabBar.theia-app-sides .theia-plugin-folder-expanded-icon::before,\\n.lm-TabBar.theia-app-sides .theia-plugin-root-folder-icon,\\n.lm-TabBar.theia-app-sides .theia-plugin-root-folder-icon::before,\\n.lm-TabBar.theia-app-sides .theia-plugin-root-folder-expanded-icon,\\n.lm-TabBar.theia-app-sides .theia-plugin-root-folder-expanded-icon::before {\\n  padding: 0px !important;\\n  width: var(--theia-private-sidebar-icon-size) !important;\\n  height: var(--theia-private-sidebar-icon-size) !important;\\n  background-size: var(--theia-private-sidebar-icon-size) !important;\\n  font-size: var(--theia-private-sidebar-icon-size) !important;\\n}\\n\\n@import \\\"./plugin-sidebar.css\\\";\\n@import \\\"./webview.css\\\";\\n@import \\\"./tree.css\\\";\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.theia-plugins {\n  min-width: 250px !important;\n  display: flex;\n  flex-direction: column;\n}\n\n#pluginListContainer {\n  width: 100%;\n  box-sizing: border-box;\n  overflow-y: auto;\n  flex-grow: 1;\n}\n\n.theia-plugins .pluginHeaderContainer {\n  padding: 5px 15px;\n  font-size: var(--theia-ui-font-size0);\n}\n\n.theia-side-panel .theia-plugins .pluginHeaderContainer {\n  padding-left: 20px;\n}\n\n.theia-plugins .pluginHeaderContainer:hover {\n  background: var(--theia-list-hoverBackground);\n}\n\n.theia-plugins .pluginHeaderContainer .row {\n  margin: 3px 0;\n}\n\n.theia-plugins .pluginName {\n  flex: 1;\n  margin-right: 5px;\n  margin-left: 4px;\n  font-size: var(--theia-ui-font-size1);\n  font-weight: 400;\n}\n\n.theia-plugins .pluginVersion {\n  flex: 1;\n  text-align: left;\n  font-size: var(--theia-ui-font-size0);\n}\n\n.theia-plugins .pluginDescription {\n  flex: 1;\n}\n\n.theia-plugins .pluginPublisher {\n  font-size: var(--theia-ui-font-size0);\n  flex: 5;\n  align-items: center;\n}\n\n.plugins-tab-icon::before {\n  content: \"\\\\f0fe\";\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../node_modules/@theia/plugin-ext/src/main/browser/style/plugin-sidebar.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,2BAA2B;EAC3B,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,WAAW;EACX,sBAAsB;EACtB,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,iBAAiB;EACjB,qCAAqC;AACvC;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6CAA6C;AAC/C;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,OAAO;EACP,iBAAiB;EACjB,gBAAgB;EAChB,qCAAqC;EACrC,gBAAgB;AAClB;;AAEA;EACE,OAAO;EACP,gBAAgB;EAChB,qCAAqC;AACvC;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,qCAAqC;EACrC,OAAO;EACP,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;AAClB\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2018 Red Hat, Inc. and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.theia-plugins {\\n  min-width: 250px !important;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n#pluginListContainer {\\n  width: 100%;\\n  box-sizing: border-box;\\n  overflow-y: auto;\\n  flex-grow: 1;\\n}\\n\\n.theia-plugins .pluginHeaderContainer {\\n  padding: 5px 15px;\\n  font-size: var(--theia-ui-font-size0);\\n}\\n\\n.theia-side-panel .theia-plugins .pluginHeaderContainer {\\n  padding-left: 20px;\\n}\\n\\n.theia-plugins .pluginHeaderContainer:hover {\\n  background: var(--theia-list-hoverBackground);\\n}\\n\\n.theia-plugins .pluginHeaderContainer .row {\\n  margin: 3px 0;\\n}\\n\\n.theia-plugins .pluginName {\\n  flex: 1;\\n  margin-right: 5px;\\n  margin-left: 4px;\\n  font-size: var(--theia-ui-font-size1);\\n  font-weight: 400;\\n}\\n\\n.theia-plugins .pluginVersion {\\n  flex: 1;\\n  text-align: left;\\n  font-size: var(--theia-ui-font-size0);\\n}\\n\\n.theia-plugins .pluginDescription {\\n  flex: 1;\\n}\\n\\n.theia-plugins .pluginPublisher {\\n  font-size: var(--theia-ui-font-size0);\\n  flex: 5;\\n  align-items: center;\\n}\\n\\n.plugins-tab-icon::before {\\n  content: \\\"\\\\f0fe\\\";\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.theia-tree-view-icon {\n  padding-right: var(--theia-ui-padding);\n  -webkit-font-smoothing: antialiased;\n  flex-shrink: 0;\n  padding-left: 6px;\n  margin-left: -6px;\n}\n\n.theia-tree-view-inline-action {\n  padding: 2px;\n}\n\n.theia-tree-view-description {\n  color: var(--theia-descriptionForeground);\n  font-size: var(--theia-ui-font-size0);\n  margin-left: var(--theia-ui-padding);\n}\n\n.theia-tree-view .theia-TreeNodeContent {\n  align-items: center;\n  height: 100%;\n}\n\n.theia-tree-view .theia-TreeContainer .theia-TreeViewInfo {\n  margin-top: 7px;\n  margin-bottom: 10px;\n  margin-left: 17px;\n}\n\n.theia-tree-view\n  .theia-TreeNode:not(:hover):not(.theia-mod-selected)\n  .theia-tree-view-inline-action {\n  display: none;\n}\n\n.codicon.icon-inline {\n  font-size: var(--theia-ui-font-size1);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../node_modules/@theia/plugin-ext/src/main/browser/style/tree.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,sCAAsC;EACtC,mCAAmC;EACnC,cAAc;EACd,iBAAiB;EACjB,iBAAiB;AACnB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,yCAAyC;EACzC,qCAAqC;EACrC,oCAAoC;AACtC;;AAEA;EACE,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,eAAe;EACf,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;;;EAGE,aAAa;AACf;;AAEA;EACE,qCAAqC;AACvC\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2018 Red Hat, Inc. and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.theia-tree-view-icon {\\n  padding-right: var(--theia-ui-padding);\\n  -webkit-font-smoothing: antialiased;\\n  flex-shrink: 0;\\n  padding-left: 6px;\\n  margin-left: -6px;\\n}\\n\\n.theia-tree-view-inline-action {\\n  padding: 2px;\\n}\\n\\n.theia-tree-view-description {\\n  color: var(--theia-descriptionForeground);\\n  font-size: var(--theia-ui-font-size0);\\n  margin-left: var(--theia-ui-padding);\\n}\\n\\n.theia-tree-view .theia-TreeNodeContent {\\n  align-items: center;\\n  height: 100%;\\n}\\n\\n.theia-tree-view .theia-TreeContainer .theia-TreeViewInfo {\\n  margin-top: 7px;\\n  margin-bottom: 10px;\\n  margin-left: 17px;\\n}\\n\\n.theia-tree-view\\n  .theia-TreeNode:not(:hover):not(.theia-mod-selected)\\n  .theia-tree-view-inline-action {\\n  display: none;\\n}\\n\\n.codicon.icon-inline {\\n  font-size: var(--theia-ui-font-size1);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.theia-webview.lm-mod-hidden {\n  visibility: hidden;\n  display: flex !important;\n}\n\n.theia-webview {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.theia-webview iframe {\n  flex-grow: 1;\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.theia-webview-icon {\n  background: none !important;\n  min-height: 20px;\n}\n\n.theia-webview-icon::before {\n  background-size: 13px;\n  background-repeat: no-repeat;\n  vertical-align: middle;\n  display: inline-block;\n  text-align: center;\n  height: 15px;\n  width: 15px;\n  content: \"\";\n}\n\n.lm-TabBar.theia-app-sides .theia-webview-icon::before {\n  width: var(--theia-private-sidebar-icon-size);\n  height: var(--theia-private-sidebar-icon-size);\n  background-size: contain;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../node_modules/@theia/plugin-ext/src/main/browser/style/webview.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,kBAAkB;EAClB,wBAAwB;AAC1B;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,YAAY;EACZ,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,2BAA2B;EAC3B,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,4BAA4B;EAC5B,sBAAsB;EACtB,qBAAqB;EACrB,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,WAAW;AACb;;AAEA;EACE,6CAA6C;EAC7C,8CAA8C;EAC9C,wBAAwB;AAC1B\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2018 Red Hat, Inc. and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.theia-webview.lm-mod-hidden {\\n  visibility: hidden;\\n  display: flex !important;\\n}\\n\\n.theia-webview {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n\\n.theia-webview iframe {\\n  flex-grow: 1;\\n  border: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.theia-webview-icon {\\n  background: none !important;\\n  min-height: 20px;\\n}\\n\\n.theia-webview-icon::before {\\n  background-size: 13px;\\n  background-repeat: no-repeat;\\n  vertical-align: middle;\\n  display: inline-block;\\n  text-align: center;\\n  height: 15px;\\n  width: 15px;\\n  content: \\\"\\\";\\n}\\n\\n.lm-TabBar.theia-app-sides .theia-webview-icon::before {\\n  width: var(--theia-private-sidebar-icon-size);\\n  height: var(--theia-private-sidebar-icon-size);\\n  background-size: contain;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n#theia-statusBar .development-host {\n  background-color: var(--theia-successBackground);\n}\n\n#theia-statusBar .development-host-offline {\n  background-color: var(--theia-errorBackground);\n}\n\n#theia-statusBar .hosted-plugin {\n  background-color: var(--theia-inputValidation-infoBackground);\n}\n\n#theia-statusBar .hosted-plugin:hover {\n  background-color: var(--theia-editorInfo-foreground);\n}\n\n#theia-statusBar .hosted-plugin-failed {\n  background-color: var(--theia-errorBackground);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../node_modules/@theia/plugin-ext/src/main/style/status-bar.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,gDAAgD;AAClD;;AAEA;EACE,8CAA8C;AAChD;;AAEA;EACE,6DAA6D;AAC/D;;AAEA;EACE,oDAAoD;AACtD;;AAEA;EACE,8CAA8C;AAChD\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2018 Red Hat, Inc. and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n#theia-statusBar .development-host {\\n  background-color: var(--theia-successBackground);\\n}\\n\\n#theia-statusBar .development-host-offline {\\n  background-color: var(--theia-errorBackground);\\n}\\n\\n#theia-statusBar .hosted-plugin {\\n  background-color: var(--theia-inputValidation-infoBackground);\\n}\\n\\n#theia-statusBar .hosted-plugin:hover {\\n  background-color: var(--theia-editorInfo-foreground);\\n}\\n\\n#theia-statusBar .hosted-plugin-failed {\\n  background-color: var(--theia-errorBackground);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":[],"ignoreList":[],"sourceRoot":""}