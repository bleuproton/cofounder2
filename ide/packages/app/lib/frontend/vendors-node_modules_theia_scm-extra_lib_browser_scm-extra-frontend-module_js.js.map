{"version":3,"file":"vendors-node_modules_theia_scm-extra_lib_browser_scm-extra-frontend-module_js.js","mappings":"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ACL,CAAC,EA1BgB,UAAU,0BAAV,UAAU,QA0B1B;;;;;;;;;;;;;AC1CD,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;AAEhF,sKAA6B;AAC7B,kLAAmC;;;;;;;;;;;;ACjBtB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,mBAAO,CAAC,qDAAO;AAC7B,kBAAkB,mBAAO,CAAC,iIAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,0DAA0D,oBAAoB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;;;;;ACvCF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,mBAAO,CAAC,qDAAO;AAC7B,eAAe,mBAAO,CAAC,2HAAU;AACjC;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,kCAAkC;AACzE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,6BAA6B,kBAAkB,IAAI;AAClH;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,2CAA2C;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","sources":["webpack:///../../node_modules/@theia/scm-extra/src/browser/history/scm-history-contribution.ts?","webpack:///../../node_modules/@theia/scm-extra/src/browser/history/scm-history-frontend-module.ts?","webpack:///../../node_modules/@theia/scm-extra/src/browser/scm-extra-frontend-module.ts?","webpack:///../../node_modules/@theia/scm-extra/src/browser/scm-extra-layout-migrations.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/src/browser/json-schema-store.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/src/browser/mime-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/src/browser/tree/tree-label-provider.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/src/browser/window/window-title-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/src/browser/window/window-title-updater.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/src/common/selection-command-handler.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/src/common/window.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/shared/@lumino/widgets/index.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/shared/ajv/index.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/shared/dompurify/index.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/core/shared/lodash.debounce/index.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/breadcrumbs/filepath-breadcrumb.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/breadcrumbs/filepath-breadcrumbs-container.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/breadcrumbs/filepath-breadcrumbs-contribution.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/download/file-download-command-contribution.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/download/file-download-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-container.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-hidden-files-renderer.tsx?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-model.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-tree-filters-renderer.tsx?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-tree.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-widget.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-dialog/index.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-resource.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-selection.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-tree/file-tree-container.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-tree/file-tree-decorator-adapter.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-tree/file-tree-label-provider.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-tree/file-tree-model.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-tree/file-tree-widget.tsx?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-tree/file-tree.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-tree/index.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/file-upload-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/filesystem-frontend-contribution.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/filesystem-saveable-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/index.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/location/index.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/location/location-renderer.tsx?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/browser/location/location-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/common/file-upload.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/common/filesystem.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/src/common/index.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/node_modules/async-mutex/lib/Mutex.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/node_modules/async-mutex/lib/Semaphore.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/node_modules/async-mutex/lib/errors.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/node_modules/async-mutex/lib/index.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/node_modules/async-mutex/lib/tryAcquire.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/filesystem/node_modules/async-mutex/lib/withTimeout.js?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/abstract-navigator-tree-widget.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/file-navigator-commands.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/navigator-context-key-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/navigator-contribution.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/navigator-diff.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/navigator-filter.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/navigator-model.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/navigator-preferences.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/navigator-tree.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/navigator-widget-factory.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/navigator-widget.tsx?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/open-editors-widget/navigator-open-editors-commands.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/open-editors-widget/navigator-open-editors-decorator-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/open-editors-widget/navigator-open-editors-menus.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/open-editors-widget/navigator-open-editors-tree-model.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/navigator/src/browser/open-editors-widget/navigator-open-editors-widget.tsx?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/canonical-uri-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/diff-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/index.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/quick-open-workspace.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/untitled-workspace-exit-dialog.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-breadcrumbs-contribution.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-commands.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-compare-handler.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-delete-handler.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-duplicate-handler.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-frontend-contribution.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-frontend-module.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-input-dialog.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-preferences.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-schema-updater.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-storage-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-trust-preferences.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-trust-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-uri-contribution.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-user-working-directory-provider.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-utils.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-variable-contribution.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/browser/workspace-window-title-updater.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/common/index.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/common/untitled-workspace-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/common/workspace-file-service.ts?","webpack:///../../node_modules/@theia/scm-extra/node_modules/@theia/workspace/src/common/workspace-protocol.ts?","webpack:///../../node_modules/@theia/scm-extra/src/browser/style/history.css?","webpack:///../../node_modules/@theia/scm-extra/src/browser/style/history.css?../../node_modules/css-loader/dist/cjs.js"],"sourcesContent":["// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MenuModelRegistry, CommandRegistry, SelectionService } from '@theia/core';\nimport { AbstractViewContribution } from '@theia/core/lib/browser';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { NavigatorContextMenu } from '@theia/navigator/lib/browser/navigator-contribution';\nimport { UriCommandHandler, UriAwareCommandHandler } from '@theia/core/lib/common/uri-command-handler';\nimport URI from '@theia/core/lib/common/uri';\nimport { ScmHistoryWidget } from './scm-history-widget';\nimport { ScmService } from '@theia/scm/lib/browser/scm-service';\nimport { EDITOR_CONTEXT_MENU_SCM } from '../scm-extra-contribution';\nimport { SCM_HISTORY_ID, SCM_HISTORY_LABEL, ScmHistoryCommands, SCM_HISTORY_TOGGLE_KEYBINDING, ScmHistoryOpenViewArguments } from './scm-history-constants';\nexport { SCM_HISTORY_ID, SCM_HISTORY_LABEL, ScmHistoryCommands, SCM_HISTORY_TOGGLE_KEYBINDING, ScmHistoryOpenViewArguments };\n\n@injectable()\nexport class ScmHistoryContribution extends AbstractViewContribution<ScmHistoryWidget> {\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n    @inject(ScmService)\n    protected readonly scmService: ScmService;\n\n    constructor() {\n        super({\n            widgetId: SCM_HISTORY_ID,\n            widgetName: SCM_HISTORY_LABEL,\n            defaultWidgetOptions: {\n                area: 'left',\n                rank: 500\n            },\n            toggleCommandId: ScmHistoryCommands.OPEN_BRANCH_HISTORY.id,\n            toggleKeybinding: SCM_HISTORY_TOGGLE_KEYBINDING\n        });\n    }\n\n    override async openView(args?: Partial<ScmHistoryOpenViewArguments>): Promise<ScmHistoryWidget> {\n        const widget = await super.openView(args);\n        this.refreshWidget(args!.uri);\n        return widget;\n    }\n\n    override registerMenus(menus: MenuModelRegistry): void {\n        menus.registerMenuAction(NavigatorContextMenu.SEARCH, {\n            commandId: ScmHistoryCommands.OPEN_FILE_HISTORY.id,\n            label: SCM_HISTORY_LABEL\n        });\n        menus.registerMenuAction(EDITOR_CONTEXT_MENU_SCM, {\n            commandId: ScmHistoryCommands.OPEN_FILE_HISTORY.id,\n            label: SCM_HISTORY_LABEL\n        });\n        super.registerMenus(menus);\n    }\n\n    override registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(ScmHistoryCommands.OPEN_FILE_HISTORY, this.newUriAwareCommandHandler({\n            isEnabled: (uri: URI) => !!this.scmService.findRepository(uri),\n            isVisible: (uri: URI) => !!this.scmService.findRepository(uri),\n            execute: async uri => this.openView({ activate: true, uri: uri.toString() }),\n        }));\n        super.registerCommands(commands);\n    }\n\n    protected async refreshWidget(uri: string | undefined): Promise<void> {\n        const widget = this.tryGetWidget();\n        if (!widget) {\n            // the widget doesn't exist, so don't wake it up\n            return;\n        }\n        await widget.setContent({ uri });\n    }\n\n    protected newUriAwareCommandHandler(handler: UriCommandHandler<URI>): UriAwareCommandHandler<URI> {\n        return UriAwareCommandHandler.MonoSelect(this.selectionService, handler);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Arm and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { ScmHistoryContribution, SCM_HISTORY_ID } from './scm-history-contribution';\nimport { WidgetFactory, bindViewContribution, ApplicationShellLayoutMigration } from '@theia/core/lib/browser';\nimport { ScmHistoryWidget } from './scm-history-widget';\nimport { ScmExtraLayoutVersion4Migration } from '../scm-extra-layout-migrations';\n\nimport '../../../src/browser/style/history.css';\n\nexport function bindScmHistoryModule(bind: interfaces.Bind): void {\n\n    bind(ScmHistoryWidget).toSelf();\n    bind(WidgetFactory).toDynamicValue(ctx => ({\n        id: SCM_HISTORY_ID,\n        createWidget: () => ctx.container.get<ScmHistoryWidget>(ScmHistoryWidget)\n    }));\n\n    bindViewContribution(bind, ScmHistoryContribution);\n\n    bind(ApplicationShellLayoutMigration).to(ScmExtraLayoutVersion4Migration).inSingletonScope();\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Arm and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ContainerModule } from '@theia/core/shared/inversify';\nimport { bindScmHistoryModule } from './history/scm-history-frontend-module';\nimport { ScmFileChangeLabelProvider } from './scm-file-change-label-provider';\nimport { LabelProviderContribution } from '@theia/core/lib/browser';\n\nexport default new ContainerModule(bind => {\n    bindScmHistoryModule(bind);\n\n    bind(ScmFileChangeLabelProvider).toSelf().inSingletonScope();\n    bind(LabelProviderContribution).toService(ScmFileChangeLabelProvider);\n});\n","// *****************************************************************************\n// Copyright (C) 2020 Arm and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { ApplicationShellLayoutMigration, WidgetDescription, ApplicationShellLayoutMigrationContext } from '@theia/core/lib/browser/shell/shell-layout-restorer';\nimport { SCM_HISTORY_ID } from './history/scm-history-contribution';\n\n@injectable()\nexport class ScmExtraLayoutVersion4Migration implements ApplicationShellLayoutMigration {\n    readonly layoutVersion = 4.0;\n    onWillInflateWidget(desc: WidgetDescription, { parent }: ApplicationShellLayoutMigrationContext): WidgetDescription | undefined {\n        if (desc.constructionOptions.factoryId === 'git-history') {\n            desc.constructionOptions.factoryId = SCM_HISTORY_ID;\n            return desc;\n        }\n\n        return undefined;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, named } from 'inversify';\nimport { ContributionProvider } from '../common/contribution-provider';\nimport { FrontendApplicationContribution } from './frontend-application-contribution';\nimport { Emitter, MaybePromise, URI } from '../common';\nimport { timeout, Deferred } from '../common/promise-util';\nimport { IJSONSchema } from '../common/json-schema';\n\nexport interface JsonSchemaConfiguration {\n    fileMatch: string | string[];\n    url: string;\n}\n\nexport interface JsonSchemaRegisterContext {\n    registerSchema(config: JsonSchemaConfiguration): void;\n}\n\nexport const JsonSchemaContribution = Symbol('JsonSchemaContribution');\nexport interface JsonSchemaContribution {\n    registerSchemas(store: JsonSchemaRegisterContext): MaybePromise<void>\n}\n\n@injectable()\nexport class JsonSchemaStore implements FrontendApplicationContribution {\n\n    @inject(ContributionProvider) @named(JsonSchemaContribution)\n    protected readonly contributions: ContributionProvider<JsonSchemaContribution>;\n\n    protected readonly _schemas = new Deferred<JsonSchemaConfiguration[]>();\n    get schemas(): Promise<JsonSchemaConfiguration[]> {\n        return this._schemas.promise;\n    }\n\n    onStart(): void {\n        const pendingRegistrations = [];\n        const schemas: JsonSchemaConfiguration[] = [];\n        const freeze = () => {\n            Object.freeze(schemas);\n            this._schemas.resolve(schemas);\n        };\n        const registerTimeout = this.getRegisterTimeout();\n        const frozenErrorCode = 'JsonSchemaRegisterContext.frozen';\n        const context: JsonSchemaRegisterContext = {\n            registerSchema: schema => {\n                if (Object.isFrozen(schemas)) {\n                    throw new Error(frozenErrorCode);\n                }\n                schemas.push(schema);\n            }\n        };\n        for (const contribution of this.contributions.getContributions()) {\n            const result = contribution.registerSchemas(context);\n            if (result) {\n                pendingRegistrations.push(result.then(() => { }, e => {\n                    if (e instanceof Error && e.message === frozenErrorCode) {\n                        console.error(`${contribution.constructor.name}.registerSchemas is taking more than ${registerTimeout.toFixed(1)} ms, new schemas are ignored.`);\n                    } else {\n                        console.error(e);\n                    }\n                }));\n            }\n        }\n        if (pendingRegistrations.length) {\n            let pending = Promise.all(pendingRegistrations).then(() => { });\n            if (registerTimeout) {\n                pending = Promise.race([pending, timeout(registerTimeout)]);\n            }\n            pending.then(freeze);\n        } else {\n            freeze();\n        }\n    }\n\n    protected getRegisterTimeout(): number {\n        return 500;\n    }\n\n}\n\n@injectable()\nexport class JsonSchemaDataStore {\n\n    protected readonly _schemas = new Map<string, string>();\n\n    protected readonly onDidSchemaUpdateEmitter = new Emitter<URI>();\n    readonly onDidSchemaUpdate = this.onDidSchemaUpdateEmitter.event;\n\n    hasSchema(uri: URI): boolean {\n        return this._schemas.has(uri.toString());\n    }\n\n    getSchema(uri: URI): string | undefined {\n        return this._schemas.get(uri.toString());\n    }\n\n    setSchema(uri: URI, schema: IJSONSchema | string): void {\n        this._schemas.set(uri.toString(), typeof schema === 'string' ? schema : JSON.stringify(schema));\n        this.notifySchemaUpdate(uri);\n    }\n\n    deleteSchema(uri: URI): void {\n        if (this._schemas.delete(uri.toString())) {\n            this.notifySchemaUpdate(uri);\n        }\n    }\n\n    notifySchemaUpdate(uri: URI): void {\n        this.onDidSchemaUpdateEmitter.fire(uri);\n    }\n\n}\n\n@injectable()\nexport class DefaultJsonSchemaContribution implements JsonSchemaContribution {\n    async registerSchemas(context: JsonSchemaRegisterContext): Promise<void> {\n        const catalog = require('./catalog.json') as { schemas: DefaultJsonSchemaContribution.SchemaData[] };\n        for (const s of catalog.schemas) {\n            if (s.fileMatch) {\n                context.registerSchema({\n                    fileMatch: s.fileMatch,\n                    url: s.url\n                });\n            }\n        }\n    }\n\n}\nexport namespace DefaultJsonSchemaContribution {\n    export interface SchemaData {\n        name: string;\n        description: string;\n        fileMatch?: string[];\n        url: string;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        schema: any;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\n\nexport interface MimeAssociation {\n    readonly id: string;\n    readonly filepattern: string;\n}\n\n@injectable()\nexport class MimeService {\n    // should be overridden by an implementation\n    setAssociations(associations: MimeAssociation[]): void {\n        /* no-op by default */\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { LabelProviderContribution } from '../label-provider';\nimport { TreeNode } from './tree';\n\n@injectable()\nexport class TreeLabelProvider implements LabelProviderContribution {\n\n    canHandle(element: object): number {\n        return TreeNode.is(element) ? 50 : 0;\n    }\n\n    getIcon(node: TreeNode): string | undefined {\n        return node.icon;\n    }\n\n    getName(node: TreeNode): string | undefined {\n        return node.name;\n    }\n\n    getLongName(node: TreeNode): string | undefined {\n        return node.description;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, named, postConstruct } from 'inversify';\nimport { escapeRegExpCharacters } from '../../common/strings';\nimport { Emitter, Event } from '../../common/event';\nimport { CorePreferences } from '../core-preferences';\nimport { FrontendApplicationConfigProvider } from '../frontend-application-config-provider';\nimport { ContributionProvider } from '../../common';\n\nexport const WindowTitleContribution = Symbol('WindowTitleAddOnContribution');\nexport interface WindowTitleContribution {\n    enhanceTitle(title: string, parts: Map<string, string | undefined>): string;\n}\n\nexport const InitialWindowTitleParts = {\n    activeEditorShort: undefined,\n    activeEditorMedium: undefined,\n    activeEditorLong: undefined,\n    activeFolderShort: undefined,\n    activeFolderMedium: undefined,\n    activeFolderLong: undefined,\n    folderName: undefined,\n    folderPath: undefined,\n    rootName: undefined,\n    rootPath: undefined,\n    appName: FrontendApplicationConfigProvider.get().applicationName,\n    remoteName: undefined,\n    dirty: undefined,\n    developmentHost: undefined\n};\n\n@injectable()\nexport class WindowTitleService {\n\n    @inject(CorePreferences)\n    protected readonly preferences: CorePreferences;\n\n    @inject(ContributionProvider) @named(WindowTitleContribution)\n    protected readonly titleContributions: ContributionProvider<WindowTitleContribution>;\n\n    protected _title = '';\n    protected titleTemplate?: string;\n\n    protected onDidChangeTitleEmitter = new Emitter<string>();\n    protected titleParts = new Map<string, string | undefined>(Object.entries(InitialWindowTitleParts));\n    protected separator = ' - ';\n\n    @postConstruct()\n    protected init(): void {\n        this.titleTemplate = this.preferences['window.title'];\n        this.separator = this.preferences['window.titleSeparator'];\n        this.updateTitle();\n        this.preferences.onPreferenceChanged(e => {\n            if (e.preferenceName === 'window.title') {\n                this.titleTemplate = e.newValue;\n                this.updateTitle();\n            } else if (e.preferenceName === 'window.titleSeparator') {\n                this.separator = e.newValue;\n                this.updateTitle();\n            }\n        });\n    }\n\n    get onDidChangeTitle(): Event<string> {\n        return this.onDidChangeTitleEmitter.event;\n    }\n\n    get title(): string {\n        return this._title;\n    }\n\n    update(parts: Record<string, string | undefined>): void {\n        for (const [key, value] of Object.entries(parts)) {\n            this.titleParts.set(key, value);\n        }\n        this.updateTitle();\n    }\n\n    protected updateTitle(): void {\n        if (!this.titleTemplate) {\n            this._title = '';\n        } else {\n            let title = this.titleTemplate;\n            for (const [key, value] of this.titleParts.entries()) {\n                if (key !== 'developmentHost') {\n                    const label = `$\\{${key}\\}`;\n                    const regex = new RegExp(escapeRegExpCharacters(label), 'g');\n                    title = title.replace(regex, value ?? '');\n                }\n            }\n            const separatedTitle = title.split('${separator}').filter(e => e.trim().length > 0);\n            this._title = separatedTitle.join(this.separator);\n            const contributions = this.titleContributions.getContributions();\n            for (const contribution of contributions) {\n                this._title = contribution.enhanceTitle(this.title, this.titleParts);\n            }\n        }\n        const developmentHost = this.titleParts.get('developmentHost');\n        if (developmentHost) {\n            this._title = developmentHost + this.separator + this._title;\n        }\n        document.title = this._title || FrontendApplicationConfigProvider.get().applicationName;\n        this.onDidChangeTitleEmitter.fire(this._title);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Widget } from '../widgets';\nimport { FrontendApplication } from '../frontend-application';\nimport { FrontendApplicationContribution } from '../frontend-application-contribution';\nimport { NavigatableWidget } from '../navigatable-types';\nimport { inject, injectable } from 'inversify';\nimport { WindowTitleService } from './window-title-service';\nimport { LabelProvider } from '../label-provider';\nimport { Saveable } from '../saveable';\nimport { Disposable } from '../../common';\n\n@injectable()\nexport class WindowTitleUpdater implements FrontendApplicationContribution {\n\n    @inject(WindowTitleService)\n    protected readonly windowTitleService: WindowTitleService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    onStart(app: FrontendApplication): void {\n        app.shell.mainPanel.onDidChangeCurrent(title => this.handleWidgetChange(title?.owner));\n        this.handleWidgetChange(app.shell.getCurrentWidget('main'));\n    }\n\n    protected toDisposeOnWidgetChanged: Disposable = Disposable.NULL;\n    protected handleWidgetChange(widget?: Widget): void {\n        this.toDisposeOnWidgetChanged.dispose();\n        const saveable = Saveable.get(widget);\n        if (saveable) {\n            this.toDisposeOnWidgetChanged = saveable.onDirtyChanged(() => this.windowTitleService.update({ dirty: saveable.dirty ? '' : '' }));\n        } else {\n            this.toDisposeOnWidgetChanged = Disposable.NULL;\n        }\n        this.updateTitleWidget(widget);\n    }\n\n    /**\n     * Updates the title of the application based on the currently opened widget.\n     *\n     * @param widget The current widget in the `main` application area. `undefined` if no widget is currently open in that area.\n     */\n    protected updateTitleWidget(widget?: Widget): void {\n        let activeEditorLong: string | undefined;\n        let activeEditorMedium: string | undefined;\n        let activeEditorShort: string | undefined;\n        let activeFolderLong: string | undefined;\n        let activeFolderMedium: string | undefined;\n        let activeFolderShort: string | undefined;\n        let dirty: string | undefined;\n        const uri = NavigatableWidget.getUri(widget);\n        if (uri) {\n            activeEditorLong = uri.path.fsPath();\n            activeEditorMedium = this.labelProvider.getLongName(uri);\n            activeEditorShort = this.labelProvider.getName(uri);\n            const parent = uri.parent;\n            activeFolderLong = parent.path.fsPath();\n            activeFolderMedium = this.labelProvider.getLongName(parent);\n            activeFolderShort = this.labelProvider.getName(parent);\n        } else if (widget) {\n            const widgetTitle = widget.title.label;\n            activeEditorLong = widgetTitle;\n            activeEditorMedium = widgetTitle;\n            activeEditorShort = widgetTitle;\n        }\n        if (Saveable.isDirty(widget)) {\n            dirty = '';\n        }\n        this.windowTitleService.update({\n            activeEditorLong,\n            activeEditorMedium,\n            activeEditorShort,\n            activeFolderLong,\n            activeFolderMedium,\n            activeFolderShort,\n            dirty\n        });\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { CommandHandler } from './command';\nimport { SelectionService } from '../common/selection-service';\n\nexport class SelectionCommandHandler<S extends Object> implements CommandHandler {\n\n    constructor(\n        protected readonly selectionService: SelectionService,\n        protected readonly toSelection: (arg: any) => S | undefined,\n        protected readonly options: SelectionCommandHandler.Options<S>\n    ) { }\n\n    execute(...args: any[]): Object | undefined {\n        const selection = this.getSelection(...args);\n        return selection ? (this.options.execute as any)(selection, ...args) : undefined;\n    }\n\n    isVisible(...args: any[]): boolean {\n        const selection = this.getSelection(...args);\n        return !!selection && (!this.options.isVisible || (this.options.isVisible as any)(selection as any, ...args));\n    }\n\n    isEnabled(...args: any[]): boolean {\n        const selection = this.getSelection(...args);\n        return !!selection && (!this.options.isEnabled || (this.options.isEnabled as any)(selection as any, ...args));\n    }\n\n    protected isMulti(): boolean {\n        return this.options && !!this.options.multi;\n    }\n\n    protected getSelection(...args: any[]): S | S[] | undefined {\n        const givenSelection = args.length && this.toSelection(args[0]);\n        if (givenSelection) {\n            return this.isMulti() ? [givenSelection] : givenSelection;\n        }\n        const globalSelection = this.getSingleSelection(this.selectionService.selection);\n        if (this.isMulti()) {\n            return this.getMultiSelection(globalSelection);\n        }\n        return this.getSingleSelection(globalSelection);\n    }\n\n    protected getSingleSelection(arg: Object | undefined): S | undefined {\n        let selection = this.toSelection(arg);\n        if (selection) {\n            return selection;\n        }\n        if (Array.isArray(arg)) {\n            for (const element of arg) {\n                selection = this.toSelection(element);\n                if (selection) {\n                    return selection;\n                }\n            }\n        }\n        return undefined;\n    }\n\n    protected getMultiSelection(arg: Object | undefined): S[] | undefined {\n        let selection = this.toSelection(arg);\n        if (selection) {\n            return [selection];\n        }\n        const result = [];\n        if (Array.isArray(arg)) {\n            for (const element of arg) {\n                selection = this.toSelection(element);\n                if (selection) {\n                    result.push(selection);\n                }\n            }\n        }\n        return result.length ? result : undefined;\n    }\n}\nexport namespace SelectionCommandHandler {\n    export type Options<S> = SelectionOptions<false, S> | SelectionOptions<true, S[]>;\n    export interface SelectionOptions<Multi extends boolean, T> {\n        multi: Multi;\n        execute(selection: T, ...args: any[]): any;\n        isEnabled?(selection: T, ...args: any[]): boolean;\n        isVisible?(selection: T, ...args: any[]): boolean;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * The window hash value that is used to spawn a new default window.\n */\nexport const DEFAULT_WINDOW_HASH: string = '!empty';\n\n/**\n * The options for opening new windows.\n */\nexport interface NewWindowOptions {\n    /**\n     * Controls whether the window should be opened externally.\n     */\n    readonly external?: boolean;\n}\n\nexport interface WindowSearchParams {\n    [key: string]: string\n}\n","module.exports = require('@lumino/widgets');\n","module.exports = require('ajv');","module.exports = require('dompurify');\n","module.exports = require('lodash.debounce');\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { Breadcrumb } from '@theia/core/lib/browser/breadcrumbs/breadcrumbs-constants';\nimport { FilepathBreadcrumbType } from './filepath-breadcrumbs-contribution';\n\nexport class FilepathBreadcrumb implements Breadcrumb {\n    constructor(\n        readonly uri: URI,\n        readonly label: string,\n        readonly longLabel: string,\n        readonly iconClass: string,\n        readonly containerClass: string,\n    ) { }\n\n    get id(): string {\n        return this.type.toString() + '_' + this.uri.toString();\n    }\n\n    get type(): symbol {\n        return FilepathBreadcrumbType;\n    }\n}\n\nexport namespace FilepathBreadcrumb {\n    export function is(breadcrumb: Breadcrumb): breadcrumb is FilepathBreadcrumb {\n        return 'uri' in breadcrumb;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Container, interfaces, injectable, inject } from '@theia/core/shared/inversify';\nimport { TreeProps, ContextMenuRenderer, TreeNode, open, NodeProps, defaultTreeProps } from '@theia/core/lib/browser';\nimport { FileTreeModel, FileStatNode, createFileTreeContainer, FileTreeWidget } from '../file-tree';\n\nconst BREADCRUMBS_FILETREE_CLASS = 'theia-FilepathBreadcrumbFileTree';\n\nexport function createFileTreeBreadcrumbsContainer(parent: interfaces.Container): Container {\n    const child = createFileTreeContainer(parent);\n    child.unbind(FileTreeWidget);\n    child.rebind(TreeProps).toConstantValue({ ...defaultTreeProps, virtualized: false });\n    child.bind(BreadcrumbsFileTreeWidget).toSelf();\n    return child;\n}\n\nexport function createFileTreeBreadcrumbsWidget(parent: interfaces.Container): BreadcrumbsFileTreeWidget {\n    return createFileTreeBreadcrumbsContainer(parent).get(BreadcrumbsFileTreeWidget);\n}\n\n@injectable()\nexport class BreadcrumbsFileTreeWidget extends FileTreeWidget {\n\n    constructor(\n        @inject(TreeProps) props: TreeProps,\n        @inject(FileTreeModel) override readonly model: FileTreeModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer\n    ) {\n        super(props, model, contextMenuRenderer);\n        this.addClass(BREADCRUMBS_FILETREE_CLASS);\n    }\n\n    protected override createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        const elementAttrs = super.createNodeAttributes(node, props);\n        return {\n            ...elementAttrs,\n            draggable: false\n        };\n    }\n\n    protected override tapNode(node?: TreeNode): void {\n        if (FileStatNode.is(node) && !node.fileStat.isDirectory) {\n            open(this.openerService, node.uri, { preview: true });\n        } else {\n            super.tapNode(node);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable, Emitter, Event } from '@theia/core';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Breadcrumb, BreadcrumbsContribution, CompositeTreeNode, LabelProvider, SelectableTreeNode, Widget } from '@theia/core/lib/browser';\nimport { FilepathBreadcrumb } from './filepath-breadcrumb';\nimport { BreadcrumbsFileTreeWidget } from './filepath-breadcrumbs-container';\nimport { DirNode } from '../file-tree';\nimport { FileService } from '../file-service';\nimport { FileStat } from '../../common/files';\n\nexport const FilepathBreadcrumbType = Symbol('FilepathBreadcrumb');\n\nexport interface FilepathBreadcrumbClassNameFactory {\n    (location: URI, index: number): string;\n}\n\n@injectable()\nexport class FilepathBreadcrumbsContribution implements BreadcrumbsContribution {\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(FileService)\n    protected readonly fileSystem: FileService;\n\n    @inject(BreadcrumbsFileTreeWidget)\n    protected readonly breadcrumbsFileTreeWidget: BreadcrumbsFileTreeWidget;\n\n    protected readonly onDidChangeBreadcrumbsEmitter = new Emitter<URI>();\n    get onDidChangeBreadcrumbs(): Event<URI> {\n        return this.onDidChangeBreadcrumbsEmitter.event;\n    }\n\n    readonly type = FilepathBreadcrumbType;\n    readonly priority: number = 100;\n\n    async computeBreadcrumbs(uri: URI): Promise<Breadcrumb[]> {\n        if (uri.scheme !== 'file') {\n            return [];\n        }\n        const getContainerClass = this.getContainerClassCreator(uri);\n        const getIconClass = this.getIconClassCreator(uri);\n        return uri.allLocations\n            .map((location, index) => {\n                const icon = getIconClass(location, index);\n                const containerClass = getContainerClass(location, index);\n                return new FilepathBreadcrumb(\n                    location,\n                    this.labelProvider.getName(location),\n                    this.labelProvider.getLongName(location),\n                    icon,\n                    containerClass,\n                );\n            })\n            .filter(b => this.filterBreadcrumbs(uri, b))\n            .reverse();\n    }\n\n    protected getContainerClassCreator(fileURI: URI): FilepathBreadcrumbClassNameFactory {\n        return (location, index) => location.isEqual(fileURI) ? 'file' : 'folder';\n    }\n\n    protected getIconClassCreator(fileURI: URI): FilepathBreadcrumbClassNameFactory {\n        return (location, index) => location.isEqual(fileURI) ? this.labelProvider.getIcon(location) + ' file-icon' : '';\n    }\n\n    protected filterBreadcrumbs(_: URI, breadcrumb: FilepathBreadcrumb): boolean {\n        return !breadcrumb.uri.path.isRoot;\n    }\n\n    async attachPopupContent(breadcrumb: Breadcrumb, parent: HTMLElement): Promise<Disposable | undefined> {\n        if (!FilepathBreadcrumb.is(breadcrumb)) {\n            return undefined;\n        }\n        const folderFileStat = await this.fileSystem.resolve(breadcrumb.uri.parent);\n        if (folderFileStat) {\n            const rootNode = await this.createRootNode(folderFileStat);\n            if (rootNode) {\n                const { model } = this.breadcrumbsFileTreeWidget;\n                await model.navigateTo({ ...rootNode, visible: false });\n                Widget.attach(this.breadcrumbsFileTreeWidget, parent);\n                const toDisposeOnTreePopulated = model.onChanged(() => {\n                    if (CompositeTreeNode.is(model.root) && model.root.children.length > 0) {\n                        toDisposeOnTreePopulated.dispose();\n                        const targetNode = model.getNode(breadcrumb.uri.path.toString());\n                        if (targetNode && SelectableTreeNode.is(targetNode)) {\n                            model.selectNode(targetNode);\n                        }\n                        this.breadcrumbsFileTreeWidget.activate();\n                    }\n                });\n                return {\n                    dispose: () => {\n                        // Clear model otherwise the next time a popup is opened the old model is rendered first\n                        // and is shown for a short time period.\n                        toDisposeOnTreePopulated.dispose();\n                        this.breadcrumbsFileTreeWidget.model.root = undefined;\n                        Widget.detach(this.breadcrumbsFileTreeWidget);\n                    }\n                };\n            }\n        }\n    }\n\n    protected async createRootNode(folderToOpen: FileStat): Promise<DirNode | undefined> {\n        const folderUri = folderToOpen.resource;\n        const rootUri = folderToOpen.isDirectory ? folderUri : folderUri.parent;\n        const rootStat = await this.fileSystem.resolve(rootUri);\n        if (rootStat) {\n            return DirNode.createRoot(rootStat);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { isChrome } from '@theia/core/lib/browser/browser';\nimport { environment } from '@theia/core/shared/@theia/application-package/lib/environment';\nimport { SelectionService } from '@theia/core/lib/common/selection-service';\nimport { Command, CommandContribution, CommandRegistry } from '@theia/core/lib/common/command';\nimport { UriAwareCommandHandler } from '@theia/core/lib/common/uri-command-handler';\nimport { FileDownloadService } from './file-download-service';\nimport { CommonCommands } from '@theia/core/lib/browser';\n\n@injectable()\nexport class FileDownloadCommandContribution implements CommandContribution {\n\n    @inject(FileDownloadService)\n    protected readonly downloadService: FileDownloadService;\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    registerCommands(registry: CommandRegistry): void {\n        registry.registerCommand(\n            FileDownloadCommands.DOWNLOAD,\n            UriAwareCommandHandler.MultiSelect(this.selectionService, {\n                execute: uris => this.executeDownload(uris),\n                isEnabled: uris => this.isDownloadEnabled(uris),\n                isVisible: uris => this.isDownloadVisible(uris),\n            })\n        );\n        registry.registerCommand(\n            FileDownloadCommands.COPY_DOWNLOAD_LINK,\n            UriAwareCommandHandler.MultiSelect(this.selectionService, {\n                execute: uris => this.executeDownload(uris, { copyLink: true }),\n                isEnabled: uris => isChrome && this.isDownloadEnabled(uris),\n                isVisible: uris => isChrome && this.isDownloadVisible(uris),\n            })\n        );\n    }\n\n    protected async executeDownload(uris: URI[], options?: { copyLink?: boolean }): Promise<void> {\n        this.downloadService.download(uris, options);\n    }\n\n    protected isDownloadEnabled(uris: URI[]): boolean {\n        return !environment.electron.is() && uris.length > 0 && uris.every(u => u.scheme === 'file');\n    }\n\n    protected isDownloadVisible(uris: URI[]): boolean {\n        return this.isDownloadEnabled(uris);\n    }\n\n}\n\nexport namespace FileDownloadCommands {\n\n    export const DOWNLOAD = Command.toDefaultLocalizedCommand({\n        id: 'file.download',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Download'\n    });\n\n    export const COPY_DOWNLOAD_LINK = Command.toLocalizedCommand({\n        id: 'file.copyDownloadLink',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Copy Download Link'\n    }, 'theia/filesystem/copyDownloadLink', CommonCommands.FILE_CATEGORY_KEY);\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { ILogger } from '@theia/core/lib/common/logger';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport { FileDownloadData } from '../../common/download/file-download-data';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { addClipboardListener } from '@theia/core/lib/browser/widgets';\nimport { nls } from '@theia/core';\n\n@injectable()\nexport class FileDownloadService {\n\n    protected anchor: HTMLAnchorElement | undefined;\n    protected downloadCounter: number = 0;\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    protected handleCopy(event: ClipboardEvent, downloadUrl: string): void {\n        if (downloadUrl && event.clipboardData) {\n            event.clipboardData.setData('text/plain', downloadUrl);\n            event.preventDefault();\n            this.messageService.info(nls.localize('theia/filesystem/copiedToClipboard', 'Copied the download link to the clipboard.'));\n        }\n    }\n\n    async cancelDownload(id: string): Promise<void> {\n        await fetch(`${this.endpoint()}/download/?id=${id}&cancel=true`);\n    }\n\n    async download(uris: URI[], options?: FileDownloadService.DownloadOptions): Promise<void> {\n        let cancel = false;\n        if (uris.length === 0) {\n            return;\n        }\n        const copyLink = options && options.copyLink ? true : false;\n        try {\n            const text: string = copyLink ?\n                nls.localize('theia/filesystem/prepareDownloadLink', 'Preparing download link...') :\n                nls.localize('theia/filesystem/prepareDownload', 'Preparing download...');\n            const [progress, result] = await Promise.all([\n                this.messageService.showProgress({\n                    text: text,\n                    options: { cancelable: true }\n                }, () => { cancel = true; }),\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                new Promise<{ response: Response, jsonResponse: any }>(async resolve => {\n                    const resp = await fetch(this.request(uris));\n                    const jsonResp = await resp.json();\n                    resolve({ response: resp, jsonResponse: jsonResp });\n                })\n            ]);\n            const { response, jsonResponse } = result;\n            if (cancel) {\n                this.cancelDownload(jsonResponse.id);\n                return;\n            }\n            const { status, statusText } = response;\n            if (status === 200) {\n                progress.cancel();\n                const downloadUrl = `${this.endpoint()}/download/?id=${jsonResponse.id}`;\n                if (copyLink) {\n                    if (document.documentElement) {\n                        const toDispose = addClipboardListener(document.documentElement, 'copy', e => {\n                            toDispose.dispose();\n                            this.handleCopy(e, downloadUrl);\n                        });\n                        document.execCommand('copy');\n                    }\n                } else {\n                    this.forceDownload(jsonResponse.id, decodeURIComponent(jsonResponse.name));\n                }\n            } else {\n                throw new Error(`Received unexpected status code: ${status}. [${statusText}]`);\n            }\n        } catch (e) {\n            this.logger.error(`Error occurred when downloading: ${uris.map(u => u.toString(true))}.`, e);\n        }\n    }\n\n    protected async forceDownload(id: string, title: string): Promise<void> {\n        let url: string | undefined;\n        try {\n            if (this.anchor === undefined) {\n                this.anchor = document.createElement('a');\n            }\n            const endpoint = this.endpoint();\n            url = `${endpoint}/download/?id=${id}`;\n            this.anchor.href = url;\n            this.anchor.style.display = 'none';\n            this.anchor.download = title;\n            document.body.appendChild(this.anchor);\n            this.anchor.click();\n        } finally {\n            // make sure anchor is removed from parent\n            if (this.anchor && this.anchor.parentNode) {\n                this.anchor.parentNode.removeChild(this.anchor);\n            }\n            if (url) {\n                URL.revokeObjectURL(url);\n            }\n        }\n    }\n\n    protected request(uris: URI[]): Request {\n        const url = this.url(uris);\n        const init = this.requestInit(uris);\n        return new Request(url, init);\n    }\n\n    protected requestInit(uris: URI[]): RequestInit {\n        if (uris.length === 1) {\n            return {\n                body: undefined,\n                method: 'GET'\n            };\n        }\n        return {\n            method: 'PUT',\n            body: JSON.stringify(this.body(uris)),\n            headers: new Headers({ 'Content-Type': 'application/json' }),\n        };\n    }\n\n    protected body(uris: URI[]): FileDownloadData {\n        return {\n            uris: uris.map(u => u.toString(true))\n        };\n    }\n\n    protected url(uris: URI[]): string {\n        const endpoint = this.endpoint();\n        if (uris.length === 1) {\n            // tslint:disable-next-line:whitespace\n            const [uri,] = uris;\n            return `${endpoint}/?uri=${uri.toString()}`;\n        }\n        return endpoint;\n\n    }\n\n    protected endpoint(): string {\n        const url = this.filesUrl();\n        return url.endsWith('/') ? url.slice(0, -1) : url;\n    }\n\n    protected filesUrl(): string {\n        return new Endpoint({ path: 'files' }).getRestUrl().toString();\n    }\n\n}\n\nexport namespace FileDownloadService {\n    export interface DownloadOptions {\n        /**\n         * `true` if the download link has to be copied to the clipboard. This will not trigger the actual download. Defaults to `false`.\n         */\n        readonly copyLink?: boolean;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces, Container } from '@theia/core/shared/inversify';\nimport { Tree, TreeModel, TreeProps, defaultTreeProps } from '@theia/core/lib/browser';\nimport { createFileTreeContainer, FileTreeModel, FileTreeWidget } from '../file-tree';\nimport { OpenFileDialog, OpenFileDialogProps, SaveFileDialog, SaveFileDialogProps } from './file-dialog';\nimport { FileDialogModel } from './file-dialog-model';\nimport { FileDialogWidget } from './file-dialog-widget';\nimport { FileDialogTree } from './file-dialog-tree';\n\nexport function createFileDialogContainer(parent: interfaces.Container): Container {\n    const child = createFileTreeContainer(parent);\n\n    child.unbind(FileTreeModel);\n    child.bind(FileDialogModel).toSelf();\n    child.rebind(TreeModel).toService(FileDialogModel);\n\n    child.unbind(FileTreeWidget);\n    child.bind(FileDialogWidget).toSelf();\n\n    child.bind(FileDialogTree).toSelf();\n    child.rebind(Tree).toService(FileDialogTree);\n\n    return child;\n}\n\nexport function createOpenFileDialogContainer(parent: interfaces.Container, props: OpenFileDialogProps): Container {\n    const container = createFileDialogContainer(parent);\n    container.rebind(TreeProps).toConstantValue({\n        ...defaultTreeProps,\n        multiSelect: props.canSelectMany,\n        search: true\n    });\n\n    container.bind(OpenFileDialogProps).toConstantValue(props);\n    container.bind(OpenFileDialog).toSelf();\n\n    return container;\n}\n\nexport function createSaveFileDialogContainer(parent: interfaces.Container, props: SaveFileDialogProps): Container {\n    const container = createFileDialogContainer(parent);\n    container.rebind(TreeProps).toConstantValue({\n        ...defaultTreeProps,\n        multiSelect: false,\n        search: true\n    });\n\n    container.bind(SaveFileDialogProps).toConstantValue(props);\n    container.bind(SaveFileDialog).toSelf();\n\n    return container;\n}\n","// *****************************************************************************\n// Copyright (C) 2023 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { nls } from '@theia/core';\nimport { ReactRenderer } from '@theia/core/lib/browser';\nimport { inject, postConstruct } from '@theia/core/shared/inversify';\nimport * as React from '@theia/core/shared/react';\nimport { FileDialogTree } from './file-dialog-tree';\n\nconst TOGGLE_HIDDEN_PANEL_CLASS = 'theia-ToggleHiddenPanel';\nconst TOGGLE_HIDDEN_CONTAINER_CLASS = 'theia-ToggleHiddenInputContainer';\nconst CHECKBOX_CLASS = 'theia-ToggleHiddenInputCheckbox';\n\nexport const HiddenFilesToggleRendererFactory = Symbol('HiddenFilesToggleRendererFactory');\nexport interface HiddenFilesToggleRendererFactory {\n    (fileDialogTree: FileDialogTree): FileDialogHiddenFilesToggleRenderer;\n}\nexport class FileDialogHiddenFilesToggleRenderer extends ReactRenderer {\n    @inject(FileDialogTree) fileDialogTree: FileDialogTree;\n\n    @postConstruct()\n    protected init(): void {\n        this.host.classList.add(TOGGLE_HIDDEN_PANEL_CLASS);\n        this.render();\n    }\n\n    protected readonly handleCheckboxChanged = (e: React.ChangeEvent<HTMLInputElement>): void => this.onCheckboxChanged(e);\n    protected override doRender(): React.ReactNode {\n        return (\n            <div className={TOGGLE_HIDDEN_CONTAINER_CLASS}>\n                {nls.localize('theia/fileDialog/showHidden', 'Show hidden files')}\n                <input\n                    type='checkbox'\n                    className={CHECKBOX_CLASS}\n                    onChange={this.handleCheckboxChanged}\n                />\n            </div>\n        );\n    }\n\n    protected onCheckboxChanged(e: React.ChangeEvent<HTMLInputElement>): void {\n        const { checked } = e.target;\n        this.fileDialogTree.showHidden = checked;\n        e.stopPropagation();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter, Event } from '@theia/core/lib/common';\nimport { TreeNode, SelectableTreeNode } from '@theia/core/lib/browser';\nimport { DirNode, FileNode, FileTreeModel, FileStatNode } from '../file-tree';\nimport { FileDialogTree } from './file-dialog-tree';\n\n@injectable()\nexport class FileDialogModel extends FileTreeModel {\n\n    @inject(FileDialogTree) override readonly tree: FileDialogTree;\n    protected readonly onDidOpenFileEmitter = new Emitter<void>();\n    protected _initialLocation: URI | undefined;\n    private _disableFileSelection: boolean = false;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.toDispose.push(this.onDidOpenFileEmitter);\n    }\n\n    /**\n     * Returns the first valid location that was set by calling the `navigateTo` method. Once the initial location has a defined value, it will not change.\n     * Can be `undefined`.\n     */\n    get initialLocation(): URI | undefined {\n        return this._initialLocation;\n    }\n\n    set disableFileSelection(isSelectable: boolean) {\n        this._disableFileSelection = isSelectable;\n    }\n\n    override async navigateTo(nodeOrId: TreeNode | string | undefined): Promise<TreeNode | undefined> {\n        const result = await super.navigateTo(nodeOrId);\n        if (!this._initialLocation && FileStatNode.is(result)) {\n            this._initialLocation = result.uri;\n        }\n        return result;\n    }\n\n    get onDidOpenFile(): Event<void> {\n        return this.onDidOpenFileEmitter.event;\n    }\n\n    protected override doOpenNode(node: TreeNode): void {\n        if (FileNode.is(node)) {\n            this.onDidOpenFileEmitter.fire(undefined);\n        } else if (DirNode.is(node)) {\n            this.navigateTo(node);\n        } else {\n            super.doOpenNode(node);\n        }\n    }\n\n    override getNextSelectableNode(node: SelectableTreeNode | undefined = this.getFocusedNode()): SelectableTreeNode | undefined {\n        let nextNode: SelectableTreeNode | undefined = node;\n        do {\n            nextNode = super.getNextSelectableNode(nextNode);\n        } while (FileStatNode.is(nextNode) && !this.isFileStatNodeSelectable(nextNode));\n        return nextNode;\n    }\n\n    override getPrevSelectableNode(node: SelectableTreeNode | undefined = this.getFocusedNode()): SelectableTreeNode | undefined {\n        let prevNode: SelectableTreeNode | undefined = node;\n        do {\n            prevNode = super.getPrevSelectableNode(prevNode);\n        } while (FileStatNode.is(prevNode) && !this.isFileStatNodeSelectable(prevNode));\n        return prevNode;\n    }\n\n    private isFileStatNodeSelectable(node: FileStatNode): boolean {\n        return !(!node.fileStat.isDirectory && this._disableFileSelection);\n    }\n\n    canNavigateUpward(): boolean {\n        const treeRoot = this.tree.root;\n        return FileStatNode.is(treeRoot) && !treeRoot.uri.path.isRoot;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { MaybeArray, UNTITLED_SCHEME, nls } from '@theia/core/lib/common';\nimport { LabelProvider } from '@theia/core/lib/browser';\nimport { FileStat } from '../../common/files';\nimport { DirNode } from '../file-tree';\nimport { OpenFileDialogFactory, OpenFileDialogProps, SaveFileDialogFactory, SaveFileDialogProps } from './file-dialog';\nimport { FileService } from '../file-service';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { UserWorkingDirectoryProvider } from '@theia/core/lib/browser/user-working-directory-provider';\n\nexport const FileDialogService = Symbol('FileDialogService');\nexport interface FileDialogService {\n\n    showOpenDialog(props: OpenFileDialogProps & { canSelectMany: true }, folder?: FileStat): Promise<MaybeArray<URI> | undefined>;\n    showOpenDialog(props: OpenFileDialogProps, folder?: FileStat): Promise<URI | undefined>;\n    showOpenDialog(props: OpenFileDialogProps, folder?: FileStat): Promise<MaybeArray<URI> | undefined>;\n\n    showSaveDialog(props: SaveFileDialogProps, folder?: FileStat): Promise<URI | undefined>\n\n}\n\n@injectable()\nexport class DefaultFileDialogService implements FileDialogService {\n\n    @inject(EnvVariablesServer)\n    protected readonly environments: EnvVariablesServer;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(OpenFileDialogFactory) protected readonly openFileDialogFactory: OpenFileDialogFactory;\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n    @inject(SaveFileDialogFactory) protected readonly saveFileDialogFactory: SaveFileDialogFactory;\n    @inject(UserWorkingDirectoryProvider) protected readonly rootProvider: UserWorkingDirectoryProvider;\n\n    async showOpenDialog(props: OpenFileDialogProps & { canSelectMany: true }, folder?: FileStat): Promise<MaybeArray<URI> | undefined>;\n    async showOpenDialog(props: OpenFileDialogProps, folder?: FileStat): Promise<URI | undefined>;\n    async showOpenDialog(props: OpenFileDialogProps, folder?: FileStat): Promise<MaybeArray<URI> | undefined> {\n        const title = props.title || nls.localizeByDefault('Open');\n        const rootNode = await this.getRootNode(folder);\n        if (rootNode) {\n            const dialog = this.openFileDialogFactory(Object.assign(props, { title }));\n            await dialog.model.navigateTo(rootNode);\n            const value = await dialog.open();\n            if (value) {\n                if (!Array.isArray(value)) {\n                    return value.uri;\n                }\n                return value.map(node => node.uri);\n            }\n        }\n        return undefined;\n    }\n\n    async showSaveDialog(props: SaveFileDialogProps, folder?: FileStat): Promise<URI | undefined> {\n        const title = props.title || nls.localizeByDefault('Save');\n        const rootNode = await this.getRootNode(folder);\n        if (rootNode) {\n            const dialog = this.saveFileDialogFactory(Object.assign(props, { title }));\n            await dialog.model.navigateTo(rootNode);\n            return dialog.open();\n        }\n        return undefined;\n    }\n\n    protected async getRootNode(folderToOpen?: FileStat): Promise<DirNode | undefined> {\n        const folderExists = folderToOpen\n            && folderToOpen.resource.scheme !== UNTITLED_SCHEME\n            && await this.fileService.exists(folderToOpen.resource);\n        const folder = folderToOpen && folderExists ? folderToOpen : {\n            resource: await this.rootProvider.getUserWorkingDir(),\n            isDirectory: true\n        };\n        const folderUri = folder.resource;\n        const rootUri = folder.isDirectory ? folderUri : folderUri.parent;\n        try {\n            const rootStat = await this.fileService.resolve(rootUri);\n            return DirNode.createRoot(rootStat);\n        } catch { }\n        return undefined;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ReactRenderer } from '@theia/core/lib/browser/widgets/react-renderer';\nimport { FileDialogTree } from './file-dialog-tree';\nimport * as React from '@theia/core/shared/react';\nimport { inject, injectable } from '@theia/core/shared/inversify';\n\nexport const FILE_TREE_FILTERS_LIST_CLASS = 'theia-FileTreeFiltersList';\n\n/**\n * A set of file filters that are used by the dialog. Each entry is a human readable label,\n * like \"TypeScript\", and an array of extensions, e.g.\n * ```ts\n * {\n *  'Images': ['png', 'jpg']\n *  'TypeScript': ['ts', 'tsx']\n * }\n * ```\n */\nexport class FileDialogTreeFilters {\n    [name: string]: string[];\n}\n\nexport const FileDialogTreeFiltersRendererFactory = Symbol('FileDialogTreeFiltersRendererFactory');\nexport interface FileDialogTreeFiltersRendererFactory {\n    (options: FileDialogTreeFiltersRendererOptions): FileDialogTreeFiltersRenderer;\n}\n\nexport const FileDialogTreeFiltersRendererOptions = Symbol('FileDialogTreeFiltersRendererOptions');\nexport interface FileDialogTreeFiltersRendererOptions {\n    suppliedFilters: FileDialogTreeFilters;\n    fileDialogTree: FileDialogTree;\n}\n\n@injectable()\nexport class FileDialogTreeFiltersRenderer extends ReactRenderer {\n\n    readonly appliedFilters: FileDialogTreeFilters;\n    readonly suppliedFilters: FileDialogTreeFilters;\n    readonly fileDialogTree: FileDialogTree;\n\n    constructor(\n        @inject(FileDialogTreeFiltersRendererOptions) readonly options: FileDialogTreeFiltersRendererOptions\n    ) {\n        super();\n        this.suppliedFilters = options.suppliedFilters;\n        this.fileDialogTree = options.fileDialogTree;\n        this.appliedFilters = { ...this.suppliedFilters, 'All Files': [], };\n    }\n\n    protected readonly handleFilterChanged = (e: React.ChangeEvent<HTMLSelectElement>) => this.onFilterChanged(e);\n\n    protected override doRender(): React.ReactNode {\n        if (!this.appliedFilters) {\n            return undefined;\n        }\n\n        const options = Object.keys(this.appliedFilters).map(value => this.renderLocation(value));\n        return <select className={'theia-select ' + FILE_TREE_FILTERS_LIST_CLASS} onChange={this.handleFilterChanged}>{...options}</select>;\n    }\n\n    protected renderLocation(value: string): React.ReactNode {\n        return <option value={value} key={value}>{value}</option>;\n    }\n\n    protected onFilterChanged(e: React.ChangeEvent<HTMLSelectElement>): void {\n        const locationList = this.locationList;\n        if (locationList) {\n            const value = locationList.value;\n            const filters = this.appliedFilters[value];\n            this.fileDialogTree.setFilter(filters);\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    get locationList(): HTMLSelectElement | undefined {\n        const locationList = this.host.getElementsByClassName(FILE_TREE_FILTERS_LIST_CLASS)[0];\n        if (locationList instanceof HTMLSelectElement) {\n            return locationList;\n        }\n        return undefined;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { DirNode, FileTree } from '../file-tree';\nimport { TreeNode, CompositeTreeNode } from '@theia/core/lib/browser/tree/tree';\nimport { FileStat } from '../../common/files';\n\n@injectable()\nexport class FileDialogTree extends FileTree {\n    protected _showHidden = false;\n    set showHidden(show: boolean) {\n        this._showHidden = show;\n        this.refresh();\n    }\n\n    get showHidden(): boolean {\n        return this._showHidden;\n    }\n\n    protected isHiddenFile = (fileStat: FileStat): boolean => {\n        const { name } = fileStat;\n        const filename = name ?? '';\n        const isHidden = filename.startsWith('.');\n        return isHidden;\n    };\n    /**\n     * Extensions for files to be shown\n     */\n    protected fileExtensions: string[] = [];\n\n    /**\n     * Sets extensions for filtering files\n     *\n     * @param fileExtensions array of extensions\n     */\n    setFilter(fileExtensions: string[]): void {\n        this.fileExtensions = fileExtensions.slice();\n        this.refresh();\n    }\n\n    protected override async toNodes(fileStat: FileStat, parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (!fileStat.children) {\n            return [];\n        }\n\n        const result = await Promise.all(\n            fileStat.children\n                .filter(child => this.isVisible(child))\n                .map(child => this.toNode(child, parent))\n        );\n\n        return result.sort(DirNode.compare);\n    }\n\n    /**\n     * Determines whether file or folder can be shown\n     *\n     * @param fileStat resource to check\n     */\n    protected isVisible(fileStat: FileStat): boolean {\n        if (!this._showHidden && this.isHiddenFile(fileStat)) {\n            return false;\n        }\n        if (fileStat.isDirectory) {\n            return true;\n        }\n\n        if (this.fileExtensions.length === 0) {\n            return true;\n        }\n\n        return !this.fileExtensions.every(value => fileStat.resource.path.ext !== '.' + value);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { ContextMenuRenderer, NodeProps, TreeProps, TreeNode, SELECTED_CLASS, FOCUS_CLASS } from '@theia/core/lib/browser';\nimport { FileTreeWidget, FileStatNode } from '../file-tree';\nimport { FileDialogModel } from './file-dialog-model';\n\nexport const FILE_DIALOG_CLASS = 'theia-FileDialog';\nexport const NOT_SELECTABLE_CLASS = 'theia-mod-not-selectable';\n\n@injectable()\nexport class FileDialogWidget extends FileTreeWidget {\n\n    private _disableFileSelection: boolean = false;\n\n    constructor(\n        @inject(TreeProps) props: TreeProps,\n        @inject(FileDialogModel) override readonly model: FileDialogModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer\n    ) {\n        super(props, model, contextMenuRenderer);\n        this.addClass(FILE_DIALOG_CLASS);\n    }\n\n    set disableFileSelection(isSelectable: boolean) {\n        this._disableFileSelection = isSelectable;\n        this.model.disableFileSelection = isSelectable;\n    }\n\n    protected override createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const attr = super.createNodeAttributes(node, props) as any;\n        if (this.shouldDisableSelection(node)) {\n            const keys = Object.keys(attr);\n            keys.forEach(k => {\n                if (['className', 'style', 'title'].indexOf(k) < 0) {\n                    delete attr[k];\n                }\n            });\n        }\n        return attr;\n    }\n\n    protected override handleEnter(event: KeyboardEvent): boolean | void {\n        // Handle ENTER in the dialog to Accept.\n        // Tree view will just expand/collapse the node. This works also with arrow keys or SPACE.\n        return false;\n    }\n\n    protected override handleEscape(event: KeyboardEvent): boolean | void {\n        // Handle ESC in the dialog to Cancel and close the Dialog.\n        return false;\n    }\n\n    protected override createNodeClassNames(node: TreeNode, props: NodeProps): string[] {\n        const classNames = super.createNodeClassNames(node, props);\n        if (this.shouldDisableSelection(node)) {\n            [SELECTED_CLASS, FOCUS_CLASS].forEach(name => {\n                const ind = classNames.indexOf(name);\n                if (ind >= 0) {\n                    classNames.splice(ind, 1);\n                }\n            });\n            classNames.push(NOT_SELECTABLE_CLASS);\n        }\n        return classNames;\n    }\n\n    protected shouldDisableSelection(node: TreeNode): boolean {\n        return FileStatNode.is(node) && !node.fileStat.isDirectory && this._disableFileSelection;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { Message } from '@theia/core/shared/@lumino/messaging';\nimport { Disposable, MaybeArray, nls } from '@theia/core/lib/common';\nimport { AbstractDialog, DialogProps, setEnabled, createIconButton, Widget, codiconArray, Key, LabelProvider } from '@theia/core/lib/browser';\nimport { FileStatNode } from '../file-tree';\nimport { LocationListRenderer, LocationListRendererFactory } from '../location';\nimport { FileDialogModel } from './file-dialog-model';\nimport { FileDialogWidget } from './file-dialog-widget';\nimport { FileDialogTreeFiltersRenderer, FileDialogTreeFilters, FileDialogTreeFiltersRendererFactory } from './file-dialog-tree-filters-renderer';\nimport URI from '@theia/core/lib/common/uri';\nimport { Panel } from '@theia/core/shared/@lumino/widgets';\nimport * as DOMPurify from '@theia/core/shared/dompurify';\nimport { FileDialogHiddenFilesToggleRenderer, HiddenFilesToggleRendererFactory } from './file-dialog-hidden-files-renderer';\n\nexport const OpenFileDialogFactory = Symbol('OpenFileDialogFactory');\nexport interface OpenFileDialogFactory {\n    (props: OpenFileDialogProps): OpenFileDialog;\n}\n\nexport const SaveFileDialogFactory = Symbol('SaveFileDialogFactory');\nexport interface SaveFileDialogFactory {\n    (props: SaveFileDialogProps): SaveFileDialog;\n}\n\nexport const SAVE_DIALOG_CLASS = 'theia-SaveFileDialog';\n\nexport const NAVIGATION_PANEL_CLASS = 'theia-NavigationPanel';\nexport const NAVIGATION_BACK_CLASS = 'theia-NavigationBack';\nexport const NAVIGATION_FORWARD_CLASS = 'theia-NavigationForward';\nexport const NAVIGATION_HOME_CLASS = 'theia-NavigationHome';\nexport const NAVIGATION_UP_CLASS = 'theia-NavigationUp';\nexport const NAVIGATION_LOCATION_LIST_PANEL_CLASS = 'theia-LocationListPanel';\n\nexport const FILTERS_PANEL_CLASS = 'theia-FiltersPanel';\nexport const FILTERS_LABEL_CLASS = 'theia-FiltersLabel';\nexport const FILTERS_LIST_PANEL_CLASS = 'theia-FiltersListPanel';\n\nexport const FILENAME_PANEL_CLASS = 'theia-FileNamePanel';\nexport const FILENAME_LABEL_CLASS = 'theia-FileNameLabel';\nexport const FILENAME_TEXTFIELD_CLASS = 'theia-FileNameTextField';\n\nexport const CONTROL_PANEL_CLASS = 'theia-ControlPanel';\nexport const TOOLBAR_ITEM_TRANSFORM_TIMEOUT = 100;\n\nexport class FileDialogProps extends DialogProps {\n\n    /**\n     * A set of file filters that are used by the dialog. Each entry is a human readable label,\n     * like \"TypeScript\", and an array of extensions, e.g.\n     * ```ts\n     * {\n     *  'Images': ['png', 'jpg']\n     *  'TypeScript': ['ts', 'tsx']\n     * }\n     * ```\n     */\n    filters?: FileDialogTreeFilters;\n\n    /**\n     * Determines if the dialog window should be modal.\n     * Defaults to `true`.\n     */\n    modal?: boolean;\n\n}\n\n@injectable()\nexport class OpenFileDialogProps extends FileDialogProps {\n\n    /**\n     * A human-readable string for the accept button.\n     */\n    openLabel?: string;\n\n    /**\n     * Allow to select files, defaults to `true`.\n     */\n    canSelectFiles?: boolean;\n\n    /**\n     * Allow to select folders, defaults to `false`.\n     */\n    canSelectFolders?: boolean;\n\n    /**\n     * Allow to select many files or folders.\n     */\n    canSelectMany?: boolean;\n\n}\n\n@injectable()\nexport class SaveFileDialogProps extends FileDialogProps {\n\n    /**\n     * A human-readable string for the accept button.\n     */\n    saveLabel?: string;\n\n    /**\n     * A human-readable value for the input.\n     */\n    inputValue?: string;\n\n}\n\nexport abstract class FileDialog<T> extends AbstractDialog<T> {\n\n    protected back: HTMLSpanElement;\n    protected forward: HTMLSpanElement;\n    protected home: HTMLSpanElement;\n    protected up: HTMLSpanElement;\n    protected locationListRenderer: LocationListRenderer;\n    protected treeFiltersRenderer: FileDialogTreeFiltersRenderer | undefined;\n    protected hiddenFilesToggleRenderer: FileDialogHiddenFilesToggleRenderer;\n    protected treePanel: Panel;\n\n    @inject(FileDialogWidget) readonly widget: FileDialogWidget;\n    @inject(LocationListRendererFactory) readonly locationListFactory: LocationListRendererFactory;\n    @inject(FileDialogTreeFiltersRendererFactory) readonly treeFiltersFactory: FileDialogTreeFiltersRendererFactory;\n    @inject(HiddenFilesToggleRendererFactory) readonly hiddenFilesToggleFactory: HiddenFilesToggleRendererFactory;\n\n    constructor(\n        @inject(FileDialogProps) override readonly props: FileDialogProps\n    ) {\n        super(props);\n    }\n\n    @postConstruct()\n    init(): void {\n        this.treePanel = new Panel();\n        this.treePanel.addWidget(this.widget);\n        this.toDispose.push(this.treePanel);\n        this.toDispose.push(this.model.onChanged(() => this.update()));\n        this.toDispose.push(this.model.onDidOpenFile(() => this.accept()));\n        this.toDispose.push(this.model.onSelectionChanged(() => this.update()));\n\n        const navigationPanel = document.createElement('div');\n        navigationPanel.classList.add(NAVIGATION_PANEL_CLASS);\n        this.contentNode.appendChild(navigationPanel);\n\n        navigationPanel.appendChild(this.back = createIconButton(...codiconArray('chevron-left', true)));\n        this.back.classList.add(NAVIGATION_BACK_CLASS);\n        this.back.title = nls.localize('theia/filesystem/dialog/navigateBack', 'Navigate Back');\n\n        navigationPanel.appendChild(this.forward = createIconButton(...codiconArray('chevron-right', true)));\n        this.forward.classList.add(NAVIGATION_FORWARD_CLASS);\n        this.forward.title = nls.localize('theia/filesystem/dialog/navigateForward', 'Navigate Forward');\n\n        navigationPanel.appendChild(this.home = createIconButton(...codiconArray('home', true)));\n        this.home.classList.add(NAVIGATION_HOME_CLASS);\n        this.home.title = nls.localize('theia/filesystem/dialog/initialLocation', 'Go To Initial Location');\n\n        navigationPanel.appendChild(this.up = createIconButton(...codiconArray('arrow-up', true)));\n        this.up.classList.add(NAVIGATION_UP_CLASS);\n        this.up.title = nls.localize('theia/filesystem/dialog/navigateUp', 'Navigate Up One Directory');\n\n        const locationListRendererHost = document.createElement('div');\n        this.locationListRenderer = this.locationListFactory({ model: this.model, host: locationListRendererHost });\n        this.toDispose.push(this.locationListRenderer);\n        this.locationListRenderer.host.classList.add(NAVIGATION_LOCATION_LIST_PANEL_CLASS);\n        navigationPanel.appendChild(this.locationListRenderer.host);\n\n        this.hiddenFilesToggleRenderer = this.hiddenFilesToggleFactory(this.widget.model.tree);\n        this.contentNode.appendChild(this.hiddenFilesToggleRenderer.host);\n\n        if (this.props.filters) {\n            this.treeFiltersRenderer = this.treeFiltersFactory({ suppliedFilters: this.props.filters, fileDialogTree: this.widget.model.tree });\n            const filters = Object.keys(this.props.filters);\n            if (filters.length) {\n                this.widget.model.tree.setFilter(this.props.filters[filters[0]]);\n            }\n        }\n    }\n\n    get model(): FileDialogModel {\n        return this.widget.model;\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        setEnabled(this.back, this.model.canNavigateBackward());\n        setEnabled(this.forward, this.model.canNavigateForward());\n        setEnabled(this.home, !!this.model.initialLocation\n            && !!this.model.location\n            && this.model.initialLocation.toString() !== this.model.location.toString());\n        setEnabled(this.up, this.model.canNavigateUpward());\n        this.locationListRenderer.render();\n\n        if (this.treeFiltersRenderer) {\n            this.treeFiltersRenderer.render();\n        }\n\n        this.widget.update();\n    }\n\n    protected override handleEnter(event: KeyboardEvent): boolean | void {\n        if (event.target instanceof HTMLTextAreaElement || this.targetIsDirectoryInput(event.target) || this.targetIsInputToggle(event.target)) {\n            return false;\n        }\n        this.accept();\n    }\n\n    protected override handleEscape(event: KeyboardEvent): boolean | void {\n        if (event.target instanceof HTMLTextAreaElement || this.targetIsDirectoryInput(event.target)) {\n            return false;\n        }\n        this.close();\n    }\n\n    protected targetIsDirectoryInput(target: EventTarget | null): boolean {\n        return target instanceof HTMLInputElement && target.classList.contains(LocationListRenderer.Styles.LOCATION_TEXT_INPUT_CLASS);\n    }\n\n    protected targetIsInputToggle(target: EventTarget | null): boolean {\n        return target instanceof HTMLSpanElement && target.classList.contains(LocationListRenderer.Styles.LOCATION_INPUT_TOGGLE_CLASS);\n    }\n\n    protected appendFiltersPanel(): void {\n        if (this.treeFiltersRenderer) {\n            const filtersPanel = document.createElement('div');\n            filtersPanel.classList.add(FILTERS_PANEL_CLASS);\n            this.contentNode.appendChild(filtersPanel);\n\n            const titlePanel = document.createElement('div');\n            titlePanel.innerHTML = DOMPurify.sanitize(nls.localize('theia/filesystem/format', 'Format:'));\n            titlePanel.classList.add(FILTERS_LABEL_CLASS);\n            filtersPanel.appendChild(titlePanel);\n\n            this.treeFiltersRenderer.host.classList.add(FILTERS_LIST_PANEL_CLASS);\n            filtersPanel.appendChild(this.treeFiltersRenderer.host);\n        }\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        Widget.attach(this.treePanel, this.contentNode);\n        this.toDisposeOnDetach.push(Disposable.create(() => {\n            Widget.detach(this.treePanel);\n            this.locationListRenderer.dispose();\n            if (this.treeFiltersRenderer) {\n                this.treeFiltersRenderer.dispose();\n            }\n        }));\n\n        this.appendFiltersPanel();\n\n        this.appendCloseButton(nls.localizeByDefault('Cancel'));\n        this.appendAcceptButton(this.getAcceptButtonLabel());\n\n        this.addKeyListener(this.back, Key.ENTER, () => {\n            this.addTransformEffectToIcon(this.back);\n            this.model.navigateBackward();\n        }, 'click');\n\n        this.addKeyListener(this.forward, Key.ENTER, () => {\n            this.addTransformEffectToIcon(this.forward);\n            this.model.navigateForward();\n        }, 'click');\n        this.addKeyListener(this.home, Key.ENTER, () => {\n            this.addTransformEffectToIcon(this.home);\n            if (this.model.initialLocation) {\n                this.model.location = this.model.initialLocation;\n            }\n        }, 'click');\n        this.addKeyListener(this.up, Key.ENTER, () => {\n            this.addTransformEffectToIcon(this.up);\n            if (this.model.location) {\n                this.model.location = this.model.location.parent;\n            }\n        }, 'click');\n        super.onAfterAttach(msg);\n    }\n\n    protected addTransformEffectToIcon(element: HTMLSpanElement): void {\n        const icon = element.getElementsByTagName('i')[0];\n        icon.classList.add('active');\n        setTimeout(() => icon.classList.remove('active'), TOOLBAR_ITEM_TRANSFORM_TIMEOUT);\n    }\n\n    protected abstract getAcceptButtonLabel(): string;\n\n    protected override onActivateRequest(msg: Message): void {\n        this.widget.activate();\n    }\n\n}\n\n@injectable()\nexport class OpenFileDialog extends FileDialog<MaybeArray<FileStatNode>> {\n\n    constructor(@inject(OpenFileDialogProps) override readonly props: OpenFileDialogProps) {\n        super(props);\n    }\n\n    @postConstruct()\n    override init(): void {\n        super.init();\n        const { props } = this;\n        if (props.canSelectFiles !== undefined) {\n            this.widget.disableFileSelection = !props.canSelectFiles;\n        }\n    }\n\n    protected getAcceptButtonLabel(): string {\n        return this.props.openLabel ? this.props.openLabel : nls.localizeByDefault('Open');\n    }\n\n    protected override isValid(value: MaybeArray<FileStatNode>): string {\n        if (value && !this.props.canSelectMany && value instanceof Array) {\n            return nls.localize('theia/filesystem/dialog/multipleItemMessage', 'You can select only one item');\n        }\n        return '';\n    }\n\n    get value(): MaybeArray<FileStatNode> {\n        if (this.widget.model.selectedFileStatNodes.length === 1) {\n            return this.widget.model.selectedFileStatNodes[0];\n        } else {\n            return this.widget.model.selectedFileStatNodes;\n        }\n    }\n\n    protected override async accept(): Promise<void> {\n        const selection = this.value;\n        if (!this.props.canSelectFolders\n            && !Array.isArray(selection)\n            && selection.fileStat.isDirectory) {\n            this.widget.model.openNode(selection);\n            return;\n        }\n        super.accept();\n    }\n}\n\n@injectable()\nexport class SaveFileDialog extends FileDialog<URI | undefined> {\n\n    protected fileNameField: HTMLInputElement | undefined;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    constructor(@inject(SaveFileDialogProps) override readonly props: SaveFileDialogProps) {\n        super(props);\n    }\n\n    @postConstruct()\n    override init(): void {\n        super.init();\n        const { widget } = this;\n        widget.addClass(SAVE_DIALOG_CLASS);\n    }\n\n    protected getAcceptButtonLabel(): string {\n        return this.props.saveLabel ? this.props.saveLabel : nls.localizeByDefault('Save');\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        // Update file name field when changing a selection\n        if (this.fileNameField) {\n            if (this.widget.model.selectedFileStatNodes.length === 1) {\n                const node = this.widget.model.selectedFileStatNodes[0];\n                if (!node.fileStat.isDirectory) {\n                    this.fileNameField.value = this.labelProvider.getName(node);\n                }\n            } else {\n                this.fileNameField.value = '';\n            }\n        }\n\n        // Continue updating the dialog\n        super.onUpdateRequest(msg);\n    }\n\n    protected override isValid(value: URI | undefined): string | boolean {\n        if (this.fileNameField && this.fileNameField.value) {\n            return '';\n        }\n        return false;\n    }\n\n    get value(): URI | undefined {\n        if (this.fileNameField && this.widget.model.selectedFileStatNodes.length === 1) {\n            const node = this.widget.model.selectedFileStatNodes[0];\n\n            if (node.fileStat.isDirectory) {\n                return node.uri.resolve(this.fileNameField.value);\n            }\n\n            return node.uri.parent.resolve(this.fileNameField.value);\n        }\n\n        return undefined;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n\n        const fileNamePanel = document.createElement('div');\n        fileNamePanel.classList.add(FILENAME_PANEL_CLASS);\n        this.contentNode.appendChild(fileNamePanel);\n\n        const titlePanel = document.createElement('div');\n        titlePanel.innerHTML = DOMPurify.sanitize(nls.localize('theia/filesystem/dialog/name', 'Name:'));\n        titlePanel.classList.add(FILENAME_LABEL_CLASS);\n        fileNamePanel.appendChild(titlePanel);\n\n        this.fileNameField = document.createElement('input');\n        this.fileNameField.type = 'text';\n        this.fileNameField.spellcheck = false;\n        this.fileNameField.classList.add('theia-input', FILENAME_TEXTFIELD_CLASS);\n        this.fileNameField.value = this.props.inputValue || '';\n        fileNamePanel.appendChild(this.fileNameField);\n\n        this.fileNameField.onkeyup = () => this.validate();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './file-dialog';\nexport * from './file-dialog-container';\nexport * from './file-dialog-tree-filters-renderer';\nexport * from './file-dialog-service';\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { Resource, ResourceVersion, ResourceResolver, ResourceError, ResourceSaveOptions } from '@theia/core/lib/common/resource';\nimport { DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { Readable, ReadableStream } from '@theia/core/lib/common/stream';\nimport URI from '@theia/core/lib/common/uri';\nimport { FileOperation, FileOperationError, FileOperationResult, ETAG_DISABLED, FileSystemProviderCapabilities, FileReadStreamOptions, BinarySize } from '../common/files';\nimport { FileService, TextFileOperationError, TextFileOperationResult } from './file-service';\nimport { ConfirmDialog, Dialog } from '@theia/core/lib/browser/dialogs';\nimport { LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport { GENERAL_MAX_FILE_SIZE_MB } from './filesystem-preferences';\nimport { FrontendApplicationStateService } from '@theia/core/lib/browser/frontend-application-state';\nimport { nls } from '@theia/core';\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering';\nimport { Mutex } from 'async-mutex';\n\nexport interface FileResourceVersion extends ResourceVersion {\n    readonly encoding: string;\n    readonly mtime: number;\n    readonly etag: string;\n}\nexport namespace FileResourceVersion {\n    export function is(version: ResourceVersion | undefined): version is FileResourceVersion {\n        return !!version && 'encoding' in version && 'mtime' in version && 'etag' in version;\n    }\n}\n\nexport interface FileResourceOptions {\n    readOnly: boolean | MarkdownString\n    shouldOverwrite: () => Promise<boolean>\n    shouldOpenAsText: (error: string) => Promise<boolean>\n}\n\nexport class FileResource implements Resource {\n\n    protected acceptTextOnly = true;\n    protected limits: FileReadStreamOptions['limits'];\n\n    protected readonly toDispose = new DisposableCollection();\n    protected readonly onDidChangeContentsEmitter = new Emitter<void>();\n    readonly onDidChangeContents: Event<void> = this.onDidChangeContentsEmitter.event;\n\n    protected readonly onDidChangeReadOnlyEmitter = new Emitter<boolean | MarkdownString>();\n    readonly onDidChangeReadOnly: Event<boolean | MarkdownString> = this.onDidChangeReadOnlyEmitter.event;\n\n    protected _version: FileResourceVersion | undefined;\n    get version(): FileResourceVersion | undefined {\n        return this._version;\n    }\n    get encoding(): string | undefined {\n        return this._version?.encoding;\n    }\n    get readOnly(): boolean | MarkdownString {\n        return this.options.readOnly;\n    }\n\n    protected writingLock = new Mutex();\n\n    constructor(\n        readonly uri: URI,\n        protected readonly fileService: FileService,\n        protected readonly options: FileResourceOptions\n    ) {\n        this.toDispose.push(this.onDidChangeContentsEmitter);\n        this.toDispose.push(this.onDidChangeReadOnlyEmitter);\n        this.toDispose.push(this.fileService.onDidFilesChange(event => {\n            if (event.contains(this.uri)) {\n                this.sync();\n            }\n        }));\n        this.toDispose.push(this.fileService.onDidRunOperation(e => {\n            if ((e.isOperation(FileOperation.DELETE) || e.isOperation(FileOperation.MOVE)) && e.resource.isEqualOrParent(this.uri)) {\n                this.sync();\n            }\n        }));\n        try {\n            this.toDispose.push(this.fileService.watch(this.uri));\n        } catch (e) {\n            console.error(e);\n        }\n        this.updateSavingContentChanges();\n        this.toDispose.push(this.fileService.onDidChangeFileSystemProviderCapabilities(async e => {\n            if (e.scheme === this.uri.scheme) {\n                this.updateReadOnly();\n            }\n        }));\n        this.toDispose.push(this.fileService.onDidChangeFileSystemProviderReadOnlyMessage(async e => {\n            if (e.scheme === this.uri.scheme) {\n                this.updateReadOnly();\n            }\n        }));\n    }\n\n    protected async updateReadOnly(): Promise<void> {\n        const oldReadOnly = this.options.readOnly;\n        const readOnlyMessage = this.fileService.getReadOnlyMessage(this.uri);\n        if (readOnlyMessage) {\n            this.options.readOnly = readOnlyMessage;\n        } else {\n            this.options.readOnly = this.fileService.hasCapability(this.uri, FileSystemProviderCapabilities.Readonly);\n        }\n        if (this.options.readOnly !== oldReadOnly) {\n            this.updateSavingContentChanges();\n            this.onDidChangeReadOnlyEmitter.fire(this.options.readOnly);\n        }\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    async readContents(options?: { encoding?: string }): Promise<string> {\n        try {\n            const encoding = options?.encoding || this.version?.encoding;\n            const stat = await this.fileService.read(this.uri, {\n                encoding,\n                etag: ETAG_DISABLED,\n                acceptTextOnly: this.acceptTextOnly,\n                limits: this.limits\n            });\n            this._version = {\n                encoding: stat.encoding,\n                etag: stat.etag,\n                mtime: stat.mtime\n            };\n            return stat.value;\n        } catch (e) {\n            if (e instanceof TextFileOperationError && e.textFileOperationResult === TextFileOperationResult.FILE_IS_BINARY) {\n                if (await this.shouldOpenAsText(nls.localize('theia/filesystem/fileResource/binaryTitle', 'The file is either binary or uses an unsupported text encoding.'))) {\n                    this.acceptTextOnly = false;\n                    return this.readContents(options);\n                }\n            } else if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_TOO_LARGE) {\n                const stat = await this.fileService.resolve(this.uri, { resolveMetadata: true });\n                const maxFileSize = GENERAL_MAX_FILE_SIZE_MB * 1024 * 1024;\n                if (this.limits?.size !== maxFileSize && await this.shouldOpenAsText(nls.localize(\n                    'theia/filesystem/fileResource/largeFileTitle', 'The file is too large ({0}).', BinarySize.formatSize(stat.size)))) {\n                    this.limits = {\n                        size: maxFileSize\n                    };\n                    return this.readContents(options);\n                }\n            } else if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_NOT_FOUND) {\n                this._version = undefined;\n                const { message, stack } = e;\n                throw ResourceError.NotFound({\n                    message, stack,\n                    data: {\n                        uri: this.uri\n                    }\n                });\n            }\n            throw e;\n        }\n    }\n\n    async readStream(options?: { encoding?: string }): Promise<ReadableStream<string>> {\n        try {\n            const encoding = options?.encoding || this.version?.encoding;\n            const stat = await this.fileService.readStream(this.uri, {\n                encoding,\n                etag: ETAG_DISABLED,\n                acceptTextOnly: this.acceptTextOnly,\n                limits: this.limits\n            });\n            this._version = {\n                encoding: stat.encoding,\n                etag: stat.etag,\n                mtime: stat.mtime\n            };\n            return stat.value;\n        } catch (e) {\n            if (e instanceof TextFileOperationError && e.textFileOperationResult === TextFileOperationResult.FILE_IS_BINARY) {\n                if (await this.shouldOpenAsText(nls.localize('theia/filesystem/fileResource/binaryTitle', 'The file is either binary or uses an unsupported text encoding.'))) {\n                    this.acceptTextOnly = false;\n                    return this.readStream(options);\n                }\n            } else if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_TOO_LARGE) {\n                const stat = await this.fileService.resolve(this.uri, { resolveMetadata: true });\n                const maxFileSize = GENERAL_MAX_FILE_SIZE_MB * 1024 * 1024;\n                if (this.limits?.size !== maxFileSize && await this.shouldOpenAsText(nls.localize(\n                    'theia/filesystem/fileResource/largeFileTitle', 'The file is too large ({0}).', BinarySize.formatSize(stat.size)))) {\n                    this.limits = {\n                        size: maxFileSize\n                    };\n                    return this.readStream(options);\n                }\n            } else if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_NOT_FOUND) {\n                this._version = undefined;\n                const { message, stack } = e;\n                throw ResourceError.NotFound({\n                    message, stack,\n                    data: {\n                        uri: this.uri\n                    }\n                });\n            }\n            throw e;\n        }\n    }\n\n    protected doWrite = async (content: string | Readable<string>, options?: ResourceSaveOptions): Promise<void> => {\n        const version = options?.version || this._version;\n        const current = FileResourceVersion.is(version) ? version : undefined;\n        const etag = current?.etag;\n        const releaseLock = await this.writingLock.acquire();\n\n        try {\n            const stat = await this.fileService.write(this.uri, content, {\n                encoding: options?.encoding,\n                overwriteEncoding: options?.overwriteEncoding,\n                etag,\n                mtime: current?.mtime\n            });\n            this._version = {\n                etag: stat.etag,\n                mtime: stat.mtime,\n                encoding: stat.encoding\n            };\n        } catch (e) {\n            if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_MODIFIED_SINCE) {\n                if (etag !== ETAG_DISABLED && await this.shouldOverwrite()) {\n                    return this.doWrite(content, { ...options, version: { stat: { ...current, etag: ETAG_DISABLED } } });\n                }\n                const { message, stack } = e;\n                throw ResourceError.OutOfSync({ message, stack, data: { uri: this.uri } });\n            }\n            throw e;\n        } finally {\n            releaseLock();\n        }\n    };\n\n    saveStream?: Resource['saveStream'];\n    saveContents?: Resource['saveContents'];\n    saveContentChanges?: Resource['saveContentChanges'];\n    protected updateSavingContentChanges(): void {\n        if (this.readOnly) {\n            delete this.saveContentChanges;\n            delete this.saveContents;\n            delete this.saveStream;\n        } else {\n            this.saveContents = this.doWrite;\n            this.saveStream = this.doWrite;\n            if (this.fileService.hasCapability(this.uri, FileSystemProviderCapabilities.Update)) {\n                this.saveContentChanges = this.doSaveContentChanges;\n            }\n        }\n    }\n    protected doSaveContentChanges: Resource['saveContentChanges'] = async (changes, options) => {\n        const version = options?.version || this._version;\n        const current = FileResourceVersion.is(version) ? version : undefined;\n        if (!current) {\n            throw ResourceError.NotFound({ message: 'has not been read yet', data: { uri: this.uri } });\n        }\n        const etag = current?.etag;\n        const releaseLock = await this.writingLock.acquire();\n\n        try {\n            const stat = await this.fileService.update(this.uri, changes, {\n                readEncoding: current.encoding,\n                encoding: options?.encoding,\n                overwriteEncoding: options?.overwriteEncoding,\n                etag,\n                mtime: current?.mtime\n            });\n            this._version = {\n                etag: stat.etag,\n                mtime: stat.mtime,\n                encoding: stat.encoding\n            };\n        } catch (e) {\n            if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_NOT_FOUND) {\n                const { message, stack } = e;\n                throw ResourceError.NotFound({ message, stack, data: { uri: this.uri } });\n            }\n            if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_MODIFIED_SINCE) {\n                const { message, stack } = e;\n                throw ResourceError.OutOfSync({ message, stack, data: { uri: this.uri } });\n            }\n            throw e;\n        } finally {\n            releaseLock();\n        }\n    };\n\n    async guessEncoding(): Promise<string> {\n        // TODO limit size\n        const content = await this.fileService.read(this.uri, { autoGuessEncoding: true });\n        return content.encoding;\n    }\n\n    protected async sync(): Promise<void> {\n        if (await this.isInSync()) {\n            return;\n        }\n        this.onDidChangeContentsEmitter.fire(undefined);\n    }\n    protected async isInSync(): Promise<boolean> {\n        try {\n            await this.writingLock.waitForUnlock();\n            const stat = await this.fileService.resolve(this.uri, { resolveMetadata: true });\n            return !!this.version && this.version.mtime >= stat.mtime;\n        } catch {\n            return !this.version;\n        }\n    }\n\n    protected async shouldOverwrite(): Promise<boolean> {\n        return this.options.shouldOverwrite();\n    }\n\n    protected async shouldOpenAsText(error: string): Promise<boolean> {\n        return this.options.shouldOpenAsText(error);\n    }\n\n}\n\n@injectable()\nexport class FileResourceResolver implements ResourceResolver {\n    /** This resolver interacts with the VSCode plugin system in a way that can cause delays. Most other resource resolvers fail immediately, so this one should be tried late. */\n    readonly priority = -10;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(FrontendApplicationStateService)\n    protected readonly applicationState: FrontendApplicationStateService;\n\n    async resolve(uri: URI): Promise<FileResource> {\n        let stat;\n        try {\n            stat = await this.fileService.resolve(uri);\n        } catch (e) {\n            if (!(e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_NOT_FOUND)) {\n                throw e;\n            }\n        }\n        if (stat && stat.isDirectory) {\n            throw new Error('The given uri is a directory: ' + this.labelProvider.getLongName(uri));\n        }\n\n        const readOnlyMessage = this.fileService.getReadOnlyMessage(uri);\n        const isFileSystemReadOnly = this.fileService.hasCapability(uri, FileSystemProviderCapabilities.Readonly);\n        const readOnly = readOnlyMessage ?? (isFileSystemReadOnly ? isFileSystemReadOnly : (stat?.isReadonly ?? false));\n\n        return new FileResource(uri, this.fileService, {\n            readOnly: readOnly,\n            shouldOverwrite: () => this.shouldOverwrite(uri),\n            shouldOpenAsText: error => this.shouldOpenAsText(uri, error)\n        });\n    }\n\n    protected async shouldOverwrite(uri: URI): Promise<boolean> {\n        const dialog = new ConfirmDialog({\n            title: nls.localize('theia/filesystem/fileResource/overwriteTitle', \"The file '{0}' has been changed on the file system.\", this.labelProvider.getName(uri)),\n            msg: nls.localize('theia/fileSystem/fileResource/overWriteBody',\n                \"Do you want to overwrite the changes made to '{0}' on the file system?\", this.labelProvider.getLongName(uri)),\n            ok: Dialog.YES,\n            cancel: Dialog.NO,\n        });\n        return !!await dialog.open();\n    }\n\n    protected async shouldOpenAsText(uri: URI, error: string): Promise<boolean> {\n        switch (this.applicationState.state) {\n            case 'init':\n            case 'started_contributions':\n            case 'attached_shell':\n                return true; // We're restoring state - assume that we should open files that were previously open.\n            default: {\n                const dialog = new ConfirmDialog({\n                    title: error,\n                    msg: nls.localize('theia/filesystem/fileResource/binaryFileQuery',\n                        \"Opening it might take some time and might make the IDE unresponsive. Do you want to open '{0}' anyway?\", this.labelProvider.getLongName(uri)\n                    ),\n                    ok: Dialog.YES,\n                    cancel: Dialog.NO,\n                });\n                return !!await dialog.open();\n            }\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { SelectionService } from '@theia/core/lib/common/selection-service';\nimport { SelectionCommandHandler } from '@theia/core/lib/common/selection-command-handler';\nimport { isObject } from '@theia/core/lib/common';\nimport { FileStat } from '../common/files';\n\nexport interface FileSelection {\n    fileStat: FileStat\n}\nexport namespace FileSelection {\n    export function is(arg: unknown): arg is FileSelection {\n        return isObject<FileSelection>(arg) && FileStat.is(arg.fileStat);\n    }\n    export class CommandHandler extends SelectionCommandHandler<FileSelection> {\n\n        constructor(\n            protected override readonly selectionService: SelectionService,\n            protected override readonly options: SelectionCommandHandler.Options<FileSelection>\n        ) {\n            super(\n                selectionService,\n                arg => FileSelection.is(arg) ? arg : undefined,\n                options\n            );\n        }\n\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces, Container } from '@theia/core/shared/inversify';\nimport { CompressedExpansionService, CompressionToggle, createTreeContainer, TreeCompressionService, TreeContainerProps } from '@theia/core/lib/browser';\nimport { FileTree } from './file-tree';\nimport { FileTreeModel } from './file-tree-model';\nimport { FileTreeWidget } from './file-tree-widget';\n\nconst fileTreeDefaults: Partial<TreeContainerProps> = {\n    tree: FileTree,\n    model: FileTreeModel,\n    widget: FileTreeWidget,\n    expansionService: CompressedExpansionService,\n};\n\nexport function createFileTreeContainer(parent: interfaces.Container, overrides?: Partial<TreeContainerProps>): Container {\n    const child = createTreeContainer(parent, { ...fileTreeDefaults, ...overrides });\n    child.bind(CompressionToggle).toConstantValue({ compress: false });\n    child.bind(TreeCompressionService).toSelf().inSingletonScope();\n\n    return child;\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Event, Emitter, nls } from '@theia/core/lib/common';\nimport { Decoration, DecorationsService } from '@theia/core/lib/browser/decorations-service';\nimport { TreeNode, TreeDecoration, TreeDecorator, Tree, TopDownTreeIterator } from '@theia/core/lib/browser';\nimport { MaybePromise } from '@theia/core/lib/common/types';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\nimport { FileStatNode } from './file-tree';\n\n@injectable()\nexport class FileTreeDecoratorAdapter implements TreeDecorator {\n    readonly id = 'decorations-service-tree-decorator-adapter';\n    protected readonly bubbleTooltip = nls.localizeByDefault('Contains emphasized items');\n    @inject(DecorationsService) protected readonly decorationsService: DecorationsService;\n    @inject(ColorRegistry) protected readonly colorRegistry: ColorRegistry;\n\n    protected readonly onDidChangeDecorationsEmitter = new Emitter<(tree: Tree) => Map<string, TreeDecoration.Data>>();\n    protected decorationsByUri = new Map<string, TreeDecoration.Data>();\n    protected parentDecorations = new Map<string, TreeDecoration.Data>();\n\n    get onDidChangeDecorations(): Event<(tree: Tree) => Map<string, TreeDecoration.Data>> {\n        return this.onDidChangeDecorationsEmitter.event;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.decorationsService.onDidChangeDecorations(newDecorations => {\n            this.updateDecorations(this.decorationsByUri.keys(), newDecorations.keys());\n            this.fireDidChangeDecorations();\n        });\n    }\n\n    decorations(tree: Tree): MaybePromise<Map<string, TreeDecoration.Data>> {\n        return this.collectDecorations(tree);\n    }\n\n    protected collectDecorations(tree: Tree): Map<string, TreeDecoration.Data> {\n        const decorations = new Map();\n        if (tree.root) {\n            for (const node of new TopDownTreeIterator(tree.root)) {\n                const uri = this.getUriForNode(node);\n                if (uri) {\n                    const stringified = uri.toString();\n                    const ownDecoration = this.decorationsByUri.get(stringified);\n                    const bubbledDecoration = this.parentDecorations.get(stringified);\n                    const combined = this.mergeDecorations(ownDecoration, bubbledDecoration);\n                    if (combined) {\n                        decorations.set(node.id, combined);\n                    }\n                }\n            }\n        }\n        return decorations;\n    }\n\n    protected mergeDecorations(ownDecoration?: TreeDecoration.Data, bubbledDecoration?: TreeDecoration.Data): TreeDecoration.Data | undefined {\n        if (!ownDecoration) {\n            return bubbledDecoration;\n        } else if (!bubbledDecoration) {\n            return ownDecoration;\n        } else {\n            const tailDecorations = (bubbledDecoration.tailDecorations ?? []).concat(ownDecoration.tailDecorations ?? []);\n            return {\n                ...bubbledDecoration,\n                tailDecorations\n            };\n        }\n    }\n\n    protected updateDecorations(oldKeys: IterableIterator<string>, newKeys: IterableIterator<string>): void {\n        this.parentDecorations.clear();\n        const newDecorations = new Map<string, TreeDecoration.Data>();\n        const handleUri = (rawUri: string) => {\n            if (!newDecorations.has(rawUri)) {\n                const uri = new URI(rawUri);\n                const decorations = this.decorationsService.getDecoration(uri, false);\n                if (decorations.length) {\n                    newDecorations.set(rawUri, this.toTheiaDecoration(decorations, false));\n                    this.propagateDecorationsByUri(uri, decorations);\n                }\n            }\n        };\n        for (const rawUri of oldKeys) {\n            handleUri(rawUri);\n        }\n        for (const rawUri of newKeys) {\n            handleUri(rawUri);\n        }\n        this.decorationsByUri = newDecorations;\n    }\n\n    protected toTheiaDecoration(decorations: Decoration[], bubble?: boolean): TreeDecoration.Data {\n        const color = decorations[0].colorId ? `var(${this.colorRegistry.toCssVariableName(decorations[0].colorId)})` : undefined;\n        const fontData = color ? { color } : undefined;\n        return {\n            priority: decorations[0].weight,\n            fontData,\n            tailDecorations: decorations.map(decoration => this.toTailDecoration(decoration, fontData, bubble))\n        };\n    }\n\n    protected toTailDecoration(decoration: Decoration, fontData?: TreeDecoration.FontData, bubble?: boolean): TreeDecoration.TailDecoration.AnyConcrete {\n        if (bubble) {\n            return { icon: 'circle', fontData, tooltip: this.bubbleTooltip };\n        }\n        return { data: decoration.letter ?? '', fontData, tooltip: decoration.tooltip };\n    }\n\n    protected propagateDecorationsByUri(child: URI, decorations: Decoration[]): void {\n        const highestPriorityBubblingDecoration = decorations.find(decoration => decoration.bubble);\n        if (highestPriorityBubblingDecoration) {\n            const bubbleDecoration = this.toTheiaDecoration([highestPriorityBubblingDecoration], true);\n            let parent = child.parent;\n            let handledRoot = false;\n            while (!handledRoot) {\n                handledRoot = parent.path.isRoot;\n                const parentString = parent.toString();\n                const existingDecoration = this.parentDecorations.get(parentString);\n                if (!existingDecoration || this.compareWeight(bubbleDecoration, existingDecoration) < 0) {\n                    this.parentDecorations.set(parentString, bubbleDecoration);\n                } else {\n                    break;\n                }\n                parent = parent.parent;\n            }\n        }\n    }\n\n    /**\n     *  Sort higher priorities earlier. I.e. positive number means right higher than left.\n     */\n    protected compareWeight(left: Decoration, right: Decoration): number {\n        return (right.weight ?? 0) - (left.weight ?? 0);\n    }\n\n    protected getUriForNode(node: TreeNode): string | undefined {\n        return FileStatNode.getUri(node);\n    }\n\n    fireDidChangeDecorations(): void {\n        this.onDidChangeDecorationsEmitter.fire(tree => this.collectDecorations(tree));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { LabelProviderContribution, DidChangeLabelEvent, LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport { FileStatNode } from './file-tree';\nimport { TreeLabelProvider } from '@theia/core/lib/browser/tree/tree-label-provider';\n\n@injectable()\nexport class FileTreeLabelProvider implements LabelProviderContribution {\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(TreeLabelProvider)\n    protected readonly treeLabelProvider: TreeLabelProvider;\n\n    canHandle(element: object): number {\n        return FileStatNode.is(element) ?\n            this.treeLabelProvider.canHandle(element) + 1 :\n            0;\n    }\n\n    getIcon(node: FileStatNode): string {\n        return this.labelProvider.getIcon(node.fileStat);\n    }\n\n    getName(node: FileStatNode): string {\n        return this.labelProvider.getName(node.fileStat);\n    }\n\n    getDescription(node: FileStatNode): string {\n        return this.labelProvider.getLongName(node.fileStat);\n    }\n\n    affects(node: FileStatNode, event: DidChangeLabelEvent): boolean {\n        return event.affects(node.fileStat);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { CompositeTreeNode, TreeNode, ConfirmDialog, CompressedTreeModel, Dialog } from '@theia/core/lib/browser';\nimport { FileStatNode, DirNode, FileNode } from './file-tree';\nimport { LocationService } from '../location';\nimport { LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport { FileService } from '../file-service';\nimport { FileOperationError, FileOperationResult, FileChangesEvent, FileChangeType, FileChange } from '../../common/files';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { FileSystemUtils } from '../../common';\nimport { nls } from '@theia/core';\n\n@injectable()\nexport class FileTreeModel extends CompressedTreeModel implements LocationService {\n\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(EnvVariablesServer)\n    protected readonly environments: EnvVariablesServer;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.toDispose.push(this.fileService.onDidFilesChange(changes => this.onFilesChanged(changes)));\n    }\n\n    get location(): URI | undefined {\n        const root = this.root;\n        if (FileStatNode.is(root)) {\n            return root.uri;\n        }\n        return undefined;\n    }\n\n    set location(uri: URI | undefined) {\n        if (uri) {\n            this.fileService.resolve(uri).then(fileStat => {\n                if (fileStat) {\n                    const node = DirNode.createRoot(fileStat);\n                    this.navigateTo(node);\n                }\n            }).catch(() => {\n                // no-op, allow failures for file dialog text input\n            });\n        } else {\n            this.navigateTo(undefined);\n        }\n    }\n\n    async drives(): Promise<URI[]> {\n        try {\n            const drives = await this.environments.getDrives();\n            return drives.map(uri => new URI(uri));\n        } catch (e) {\n            this.logger.error('Error when loading drives.', e);\n            return [];\n        }\n    }\n\n    get selectedFileStatNodes(): Readonly<FileStatNode>[] {\n        return this.selectedNodes.filter(FileStatNode.is);\n    }\n\n    *getNodesByUri(uri: URI): IterableIterator<TreeNode> {\n        const node = this.getNode(uri.toString());\n        if (node) {\n            yield node;\n        }\n    }\n\n    protected onFilesChanged(changes: FileChangesEvent): void {\n        if (!this.refreshAffectedNodes(this.getAffectedUris(changes)) && this.isRootAffected(changes)) {\n            this.refresh();\n        }\n    }\n\n    protected isRootAffected(changes: FileChangesEvent): boolean {\n        const root = this.root;\n        if (FileStatNode.is(root)) {\n            return changes.contains(root.uri, FileChangeType.ADDED) || changes.contains(root.uri, FileChangeType.UPDATED);\n        }\n        return false;\n    }\n\n    protected getAffectedUris(changes: FileChangesEvent): URI[] {\n        return changes.changes.filter(change => !this.isFileContentChanged(change)).map(change => change.resource);\n    }\n\n    protected isFileContentChanged(change: FileChange): boolean {\n        return change.type === FileChangeType.UPDATED && FileNode.is(this.getNodesByUri(change.resource).next().value);\n    }\n\n    protected refreshAffectedNodes(uris: URI[]): boolean {\n        const nodes = this.getAffectedNodes(uris);\n        for (const node of nodes.values()) {\n            this.refresh(node);\n        }\n        return nodes.size !== 0;\n    }\n\n    protected getAffectedNodes(uris: URI[]): Map<string, CompositeTreeNode> {\n        const nodes = new Map<string, CompositeTreeNode>();\n        for (const uri of uris) {\n            for (const node of this.getNodesByUri(uri.parent)) {\n                if (DirNode.is(node) && (node.expanded || (this.compressionToggle.compress && this.compressionService.isCompressionParticipant(node)))) {\n                    nodes.set(node.id, node);\n                }\n            }\n        }\n        return nodes;\n    }\n\n    async copy(source: URI, target: Readonly<FileStatNode>): Promise<URI> {\n        /** If the target is a file or if the target is a directory, but is the same as the source, use the parent of the target as a destination. */\n        const parentNode = (target.fileStat.isFile || target.uri.isEqual(source)) ? target.parent : target;\n        if (!FileStatNode.is(parentNode)) {\n            throw new Error('Parent of file has to be a FileStatNode');\n        }\n        let targetUri = parentNode.uri.resolve(source.path.base);\n        try {\n            const parent = await this.fileService.resolve(parentNode.uri);\n            const sourceFileStat = await this.fileService.resolve(source);\n            targetUri = FileSystemUtils.generateUniqueResourceURI(parent, targetUri, sourceFileStat.isDirectory, 'copy');\n            await this.fileService.copy(source, targetUri);\n        } catch (e) {\n            this.messageService.error(e.message);\n        }\n        return targetUri;\n    }\n\n    /**\n     * Move the given source file or directory to the given target directory.\n     */\n    async move(source: TreeNode, target: TreeNode): Promise<URI | undefined> {\n        if (DirNode.is(target) && FileStatNode.is(source)) {\n            const name = source.fileStat.name;\n            const targetUri = target.uri.resolve(name);\n            if (source.uri.isEqual(targetUri)) { return; }\n            try {\n                await this.fileService.move(source.uri, targetUri);\n                return targetUri;\n            } catch (e) {\n                if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_MOVE_CONFLICT) {\n                    const fileName = this.labelProvider.getName(source);\n                    if (await this.shouldReplace(fileName)) {\n                        try {\n                            await this.fileService.move(source.uri, targetUri, { overwrite: true });\n                            return targetUri;\n                        } catch (e2) {\n                            this.messageService.error(e2.message);\n                        }\n                    }\n                } else {\n                    this.messageService.error(e.message);\n                }\n            }\n        }\n        return undefined;\n    }\n\n    protected async shouldReplace(fileName: string): Promise<boolean> {\n        const dialog = new ConfirmDialog({\n            title: nls.localize('theia/filesystem/replaceTitle', 'Replace File'),\n            msg: nls.localizeByDefault('{0} already exists. Are you sure you want to overwrite it?', fileName),\n            ok: Dialog.YES,\n            cancel: Dialog.NO\n        });\n        return !!await dialog.open();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { DisposableCollection, Disposable } from '@theia/core/lib/common/disposable';\nimport URI from '@theia/core/lib/common/uri';\nimport { UriSelection } from '@theia/core/lib/common/selection';\nimport { isCancelled } from '@theia/core/lib/common/cancellation';\nimport { ContextMenuRenderer, NodeProps, TreeProps, TreeNode, CompositeTreeNode, CompressedTreeWidget, CompressedNodeProps } from '@theia/core/lib/browser';\nimport { FileUploadService } from '../file-upload-service';\nimport { DirNode, FileStatNode, FileStatNodeData } from './file-tree';\nimport { FileTreeModel } from './file-tree-model';\nimport { IconThemeService } from '@theia/core/lib/browser/icon-theme-service';\nimport { ApplicationShell } from '@theia/core/lib/browser/shell';\nimport { FileStat, FileType } from '../../common/files';\nimport { isOSX } from '@theia/core';\n\nexport const FILE_TREE_CLASS = 'theia-FileTree';\nexport const FILE_STAT_NODE_CLASS = 'theia-FileStatNode';\nexport const DIR_NODE_CLASS = 'theia-DirNode';\nexport const FILE_STAT_ICON_CLASS = 'theia-FileStatIcon';\n\n@injectable()\nexport class FileTreeWidget extends CompressedTreeWidget {\n\n    protected readonly toCancelNodeExpansion = new DisposableCollection();\n\n    @inject(FileUploadService)\n    protected readonly uploadService: FileUploadService;\n\n    @inject(IconThemeService)\n    protected readonly iconThemeService: IconThemeService;\n\n    constructor(\n        @inject(TreeProps) props: TreeProps,\n        @inject(FileTreeModel) override readonly model: FileTreeModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer\n    ) {\n        super(props, model, contextMenuRenderer);\n        this.addClass(FILE_TREE_CLASS);\n        this.toDispose.push(this.toCancelNodeExpansion);\n    }\n\n    protected override createNodeClassNames(node: TreeNode, props: NodeProps): string[] {\n        const classNames = super.createNodeClassNames(node, props);\n        if (FileStatNode.is(node)) {\n            classNames.push(FILE_STAT_NODE_CLASS);\n        }\n        if (DirNode.is(node)) {\n            classNames.push(DIR_NODE_CLASS);\n        }\n        return classNames;\n    }\n\n    protected override renderIcon(node: TreeNode, props: NodeProps): React.ReactNode {\n        const icon = this.toNodeIcon(node);\n        if (icon) {\n            return <div className={icon + ' file-icon'}></div>;\n        }\n        // eslint-disable-next-line no-null/no-null\n        return null;\n    }\n\n    protected override createContainerAttributes(): React.HTMLAttributes<HTMLElement> {\n        const attrs = super.createContainerAttributes();\n        return {\n            ...attrs,\n            onDragEnter: event => this.handleDragEnterEvent(this.model.root, event),\n            onDragOver: event => this.handleDragOverEvent(this.model.root, event),\n            onDragLeave: event => this.handleDragLeaveEvent(this.model.root, event),\n            onDrop: event => this.handleDropEvent(this.model.root, event)\n        };\n    }\n\n    protected override createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        return {\n            ...super.createNodeAttributes(node, props),\n            ...this.getNodeDragHandlers(node, props),\n            title: this.getNodeTooltip(node)\n        };\n    }\n\n    protected getNodeTooltip(node: TreeNode): string | undefined {\n        const operativeNode = this.compressionService.getCompressionChain(node)?.tail() ?? node;\n        const uri = UriSelection.getUri(operativeNode);\n        return uri ? uri.path.fsPath() : undefined;\n    }\n\n    protected override getCaptionChildEventHandlers(node: TreeNode, props: CompressedNodeProps): React.Attributes & React.HtmlHTMLAttributes<HTMLElement> {\n        return {\n            ...super.getCaptionChildEventHandlers(node, props),\n            ...this.getNodeDragHandlers(node, props),\n        };\n    }\n\n    protected getNodeDragHandlers(node: TreeNode, props: CompressedNodeProps): React.Attributes & React.HtmlHTMLAttributes<HTMLElement> {\n        return {\n            onDragStart: event => this.handleDragStartEvent(node, event),\n            onDragEnter: event => this.handleDragEnterEvent(node, event),\n            onDragOver: event => this.handleDragOverEvent(node, event),\n            onDragLeave: event => this.handleDragLeaveEvent(node, event),\n            onDrop: event => this.handleDropEvent(node, event),\n            draggable: FileStatNode.is(node),\n        };\n    }\n\n    protected handleDragStartEvent(node: TreeNode, event: React.DragEvent): void {\n        event.stopPropagation();\n        if (event.dataTransfer) {\n            let selectedNodes;\n            if (this.model.selectedNodes.find(selected => TreeNode.equals(selected, node))) {\n                selectedNodes = [...this.model.selectedNodes];\n            } else {\n                selectedNodes = [node];\n            }\n            this.setSelectedTreeNodesAsData(event.dataTransfer, node, selectedNodes);\n            const uris = selectedNodes.filter(FileStatNode.is).map(n => n.fileStat.resource);\n            if (uris.length > 0) {\n                ApplicationShell.setDraggedEditorUris(event.dataTransfer, uris);\n            }\n            let label: string;\n            if (selectedNodes.length === 1) {\n                label = this.toNodeName(node);\n            } else {\n                label = String(selectedNodes.length);\n            }\n            const dragImage = document.createElement('div');\n            dragImage.className = 'theia-file-tree-drag-image';\n            dragImage.textContent = label;\n            document.body.appendChild(dragImage);\n            event.dataTransfer.setDragImage(dragImage, -10, -10);\n            setTimeout(() => document.body.removeChild(dragImage), 0);\n        }\n    }\n\n    protected handleDragEnterEvent(node: TreeNode | undefined, event: React.DragEvent): void {\n        event.preventDefault();\n        event.stopPropagation();\n        this.toCancelNodeExpansion.dispose();\n        const containing = DirNode.getContainingDir(node);\n        if (!!containing && !containing.selected) {\n            this.model.selectNode(containing);\n        }\n    }\n\n    protected handleDragOverEvent(node: TreeNode | undefined, event: React.DragEvent): void {\n        event.preventDefault();\n        event.stopPropagation();\n        event.dataTransfer.dropEffect = this.getDropEffect(event);\n        if (!this.toCancelNodeExpansion.disposed) {\n            return;\n        }\n        const timer = setTimeout(() => {\n            const containing = DirNode.getContainingDir(node);\n            if (!!containing && !containing.expanded) {\n                this.model.expandNode(containing);\n            }\n        }, 500);\n        this.toCancelNodeExpansion.push(Disposable.create(() => clearTimeout(timer)));\n    }\n\n    protected handleDragLeaveEvent(node: TreeNode | undefined, event: React.DragEvent): void {\n        event.preventDefault();\n        event.stopPropagation();\n        this.toCancelNodeExpansion.dispose();\n    }\n\n    protected async handleDropEvent(node: TreeNode | undefined, event: React.DragEvent): Promise<void> {\n        try {\n            event.preventDefault();\n            event.stopPropagation();\n            event.dataTransfer.dropEffect = this.getDropEffect(event);\n            const containing = this.getDropTargetDirNode(node);\n            if (containing) {\n                const resources = this.getSelectedTreeNodesFromData(event.dataTransfer);\n                if (resources.length > 0) {\n                    for (const treeNode of resources) {\n                        if (event.dataTransfer.dropEffect === 'copy' && FileStatNode.is(treeNode)) {\n                            await this.model.copy(treeNode.uri, containing);\n                        } else {\n                            await this.model.move(treeNode, containing);\n                        }\n                    }\n                } else {\n                    await this.uploadService.upload(containing.uri, { source: event.dataTransfer });\n                }\n            }\n        } catch (e) {\n            if (!isCancelled(e)) {\n                console.error(e);\n            }\n        }\n    }\n\n    protected getDropTargetDirNode(node: TreeNode | undefined): DirNode | undefined {\n        if (CompositeTreeNode.is(node) && node.id === 'WorkspaceNodeId') {\n            if (node.children.length === 1) {\n                return DirNode.getContainingDir(node.children[0]);\n            } else if (node.children.length > 1) {\n                // move file to the last root folder in multi-root scenario\n                return DirNode.getContainingDir(node.children[node.children.length - 1]);\n            }\n        }\n        return DirNode.getContainingDir(node);\n    }\n\n    protected getDropEffect(event: React.DragEvent): 'copy' | 'move' {\n        const isCopy = isOSX ? event.altKey : event.ctrlKey;\n        return isCopy ? 'copy' : 'move';\n    }\n\n    protected setTreeNodeAsData(data: DataTransfer, node: TreeNode): void {\n        data.setData('tree-node', node.id);\n    }\n\n    protected setSelectedTreeNodesAsData(data: DataTransfer, sourceNode: TreeNode, relatedNodes: TreeNode[]): void {\n        this.setTreeNodeAsData(data, sourceNode);\n        data.setData('selected-tree-nodes', JSON.stringify(relatedNodes.map(node => node.id)));\n    }\n\n    protected getTreeNodeFromData(data: DataTransfer): TreeNode | undefined {\n        const id = data.getData('tree-node');\n        return this.model.getNode(id);\n    }\n    protected getSelectedTreeNodesFromData(data: DataTransfer): TreeNode[] {\n        const resources = data.getData('selected-tree-nodes');\n        if (!resources) {\n            return [];\n        }\n        const ids: string[] = JSON.parse(resources);\n        return ids.map(id => this.model.getNode(id)).filter(node => node !== undefined) as TreeNode[];\n    }\n\n    protected get hidesExplorerArrows(): boolean {\n        const theme = this.iconThemeService.getDefinition(this.iconThemeService.current);\n        return !!theme && !!theme.hidesExplorerArrows;\n    }\n\n    protected override renderExpansionToggle(node: TreeNode, props: NodeProps): React.ReactNode {\n        if (this.hidesExplorerArrows) {\n            // eslint-disable-next-line no-null/no-null\n            return null;\n        }\n        return super.renderExpansionToggle(node, props);\n    }\n\n    protected override getPaddingLeft(node: TreeNode, props: NodeProps): number {\n        if (this.hidesExplorerArrows) {\n            // additional left padding instead of top-level expansion toggle\n            return super.getPaddingLeft(node, props) + this.props.leftPadding;\n        }\n        return super.getPaddingLeft(node, props);\n    }\n\n    protected override needsExpansionTogglePadding(node: TreeNode): boolean {\n        const theme = this.iconThemeService.getDefinition(this.iconThemeService.current);\n        if (theme && (theme.hidesExplorerArrows || (theme.hasFileIcons && !theme.hasFolderIcons))) {\n            return false;\n        }\n        return super.needsExpansionTogglePadding(node);\n    }\n\n    protected override deflateForStorage(node: TreeNode): object {\n        const deflated = super.deflateForStorage(node);\n        if (FileStatNode.is(node) && FileStatNodeData.is(deflated)) {\n            deflated.uri = node.uri.toString();\n            delete deflated['fileStat'];\n            deflated.stat = FileStat.toStat(node.fileStat);\n        }\n        return deflated;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected override inflateFromStorage(node: any, parent?: TreeNode): TreeNode {\n        if (FileStatNodeData.is(node)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const fileStatNode: FileStatNode = node as any;\n            const resource = new URI(node.uri);\n            fileStatNode.uri = resource;\n            let stat: typeof node['stat'];\n            // in order to support deprecated FileStat\n            if (node.fileStat) {\n                stat = {\n                    type: node.fileStat.isDirectory ? FileType.Directory : FileType.File,\n                    mtime: node.fileStat.mtime,\n                    size: node.fileStat.size\n                };\n                delete node['fileStat'];\n            } else if (node.stat) {\n                stat = node.stat;\n                delete node['stat'];\n            }\n            if (stat) {\n                fileStatNode.fileStat = FileStat.fromStat(resource, stat);\n            }\n        }\n        const inflated = super.inflateFromStorage(node, parent);\n        if (DirNode.is(inflated)) {\n            inflated.fileStat.children = [];\n            for (const child of inflated.children) {\n                if (FileStatNode.is(child)) {\n                    inflated.fileStat.children.push(child.fileStat);\n                }\n            }\n        }\n        return inflated;\n    }\n\n    protected override getDepthPadding(depth: number): number {\n        // add additional depth so file nodes are rendered with padding in relation to the top level root node.\n        return super.getDepthPadding(depth + 1);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { isObject, Mutable } from '@theia/core/lib/common';\nimport { TreeNode, CompositeTreeNode, SelectableTreeNode, ExpandableTreeNode, TreeImpl } from '@theia/core/lib/browser';\nimport { FileStat, Stat, FileType, FileOperationError, FileOperationResult } from '../../common/files';\nimport { UriSelection } from '@theia/core/lib/common/selection';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { FileSelection } from '../file-selection';\nimport { FileService } from '../file-service';\n\n@injectable()\nexport class FileTree extends TreeImpl {\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(MessageService)\n    protected readonly messagingService: MessageService;\n\n    override async resolveChildren(parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (FileStatNode.is(parent)) {\n            const fileStat = await this.resolveFileStat(parent);\n            if (fileStat) {\n                return this.toNodes(fileStat, parent);\n            }\n            return [];\n        }\n        return super.resolveChildren(parent);\n    }\n\n    protected async resolveFileStat(node: FileStatNode): Promise<FileStat | undefined> {\n        try {\n            const fileStat = await this.fileService.resolve(node.uri);\n            node.fileStat = fileStat;\n            return fileStat;\n        } catch (e) {\n            if (!(e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_NOT_FOUND)) {\n                this.messagingService.error(e.message);\n            }\n            return undefined;\n        }\n    }\n\n    protected async toNodes(fileStat: FileStat, parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (!fileStat.children) {\n            return [];\n        }\n        const result = await Promise.all(fileStat.children.map(async child =>\n            this.toNode(child, parent)\n        ));\n        return result.sort(DirNode.compare);\n    }\n\n    protected toNode(fileStat: FileStat, parent: CompositeTreeNode): FileNode | DirNode {\n        const uri = fileStat.resource;\n        const id = this.toNodeId(uri, parent);\n        const node = this.getNode(id);\n        if (fileStat.isDirectory) {\n            if (DirNode.is(node)) {\n                node.fileStat = fileStat;\n                return node;\n            }\n            return <DirNode>{\n                id, uri, fileStat, parent,\n                expanded: false,\n                selected: false,\n                children: []\n            };\n        }\n        if (FileNode.is(node)) {\n            node.fileStat = fileStat;\n            return node;\n        }\n        return <FileNode>{\n            id, uri, fileStat, parent,\n            selected: false\n        };\n    }\n\n    protected toNodeId(uri: URI, parent: CompositeTreeNode): string {\n        return uri.path.toString();\n    }\n}\n\nexport interface FileStatNode extends SelectableTreeNode, Mutable<UriSelection>, FileSelection {\n}\nexport namespace FileStatNode {\n    export function is(node: unknown): node is FileStatNode {\n        return isObject(node) && 'fileStat' in node;\n    }\n\n    export function getUri(node: TreeNode | undefined): string | undefined {\n        if (is(node)) {\n            return node.fileStat.resource.toString();\n        }\n        return undefined;\n    }\n}\n\nexport type FileStatNodeData = Omit<FileStatNode, 'uri' | 'fileStat'> & {\n    uri: string\n    stat?: Stat | { type: FileType } & Partial<Stat>\n    fileStat?: FileStat\n};\nexport namespace FileStatNodeData {\n    export function is(node: unknown): node is FileStatNodeData {\n        return isObject(node) && 'uri' in node && ('fileStat' in node || 'stat' in node);\n    }\n}\n\nexport type FileNode = FileStatNode;\nexport namespace FileNode {\n    export function is(node: unknown): node is FileNode {\n        return FileStatNode.is(node) && !node.fileStat.isDirectory;\n    }\n}\n\nexport type DirNode = FileStatNode & ExpandableTreeNode;\nexport namespace DirNode {\n    export function is(node: unknown): node is DirNode {\n        return FileStatNode.is(node) && node.fileStat.isDirectory;\n    }\n\n    export function compare(node: TreeNode, node2: TreeNode): number {\n        return DirNode.dirCompare(node, node2) || uriCompare(node, node2);\n    }\n\n    export function uriCompare(node: TreeNode, node2: TreeNode): number {\n        if (FileStatNode.is(node)) {\n            if (FileStatNode.is(node2)) {\n                return node.uri.displayName.localeCompare(node2.uri.displayName);\n            }\n            return 1;\n        }\n        if (FileStatNode.is(node2)) {\n            return -1;\n        }\n        return 0;\n    }\n\n    export function dirCompare(node: TreeNode, node2: TreeNode): number {\n        const a = DirNode.is(node) ? 1 : 0;\n        const b = DirNode.is(node2) ? 1 : 0;\n        return b - a;\n    }\n\n    export function createRoot(fileStat: FileStat): DirNode {\n        const uri = fileStat.resource;\n        const id = uri.toString();\n        return {\n            id, uri, fileStat,\n            visible: true,\n            parent: undefined,\n            children: [],\n            expanded: true,\n            selected: false\n        };\n    }\n\n    export function getContainingDir(node: TreeNode | undefined): DirNode | undefined {\n        let containing = node;\n        while (!!containing && !is(containing)) {\n            containing = containing.parent;\n        }\n        return containing;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './file-tree';\nexport * from './file-tree-model';\nexport * from './file-tree-widget';\nexport * from './file-tree-container';\nexport * from './file-tree-decorator-adapter';\nexport * from './file-tree-label-provider';\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { CancellationTokenSource, CancellationToken, checkCancelled, cancelled, isCancelled } from '@theia/core/lib/common/cancellation';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { Progress } from '@theia/core/lib/common/message-service-protocol';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport throttle = require('@theia/core/shared/lodash.throttle');\nimport { HTTP_FILE_UPLOAD_PATH } from '../common/file-upload';\nimport { Semaphore } from 'async-mutex';\nimport { FileSystemPreferences } from './filesystem-preferences';\nimport { FileService } from './file-service';\nimport { ConfirmDialog, Dialog } from '@theia/core/lib/browser';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\n\nexport const HTTP_UPLOAD_URL: string = new Endpoint({ path: HTTP_FILE_UPLOAD_PATH }).getRestUrl().toString(true);\n\nexport type CustomDataTransfer = Iterable<readonly [string, CustomDataTransferItem]>;\n\nexport interface CustomDataTransferItem {\n    asFile(): {\n        readonly id: string;\n        readonly name: string;\n        data(): Promise<Uint8Array>;\n    } | undefined\n}\nexport interface FileUploadParams {\n    source?: DataTransfer | CustomDataTransfer\n    progress?: FileUploadProgressParams\n    onDidUpload?: (uri: string) => void;\n    leaveInTemp?: boolean // dont move file out of the initial tmp directory\n}\nexport interface FileUploadProgressParams {\n    text: string\n}\n\nexport interface FileUploadResult {\n    uploaded: string[]\n}\n\n@injectable()\nexport class FileUploadService {\n\n    static TARGET = 'target';\n    static UPLOAD = 'upload';\n\n    protected readonly onDidUploadEmitter = new Emitter<string[]>();\n\n    get onDidUpload(): Event<string[]> {\n        return this.onDidUploadEmitter.event;\n    }\n\n    protected uploadForm: FileUploadService.Form;\n    protected deferredUpload?: Deferred<FileUploadResult>;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(FileSystemPreferences)\n    protected fileSystemPreferences: FileSystemPreferences;\n\n    @inject(FileService)\n    protected fileService: FileService;\n\n    get maxConcurrentUploads(): number {\n        const maxConcurrentUploads = this.fileSystemPreferences['files.maxConcurrentUploads'];\n        return maxConcurrentUploads > 0 ? maxConcurrentUploads : Infinity;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.uploadForm = this.createUploadForm();\n    }\n\n    protected createUploadForm(): FileUploadService.Form {\n        const targetInput = document.createElement('input');\n        targetInput.type = 'text';\n        targetInput.spellcheck = false;\n        targetInput.name = FileUploadService.TARGET;\n        targetInput.classList.add('theia-input');\n\n        const fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.classList.add('theia-input');\n        fileInput.name = FileUploadService.UPLOAD;\n        fileInput.multiple = true;\n\n        const form = document.createElement('form');\n        form.style.display = 'none';\n        form.enctype = 'multipart/form-data';\n        form.append(targetInput);\n        form.append(fileInput);\n\n        document.body.appendChild(form);\n\n        fileInput.addEventListener('change', () => {\n            if (this.deferredUpload && fileInput.value) {\n                const source: FileUploadService.Source = new FormData(form);\n                // clean up to allow upload to the same folder twice\n                fileInput.value = '';\n                const targetUri = new URI(<string>source.get(FileUploadService.TARGET));\n                const { resolve, reject } = this.deferredUpload;\n                this.deferredUpload = undefined;\n                const { onDidUpload } = this.uploadForm;\n                this.withProgress(\n                    (progress, token) => this.uploadAll(targetUri, { source, progress, token, onDidUpload }),\n                    this.uploadForm.progress\n                ).then(resolve, reject);\n            }\n        });\n        return { targetInput, fileInput };\n    }\n\n    async upload(targetUri: string | URI, params: FileUploadParams = {}): Promise<FileUploadResult> {\n        const { source, onDidUpload, leaveInTemp } = params;\n        if (source) {\n            return this.withProgress(\n                (progress, token) => this.uploadAll(\n                    typeof targetUri === 'string' ? new URI(targetUri) : targetUri,\n                    { source, progress, token, leaveInTemp, onDidUpload }\n                ),\n                params.progress,\n            );\n        }\n        this.deferredUpload = new Deferred<FileUploadResult>();\n        this.uploadForm.targetInput.value = String(targetUri);\n        this.uploadForm.fileInput.click();\n        this.uploadForm.progress = params.progress;\n        this.uploadForm.onDidUpload = params.onDidUpload;\n        return this.deferredUpload.promise;\n    }\n\n    protected getUploadUrl(): string {\n        return HTTP_UPLOAD_URL;\n    }\n\n    protected async uploadAll(targetUri: URI, params: FileUploadService.UploadParams): Promise<FileUploadResult> {\n        const responses: Promise<void>[] = [];\n        const status = new Map<File, {\n            total: number\n            done: number\n            uploaded?: boolean\n        }>();\n        const result: FileUploadResult = {\n            uploaded: []\n        };\n        /**\n         * When `false`: display the uploading progress.\n         * When `true`: display the server-processing progress.\n         */\n        let waitingForResponses = false;\n        const report = throttle(() => {\n            if (waitingForResponses) {\n                /** Number of files being processed. */\n                const total = status.size;\n                /** Number of files uploaded and processed. */\n                let done = 0;\n                for (const item of status.values()) {\n                    if (item.uploaded) {\n                        done += 1;\n                    }\n                }\n                params.progress.report({\n                    message: nls.localize('theia/filesystem/processedOutOf', 'Processed {0} out of {1}', done, total),\n                    work: { total, done }\n                });\n            } else {\n                /** Total number of bytes being uploaded. */\n                let total = 0;\n                /** Current number of bytes uploaded. */\n                let done = 0;\n                for (const item of status.values()) {\n                    total += item.total;\n                    done += item.done;\n                }\n                params.progress.report({\n                    message: nls.localize('theia/filesystem/uploadedOutOf', 'Uploaded {0} out of {1}', result.uploaded.length, status.size),\n                    work: { total, done }\n                });\n            }\n        }, 100);\n        const uploads: Promise<void>[] = [];\n        const uploadSemaphore = new Semaphore(this.maxConcurrentUploads);\n        try {\n            await this.index(targetUri, params.source, {\n                token: params.token,\n                progress: params.progress,\n                accept: async item => {\n                    if (await this.fileService.exists(item.uri) && !await this.confirmOverwrite(item.uri)) {\n                        return;\n                    }\n                    // Track and initialize the file in the status map:\n                    status.set(item.file, { total: item.file.size, done: 0 });\n                    report();\n                    // Don't await here: the semaphore will organize the uploading tasks, not the async indexer.\n                    uploads.push(uploadSemaphore.runExclusive(async () => {\n                        checkCancelled(params.token);\n                        const { upload, response } = this.uploadFile(item.file, item.uri, params.token, params.leaveInTemp, (total, done) => {\n                            const entry = status.get(item.file);\n                            if (entry) {\n                                entry.total = total;\n                                entry.done = done;\n                                report();\n                            }\n                        });\n                        function onError(error: Error): void {\n                            status.delete(item.file);\n                            throw error;\n                        }\n                        responses.push(response\n                            .then(() => {\n                                checkCancelled(params.token);\n                                // Consider the file uploaded once the server sends OK back.\n                                result.uploaded.push(item.uri.toString(true));\n                                const entry = status.get(item.file);\n                                if (entry) {\n                                    entry.uploaded = true;\n                                    report();\n                                }\n                            })\n                            .catch(onError)\n                        );\n                        // Have the queue wait for the upload only.\n                        return upload\n                            .catch(onError);\n                    }));\n                }\n            });\n            checkCancelled(params.token);\n            await Promise.all(uploads);\n            checkCancelled(params.token);\n            waitingForResponses = true;\n            report();\n            await Promise.all(responses);\n        } catch (error) {\n            uploadSemaphore.cancel();\n            if (!isCancelled(error)) {\n                this.messageService.error(nls.localize('theia/filesystem/uploadFailed', 'An error occurred while uploading a file. {0}', error.message));\n                throw error;\n            }\n        }\n        this.onDidUploadEmitter.fire(result.uploaded);\n        return result;\n    }\n\n    protected async confirmOverwrite(fileUri: URI): Promise<boolean> {\n        const dialog = new ConfirmDialog({\n            title: nls.localizeByDefault('Replace'),\n            msg: nls.localizeByDefault(\"A file or folder with the name '{0}' already exists in the destination folder. Do you want to replace it?\", fileUri.path.base),\n            ok: nls.localizeByDefault('Replace'),\n            cancel: Dialog.CANCEL\n        });\n        return !!await dialog.open();\n    }\n\n    protected uploadFile(\n        file: File,\n        targetUri: URI,\n        token: CancellationToken,\n        leaveInTemp: boolean | undefined,\n        onProgress: (total: number, done: number) => void\n    ): {\n        /**\n         * Promise that resolves once the uploading is finished.\n         *\n         * Rejects on network error.\n         * Rejects if status is not OK (200).\n         * Rejects if cancelled.\n         */\n        upload: Promise<void>\n        /**\n         * Promise that resolves after the uploading step, once the server answers back.\n         *\n         * Rejects on network error.\n         * Rejects if status is not OK (200).\n         * Rejects if cancelled.\n         */\n        response: Promise<void>\n    } {\n        const data = new FormData();\n        data.set('uri', targetUri.toString(true));\n        data.set('file', file);\n        if (leaveInTemp) {\n            data.set('leaveInTemp', 'true');\n        }\n        // TODO: Use Fetch API once it supports upload monitoring.\n        const xhr = new XMLHttpRequest();\n        token.onCancellationRequested(() => xhr.abort());\n        const upload = new Promise<void>((resolve, reject) => {\n            this.registerEvents(xhr.upload, unregister => ({\n                progress: (event: ProgressEvent<XMLHttpRequestEventTarget>) => {\n                    if (event.total === event.loaded) {\n                        unregister();\n                        resolve();\n                    } else {\n                        onProgress(event.total, event.loaded);\n                    }\n                },\n                abort: () => {\n                    unregister();\n                    reject(cancelled());\n                },\n                error: () => {\n                    unregister();\n                    reject(new Error('POST upload error'));\n                },\n                // `load` fires once the response is received, not when the upload is finished.\n                // `resolve` should be called earlier within `progress` but this is a safety catch.\n                load: () => {\n                    unregister();\n                    if (xhr.status === 200) {\n                        resolve();\n                    } else {\n                        reject(new Error(`POST request failed: ${xhr.status} ${xhr.statusText}`));\n                    }\n                },\n            }));\n        });\n        const response = new Promise<void>((resolve, reject) => {\n            this.registerEvents(xhr, unregister => ({\n                abort: () => {\n                    unregister();\n                    reject(cancelled());\n                },\n                error: () => {\n                    unregister();\n                    reject(new Error('POST request error'));\n                },\n                load: () => {\n                    unregister();\n                    if (xhr.status === 200) {\n                        resolve();\n                    } else if (xhr.status === 500 && xhr.statusText !== xhr.response) {\n                        // internal error with cause message\n                        // see packages/filesystem/src/node/node-file-upload-service.ts\n                        reject(new Error(`Internal server error: ${xhr.response}`));\n                    } else {\n                        reject(new Error(`POST request failed: ${xhr.status} ${xhr.statusText}`));\n                    }\n                }\n            }));\n        });\n        xhr.open('POST', this.getUploadUrl(), /* async: */ true);\n        xhr.send(data);\n        return {\n            upload,\n            response\n        };\n    }\n\n    /**\n     * Utility function to attach events and get a callback to unregister those.\n     *\n     * You may not call `unregister` in the same tick as `register` is invoked.\n     */\n    protected registerEvents(\n        target: EventTarget,\n        register: (unregister: () => void) => Record<string, EventListenerOrEventListenerObject>\n    ): void {\n        const events = register(() => {\n            for (const [event, fn] of Object.entries(events)) {\n                target.removeEventListener(event, fn);\n            }\n        });\n        for (const [event, fn] of Object.entries(events)) {\n            target.addEventListener(event, fn);\n        }\n    }\n\n    protected async withProgress<T>(\n        cb: (progress: Progress, token: CancellationToken) => Promise<T>,\n        { text }: FileUploadProgressParams = { text: nls.localize('theia/filesystem/uploadFiles', 'Uploading Files') }\n    ): Promise<T> {\n        const cancellationSource = new CancellationTokenSource();\n        const { token } = cancellationSource;\n        const progress = await this.messageService.showProgress(\n            { text, options: { cancelable: true } },\n            () => cancellationSource.cancel()\n        );\n        try {\n            return await cb(progress, token);\n        } finally {\n            progress.cancel();\n        }\n    }\n\n    protected async index(targetUri: URI, source: FileUploadService.Source, context: FileUploadService.Context): Promise<void> {\n        if (source instanceof FormData) {\n            await this.indexFormData(targetUri, source, context);\n        } else if (source instanceof DataTransfer) {\n            await this.indexDataTransfer(targetUri, source, context);\n        } else {\n            await this.indexCustomDataTransfer(targetUri, source, context);\n        }\n    }\n\n    protected async indexFormData(targetUri: URI, formData: FormData, context: FileUploadService.Context): Promise<void> {\n        for (const entry of formData.getAll(FileUploadService.UPLOAD)) {\n            if (entry instanceof File) {\n                await this.indexFile(targetUri, entry, context);\n            }\n        }\n    }\n\n    protected async indexDataTransfer(targetUri: URI, dataTransfer: DataTransfer, context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        if (dataTransfer.items) {\n            await this.indexDataTransferItemList(targetUri, dataTransfer.items, context);\n        } else {\n            await this.indexFileList(targetUri, dataTransfer.files, context);\n        }\n    }\n\n    protected async indexCustomDataTransfer(targetUri: URI, dataTransfer: CustomDataTransfer, context: FileUploadService.Context): Promise<void> {\n        for (const [_, item] of dataTransfer) {\n            const fileInfo = item.asFile();\n            if (fileInfo) {\n                await this.indexFile(targetUri, new File([await fileInfo.data()], fileInfo.id), context);\n            }\n        }\n    }\n\n    protected async indexFileList(targetUri: URI, files: FileList, context: FileUploadService.Context): Promise<void> {\n        for (let i = 0; i < files.length; i++) {\n            const file = files[i];\n            if (file) {\n                await this.indexFile(targetUri, file, context);\n            }\n        }\n    }\n\n    protected async indexFile(targetUri: URI, file: File, context: FileUploadService.Context): Promise<void> {\n        await context.accept({\n            uri: targetUri.resolve(file.name),\n            file\n        });\n    }\n\n    protected async indexDataTransferItemList(targetUri: URI, items: DataTransferItemList, context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        const entries: WebKitEntry[] = [];\n        for (let i = 0; i < items.length; i++) {\n            const entry = items[i].webkitGetAsEntry() as WebKitEntry;\n            entries.push(entry);\n        }\n        await this.indexEntries(targetUri, entries, context);\n\n    }\n\n    protected async indexEntry(targetUri: URI, entry: WebKitEntry | null, context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        if (!entry) {\n            return;\n        }\n        if (entry.isDirectory) {\n            await this.indexDirectoryEntry(targetUri, entry as WebKitDirectoryEntry, context);\n        } else {\n            await this.indexFileEntry(targetUri, entry as WebKitFileEntry, context);\n        }\n    }\n\n    /**\n     *  Read all entries within a folder by block of 100 files or folders until the\n     *  whole folder has been read.\n     */\n    protected async indexDirectoryEntry(targetUri: URI, entry: WebKitDirectoryEntry, context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        const newTargetUri = targetUri.resolve(entry.name);\n        return new Promise<void>(async (resolve, reject) => {\n            const reader = entry.createReader();\n            const getEntries = () => reader.readEntries(async results => {\n                try {\n                    if (!context.token.isCancellationRequested && results && results.length) {\n                        await this.indexEntries(newTargetUri, results, context);\n                        getEntries(); // loop to read all getEntries\n                    } else {\n                        resolve();\n                    }\n                } catch (e) {\n                    reject(e);\n                }\n            }, reject);\n            getEntries();\n        });\n    }\n\n    protected async indexEntries(targetUri: URI, entries: WebKitEntry[], context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        for (let i = 0; i < entries.length; i++) {\n            await this.indexEntry(targetUri, entries[i], context);\n        }\n    }\n\n    protected async indexFileEntry(targetUri: URI, entry: WebKitFileEntry, context: FileUploadService.Context): Promise<void> {\n        await new Promise<void>((resolve, reject) => {\n            try {\n                entry.file(\n                    file => this.indexFile(targetUri, file, context).then(resolve, reject),\n                    reject,\n                );\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n}\n\nexport namespace FileUploadService {\n    export type Source = FormData | DataTransfer | CustomDataTransfer;\n    export interface UploadEntry {\n        file: File\n        uri: URI\n    }\n    export interface Context {\n        progress: Progress\n        token: CancellationToken\n        accept: (entry: UploadEntry) => Promise<void>\n    }\n    export interface Form {\n        targetInput: HTMLInputElement\n        fileInput: HTMLInputElement\n        progress?: FileUploadProgressParams\n        onDidUpload?: (uri: string) => void\n    }\n    export interface UploadParams {\n        source: FileUploadService.Source,\n        progress: Progress,\n        token: CancellationToken,\n        onDidUpload?: (uri: string) => void,\n        leaveInTemp?: boolean\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { nls } from '@theia/core';\nimport {\n    ApplicationShell,\n    CommonCommands,\n    CorePreferences,\n    ExpandableTreeNode,\n    FrontendApplication,\n    FrontendApplicationContribution,\n    NavigatableWidget, NavigatableWidgetOptions,\n    OpenerService,\n    Saveable,\n    StatefulWidget,\n    WidgetManager,\n    open\n} from '@theia/core/lib/browser';\nimport { MimeService } from '@theia/core/lib/browser/mime-service';\nimport { TreeWidgetSelection } from '@theia/core/lib/browser/tree/tree-widget-selection';\nimport { Emitter, MaybePromise, SelectionService, isCancelled } from '@theia/core/lib/common';\nimport { Command, CommandContribution, CommandRegistry } from '@theia/core/lib/common/command';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport URI from '@theia/core/lib/common/uri';\nimport { environment } from '@theia/core/shared/@theia/application-package/lib/environment';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { UserWorkingDirectoryProvider } from '@theia/core/lib/browser/user-working-directory-provider';\nimport { FileChangeType, FileChangesEvent, FileOperation } from '../common/files';\nimport { FileDialogService, SaveFileDialogProps } from './file-dialog';\nimport { FileSelection } from './file-selection';\nimport { FileService, UserFileOperationEvent } from './file-service';\nimport { FileUploadResult, FileUploadService } from './file-upload-service';\nimport { FileSystemPreferences } from './filesystem-preferences';\n\nexport namespace FileSystemCommands {\n\n    export const UPLOAD = Command.toLocalizedCommand({\n        id: 'file.upload',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Upload Files...'\n    }, 'theia/filesystem/uploadFiles', CommonCommands.FILE_CATEGORY_KEY);\n\n}\n\nexport interface NavigatableWidgetMoveSnapshot {\n    dirty?: object,\n    view?: object\n}\n\n@injectable()\nexport class FileSystemFrontendContribution implements FrontendApplicationContribution, CommandContribution {\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    @inject(MimeService)\n    protected readonly mimeService: MimeService;\n\n    @inject(FileSystemPreferences)\n    protected readonly preferences: FileSystemPreferences;\n\n    @inject(CorePreferences)\n    protected readonly corePreferences: CorePreferences;\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    @inject(FileUploadService)\n    protected readonly uploadService: FileUploadService;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(FileDialogService)\n    protected readonly fileDialogService: FileDialogService;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(UserWorkingDirectoryProvider)\n    protected readonly workingDirectory: UserWorkingDirectoryProvider;\n\n    protected onDidChangeEditorFileEmitter = new Emitter<{ editor: NavigatableWidget, type: FileChangeType }>();\n    readonly onDidChangeEditorFile = this.onDidChangeEditorFileEmitter.event;\n\n    protected readonly userOperations = new Map<number, Deferred<void>>();\n    protected queueUserOperation(event: UserFileOperationEvent): void {\n        const moveOperation = new Deferred<void>();\n        this.userOperations.set(event.correlationId, moveOperation);\n        this.run(() => moveOperation.promise);\n    }\n    protected resolveUserOperation(event: UserFileOperationEvent): void {\n        const operation = this.userOperations.get(event.correlationId);\n        if (operation) {\n            this.userOperations.delete(event.correlationId);\n            operation.resolve();\n        }\n    }\n\n    initialize(): void {\n        this.fileService.onDidFilesChange(event => this.run(() => this.updateWidgets(event)));\n        this.fileService.onWillRunUserOperation(event => {\n            this.queueUserOperation(event);\n            event.waitUntil(this.runEach((uri, widget) => this.pushMove(uri, widget, event)));\n        });\n        this.fileService.onDidFailUserOperation(event => event.waitUntil((async () => {\n            await this.runEach((uri, widget) => this.revertMove(uri, widget, event));\n            this.resolveUserOperation(event);\n        })()));\n        this.fileService.onDidRunUserOperation(event => event.waitUntil((async () => {\n            await this.runEach((uri, widget) => this.applyMove(uri, widget, event));\n            this.resolveUserOperation(event);\n        })()));\n        this.uploadService.onDidUpload(files => {\n            this.doHandleUpload(files);\n        });\n    }\n\n    onStart?(app: FrontendApplication): MaybePromise<void> {\n        this.updateAssociations();\n        this.preferences.onPreferenceChanged(e => {\n            if (e.preferenceName === 'files.associations') {\n                this.updateAssociations();\n            }\n        });\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(FileSystemCommands.UPLOAD, {\n            isEnabled: (...args: unknown[]) => {\n                const selection = this.getSelection(...args);\n                return !!selection && !environment.electron.is();\n            },\n            isVisible: () => !environment.electron.is(),\n            execute: (...args: unknown[]) => {\n                const selection = this.getSelection(...args);\n                if (selection) {\n                    return this.upload(selection);\n                }\n            }\n        });\n        commands.registerCommand(CommonCommands.NEW_FILE, {\n            execute: (...args: unknown[]) => {\n                this.handleNewFileCommand(args);\n            }\n        });\n    }\n\n    protected async upload(selection: FileSelection): Promise<FileUploadResult | undefined> {\n        try {\n            const source = TreeWidgetSelection.getSource(this.selectionService.selection);\n            const fileUploadResult = await this.uploadService.upload(selection.fileStat.isDirectory ? selection.fileStat.resource : selection.fileStat.resource.parent);\n            if (ExpandableTreeNode.is(selection) && source) {\n                await source.model.expandNode(selection);\n            }\n            return fileUploadResult;\n        } catch (e) {\n            if (!isCancelled(e)) {\n                console.error(e);\n            }\n        }\n    }\n\n    protected async doHandleUpload(uploads: string[]): Promise<void> {\n        // Only handle single file uploads\n        if (uploads.length === 1) {\n            const uri = new URI(uploads[0]);\n            // Close all existing widgets for this URI\n            const widgets = this.shell.widgets.filter(widget => NavigatableWidget.getUri(widget)?.isEqual(uri));\n            await this.shell.closeMany(widgets, {\n                // Don't ask to save the file if it's dirty\n                // The user has already confirmed the file overwrite\n                save: false\n            });\n            // Open a new editor for this URI\n            open(this.openerService, uri);\n        }\n    }\n\n    /**\n     * Opens a save dialog to create a new file.\n     *\n     * @param args The first argument is the name of the new file. The second argument is the parent directory URI.\n     */\n    protected async handleNewFileCommand(args: unknown[]): Promise<void> {\n        const fileName = (args !== undefined && typeof args[0] === 'string') ? args[0] : undefined;\n        const title = nls.localizeByDefault('Create File');\n        const props: SaveFileDialogProps = { title, saveLabel: title, inputValue: fileName };\n\n        const dirUri = (args[1] instanceof URI) ? args[1] : await this.workingDirectory.getUserWorkingDir();\n        const directory = await this.fileService.resolve(dirUri);\n\n        const filePath = await this.fileDialogService.showSaveDialog(props, directory.isDirectory ? directory : undefined);\n        if (filePath) {\n            const file = await this.fileService.createFile(filePath);\n            open(this.openerService, file.resource);\n        }\n    }\n\n    protected getSelection(...args: unknown[]): FileSelection | undefined {\n        const { selection } = this.selectionService;\n        return this.toSelection(args[0]) ?? (Array.isArray(selection) ? selection.find(FileSelection.is) : this.toSelection(selection));\n    };\n\n    protected toSelection(arg: unknown): FileSelection | undefined {\n        return FileSelection.is(arg) ? arg : undefined;\n    }\n\n    protected pendingOperation = Promise.resolve();\n    protected run(operation: () => MaybePromise<void>): Promise<void> {\n        return this.pendingOperation = this.pendingOperation.then(async () => {\n            try {\n                await operation();\n            } catch (e) {\n                console.error(e);\n            }\n        });\n    }\n\n    protected async runEach(participant: (resourceUri: URI, widget: NavigatableWidget) => Promise<void>): Promise<void> {\n        const promises: Promise<void>[] = [];\n        for (const [resourceUri, widget] of NavigatableWidget.get(this.shell.widgets)) {\n            promises.push(participant(resourceUri, widget));\n        }\n        await Promise.all(promises);\n    }\n\n    protected readonly moveSnapshots = new Map<string, NavigatableWidgetMoveSnapshot>();\n\n    protected popMoveSnapshot(resourceUri: URI): NavigatableWidgetMoveSnapshot | undefined {\n        const snapshotKey = resourceUri.toString();\n        const snapshot = this.moveSnapshots.get(snapshotKey);\n        if (snapshot) {\n            this.moveSnapshots.delete(snapshotKey);\n        }\n        return snapshot;\n    }\n\n    protected applyMoveSnapshot(widget: NavigatableWidget, snapshot: NavigatableWidgetMoveSnapshot | undefined): void {\n        if (!snapshot) {\n            return undefined;\n        }\n        if (snapshot.dirty) {\n            const saveable = Saveable.get(widget);\n            if (saveable && saveable.applySnapshot) {\n                saveable.applySnapshot(snapshot.dirty);\n            }\n        }\n        if (snapshot.view && StatefulWidget.is(widget)) {\n            widget.restoreState(snapshot.view);\n        }\n    }\n\n    protected async pushMove(resourceUri: URI, widget: NavigatableWidget, event: UserFileOperationEvent): Promise<void> {\n        const newResourceUri = this.createMoveToUri(resourceUri, widget, event);\n        if (!newResourceUri) {\n            return;\n        }\n        const snapshot: NavigatableWidgetMoveSnapshot = {};\n        const saveable = Saveable.get(widget);\n        if (StatefulWidget.is(widget)) {\n            snapshot.view = widget.storeState();\n        }\n        if (saveable && saveable.dirty) {\n            if (saveable.createSnapshot) {\n                snapshot.dirty = saveable.createSnapshot();\n            }\n            if (saveable.revert) {\n                await saveable.revert({ soft: true });\n            }\n        }\n        this.moveSnapshots.set(newResourceUri.toString(), snapshot);\n    }\n\n    protected async revertMove(resourceUri: URI, widget: NavigatableWidget, event: UserFileOperationEvent): Promise<void> {\n        const newResourceUri = this.createMoveToUri(resourceUri, widget, event);\n        if (!newResourceUri) {\n            return;\n        }\n        const snapshot = this.popMoveSnapshot(newResourceUri);\n        this.applyMoveSnapshot(widget, snapshot);\n    }\n\n    protected async applyMove(resourceUri: URI, widget: NavigatableWidget, event: UserFileOperationEvent): Promise<void> {\n        const newResourceUri = this.createMoveToUri(resourceUri, widget, event);\n        if (!newResourceUri) {\n            return;\n        }\n\n        const snapshot = this.popMoveSnapshot(newResourceUri);\n\n        const description = this.widgetManager.getDescription(widget);\n        if (!description) {\n            return;\n        }\n        const { factoryId, options } = description;\n        if (!NavigatableWidgetOptions.is(options)) {\n            return;\n        }\n\n        const newWidget = await this.widgetManager.getOrCreateWidget<NavigatableWidget>(factoryId, <NavigatableWidgetOptions>{\n            ...options,\n            uri: newResourceUri.toString()\n        });\n        this.applyMoveSnapshot(newWidget, snapshot);\n        const area = this.shell.getAreaFor(widget) || 'main';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const pending: Promise<any>[] = [this.shell.addWidget(newWidget, {\n            area, ref: widget\n        })];\n        if (this.shell.activeWidget === widget) {\n            pending.push(this.shell.activateWidget(newWidget.id));\n        } else if (widget.isVisible) {\n            pending.push(this.shell.revealWidget(newWidget.id));\n        }\n        pending.push(this.shell.closeWidget(widget.id, { save: false }));\n        await Promise.all(pending);\n    }\n\n    protected createMoveToUri(resourceUri: URI, widget: NavigatableWidget, event: UserFileOperationEvent): URI | undefined {\n        if (event.operation !== FileOperation.MOVE) {\n            return undefined;\n        }\n        const path = event.source?.relative(resourceUri);\n        const targetUri = path && event.target.resolve(path);\n        return targetUri && widget.createMoveToUri(targetUri);\n    }\n\n    protected readonly deletedSuffix = `(${nls.localizeByDefault('Deleted')})`;\n    protected async updateWidgets(event: FileChangesEvent): Promise<void> {\n        if (!event.gotDeleted() && !event.gotAdded()) {\n            return;\n        }\n        const dirty = new Set<string>();\n        const toClose = new Map<string, NavigatableWidget[]>();\n        for (const [uri, widget] of NavigatableWidget.get(this.shell.widgets)) {\n            this.updateWidget(uri, widget, event, { dirty, toClose: toClose });\n        }\n        if (this.corePreferences['workbench.editor.closeOnFileDelete']) {\n            const doClose = [];\n            for (const [uri, widgets] of toClose.entries()) {\n                if (!dirty.has(uri)) {\n                    doClose.push(...widgets);\n                }\n            }\n            await this.shell.closeMany(doClose);\n        }\n    }\n    protected updateWidget(uri: URI, widget: NavigatableWidget, event: FileChangesEvent, { dirty, toClose }: {\n        dirty: Set<string>;\n        toClose: Map<string, NavigatableWidget[]>\n    }): void {\n        const label = widget.title.label;\n        const deleted = label.endsWith(this.deletedSuffix);\n        if (event.contains(uri, FileChangeType.DELETED)) {\n            const uriString = uri.toString();\n            if (Saveable.isDirty(widget)) {\n                dirty.add(uriString);\n            }\n            if (!deleted) {\n                widget.title.label += this.deletedSuffix;\n                this.onDidChangeEditorFileEmitter.fire({ editor: widget, type: FileChangeType.DELETED });\n            }\n            const widgets = toClose.get(uriString) || [];\n            widgets.push(widget);\n            toClose.set(uriString, widgets);\n        } else if (event.contains(uri, FileChangeType.ADDED)) {\n            if (deleted) {\n                widget.title.label = widget.title.label.substring(0, label.length - this.deletedSuffix.length);\n                this.onDidChangeEditorFileEmitter.fire({ editor: widget, type: FileChangeType.ADDED });\n            }\n        }\n    }\n\n    protected updateAssociations(): void {\n        const fileAssociations = this.preferences['files.associations'];\n        const mimeAssociations = Object.keys(fileAssociations).map(filepattern => ({ id: fileAssociations[filepattern], filepattern }));\n        this.mimeService.setAssociations(mimeAssociations);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { environment, MessageService, nls } from '@theia/core';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { Navigatable, Saveable, SaveableSource, SaveOptions, Widget, open, OpenerService, ConfirmDialog, CommonCommands, LabelProvider } from '@theia/core/lib/browser';\nimport { SaveableService } from '@theia/core/lib/browser/saveable-service';\nimport URI from '@theia/core/lib/common/uri';\nimport { FileService } from './file-service';\nimport { FileDialogService } from './file-dialog';\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\n\n@injectable()\nexport class FilesystemSaveableService extends SaveableService {\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n    @inject(FileService)\n    protected readonly fileService: FileService;\n    @inject(FileDialogService)\n    protected readonly fileDialogService: FileDialogService;\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    /**\n     * This method ensures a few things about `widget`:\n     * - `widget.getResourceUri()` actually returns a URI.\n     * - `widget.saveable.createSnapshot` or `widget.saveable.serialize` is defined.\n     * - `widget.saveable.revert` is defined.\n     */\n    override canSaveAs(widget: Widget | undefined): widget is Widget & SaveableSource & Navigatable {\n        return widget !== undefined\n            && Saveable.isSource(widget)\n            && (typeof widget.saveable.createSnapshot === 'function' || typeof widget.saveable.serialize === 'function' || typeof widget.saveable.saveAs === 'function')\n            && typeof widget.saveable.revert === 'function'\n            && Navigatable.is(widget)\n            && widget.getResourceUri() !== undefined;\n    }\n\n    /**\n     * Save `sourceWidget` to a new file picked by the user.\n     */\n    override async saveAs(sourceWidget: Widget & SaveableSource & Navigatable, options?: SaveOptions): Promise<URI | undefined> {\n        let exist: boolean = false;\n        let overwrite: boolean = false;\n        let selected: URI | undefined;\n        const canSave = this.canSaveNotSaveAs(sourceWidget);\n        const uri: URI = sourceWidget.getResourceUri()!;\n        do {\n            selected = await this.fileDialogService.showSaveDialog(\n                {\n                    title: CommonCommands.SAVE_AS.label!,\n                    filters: {},\n                    inputValue: uri.path.base\n                });\n            if (selected) {\n                exist = await this.fileService.exists(selected);\n                if (exist) {\n                    overwrite = await this.confirmOverwrite(selected);\n                }\n            }\n        } while ((selected && exist && !overwrite) || (selected?.isEqual(uri) && !canSave));\n        if (selected && selected.isEqual(uri)) {\n            return this.save(sourceWidget, options);\n        } else if (selected) {\n            try {\n                await this.saveSnapshot(sourceWidget, selected, overwrite);\n                return selected;\n            } catch (e) {\n                console.warn(e);\n            }\n        }\n    }\n\n    /**\n     * Saves the current snapshot of the {@link sourceWidget} to the target file\n     * and replaces the widget with a new one that contains the snapshot content\n     *\n     * @param sourceWidget widget to save as `target`.\n     * @param target The new URI for the widget.\n     * @param overwrite\n     */\n    protected async saveSnapshot(sourceWidget: Widget & SaveableSource & Navigatable, target: URI, overwrite: boolean): Promise<void> {\n        const saveable = sourceWidget.saveable;\n        if (saveable.saveAs) {\n            // Some widgets have their own \"Save As\" implementation, such as the custom plugin editors\n            await saveable.saveAs({\n                target\n            });\n        } else {\n            // Most other editors simply allow us to serialize the content and write it to the target file.\n            let buffer: BinaryBuffer;\n            if (saveable.serialize) {\n                buffer = await saveable.serialize();\n            } else if (saveable.createSnapshot) {\n                const snapshot = saveable.createSnapshot();\n                const content = Saveable.Snapshot.read(snapshot) ?? '';\n                buffer = BinaryBuffer.fromString(content);\n            } else {\n                throw new Error('Cannot save the widget as the saveable does not provide a snapshot or a serialize method.');\n            }\n            if (await this.fileService.exists(target)) {\n                // Do not fire the `onDidCreate` event as the file already exists.\n                await this.fileService.writeFile(target, buffer);\n            } else {\n                // Ensure to actually call `create` as that fires the `onDidCreate` event.\n                await this.fileService.createFile(target, buffer, { overwrite });\n            }\n        }\n        await saveable.revert!();\n        await open(this.openerService, target, { widgetOptions: { ref: sourceWidget, mode: 'tab-replace' } });\n    }\n\n    async confirmOverwrite(uri: URI): Promise<boolean> {\n        // Electron already handles the confirmation so do not prompt again.\n        if (this.isElectron()) {\n            return true;\n        }\n        // Prompt users for confirmation before overwriting.\n        const confirmed = await new ConfirmDialog({\n            title: nls.localizeByDefault('Overwrite'),\n            msg: nls.localizeByDefault('{0} already exists. Are you sure you want to overwrite it?', this.labelProvider.getName(uri))\n        }).open();\n        return !!confirmed;\n    }\n\n    private isElectron(): boolean {\n        return environment.electron.is();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './location';\nexport * from './file-tree';\nexport * from './file-dialog';\nexport * from './filesystem-preferences';\nexport * from './file-resource';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './location-service';\nexport * from './location-renderer';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { LocationService } from './location-service';\nimport * as React from '@theia/core/shared/react';\nimport { FileService } from '../file-service';\nimport { DisposableCollection, Emitter, Path } from '@theia/core/lib/common';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { FileDialogModel } from '../file-dialog/file-dialog-model';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { ReactRenderer } from '@theia/core/lib/browser/widgets/react-renderer';\nimport { codicon } from '@theia/core/lib/browser';\n\ninterface AutoSuggestDataEvent {\n    parent: string;\n    children: string[];\n}\n\nclass ResolvedDirectoryCache {\n    protected pendingResolvedDirectories = new Map<string, Promise<void>>();\n    protected cachedDirectories = new Map<string, string[]>();\n\n    protected directoryResolvedEmitter = new Emitter<AutoSuggestDataEvent>();\n    readonly onDirectoryDidResolve = this.directoryResolvedEmitter.event;\n\n    constructor(protected readonly fileService: FileService) { }\n\n    tryResolveChildDirectories(inputAsURI: URI): string[] | undefined {\n        const parentDirectory = inputAsURI.path.dir.toString();\n        const cachedDirectories = this.cachedDirectories.get(parentDirectory);\n        const pendingDirectories = this.pendingResolvedDirectories.get(parentDirectory);\n        if (cachedDirectories) {\n            return cachedDirectories;\n        } else if (!pendingDirectories) {\n            this.pendingResolvedDirectories.set(parentDirectory, this.createResolutionPromise(parentDirectory));\n        }\n        return undefined;\n    }\n\n    protected async createResolutionPromise(directoryToResolve: string): Promise<void> {\n        return this.fileService.resolve(new URI(directoryToResolve)).then(({ children }) => {\n            if (children) {\n                const childDirectories = children.filter(child => child.isDirectory)\n                    .map(directory => `${directory.resource.path}/`);\n                this.cachedDirectories.set(directoryToResolve, childDirectories);\n                this.directoryResolvedEmitter.fire({ parent: directoryToResolve, children: childDirectories });\n            }\n        }).catch(e => {\n            // no-op\n        });\n    }\n}\n\nexport const LocationListRendererFactory = Symbol('LocationListRendererFactory');\nexport interface LocationListRendererFactory {\n    (options: LocationListRendererOptions): LocationListRenderer;\n}\n\nexport const LocationListRendererOptions = Symbol('LocationListRendererOptions');\nexport interface LocationListRendererOptions {\n    model: FileDialogModel;\n    host?: HTMLElement;\n}\n\n@injectable()\nexport class LocationListRenderer extends ReactRenderer {\n\n    @inject(FileService) protected readonly fileService: FileService;\n    @inject(EnvVariablesServer) protected readonly variablesServer: EnvVariablesServer;\n\n    protected directoryCache: ResolvedDirectoryCache;\n    protected service: LocationService;\n    protected toDisposeOnNewCache = new DisposableCollection();\n    protected _drives: URI[] | undefined;\n    protected _doShowTextInput = false;\n    protected homeDir: string;\n\n    get doShowTextInput(): boolean {\n        return this._doShowTextInput;\n    }\n    set doShowTextInput(doShow: boolean) {\n        this._doShowTextInput = doShow;\n        if (doShow) {\n            this.initResolveDirectoryCache();\n        }\n    }\n    protected lastUniqueTextInputLocation: URI | undefined;\n    protected previousAutocompleteMatch: string;\n    protected doAttemptAutocomplete = true;\n\n    constructor(\n        @inject(LocationListRendererOptions) readonly options: LocationListRendererOptions\n    ) {\n        super(options.host);\n        this.service = options.model;\n        this.doLoadDrives();\n        this.doAfterRender = this.doAfterRender.bind(this);\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        const homeDirWithPrefix = await this.variablesServer.getHomeDirUri();\n        this.homeDir = (new URI(homeDirWithPrefix)).path.toString();\n    }\n\n    override render(): void {\n        if (!this.toDispose.disposed) {\n            this.hostRoot.render(this.doRender());\n        }\n    }\n\n    protected initResolveDirectoryCache(): void {\n        this.toDisposeOnNewCache.dispose();\n        this.directoryCache = new ResolvedDirectoryCache(this.fileService);\n        this.toDisposeOnNewCache.push(this.directoryCache.onDirectoryDidResolve(({ parent, children }) => {\n            if (this.locationTextInput) {\n                const expandedPath = Path.untildify(this.locationTextInput.value, this.homeDir);\n                const inputParent = (new URI(expandedPath)).path.dir.toString();\n                if (inputParent === parent) {\n                    this.tryRenderFirstMatch(this.locationTextInput, children);\n                }\n            }\n        }));\n    }\n\n    protected doAfterRender = (): void => {\n        const locationList = this.locationList;\n        const locationListTextInput = this.locationTextInput;\n        if (locationList) {\n            const currentLocation = this.service.location;\n            locationList.value = currentLocation ? currentLocation.toString() : '';\n        } else if (locationListTextInput) {\n            locationListTextInput.focus();\n        }\n    };\n\n    protected readonly handleLocationChanged = (e: React.ChangeEvent<HTMLSelectElement>) => this.onLocationChanged(e);\n    protected readonly handleTextInputOnChange = (e: React.ChangeEvent<HTMLInputElement>) => this.trySuggestDirectory(e);\n    protected readonly handleTextInputKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => this.handleControlKeys(e);\n    protected readonly handleIconKeyDown = (e: React.KeyboardEvent<HTMLSpanElement>) => this.toggleInputOnKeyDown(e);\n    protected readonly handleTextInputOnBlur = () => this.toggleToSelectInput();\n    protected readonly handleTextInputMouseDown = (e: React.MouseEvent<HTMLSpanElement>) => this.toggleToTextInputOnMouseDown(e);\n\n    protected override doRender(): React.ReactElement {\n        return (\n            <>\n                {this.renderInputIcon()}\n                {this.doShowTextInput\n                    ? this.renderTextInput()\n                    : this.renderSelectInput()\n                }\n            </>\n        );\n    }\n\n    protected renderInputIcon(): React.ReactNode {\n        return (\n            <span\n                // onMouseDown is used since it will fire before 'onBlur'. This prevents\n                // a re-render when textinput is in focus and user clicks toggle icon\n                onMouseDown={this.handleTextInputMouseDown}\n                onKeyDown={this.handleIconKeyDown}\n                className={LocationListRenderer.Styles.LOCATION_INPUT_TOGGLE_CLASS}\n                tabIndex={0}\n                id={`${this.doShowTextInput ? 'text-input' : 'select-input'}`}\n                title={this.doShowTextInput\n                    ? LocationListRenderer.Tooltips.TOGGLE_SELECT_INPUT\n                    : LocationListRenderer.Tooltips.TOGGLE_TEXT_INPUT}\n                ref={this.doAfterRender}\n            >\n                <i className={codicon(this.doShowTextInput ? 'folder-opened' : 'edit')} />\n            </span>\n        );\n    }\n\n    protected renderTextInput(): React.ReactNode {\n        return (\n            <input className={'theia-select ' + LocationListRenderer.Styles.LOCATION_TEXT_INPUT_CLASS}\n                defaultValue={this.service.location?.path.fsPath()}\n                onBlur={this.handleTextInputOnBlur}\n                onChange={this.handleTextInputOnChange}\n                onKeyDown={this.handleTextInputKeyDown}\n                spellCheck={false}\n            />\n        );\n    }\n\n    protected renderSelectInput(): React.ReactNode {\n        const options = this.collectLocations().map(value => this.renderLocation(value));\n        return (\n            <select className={`theia-select ${LocationListRenderer.Styles.LOCATION_LIST_CLASS}`}\n                onChange={this.handleLocationChanged}>\n                {...options}\n            </select>\n        );\n    }\n\n    protected toggleInputOnKeyDown(e: React.KeyboardEvent<HTMLSpanElement>): void {\n        if (e.key === 'Enter') {\n            this.doShowTextInput = true;\n            this.render();\n        }\n    }\n\n    protected toggleToTextInputOnMouseDown(e: React.MouseEvent<HTMLSpanElement>): void {\n        if (e.currentTarget.id === 'select-input') {\n            e.preventDefault();\n            this.doShowTextInput = true;\n            this.render();\n        }\n    }\n\n    protected toggleToSelectInput(): void {\n        if (this.doShowTextInput) {\n            this.doShowTextInput = false;\n            this.render();\n        }\n    }\n\n    /**\n     * Collects the available locations based on the currently selected, and appends the available drives to it.\n     */\n    protected collectLocations(): LocationListRenderer.Location[] {\n        const location = this.service.location;\n        const locations: LocationListRenderer.Location[] = (!!location ? location.allLocations : []).map(uri => ({ uri }));\n        if (this._drives) {\n            const drives = this._drives.map(uri => ({ uri, isDrive: true }));\n            // `URI.allLocations` returns with the URI without the trailing slash unlike `FileUri.create(fsPath)`.\n            // to be able to compare file:///path/to/resource with file:///path/to/resource/.\n            const toUriString = (uri: URI) => {\n                const toString = uri.toString();\n                return toString.endsWith('/') ? toString.slice(0, -1) : toString;\n            };\n            drives.forEach(drive => {\n                const index = locations.findIndex(loc => toUriString(loc.uri) === toUriString(drive.uri));\n                // Ignore drives which are already discovered as a location based on the current model root URI.\n                if (index === -1) {\n                    // Make sure, it does not have the trailing slash.\n                    locations.push({ uri: new URI(toUriString(drive.uri)), isDrive: true });\n                } else {\n                    // This is necessary for Windows to be able to show `/e:/` as a drive and `c:` as \"non-drive\" in the same way.\n                    // `URI.path.toString()` Vs. `URI.displayName` behaves a bit differently on Windows.\n                    // https://github.com/eclipse-theia/theia/pull/3038#issuecomment-425944189\n                    locations[index].isDrive = true;\n                }\n            });\n        }\n        this.doLoadDrives();\n        return locations;\n    }\n\n    /**\n     * Asynchronously loads the drives (if not yet available) and triggers a UI update on success with the new values.\n     */\n    protected doLoadDrives(): void {\n        if (!this._drives) {\n            this.service.drives().then(drives => {\n                // If the `drives` are empty, something already went wrong.\n                if (drives.length > 0) {\n                    this._drives = drives;\n                    this.render();\n                }\n            });\n        }\n    }\n\n    protected renderLocation(location: LocationListRenderer.Location): React.ReactNode {\n        const { uri, isDrive } = location;\n        const value = uri.toString();\n        return <option value={value} key={uri.toString()}>{isDrive ? uri.path.fsPath() : uri.displayName}</option>;\n    }\n\n    protected onLocationChanged(e: React.ChangeEvent<HTMLSelectElement>): void {\n        const locationList = this.locationList;\n        if (locationList) {\n            const value = locationList.value;\n            const uri = new URI(value);\n            this.trySetNewLocation(uri);\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }\n\n    protected trySetNewLocation(newLocation: URI): void {\n        if (this.lastUniqueTextInputLocation === undefined) {\n            this.lastUniqueTextInputLocation = this.service.location;\n        }\n        // prevent consecutive repeated locations from being added to location history\n        if (this.lastUniqueTextInputLocation?.path.toString() !== newLocation.path.toString()) {\n            this.lastUniqueTextInputLocation = newLocation;\n            this.service.location = newLocation;\n        }\n    }\n\n    protected trySuggestDirectory(e: React.ChangeEvent<HTMLInputElement>): void {\n        if (this.doAttemptAutocomplete) {\n            const inputElement = e.currentTarget;\n            const { value } = inputElement;\n            if ((value.startsWith('/') || value.startsWith('~/')) && value.slice(-1) !== '/') {\n                const expandedPath = Path.untildify(value, this.homeDir);\n                const valueAsURI = new URI(expandedPath);\n                const autocompleteDirectories = this.directoryCache.tryResolveChildDirectories(valueAsURI);\n                if (autocompleteDirectories) {\n                    this.tryRenderFirstMatch(inputElement, autocompleteDirectories);\n                }\n            }\n        }\n    }\n\n    protected tryRenderFirstMatch(inputElement: HTMLInputElement, children: string[]): void {\n        const { value, selectionStart } = inputElement;\n        if (this.locationTextInput) {\n            const expandedPath = Path.untildify(value, this.homeDir);\n            const firstMatch = children?.find(child => child.includes(expandedPath));\n            if (firstMatch) {\n                const contractedPath = value.startsWith('~') ? Path.tildify(firstMatch, this.homeDir) : firstMatch;\n                this.locationTextInput.value = contractedPath;\n                this.locationTextInput.selectionStart = selectionStart;\n                this.locationTextInput.selectionEnd = firstMatch.length;\n            }\n        }\n    }\n\n    protected handleControlKeys(e: React.KeyboardEvent<HTMLInputElement>): void {\n        this.doAttemptAutocomplete = e.key !== 'Backspace';\n        if (e.key === 'Enter') {\n            const locationTextInput = this.locationTextInput;\n            if (locationTextInput) {\n                // expand '~' if present and remove extra whitespace and any trailing slashes or periods.\n                const sanitizedInput = locationTextInput.value.trim().replace(/[\\/\\\\.]*$/, '');\n                const untildifiedInput = Path.untildify(sanitizedInput, this.homeDir);\n                const uri = new URI(untildifiedInput);\n                this.trySetNewLocation(uri);\n                this.toggleToSelectInput();\n            }\n        } else if (e.key === 'Escape') {\n            this.toggleToSelectInput();\n        } else if (e.key === 'Tab') {\n            e.preventDefault();\n            const textInput = this.locationTextInput;\n            if (textInput) {\n                textInput.selectionStart = textInput.value.length;\n            }\n        }\n        e.stopPropagation();\n    }\n\n    get locationList(): HTMLSelectElement | undefined {\n        const locationList = this.host.getElementsByClassName(LocationListRenderer.Styles.LOCATION_LIST_CLASS)[0];\n        if (locationList instanceof HTMLSelectElement) {\n            return locationList;\n        }\n        return undefined;\n    }\n\n    get locationTextInput(): HTMLInputElement | undefined {\n        const locationTextInput = this.host.getElementsByClassName(LocationListRenderer.Styles.LOCATION_TEXT_INPUT_CLASS)[0];\n        if (locationTextInput instanceof HTMLInputElement) {\n            return locationTextInput;\n        }\n        return undefined;\n    }\n\n    override dispose(): void {\n        super.dispose();\n        this.toDisposeOnNewCache.dispose();\n    }\n}\n\nexport namespace LocationListRenderer {\n\n    export namespace Styles {\n        export const LOCATION_LIST_CLASS = 'theia-LocationList';\n        export const LOCATION_INPUT_TOGGLE_CLASS = 'theia-LocationInputToggle';\n        export const LOCATION_TEXT_INPUT_CLASS = 'theia-LocationTextInput';\n    }\n\n    export namespace Tooltips {\n        export const TOGGLE_TEXT_INPUT = 'Switch to text-based input';\n        export const TOGGLE_SELECT_INPUT = 'Switch to location list';\n    }\n\n    export interface Location {\n        uri: URI;\n        isDrive?: boolean;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\n\nexport interface LocationService {\n    location: URI | undefined;\n    drives(): Promise<URI[]>;\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport const HTTP_FILE_UPLOAD_PATH = '/file-upload';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport namespace FileAccess {\n\n    export namespace Constants {\n\n        /**\n         * Flag indicating that the file is visible to the calling process.\n         * This is useful for determining if a file exists, but says nothing about rwx permissions. Default if no mode is specified.\n         */\n        export const F_OK: number = 0;\n\n        /**\n         * Flag indicating that the file can be read by the calling process.\n         */\n        export const R_OK: number = 4;\n\n        /**\n         * Flag indicating that the file can be written by the calling process.\n         */\n        export const W_OK: number = 2;\n\n        /**\n         * Flag indicating that the file can be executed by the calling process.\n         * This has no effect on Windows (will behave like `FileAccess.F_OK`).\n         */\n        export const X_OK: number = 1;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './filesystem';\nexport * from './filesystem-utils';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Semaphore_1 = require(\"./Semaphore\");\nvar Mutex = /** @class */ (function () {\n    function Mutex(cancelError) {\n        this._semaphore = new Semaphore_1.default(1, cancelError);\n    }\n    Mutex.prototype.acquire = function () {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var _a, releaser;\n            return (0, tslib_1.__generator)(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._semaphore.acquire()];\n                    case 1:\n                        _a = _b.sent(), releaser = _a[1];\n                        return [2 /*return*/, releaser];\n                }\n            });\n        });\n    };\n    Mutex.prototype.runExclusive = function (callback) {\n        return this._semaphore.runExclusive(function () { return callback(); });\n    };\n    Mutex.prototype.isLocked = function () {\n        return this._semaphore.isLocked();\n    };\n    Mutex.prototype.waitForUnlock = function () {\n        return this._semaphore.waitForUnlock();\n    };\n    /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */\n    Mutex.prototype.release = function () {\n        this._semaphore.release();\n    };\n    Mutex.prototype.cancel = function () {\n        return this._semaphore.cancel();\n    };\n    return Mutex;\n}());\nexports.default = Mutex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar errors_1 = require(\"./errors\");\nvar Semaphore = /** @class */ (function () {\n    function Semaphore(_maxConcurrency, _cancelError) {\n        if (_cancelError === void 0) { _cancelError = errors_1.E_CANCELED; }\n        this._maxConcurrency = _maxConcurrency;\n        this._cancelError = _cancelError;\n        this._queue = [];\n        this._waiters = [];\n        if (_maxConcurrency <= 0) {\n            throw new Error('semaphore must be initialized to a positive value');\n        }\n        this._value = _maxConcurrency;\n    }\n    Semaphore.prototype.acquire = function () {\n        var _this = this;\n        var locked = this.isLocked();\n        var ticketPromise = new Promise(function (resolve, reject) {\n            return _this._queue.push({ resolve: resolve, reject: reject });\n        });\n        if (!locked)\n            this._dispatch();\n        return ticketPromise;\n    };\n    Semaphore.prototype.runExclusive = function (callback) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var _a, value, release;\n            return (0, tslib_1.__generator)(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.acquire()];\n                    case 1:\n                        _a = _b.sent(), value = _a[0], release = _a[1];\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 4, 5]);\n                        return [4 /*yield*/, callback(value)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                    case 4:\n                        release();\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Semaphore.prototype.waitForUnlock = function () {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var waitPromise;\n            var _this = this;\n            return (0, tslib_1.__generator)(this, function (_a) {\n                if (!this.isLocked()) {\n                    return [2 /*return*/, Promise.resolve()];\n                }\n                waitPromise = new Promise(function (resolve) { return _this._waiters.push({ resolve: resolve }); });\n                return [2 /*return*/, waitPromise];\n            });\n        });\n    };\n    Semaphore.prototype.isLocked = function () {\n        return this._value <= 0;\n    };\n    /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */\n    Semaphore.prototype.release = function () {\n        if (this._maxConcurrency > 1) {\n            throw new Error('this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead');\n        }\n        if (this._currentReleaser) {\n            var releaser = this._currentReleaser;\n            this._currentReleaser = undefined;\n            releaser();\n        }\n    };\n    Semaphore.prototype.cancel = function () {\n        var _this = this;\n        this._queue.forEach(function (ticket) { return ticket.reject(_this._cancelError); });\n        this._queue = [];\n    };\n    Semaphore.prototype._dispatch = function () {\n        var _this = this;\n        var nextTicket = this._queue.shift();\n        if (!nextTicket)\n            return;\n        var released = false;\n        this._currentReleaser = function () {\n            if (released)\n                return;\n            released = true;\n            _this._value++;\n            _this._resolveWaiters();\n            _this._dispatch();\n        };\n        nextTicket.resolve([this._value--, this._currentReleaser]);\n    };\n    Semaphore.prototype._resolveWaiters = function () {\n        this._waiters.forEach(function (waiter) { return waiter.resolve(); });\n        this._waiters = [];\n    };\n    return Semaphore;\n}());\nexports.default = Semaphore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.E_CANCELED = exports.E_ALREADY_LOCKED = exports.E_TIMEOUT = void 0;\nexports.E_TIMEOUT = new Error('timeout while waiting for mutex to become available');\nexports.E_ALREADY_LOCKED = new Error('mutex already locked');\nexports.E_CANCELED = new Error('request for lock canceled');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = exports.withTimeout = exports.Semaphore = exports.Mutex = void 0;\nvar tslib_1 = require(\"tslib\");\nvar Mutex_1 = require(\"./Mutex\");\nObject.defineProperty(exports, \"Mutex\", { enumerable: true, get: function () { return Mutex_1.default; } });\nvar Semaphore_1 = require(\"./Semaphore\");\nObject.defineProperty(exports, \"Semaphore\", { enumerable: true, get: function () { return Semaphore_1.default; } });\nvar withTimeout_1 = require(\"./withTimeout\");\nObject.defineProperty(exports, \"withTimeout\", { enumerable: true, get: function () { return withTimeout_1.withTimeout; } });\nvar tryAcquire_1 = require(\"./tryAcquire\");\nObject.defineProperty(exports, \"tryAcquire\", { enumerable: true, get: function () { return tryAcquire_1.tryAcquire; } });\n(0, tslib_1.__exportStar)(require(\"./errors\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = void 0;\nvar errors_1 = require(\"./errors\");\nvar withTimeout_1 = require(\"./withTimeout\");\n// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types\nfunction tryAcquire(sync, alreadyAcquiredError) {\n    if (alreadyAcquiredError === void 0) { alreadyAcquiredError = errors_1.E_ALREADY_LOCKED; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (0, withTimeout_1.withTimeout)(sync, 0, alreadyAcquiredError);\n}\nexports.tryAcquire = tryAcquire;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withTimeout = void 0;\nvar tslib_1 = require(\"tslib\");\nvar errors_1 = require(\"./errors\");\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction withTimeout(sync, timeout, timeoutError) {\n    var _this = this;\n    if (timeoutError === void 0) { timeoutError = errors_1.E_TIMEOUT; }\n    return {\n        acquire: function () {\n            return new Promise(function (resolve, reject) { return (0, tslib_1.__awaiter)(_this, void 0, void 0, function () {\n                var isTimeout, handle, ticket, release, e_1;\n                return (0, tslib_1.__generator)(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            isTimeout = false;\n                            handle = setTimeout(function () {\n                                isTimeout = true;\n                                reject(timeoutError);\n                            }, timeout);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, sync.acquire()];\n                        case 2:\n                            ticket = _a.sent();\n                            if (isTimeout) {\n                                release = Array.isArray(ticket) ? ticket[1] : ticket;\n                                release();\n                            }\n                            else {\n                                clearTimeout(handle);\n                                resolve(ticket);\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            e_1 = _a.sent();\n                            if (!isTimeout) {\n                                clearTimeout(handle);\n                                reject(e_1);\n                            }\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); });\n        },\n        runExclusive: function (callback) {\n            return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n                var release, ticket;\n                return (0, tslib_1.__generator)(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            release = function () { return undefined; };\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, , 7, 8]);\n                            return [4 /*yield*/, this.acquire()];\n                        case 2:\n                            ticket = _a.sent();\n                            if (!Array.isArray(ticket)) return [3 /*break*/, 4];\n                            release = ticket[1];\n                            return [4 /*yield*/, callback(ticket[0])];\n                        case 3: return [2 /*return*/, _a.sent()];\n                        case 4:\n                            release = ticket;\n                            return [4 /*yield*/, callback()];\n                        case 5: return [2 /*return*/, _a.sent()];\n                        case 6: return [3 /*break*/, 8];\n                        case 7:\n                            release();\n                            return [7 /*endfinally*/];\n                        case 8: return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */\n        release: function () {\n            sync.release();\n        },\n        cancel: function () {\n            return sync.cancel();\n        },\n        waitForUnlock: function () { return sync.waitForUnlock(); },\n        isLocked: function () { return sync.isLocked(); },\n    };\n}\nexports.withTimeout = withTimeout;\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { FileNavigatorPreferences } from './navigator-preferences';\nimport { FileTreeWidget } from '@theia/filesystem/lib/browser';\nimport { Attributes, HTMLAttributes } from '@theia/core/shared/react';\nimport { TreeNode } from '@theia/core/lib/browser';\n\n@injectable()\nexport class AbstractNavigatorTreeWidget extends FileTreeWidget {\n\n    @inject(FileNavigatorPreferences)\n    protected readonly navigatorPreferences: FileNavigatorPreferences;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.toDispose.push(\n            this.preferenceService.onPreferenceChanged(preference => {\n                if (preference.preferenceName === 'explorer.decorations.colors') {\n                    this.update();\n                }\n            })\n        );\n    }\n\n    protected override decorateCaption(node: TreeNode, attrs: HTMLAttributes<HTMLElement>): Attributes & HTMLAttributes<HTMLElement> {\n        const attributes = super.decorateCaption(node, attrs);\n        if (this.navigatorPreferences.get('explorer.decorations.colors')) {\n            return attributes;\n        } else {\n            return {\n                ...attributes,\n                style: {\n                    ...attributes.style,\n                    color: undefined,\n                }\n            };\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { codicon, CommonCommands } from '@theia/core/lib/browser';\nimport { Command } from '@theia/core/lib/common';\nimport { WorkspaceCommands } from '@theia/workspace/lib/browser';\n\nexport namespace FileNavigatorCommands {\n    export const REVEAL_IN_NAVIGATOR = Command.toLocalizedCommand({\n        id: 'navigator.reveal',\n        label: 'Reveal in Explorer'\n    }, 'theia/navigator/reveal');\n    export const TOGGLE_HIDDEN_FILES = Command.toLocalizedCommand({\n        id: 'navigator.toggle.hidden.files',\n        label: 'Toggle Hidden Files'\n    }, 'theia/navigator/toggleHiddenFiles');\n    export const TOGGLE_AUTO_REVEAL = Command.toLocalizedCommand({\n        id: 'navigator.toggle.autoReveal',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Auto Reveal'\n    }, 'theia/navigator/autoReveal', CommonCommands.FILE_CATEGORY_KEY);\n    export const REFRESH_NAVIGATOR = Command.toLocalizedCommand({\n        id: 'navigator.refresh',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Refresh in Explorer',\n        iconClass: codicon('refresh')\n    }, 'theia/navigator/refresh', CommonCommands.FILE_CATEGORY_KEY);\n    export const COLLAPSE_ALL = Command.toDefaultLocalizedCommand({\n        id: 'navigator.collapse.all',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Collapse Folders in Explorer',\n        iconClass: codicon('collapse-all')\n    });\n    export const ADD_ROOT_FOLDER: Command = {\n        id: 'navigator.addRootFolder'\n    };\n    export const FOCUS = Command.toDefaultLocalizedCommand({\n        id: 'workbench.files.action.focusFilesExplorer',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Focus on Files Explorer'\n    });\n    export const OPEN: Command = {\n        id: 'navigator.open',\n    };\n    export const OPEN_WITH: Command = {\n        id: 'navigator.openWith',\n    };\n    export const NEW_FILE_TOOLBAR: Command = {\n        id: `${WorkspaceCommands.NEW_FILE.id}.toolbar`,\n        iconClass: codicon('new-file')\n    };\n    export const NEW_FOLDER_TOOLBAR: Command = {\n        id: `${WorkspaceCommands.NEW_FOLDER.id}.toolbar`,\n        iconClass: codicon('new-folder')\n    };\n\n    /**\n     * @deprecated since 1.21.0. Use WorkspaceCommands.COPY_RELATIVE_FILE_COMMAND instead.\n     */\n    export const COPY_RELATIVE_FILE_PATH = WorkspaceCommands.COPY_RELATIVE_FILE_PATH;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { ContextKeyService, ContextKey } from '@theia/core/lib/browser/context-key-service';\n\n@injectable()\nexport class NavigatorContextKeyService {\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    protected _explorerViewletVisible: ContextKey<boolean>;\n    get explorerViewletVisible(): ContextKey<boolean> {\n        return this._explorerViewletVisible;\n    }\n\n    protected _explorerViewletFocus: ContextKey<boolean>;\n    /** True if Explorer view has keyboard focus. */\n    get explorerViewletFocus(): ContextKey<boolean> {\n        return this._explorerViewletFocus;\n    }\n\n    protected _filesExplorerFocus: ContextKey<boolean>;\n    /** True if File Explorer section has keyboard focus. */\n    get filesExplorerFocus(): ContextKey<boolean> {\n        return this._filesExplorerFocus;\n    }\n\n    protected _explorerResourceIsFolder: ContextKey<boolean>;\n    get explorerResourceIsFolder(): ContextKey<boolean> {\n        return this._explorerResourceIsFolder;\n    }\n\n    protected _isFileSystemResource: ContextKey<boolean>;\n\n    /**\n     * True when the Explorer or editor file is a file system resource that can be handled from a file system provider.\n     */\n    get isFileSystemResource(): ContextKey<boolean> {\n        return this._isFileSystemResource;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this._explorerViewletVisible = this.contextKeyService.createKey<boolean>('explorerViewletVisible', false);\n        this._explorerViewletFocus = this.contextKeyService.createKey<boolean>('explorerViewletFocus', false);\n        this._filesExplorerFocus = this.contextKeyService.createKey<boolean>('filesExplorerFocus', false);\n        this._explorerResourceIsFolder = this.contextKeyService.createKey<boolean>('explorerResourceIsFolder', false);\n        this._isFileSystemResource = this.contextKeyService.createKey<boolean>('isFileSystemResource', false);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017-2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, optional, postConstruct } from '@theia/core/shared/inversify';\nimport { AbstractViewContribution } from '@theia/core/lib/browser/shell/view-contribution';\nimport {\n    CommonCommands,\n    CompositeTreeNode,\n    FrontendApplication,\n    FrontendApplicationContribution,\n    KeybindingRegistry,\n    OpenerService,\n    PreferenceScope,\n    PreferenceService,\n    SelectableTreeNode,\n    Widget,\n    NavigatableWidget,\n    ApplicationShell,\n    TabBar,\n    Title,\n    SHELL_TABBAR_CONTEXT_MENU,\n    OpenWithService\n} from '@theia/core/lib/browser';\nimport { FileDownloadCommands } from '@theia/filesystem/lib/browser/download/file-download-command-contribution';\nimport {\n    CommandRegistry,\n    isOSX,\n    MenuModelRegistry,\n    MenuPath,\n    Mutable,\n    QuickInputService,\n} from '@theia/core/lib/common';\nimport {\n    DidCreateNewResourceEvent,\n    WorkspaceCommandContribution,\n    WorkspaceCommands,\n    WorkspacePreferences,\n    WorkspaceService\n} from '@theia/workspace/lib/browser';\nimport { EXPLORER_VIEW_CONTAINER_ID, EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS } from './navigator-widget-factory';\nimport { FILE_NAVIGATOR_ID, FileNavigatorWidget } from './navigator-widget';\nimport { FileNavigatorPreferences } from './navigator-preferences';\nimport { FileNavigatorFilter } from './navigator-filter';\nimport { WorkspaceNode } from './navigator-tree';\nimport { NavigatorContextKeyService } from './navigator-context-key-service';\nimport {\n    RenderedToolbarItem,\n    TabBarToolbarContribution,\n    TabBarToolbarRegistry\n} from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { FileSystemCommands } from '@theia/filesystem/lib/browser/filesystem-frontend-contribution';\nimport { NavigatorDiff, NavigatorDiffCommands } from './navigator-diff';\nimport { DirNode, FileNode } from '@theia/filesystem/lib/browser';\nimport { FileNavigatorModel } from './navigator-model';\nimport { ClipboardService } from '@theia/core/lib/browser/clipboard-service';\nimport { SelectionService } from '@theia/core/lib/common/selection-service';\nimport { OpenEditorsWidget } from './open-editors-widget/navigator-open-editors-widget';\nimport { OpenEditorsContextMenu } from './open-editors-widget/navigator-open-editors-menus';\nimport { OpenEditorsCommands } from './open-editors-widget/navigator-open-editors-commands';\nimport { nls } from '@theia/core/lib/common/nls';\nimport URI from '@theia/core/lib/common/uri';\nimport { UriAwareCommandHandler } from '@theia/core/lib/common/uri-command-handler';\nimport { FileNavigatorCommands } from './file-navigator-commands';\nexport { FileNavigatorCommands };\n\n/**\n * Navigator `More Actions...` toolbar item groups.\n * Used in order to group items present in the toolbar.\n */\nexport namespace NavigatorMoreToolbarGroups {\n    export const NEW_OPEN = '1_navigator_new_open';\n    export const TOOLS = '2_navigator_tools';\n    export const WORKSPACE = '3_navigator_workspace';\n}\n\nexport const NAVIGATOR_CONTEXT_MENU: MenuPath = ['navigator-context-menu'];\nexport const SHELL_TABBAR_CONTEXT_REVEAL: MenuPath = [...SHELL_TABBAR_CONTEXT_MENU, '2_reveal'];\n\n/**\n * Navigator context menu default groups should be aligned\n * with VS Code default groups: https://code.visualstudio.com/api/references/contribution-points#contributes.menus\n */\nexport namespace NavigatorContextMenu {\n    export const NAVIGATION = [...NAVIGATOR_CONTEXT_MENU, 'navigation'];\n    /** @deprecated use NAVIGATION */\n    export const OPEN = NAVIGATION;\n    /** @deprecated use NAVIGATION */\n    export const NEW = NAVIGATION;\n\n    export const WORKSPACE = [...NAVIGATOR_CONTEXT_MENU, '2_workspace'];\n\n    export const COMPARE = [...NAVIGATOR_CONTEXT_MENU, '3_compare'];\n    /** @deprecated use COMPARE */\n    export const DIFF = COMPARE;\n\n    export const SEARCH = [...NAVIGATOR_CONTEXT_MENU, '4_search'];\n    export const CLIPBOARD = [...NAVIGATOR_CONTEXT_MENU, '5_cutcopypaste'];\n\n    export const MODIFICATION = [...NAVIGATOR_CONTEXT_MENU, '7_modification'];\n    /** @deprecated use MODIFICATION */\n    export const MOVE = MODIFICATION;\n    /** @deprecated use MODIFICATION */\n    export const ACTIONS = MODIFICATION;\n\n    /** @deprecated use the `FileNavigatorCommands.OPEN_WITH` command */\n    export const OPEN_WITH = [...NAVIGATION, 'open_with'];\n}\n\nexport const FILE_NAVIGATOR_TOGGLE_COMMAND_ID = 'fileNavigator:toggle';\n\n@injectable()\nexport class FileNavigatorContribution extends AbstractViewContribution<FileNavigatorWidget> implements FrontendApplicationContribution, TabBarToolbarContribution {\n\n    @inject(ClipboardService)\n    protected readonly clipboardService: ClipboardService;\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    @inject(TabBarToolbarRegistry)\n    protected readonly tabbarToolbarRegistry: TabBarToolbarRegistry;\n\n    @inject(NavigatorContextKeyService)\n    protected readonly contextKeyService: NavigatorContextKeyService;\n\n    @inject(MenuModelRegistry)\n    protected readonly menuRegistry: MenuModelRegistry;\n\n    @inject(NavigatorDiff)\n    protected readonly navigatorDiff: NavigatorDiff;\n\n    @inject(PreferenceService)\n    protected readonly preferenceService: PreferenceService;\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    @inject(WorkspaceCommandContribution)\n    protected readonly workspaceCommandContribution: WorkspaceCommandContribution;\n\n    @inject(OpenWithService)\n    protected readonly openWithService: OpenWithService;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    constructor(\n        @inject(FileNavigatorPreferences) protected readonly fileNavigatorPreferences: FileNavigatorPreferences,\n        @inject(OpenerService) protected readonly openerService: OpenerService,\n        @inject(FileNavigatorFilter) protected readonly fileNavigatorFilter: FileNavigatorFilter,\n        @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService,\n        @inject(WorkspacePreferences) protected readonly workspacePreferences: WorkspacePreferences\n    ) {\n        super({\n            viewContainerId: EXPLORER_VIEW_CONTAINER_ID,\n            widgetId: FILE_NAVIGATOR_ID,\n            widgetName: EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS.label,\n            defaultWidgetOptions: {\n                area: 'left',\n                rank: 100\n            },\n            toggleCommandId: FILE_NAVIGATOR_TOGGLE_COMMAND_ID,\n            toggleKeybinding: 'ctrlcmd+shift+e'\n        });\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        await this.fileNavigatorPreferences.ready;\n        this.shell.onDidChangeCurrentWidget(() => this.onCurrentWidgetChangedHandler());\n\n        const updateFocusContextKeys = () => {\n            const hasFocus = this.shell.activeWidget instanceof FileNavigatorWidget;\n            this.contextKeyService.explorerViewletFocus.set(hasFocus);\n            this.contextKeyService.filesExplorerFocus.set(hasFocus);\n        };\n        updateFocusContextKeys();\n        this.shell.onDidChangeActiveWidget(updateFocusContextKeys);\n        this.workspaceCommandContribution.onDidCreateNewFile(async event => this.onDidCreateNewResource(event));\n        this.workspaceCommandContribution.onDidCreateNewFolder(async event => this.onDidCreateNewResource(event));\n    }\n\n    private async onDidCreateNewResource(event: DidCreateNewResourceEvent): Promise<void> {\n        const navigator = this.tryGetWidget();\n        if (!navigator || !navigator.isVisible) {\n            return;\n        }\n        const model: FileNavigatorModel = navigator.model;\n        const parent = await model.revealFile(event.parent);\n        if (DirNode.is(parent)) {\n            await model.refresh(parent);\n        }\n        const node = await model.revealFile(event.uri);\n        if (SelectableTreeNode.is(node)) {\n            model.selectNode(node);\n            if (DirNode.is(node)) {\n                this.openView({ activate: true });\n            }\n        }\n    }\n\n    async initializeLayout(app: FrontendApplication): Promise<void> {\n        await this.openView();\n    }\n\n    override registerCommands(registry: CommandRegistry): void {\n        super.registerCommands(registry);\n        registry.registerCommand(FileNavigatorCommands.FOCUS, {\n            execute: () => this.openView({ activate: true })\n        });\n        registry.registerCommand(FileNavigatorCommands.REVEAL_IN_NAVIGATOR, UriAwareCommandHandler.MonoSelect(this.selectionService, {\n            execute: async uri => {\n                if (await this.selectFileNode(uri)) {\n                    this.openView({ activate: false, reveal: true });\n                }\n            },\n            isEnabled: uri => !!this.workspaceService.getWorkspaceRootUri(uri),\n            isVisible: uri => !!this.workspaceService.getWorkspaceRootUri(uri),\n        }));\n        registry.registerCommand(FileNavigatorCommands.TOGGLE_HIDDEN_FILES, {\n            execute: () => {\n                this.fileNavigatorFilter.toggleHiddenFiles();\n            },\n            isEnabled: () => true,\n            isVisible: () => true\n        });\n        registry.registerCommand(FileNavigatorCommands.TOGGLE_AUTO_REVEAL, {\n            isEnabled: widget => this.withWidget(widget, () => this.workspaceService.opened),\n            isVisible: widget => this.withWidget(widget, () => this.workspaceService.opened),\n            execute: () => {\n                const autoReveal = !this.fileNavigatorPreferences['explorer.autoReveal'];\n                this.preferenceService.set('explorer.autoReveal', autoReveal, PreferenceScope.User);\n                if (autoReveal) {\n                    this.selectWidgetFileNode(this.shell.currentWidget);\n                }\n            },\n            isToggled: () => this.fileNavigatorPreferences['explorer.autoReveal']\n        });\n        registry.registerCommand(FileNavigatorCommands.COLLAPSE_ALL, {\n            execute: widget => this.withWidget(widget, () => this.collapseFileNavigatorTree()),\n            isEnabled: widget => this.withWidget(widget, () => this.workspaceService.opened),\n            isVisible: widget => this.withWidget(widget, () => this.workspaceService.opened)\n        });\n        registry.registerCommand(FileNavigatorCommands.REFRESH_NAVIGATOR, {\n            execute: widget => this.withWidget(widget, () => this.refreshWorkspace()),\n            isEnabled: widget => this.withWidget(widget, () => this.workspaceService.opened),\n            isVisible: widget => this.withWidget(widget, () => this.workspaceService.opened)\n        });\n        registry.registerCommand(FileNavigatorCommands.ADD_ROOT_FOLDER, {\n            execute: (...args) => registry.executeCommand(WorkspaceCommands.ADD_FOLDER.id, ...args),\n            isEnabled: (...args) => registry.isEnabled(WorkspaceCommands.ADD_FOLDER.id, ...args),\n            isVisible: (...args) => {\n                if (!registry.isVisible(WorkspaceCommands.ADD_FOLDER.id, ...args)) {\n                    return false;\n                }\n                const navigator = this.tryGetWidget();\n                const selection = navigator?.model.getFocusedNode();\n                // The node that is selected when the user clicks in empty space.\n                const root = navigator?.getContainerTreeNode();\n                return selection === root;\n            }\n        });\n\n        registry.registerCommand(NavigatorDiffCommands.COMPARE_FIRST, {\n            execute: () => {\n                this.navigatorDiff.addFirstComparisonFile();\n            },\n            isEnabled: () => true,\n            isVisible: () => true\n        });\n        registry.registerCommand(NavigatorDiffCommands.COMPARE_SECOND, {\n            execute: () => {\n                this.navigatorDiff.compareFiles();\n            },\n            isEnabled: () => this.navigatorDiff.isFirstFileSelected,\n            isVisible: () => this.navigatorDiff.isFirstFileSelected\n        });\n        registry.registerCommand(FileNavigatorCommands.OPEN, {\n            isEnabled: () => this.getSelectedFileNodes().length > 0,\n            isVisible: () => this.getSelectedFileNodes().length > 0,\n            execute: () => {\n                this.getSelectedFileNodes().forEach(async node => {\n                    const opener = await this.openerService.getOpener(node.uri);\n                    opener.open(node.uri);\n                });\n            }\n        });\n        registry.registerCommand(FileNavigatorCommands.OPEN_WITH, UriAwareCommandHandler.MonoSelect(this.selectionService, {\n            isEnabled: uri => this.openWithService.getHandlers(uri).length > 0,\n            isVisible: uri => this.openWithService.getHandlers(uri).length > 0,\n            execute: uri => this.openWithService.openWith(uri)\n        }));\n        registry.registerCommand(OpenEditorsCommands.CLOSE_ALL_TABS_FROM_TOOLBAR, {\n            execute: widget => this.withOpenEditorsWidget(widget, () => this.shell.closeMany(this.editorWidgets)),\n            isEnabled: widget => this.withOpenEditorsWidget(widget, () => true),\n            isVisible: widget => this.withOpenEditorsWidget(widget, () => true)\n        });\n        registry.registerCommand(OpenEditorsCommands.SAVE_ALL_TABS_FROM_TOOLBAR, {\n            execute: widget => this.withOpenEditorsWidget(widget, () => registry.executeCommand(CommonCommands.SAVE_ALL.id)),\n            isEnabled: widget => this.withOpenEditorsWidget(widget, () => true),\n            isVisible: widget => this.withOpenEditorsWidget(widget, () => true)\n        });\n\n        const filterEditorWidgets = (title: Title<Widget>) => {\n            const { owner } = title;\n            return NavigatableWidget.is(owner);\n        };\n        registry.registerCommand(OpenEditorsCommands.CLOSE_ALL_EDITORS_IN_GROUP_FROM_ICON, {\n            execute: (tabBarOrArea: ApplicationShell.Area | TabBar<Widget>): void => {\n                this.shell.closeTabs(tabBarOrArea, filterEditorWidgets);\n            },\n            isVisible: () => false\n        });\n        registry.registerCommand(OpenEditorsCommands.SAVE_ALL_IN_GROUP_FROM_ICON, {\n            execute: (tabBarOrArea: ApplicationShell.Area | TabBar<Widget>) => {\n                this.shell.saveTabs(tabBarOrArea, filterEditorWidgets);\n            },\n            isVisible: () => false\n        });\n\n        registry.registerCommand(FileNavigatorCommands.NEW_FILE_TOOLBAR, {\n            execute: (...args) => registry.executeCommand(WorkspaceCommands.NEW_FILE.id, ...args),\n            isEnabled: widget => this.withWidget(widget, () => this.workspaceService.opened),\n            isVisible: widget => this.withWidget(widget, () => this.workspaceService.opened)\n        });\n        registry.registerCommand(FileNavigatorCommands.NEW_FOLDER_TOOLBAR, {\n            execute: (...args) => registry.executeCommand(WorkspaceCommands.NEW_FOLDER.id, ...args),\n            isEnabled: widget => this.withWidget(widget, () => this.workspaceService.opened),\n            isVisible: widget => this.withWidget(widget, () => this.workspaceService.opened)\n        });\n    }\n\n    protected get editorWidgets(): NavigatableWidget[] {\n        const openEditorsWidget = this.widgetManager.tryGetWidget<OpenEditorsWidget>(OpenEditorsWidget.ID);\n        return openEditorsWidget?.editorWidgets ?? [];\n    }\n\n    protected getSelectedFileNodes(): FileNode[] {\n        return this.tryGetWidget()?.model.selectedNodes.filter(FileNode.is) || [];\n    }\n\n    protected withWidget<T>(widget: Widget | undefined = this.tryGetWidget(), cb: (navigator: FileNavigatorWidget) => T): T | false {\n        if (widget instanceof FileNavigatorWidget && widget.id === FILE_NAVIGATOR_ID) {\n            return cb(widget);\n        }\n        return false;\n    }\n\n    protected withOpenEditorsWidget<T>(widget: Widget, cb: (navigator: OpenEditorsWidget) => T): T | false {\n        if (widget instanceof OpenEditorsWidget && widget.id === OpenEditorsWidget.ID) {\n            return cb(widget);\n        }\n        return false;\n    }\n\n    override registerMenus(registry: MenuModelRegistry): void {\n        super.registerMenus(registry);\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_REVEAL, {\n            commandId: FileNavigatorCommands.REVEAL_IN_NAVIGATOR.id,\n            label: FileNavigatorCommands.REVEAL_IN_NAVIGATOR.label,\n            order: '5'\n        });\n\n        registry.registerMenuAction(NavigatorContextMenu.NAVIGATION, {\n            commandId: FileNavigatorCommands.OPEN.id,\n            label: nls.localizeByDefault('Open')\n        });\n        registry.registerMenuAction(NavigatorContextMenu.NAVIGATION, {\n            commandId: FileNavigatorCommands.OPEN_WITH.id,\n            when: '!explorerResourceIsFolder',\n            label: nls.localizeByDefault('Open With...')\n        });\n\n        registry.registerMenuAction(NavigatorContextMenu.CLIPBOARD, {\n            commandId: CommonCommands.COPY.id,\n            order: 'a'\n        });\n        registry.registerMenuAction(NavigatorContextMenu.CLIPBOARD, {\n            commandId: CommonCommands.PASTE.id,\n            order: 'b'\n        });\n        registry.registerMenuAction(NavigatorContextMenu.CLIPBOARD, {\n            commandId: CommonCommands.COPY_PATH.id,\n            order: 'c'\n        });\n        registry.registerMenuAction(NavigatorContextMenu.CLIPBOARD, {\n            commandId: WorkspaceCommands.COPY_RELATIVE_FILE_PATH.id,\n            label: WorkspaceCommands.COPY_RELATIVE_FILE_PATH.label,\n            order: 'd'\n        });\n        registry.registerMenuAction(NavigatorContextMenu.CLIPBOARD, {\n            commandId: FileDownloadCommands.COPY_DOWNLOAD_LINK.id,\n            order: 'z'\n        });\n\n        registry.registerMenuAction(NavigatorContextMenu.MODIFICATION, {\n            commandId: WorkspaceCommands.FILE_RENAME.id\n        });\n        registry.registerMenuAction(NavigatorContextMenu.MODIFICATION, {\n            commandId: WorkspaceCommands.FILE_DELETE.id\n        });\n        registry.registerMenuAction(NavigatorContextMenu.MODIFICATION, {\n            commandId: WorkspaceCommands.FILE_DUPLICATE.id\n        });\n\n        const downloadUploadMenu = [...NAVIGATOR_CONTEXT_MENU, '6_downloadupload'];\n        registry.registerMenuAction(downloadUploadMenu, {\n            commandId: FileSystemCommands.UPLOAD.id,\n            order: 'a'\n        });\n        registry.registerMenuAction(downloadUploadMenu, {\n            commandId: FileDownloadCommands.DOWNLOAD.id,\n            order: 'b'\n        });\n\n        registry.registerMenuAction(NavigatorContextMenu.NAVIGATION, {\n            commandId: WorkspaceCommands.NEW_FILE.id,\n            when: 'explorerResourceIsFolder'\n        });\n        registry.registerMenuAction(NavigatorContextMenu.NAVIGATION, {\n            commandId: WorkspaceCommands.NEW_FOLDER.id,\n            when: 'explorerResourceIsFolder'\n        });\n        registry.registerMenuAction(NavigatorContextMenu.COMPARE, {\n            commandId: WorkspaceCommands.FILE_COMPARE.id\n        });\n        registry.registerMenuAction(NavigatorContextMenu.MODIFICATION, {\n            commandId: FileNavigatorCommands.COLLAPSE_ALL.id,\n            label: nls.localizeByDefault('Collapse All'),\n            order: 'z2'\n        });\n\n        registry.registerMenuAction(NavigatorContextMenu.COMPARE, {\n            commandId: NavigatorDiffCommands.COMPARE_FIRST.id,\n            order: 'za'\n        });\n        registry.registerMenuAction(NavigatorContextMenu.COMPARE, {\n            commandId: NavigatorDiffCommands.COMPARE_SECOND.id,\n            order: 'zb'\n        });\n\n        // Open Editors Widget Menu Items\n        registry.registerMenuAction(OpenEditorsContextMenu.CLIPBOARD, {\n            commandId: CommonCommands.COPY_PATH.id,\n            order: 'a'\n        });\n        registry.registerMenuAction(OpenEditorsContextMenu.CLIPBOARD, {\n            commandId: WorkspaceCommands.COPY_RELATIVE_FILE_PATH.id,\n            order: 'b'\n        });\n        registry.registerMenuAction(OpenEditorsContextMenu.SAVE, {\n            commandId: CommonCommands.SAVE.id,\n            order: 'a'\n        });\n\n        registry.registerMenuAction(OpenEditorsContextMenu.COMPARE, {\n            commandId: NavigatorDiffCommands.COMPARE_FIRST.id,\n            order: 'a'\n        });\n        registry.registerMenuAction(OpenEditorsContextMenu.COMPARE, {\n            commandId: NavigatorDiffCommands.COMPARE_SECOND.id,\n            order: 'b'\n        });\n\n        registry.registerMenuAction(OpenEditorsContextMenu.MODIFICATION, {\n            commandId: CommonCommands.CLOSE_TAB.id,\n            label: nls.localizeByDefault('Close'),\n            order: 'a'\n        });\n        registry.registerMenuAction(OpenEditorsContextMenu.MODIFICATION, {\n            commandId: CommonCommands.CLOSE_OTHER_TABS.id,\n            label: nls.localizeByDefault('Close Others'),\n            order: 'b'\n        });\n        registry.registerMenuAction(OpenEditorsContextMenu.MODIFICATION, {\n            commandId: CommonCommands.CLOSE_ALL_MAIN_TABS.id,\n            label: nls.localizeByDefault('Close All'),\n            order: 'c'\n        });\n\n        registry.registerMenuAction(NavigatorContextMenu.WORKSPACE, {\n            commandId: FileNavigatorCommands.ADD_ROOT_FOLDER.id,\n            label: WorkspaceCommands.ADD_FOLDER.label\n        });\n        registry.registerMenuAction(NavigatorContextMenu.WORKSPACE, {\n            commandId: WorkspaceCommands.REMOVE_FOLDER.id\n        });\n    }\n\n    override registerKeybindings(registry: KeybindingRegistry): void {\n        super.registerKeybindings(registry);\n        registry.registerKeybinding({\n            command: FileNavigatorCommands.REVEAL_IN_NAVIGATOR.id,\n            keybinding: 'alt+r'\n        });\n\n        registry.registerKeybinding({\n            command: WorkspaceCommands.FILE_DELETE.id,\n            keybinding: isOSX ? 'cmd+backspace' : 'del',\n            when: 'filesExplorerFocus'\n        });\n\n        registry.registerKeybinding({\n            command: WorkspaceCommands.FILE_RENAME.id,\n            keybinding: 'f2',\n            when: 'filesExplorerFocus'\n        });\n\n        registry.registerKeybinding({\n            command: FileNavigatorCommands.TOGGLE_HIDDEN_FILES.id,\n            keybinding: 'ctrlcmd+i',\n            when: 'filesExplorerFocus'\n        });\n    }\n\n    async registerToolbarItems(toolbarRegistry: TabBarToolbarRegistry): Promise<void> {\n        toolbarRegistry.registerItem({\n            id: FileNavigatorCommands.NEW_FILE_TOOLBAR.id,\n            command: FileNavigatorCommands.NEW_FILE_TOOLBAR.id,\n            tooltip: nls.localizeByDefault('New File...'),\n            priority: 0,\n        });\n        toolbarRegistry.registerItem({\n            id: FileNavigatorCommands.NEW_FOLDER_TOOLBAR.id,\n            command: FileNavigatorCommands.NEW_FOLDER_TOOLBAR.id,\n            tooltip: nls.localizeByDefault('New Folder...'),\n            priority: 1,\n        });\n        toolbarRegistry.registerItem({\n            id: FileNavigatorCommands.REFRESH_NAVIGATOR.id,\n            command: FileNavigatorCommands.REFRESH_NAVIGATOR.id,\n            tooltip: nls.localizeByDefault('Refresh Explorer'),\n            priority: 2,\n        });\n        toolbarRegistry.registerItem({\n            id: FileNavigatorCommands.COLLAPSE_ALL.id,\n            command: FileNavigatorCommands.COLLAPSE_ALL.id,\n            tooltip: nls.localizeByDefault('Collapse All'),\n            priority: 3,\n        });\n\n        // More (...) toolbar items.\n        this.registerMoreToolbarItem({\n            id: FileNavigatorCommands.TOGGLE_AUTO_REVEAL.id,\n            command: FileNavigatorCommands.TOGGLE_AUTO_REVEAL.id,\n            tooltip: FileNavigatorCommands.TOGGLE_AUTO_REVEAL.label,\n            group: NavigatorMoreToolbarGroups.TOOLS,\n        });\n        this.registerMoreToolbarItem({\n            id: WorkspaceCommands.ADD_FOLDER.id,\n            command: WorkspaceCommands.ADD_FOLDER.id,\n            tooltip: WorkspaceCommands.ADD_FOLDER.label,\n            group: NavigatorMoreToolbarGroups.WORKSPACE,\n        });\n\n        // Open Editors toolbar items.\n        toolbarRegistry.registerItem({\n            id: OpenEditorsCommands.SAVE_ALL_TABS_FROM_TOOLBAR.id,\n            command: OpenEditorsCommands.SAVE_ALL_TABS_FROM_TOOLBAR.id,\n            tooltip: OpenEditorsCommands.SAVE_ALL_TABS_FROM_TOOLBAR.label,\n            priority: 0,\n        });\n        toolbarRegistry.registerItem({\n            id: OpenEditorsCommands.CLOSE_ALL_TABS_FROM_TOOLBAR.id,\n            command: OpenEditorsCommands.CLOSE_ALL_TABS_FROM_TOOLBAR.id,\n            tooltip: OpenEditorsCommands.CLOSE_ALL_TABS_FROM_TOOLBAR.label,\n            priority: 1,\n        });\n    }\n\n    /**\n     * Register commands to the `More Actions...` navigator toolbar item.\n     */\n    public registerMoreToolbarItem = (item: Mutable<RenderedToolbarItem> & { command: string }) => {\n        const commandId = item.command;\n        const id = 'navigator.tabbar.toolbar.' + commandId;\n        const command = this.commandRegistry.getCommand(commandId);\n        this.commandRegistry.registerCommand({ id, iconClass: command && command.iconClass }, {\n            execute: (w, ...args) => w instanceof FileNavigatorWidget\n                && this.commandRegistry.executeCommand(commandId, ...args),\n            isEnabled: (w, ...args) => w instanceof FileNavigatorWidget\n                && this.commandRegistry.isEnabled(commandId, ...args),\n            isVisible: (w, ...args) => w instanceof FileNavigatorWidget\n                && this.commandRegistry.isVisible(commandId, ...args),\n            isToggled: (w, ...args) => w instanceof FileNavigatorWidget\n                && this.commandRegistry.isToggled(commandId, ...args),\n        });\n        item.command = id;\n        this.tabbarToolbarRegistry.registerItem(item);\n    };\n\n    /**\n     * Reveals and selects node in the file navigator to which given widget is related.\n     * Does nothing if given widget undefined or doesn't have related resource.\n     *\n     * @param widget widget file resource of which should be revealed and selected\n     */\n    async selectWidgetFileNode(widget: Widget | undefined): Promise<boolean> {\n        return this.selectFileNode(NavigatableWidget.getUri(widget));\n    }\n\n    async selectFileNode(uri?: URI): Promise<boolean> {\n        if (uri) {\n            const { model } = await this.widget;\n            const node = await model.revealFile(uri);\n            if (SelectableTreeNode.is(node)) {\n                model.selectNode(node);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    protected onCurrentWidgetChangedHandler(): void {\n        if (this.fileNavigatorPreferences['explorer.autoReveal']) {\n            this.selectWidgetFileNode(this.shell.currentWidget);\n        }\n    }\n\n    /**\n     * Collapse file navigator nodes and set focus on first visible node\n     * - single root workspace: collapse all nodes except root\n     * - multiple root workspace: collapse all nodes, even roots\n     */\n    async collapseFileNavigatorTree(): Promise<void> {\n        const { model } = await this.widget;\n\n        // collapse all child nodes which are not the root (single root workspace)\n        // collapse all root nodes (multiple root workspace)\n        let root = model.root as CompositeTreeNode;\n        if (WorkspaceNode.is(root) && root.children.length === 1) {\n            root = root.children[0];\n        }\n        root.children.forEach(child => CompositeTreeNode.is(child) && model.collapseAll(child));\n\n        // select first visible node\n        const firstChild = WorkspaceNode.is(root) ? root.children[0] : root;\n        if (SelectableTreeNode.is(firstChild)) {\n            model.selectNode(firstChild);\n        }\n    }\n\n    /**\n     * force refresh workspace in navigator\n     */\n    async refreshWorkspace(): Promise<void> {\n        const { model } = await this.widget;\n        await model.refresh();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 David Saunders and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { SelectionService, UriSelection } from '@theia/core/lib/common';\nimport { OpenerService, open } from '@theia/core/lib/browser/opener-service';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { Command } from '@theia/core/lib/common/command';\nimport { DiffUris } from '@theia/core/lib/browser/diff-uris';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { FileOperationError, FileOperationResult } from '@theia/filesystem/lib/common/files';\n\nexport namespace NavigatorDiffCommands {\n    const COMPARE_CATEGORY = 'Compare';\n    export const COMPARE_FIRST = Command.toDefaultLocalizedCommand({\n        id: 'compare:first',\n        category: COMPARE_CATEGORY,\n        label: 'Select for Compare'\n    });\n    export const COMPARE_SECOND = Command.toDefaultLocalizedCommand({\n        id: 'compare:second',\n        category: COMPARE_CATEGORY,\n        label: 'Compare with Selected'\n    });\n}\n\n@injectable()\nexport class NavigatorDiff {\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(OpenerService)\n    protected openerService: OpenerService;\n\n    @inject(MessageService)\n    protected readonly notifications: MessageService;\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    constructor(\n    ) {\n    }\n\n    protected _firstCompareFile: URI | undefined = undefined;\n    protected get firstCompareFile(): URI | undefined {\n        return this._firstCompareFile;\n    }\n    protected set firstCompareFile(uri: URI | undefined) {\n        this._firstCompareFile = uri;\n        this._isFirstFileSelected = true;\n    }\n\n    protected _isFirstFileSelected: boolean;\n    get isFirstFileSelected(): boolean {\n        return this._isFirstFileSelected;\n    }\n\n    protected async isDirectory(uri: URI): Promise<boolean> {\n        try {\n            const stat = await this.fileService.resolve(uri);\n            return stat.isDirectory;\n        } catch (e) {\n            if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_NOT_FOUND) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    protected async getURISelection(): Promise<URI | undefined> {\n        const uri = UriSelection.getUri(this.selectionService.selection);\n        if (!uri) {\n            return undefined;\n        }\n\n        if (await this.isDirectory(uri)) {\n            return undefined;\n        }\n\n        return uri;\n    }\n\n    /**\n     * Adds the initial file for comparison\n     * @see SelectionService\n     * @see compareFiles\n     * @returns Promise<boolean> indicating whether the uri is valid\n     */\n    async addFirstComparisonFile(): Promise<boolean> {\n        const uriSelected = await this.getURISelection();\n\n        if (uriSelected === undefined) {\n            return false;\n        }\n\n        this.firstCompareFile = uriSelected;\n\n        return true;\n    }\n\n    /**\n     * Compare selected files.  First file is selected through addFirstComparisonFile\n     * @see SelectionService\n     * @see addFirstComparisonFile\n     * @returns Promise<boolean> indicating whether the comparison was completed successfully\n     */\n    async compareFiles(): Promise<boolean> {\n        const uriSelected = await this.getURISelection();\n\n        if (this.firstCompareFile === undefined || uriSelected === undefined) {\n            return false;\n        }\n        const diffUri = DiffUris.encode(this.firstCompareFile, uriSelected);\n\n        open(this.openerService, diffUri).catch(e => {\n            this.notifications.error(e.message);\n        });\n        return true;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { Minimatch } from 'minimatch';\nimport { MaybePromise } from '@theia/core/lib/common/types';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport { PreferenceChangeEvent } from '@theia/core/lib/browser/preferences';\nimport { FileSystemPreferences, FileSystemConfiguration } from '@theia/filesystem/lib/browser/filesystem-preferences';\nimport { FileNavigatorPreferences, FileNavigatorConfiguration } from './navigator-preferences';\n\n/**\n * Filter for omitting elements from the navigator. For more details on the exclusion patterns,\n * one should check either the manual with `man 5 gitignore` or just [here](https://git-scm.com/docs/gitignore).\n */\n@injectable()\nexport class FileNavigatorFilter {\n    protected readonly emitter: Emitter<void> = new Emitter<void>();\n\n    protected filterPredicate: FileNavigatorFilter.Predicate;\n    protected showHiddenFiles: boolean;\n\n    @inject(FileSystemPreferences)\n    protected readonly filesPreferences: FileSystemPreferences;\n\n    constructor(\n        @inject(FileNavigatorPreferences) protected readonly preferences: FileNavigatorPreferences\n    ) { }\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        this.filterPredicate = this.createFilterPredicate(this.filesPreferences['files.exclude']);\n        this.filesPreferences.onPreferenceChanged(event => this.onFilesPreferenceChanged(event));\n        this.preferences.onPreferenceChanged(event => this.onPreferenceChanged(event));\n    }\n\n    async filter<T extends { id: string }>(items: MaybePromise<T[]>): Promise<T[]> {\n        return (await items).filter(item => this.filterItem(item));\n    }\n\n    get onFilterChanged(): Event<void> {\n        return this.emitter.event;\n    }\n\n    protected filterItem(item: { id: string }): boolean {\n        return this.filterPredicate.filter(item);\n    }\n\n    protected fireFilterChanged(): void {\n        this.emitter.fire(undefined);\n    }\n\n    protected onFilesPreferenceChanged(event: PreferenceChangeEvent<FileSystemConfiguration>): void {\n        const { preferenceName, newValue } = event;\n        if (preferenceName === 'files.exclude') {\n            this.filterPredicate = this.createFilterPredicate(newValue as FileNavigatorFilter.Exclusions | undefined || {});\n            this.fireFilterChanged();\n        }\n    }\n\n    protected onPreferenceChanged(event: PreferenceChangeEvent<FileNavigatorConfiguration>): void {\n    }\n\n    protected createFilterPredicate(exclusions: FileNavigatorFilter.Exclusions): FileNavigatorFilter.Predicate {\n        return new FileNavigatorFilterPredicate(this.interceptExclusions(exclusions));\n    }\n\n    toggleHiddenFiles(): void {\n        this.showHiddenFiles = !this.showHiddenFiles;\n        const filesExcludes = this.filesPreferences['files.exclude'];\n\n        this.filterPredicate = this.createFilterPredicate(filesExcludes || {});\n        this.fireFilterChanged();\n    }\n\n    protected interceptExclusions(exclusions: FileNavigatorFilter.Exclusions): FileNavigatorFilter.Exclusions {\n        return {\n            ...exclusions,\n            '**/.*': this.showHiddenFiles\n        };\n    }\n\n}\n\nexport namespace FileNavigatorFilter {\n\n    /**\n     * File navigator filter predicate.\n     */\n    export interface Predicate {\n\n        /**\n         * Returns `true` if the item should filtered our from the navigator. Otherwise, `true`.\n         *\n         * @param item the identifier of a tree node.\n         */\n        filter(item: { id: string }): boolean;\n\n    }\n\n    export namespace Predicate {\n\n        /**\n         * Wraps a bunch of predicates and returns with a new one that evaluates to `true` if\n         * each of the wrapped predicates evaluates to `true`. Otherwise, `false`.\n         */\n        export function and(...predicates: Predicate[]): Predicate {\n            return {\n                filter: id => predicates.every(predicate => predicate.filter(id))\n            };\n        }\n\n    }\n\n    /**\n     * Type for the exclusion patterns. The property keys are the patterns, values are whether the exclusion is enabled or not.\n     */\n    export interface Exclusions {\n        [key: string]: boolean;\n    }\n\n}\n\n/**\n * Concrete filter navigator filter predicate that is decoupled from the preferences.\n */\nexport class FileNavigatorFilterPredicate implements FileNavigatorFilter.Predicate {\n\n    private readonly delegate: FileNavigatorFilter.Predicate;\n\n    constructor(exclusions: FileNavigatorFilter.Exclusions) {\n        const patterns = Object.keys(exclusions).map(pattern => ({ pattern, enabled: exclusions[pattern] })).filter(object => object.enabled).map(object => object.pattern);\n        this.delegate = FileNavigatorFilter.Predicate.and(...patterns.map(pattern => this.createDelegate(pattern)));\n    }\n\n    filter(item: { id: string }): boolean {\n        return this.delegate.filter(item);\n    }\n\n    protected createDelegate(pattern: string): FileNavigatorFilter.Predicate {\n        const delegate = new Minimatch(pattern, { matchBase: true });\n        return {\n            filter: item => !delegate.match(item.id)\n        };\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { FileNode, FileTreeModel } from '@theia/filesystem/lib/browser';\nimport { OpenerService, open, TreeNode, ExpandableTreeNode, CompositeTreeNode, SelectableTreeNode } from '@theia/core/lib/browser';\nimport { FileNavigatorTree, WorkspaceRootNode, WorkspaceNode } from './navigator-tree';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { FrontendApplicationStateService } from '@theia/core/lib/browser/frontend-application-state';\nimport { ProgressService } from '@theia/core/lib/common/progress-service';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { Disposable } from '@theia/core/lib/common/disposable';\n\n@injectable()\nexport class FileNavigatorModel extends FileTreeModel {\n\n    @inject(OpenerService) protected readonly openerService: OpenerService;\n    @inject(FileNavigatorTree) protected override readonly tree: FileNavigatorTree;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n    @inject(FrontendApplicationStateService) protected readonly applicationState: FrontendApplicationStateService;\n\n    @inject(ProgressService)\n    protected readonly progressService: ProgressService;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.reportBusyProgress();\n        this.initializeRoot();\n    }\n\n    protected readonly pendingBusyProgress = new Map<string, Deferred<void>>();\n    protected reportBusyProgress(): void {\n        this.toDispose.push(this.onDidChangeBusy(node => {\n            const pending = this.pendingBusyProgress.get(node.id);\n            if (pending) {\n                if (!node.busy) {\n                    pending.resolve();\n                    this.pendingBusyProgress.delete(node.id);\n                }\n                return;\n            }\n            if (node.busy) {\n                const progress = new Deferred<void>();\n                this.pendingBusyProgress.set(node.id, progress);\n                this.progressService.withProgress('', 'explorer', () => progress.promise);\n            }\n        }));\n        this.toDispose.push(Disposable.create(() => {\n            for (const pending of this.pendingBusyProgress.values()) {\n                pending.resolve();\n            }\n            this.pendingBusyProgress.clear();\n        }));\n    }\n\n    protected async initializeRoot(): Promise<void> {\n        await Promise.all([\n            this.applicationState.reachedState('initialized_layout'),\n            this.workspaceService.roots\n        ]);\n        await this.updateRoot();\n        if (this.toDispose.disposed) {\n            return;\n        }\n        this.toDispose.push(this.workspaceService.onWorkspaceChanged(() => this.updateRoot()));\n        this.toDispose.push(this.workspaceService.onWorkspaceLocationChanged(() => this.updateRoot()));\n        if (this.selectedNodes.length) {\n            return;\n        }\n        const root = this.root;\n        if (CompositeTreeNode.is(root) && root.children.length === 1) {\n            const child = root.children[0];\n            if (SelectableTreeNode.is(child) && !child.selected && ExpandableTreeNode.is(child)) {\n                this.selectNode(child);\n                this.expandNode(child);\n            }\n        }\n    }\n\n    previewNode(node: TreeNode): void {\n        if (FileNode.is(node)) {\n            open(this.openerService, node.uri, { mode: 'reveal', preview: true });\n        }\n    }\n\n    protected override doOpenNode(node: TreeNode): void {\n        if (node.visible === false) {\n            return;\n        } else if (FileNode.is(node)) {\n            open(this.openerService, node.uri);\n        } else {\n            super.doOpenNode(node);\n        }\n    }\n\n    override *getNodesByUri(uri: URI): IterableIterator<TreeNode> {\n        const workspace = this.root;\n        if (WorkspaceNode.is(workspace)) {\n            for (const root of workspace.children) {\n                const id = this.tree.createId(root, uri);\n                const node = this.getNode(id);\n                if (node) {\n                    yield node;\n                }\n            }\n        }\n    }\n\n    protected async updateRoot(): Promise<void> {\n        this.root = await this.createRoot();\n    }\n\n    protected async createRoot(): Promise<TreeNode | undefined> {\n        if (this.workspaceService.opened) {\n            const stat = this.workspaceService.workspace;\n            const isMulti = (stat) ? !stat.isDirectory : false;\n            const workspaceNode = isMulti\n                ? this.createMultipleRootNode()\n                : WorkspaceNode.createRoot();\n            const roots = await this.workspaceService.roots;\n            for (const root of roots) {\n                workspaceNode.children.push(\n                    await this.tree.createWorkspaceRoot(root, workspaceNode)\n                );\n            }\n            return workspaceNode;\n        }\n    }\n\n    /**\n     * Create multiple root node used to display\n     * the multiple root workspace name.\n     *\n     * @returns `WorkspaceNode`\n     */\n    protected createMultipleRootNode(): WorkspaceNode {\n        const workspace = this.workspaceService.workspace;\n        let name = workspace\n            ? workspace.resource.path.name\n            : 'untitled';\n        name += ' (Workspace)';\n        return WorkspaceNode.createRoot(name);\n    }\n\n    /**\n     * Move the given source file or directory to the given target directory.\n     */\n    override async move(source: TreeNode, target: TreeNode): Promise<URI | undefined> {\n        if (source.parent && WorkspaceRootNode.is(source)) {\n            // do not support moving a root folder\n            return undefined;\n        }\n        return super.move(source, target);\n    }\n\n    /**\n     * Reveals node in the navigator by given file uri.\n     *\n     * @param uri uri to file which should be revealed in the navigator\n     * @returns file tree node if the file with given uri was revealed, undefined otherwise\n     */\n    async revealFile(uri: URI): Promise<TreeNode | undefined> {\n        if (!uri.path.isAbsolute) {\n            return undefined;\n        }\n        let node = this.getNodeClosestToRootByUri(uri);\n\n        // success stop condition\n        // we have to reach workspace root because expanded node could be inside collapsed one\n        if (WorkspaceRootNode.is(node)) {\n            if (ExpandableTreeNode.is(node)) {\n                if (!node.expanded) {\n                    node = await this.expandNode(node);\n                }\n                return node;\n            }\n            // shouldn't happen, root node is always directory, i.e. expandable\n            return undefined;\n        }\n\n        // fail stop condition\n        if (uri.path.isRoot) {\n            // file system root is reached but workspace root wasn't found, it means that\n            // given uri is not in workspace root folder or points to not existing file.\n            return undefined;\n        }\n\n        if (await this.revealFile(uri.parent)) {\n            if (node === undefined) {\n                // get node if it wasn't mounted into navigator tree before expansion\n                node = this.getNodeClosestToRootByUri(uri);\n            }\n            if (ExpandableTreeNode.is(node) && !node.expanded) {\n                node = await this.expandNode(node);\n            }\n            return node;\n        }\n        return undefined;\n    }\n\n    protected getNodeClosestToRootByUri(uri: URI): TreeNode | undefined {\n        const nodes = [...this.getNodesByUri(uri)];\n        return nodes.length > 0\n            ? nodes.reduce((node1, node2) => // return the node closest to the workspace root\n                node1.id.length >= node2.id.length ? node1 : node2\n            ) : undefined;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { createPreferenceProxy, PreferenceProxy, PreferenceService, PreferenceContribution, PreferenceSchema } from '@theia/core/lib/browser';\nimport { nls } from '@theia/core/lib/common/nls';\n\nexport const EXPLORER_COMPACT_FOLDERS = 'explorer.compactFolders';\n\nexport const FileNavigatorConfigSchema: PreferenceSchema = {\n    'type': 'object',\n    properties: {\n        'explorer.autoReveal': {\n            type: 'boolean',\n            description: nls.localizeByDefault('Controls whether the Explorer should automatically reveal and select files when opening them.'),\n            default: true\n        },\n        'explorer.decorations.colors': {\n            type: 'boolean',\n            description: nls.localizeByDefault('Controls whether file decorations should use colors.'),\n            default: true\n        },\n        [EXPLORER_COMPACT_FOLDERS]: {\n            type: 'boolean',\n            // eslint-disable-next-line max-len\n            description: nls.localizeByDefault('Controls whether the Explorer should render folders in a compact form. In such a form, single child folders will be compressed in a combined tree element. Useful for Java package structures, for example.'),\n            default: true,\n        }\n    },\n};\n\nexport interface FileNavigatorConfiguration {\n    'explorer.autoReveal': boolean;\n    'explorer.decorations.colors': boolean;\n    [EXPLORER_COMPACT_FOLDERS]: boolean;\n}\n\nexport const FileNavigatorPreferenceContribution = Symbol('FileNavigatorPreferenceContribution');\nexport const FileNavigatorPreferences = Symbol('NavigatorPreferences');\nexport type FileNavigatorPreferences = PreferenceProxy<FileNavigatorConfiguration>;\n\nexport function createNavigatorPreferences(preferences: PreferenceService, schema: PreferenceSchema = FileNavigatorConfigSchema): FileNavigatorPreferences {\n    return createPreferenceProxy(preferences, schema);\n}\n\nexport function bindFileNavigatorPreferences(bind: interfaces.Bind): void {\n    bind(FileNavigatorPreferences).toDynamicValue(ctx => {\n        const preferences = ctx.container.get<PreferenceService>(PreferenceService);\n        const contribution = ctx.container.get<PreferenceContribution>(FileNavigatorPreferenceContribution);\n        return createNavigatorPreferences(preferences, contribution.schema);\n    }).inSingletonScope();\n    bind(FileNavigatorPreferenceContribution).toConstantValue({ schema: FileNavigatorConfigSchema });\n    bind(PreferenceContribution).toService(FileNavigatorPreferenceContribution);\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { FileTree, DirNode } from '@theia/filesystem/lib/browser';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\nimport URI from '@theia/core/lib/common/uri';\nimport { TreeNode, CompositeTreeNode, SelectableTreeNode, CompressionToggle } from '@theia/core/lib/browser';\nimport { FileNavigatorFilter } from './navigator-filter';\nimport { EXPLORER_COMPACT_FOLDERS, FileNavigatorPreferences } from './navigator-preferences';\n\n@injectable()\nexport class FileNavigatorTree extends FileTree {\n\n    @inject(FileNavigatorFilter) protected readonly filter: FileNavigatorFilter;\n\n    @inject(FileNavigatorPreferences) protected readonly navigatorPreferences: FileNavigatorPreferences;\n\n    @inject(CompressionToggle) protected readonly compressionToggle: CompressionToggle;\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(this.filter.onFilterChanged(() => this.refresh()));\n        this.navigatorPreferences.ready.then(() => this.toggleCompression());\n        this.toDispose.push(this.navigatorPreferences.onPreferenceChanged(({ preferenceName }) => {\n            if (preferenceName === EXPLORER_COMPACT_FOLDERS) {\n                this.toggleCompression();\n            }\n        }));\n    }\n\n    protected toggleCompression(): void {\n        this.compressionToggle.compress = this.navigatorPreferences.get(EXPLORER_COMPACT_FOLDERS, true);\n        this.refresh();\n    }\n\n    override async resolveChildren(parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (WorkspaceNode.is(parent)) {\n            return parent.children;\n        }\n        return this.filter.filter(super.resolveChildren(parent));\n    }\n\n    protected override toNodeId(uri: URI, parent: CompositeTreeNode): string {\n        const workspaceRootNode = WorkspaceRootNode.find(parent);\n        if (workspaceRootNode) {\n            return this.createId(workspaceRootNode, uri);\n        }\n        return super.toNodeId(uri, parent);\n    }\n    createId(root: WorkspaceRootNode, uri: URI): string {\n        const id = super.toNodeId(uri, root);\n        return id === root.id ? id : `${root.id}:${id}`;\n    }\n\n    async createWorkspaceRoot(rootFolder: FileStat, workspaceNode: WorkspaceNode): Promise<WorkspaceRootNode> {\n        const node = this.toNode(rootFolder, workspaceNode) as WorkspaceRootNode;\n        Object.assign(node, {\n            visible: workspaceNode.name !== WorkspaceNode.name,\n        });\n        return node;\n    }\n}\n\n/**\n * File tree root node for multi-root workspaces.\n */\nexport interface WorkspaceNode extends CompositeTreeNode, SelectableTreeNode {\n    children: WorkspaceRootNode[];\n}\nexport namespace WorkspaceNode {\n\n    export const id = 'WorkspaceNodeId';\n    export const name = 'WorkspaceNode';\n\n    export function is(node: TreeNode | undefined): node is WorkspaceNode {\n        return CompositeTreeNode.is(node) && node.id === WorkspaceNode.id;\n    }\n\n    /**\n     * Create a `WorkspaceNode` that can be used as a `Tree` root.\n     */\n    export function createRoot(multiRootName?: string): WorkspaceNode {\n        return {\n            id: WorkspaceNode.id,\n            name: multiRootName || WorkspaceNode.name,\n            parent: undefined,\n            children: [],\n            visible: false,\n            selected: false\n        };\n    }\n}\n\n/**\n * A node representing a folder from a multi-root workspace.\n */\nexport interface WorkspaceRootNode extends DirNode {\n    parent: WorkspaceNode;\n}\nexport namespace WorkspaceRootNode {\n\n    export function is(node: unknown): node is WorkspaceRootNode {\n        return DirNode.is(node) && WorkspaceNode.is(node.parent);\n    }\n\n    export function find(node: TreeNode | undefined): WorkspaceRootNode | undefined {\n        if (node) {\n            if (is(node)) {\n                return node;\n            }\n            return find(node.parent);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport {\n    codicon,\n    ViewContainer,\n    ViewContainerTitleOptions,\n    WidgetFactory,\n    WidgetManager\n} from '@theia/core/lib/browser';\nimport { FILE_NAVIGATOR_ID } from './navigator-widget';\nimport { OpenEditorsWidget } from './open-editors-widget/navigator-open-editors-widget';\nimport { nls } from '@theia/core/lib/common/nls';\n\nexport const EXPLORER_VIEW_CONTAINER_ID = 'explorer-view-container';\nexport const EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS: ViewContainerTitleOptions = {\n    label: nls.localizeByDefault('Explorer'),\n    iconClass: codicon('files'),\n    closeable: true\n};\n\n@injectable()\nexport class NavigatorWidgetFactory implements WidgetFactory {\n\n    static ID = EXPLORER_VIEW_CONTAINER_ID;\n\n    readonly id = NavigatorWidgetFactory.ID;\n\n    protected openEditorsWidgetOptions: ViewContainer.Factory.WidgetOptions = {\n        order: 0,\n        canHide: true,\n        initiallyCollapsed: true,\n        // this property currently has no effect (https://github.com/eclipse-theia/theia/issues/7755)\n        weight: 20\n    };\n\n    protected fileNavigatorWidgetOptions: ViewContainer.Factory.WidgetOptions = {\n        order: 1,\n        canHide: false,\n        initiallyCollapsed: false,\n        weight: 80,\n        disableDraggingToOtherContainers: true\n    };\n\n    @inject(ViewContainer.Factory)\n    protected readonly viewContainerFactory: ViewContainer.Factory;\n    @inject(WidgetManager) protected readonly widgetManager: WidgetManager;\n\n    async createWidget(): Promise<ViewContainer> {\n        const viewContainer = this.viewContainerFactory({\n            id: EXPLORER_VIEW_CONTAINER_ID,\n            progressLocationId: 'explorer'\n        });\n        viewContainer.setTitleOptions(EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS);\n        const openEditorsWidget = await this.widgetManager.getOrCreateWidget(OpenEditorsWidget.ID);\n        const navigatorWidget = await this.widgetManager.getOrCreateWidget(FILE_NAVIGATOR_ID);\n        viewContainer.addWidget(navigatorWidget, this.fileNavigatorWidgetOptions);\n        viewContainer.addWidget(openEditorsWidget, this.openEditorsWidgetOptions);\n        return viewContainer;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { Message } from '@theia/core/shared/@lumino/messaging';\nimport URI from '@theia/core/lib/common/uri';\nimport { CommandService } from '@theia/core/lib/common';\nimport { Key, TreeModel, ContextMenuRenderer, ExpandableTreeNode, TreeProps, TreeNode } from '@theia/core/lib/browser';\nimport { DirNode, FileStatNodeData } from '@theia/filesystem/lib/browser';\nimport { WorkspaceService, WorkspaceCommands } from '@theia/workspace/lib/browser';\nimport { WorkspaceNode, WorkspaceRootNode } from './navigator-tree';\nimport { FileNavigatorModel } from './navigator-model';\nimport { isOSX, environment } from '@theia/core';\nimport * as React from '@theia/core/shared/react';\nimport { NavigatorContextKeyService } from './navigator-context-key-service';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { AbstractNavigatorTreeWidget } from './abstract-navigator-tree-widget';\n\nexport const FILE_NAVIGATOR_ID = 'files';\nexport const LABEL = nls.localizeByDefault('No Folder Opened');\nexport const CLASS = 'theia-Files';\n\n@injectable()\nexport class FileNavigatorWidget extends AbstractNavigatorTreeWidget {\n\n    @inject(CommandService) protected readonly commandService: CommandService;\n    @inject(NavigatorContextKeyService) protected readonly contextKeyService: NavigatorContextKeyService;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n\n    constructor(\n        @inject(TreeProps) props: TreeProps,\n        @inject(FileNavigatorModel) override readonly model: FileNavigatorModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer,\n    ) {\n        super(props, model, contextMenuRenderer);\n        this.id = FILE_NAVIGATOR_ID;\n        this.addClass(CLASS);\n    }\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        // This ensures that the context menu command to hide this widget receives the label 'Folders'\n        // regardless of the name of workspace. See ViewContainer.updateToolbarItems.\n        const dataset = { ...this.title.dataset, visibilityCommandLabel: nls.localizeByDefault('Folders') };\n        this.title.dataset = dataset;\n        this.updateSelectionContextKeys();\n        this.toDispose.pushAll([\n            this.model.onSelectionChanged(() =>\n                this.updateSelectionContextKeys()\n            ),\n            this.model.onExpansionChanged(node => {\n                if (node.expanded && node.children.length === 1) {\n                    const child = node.children[0];\n                    if (ExpandableTreeNode.is(child) && !child.expanded) {\n                        this.model.expandNode(child);\n                    }\n                }\n\n            })\n        ]);\n    }\n\n    protected override doUpdateRows(): void {\n        super.doUpdateRows();\n        this.title.label = LABEL;\n        if (WorkspaceNode.is(this.model.root)) {\n            if (this.model.root.name === WorkspaceNode.name) {\n                const rootNode = this.model.root.children[0];\n                if (WorkspaceRootNode.is(rootNode)) {\n                    this.title.label = this.toNodeName(rootNode);\n                    this.title.caption = this.labelProvider.getLongName(rootNode.uri);\n                }\n            } else {\n                this.title.label = this.toNodeName(this.model.root);\n                this.title.caption = this.title.label;\n            }\n        } else {\n            this.title.caption = this.title.label;\n        }\n    }\n\n    override getContainerTreeNode(): TreeNode | undefined {\n        const root = this.model.root;\n        if (this.workspaceService.isMultiRootWorkspaceOpened) {\n            return root;\n        }\n        if (WorkspaceNode.is(root)) {\n            return root.children[0];\n        }\n        return undefined;\n    }\n\n    protected override renderTree(model: TreeModel): React.ReactNode {\n        if (this.model.root && this.isEmptyMultiRootWorkspace(model)) {\n            return this.renderEmptyMultiRootWorkspace();\n        }\n        return super.renderTree(model);\n    }\n\n    protected override shouldShowWelcomeView(): boolean {\n        return this.model.root === undefined;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.addClipboardListener(this.node, 'copy', e => this.handleCopy(e));\n        this.addClipboardListener(this.node, 'paste', e => this.handlePaste(e));\n    }\n\n    protected handleCopy(event: ClipboardEvent): void {\n        const uris = this.model.selectedFileStatNodes.map(node => node.uri.toString());\n        if (uris.length > 0 && event.clipboardData) {\n            event.clipboardData.setData('text/plain', uris.join('\\n'));\n            event.preventDefault();\n        }\n    }\n\n    protected handlePaste(event: ClipboardEvent): void {\n        if (event.clipboardData) {\n            const raw = event.clipboardData.getData('text/plain');\n            if (!raw) {\n                return;\n            }\n            const target = this.model.selectedFileStatNodes[0];\n            if (!target) {\n                return;\n            }\n            for (const file of raw.split('\\n')) {\n                event.preventDefault();\n                const source = new URI(file);\n                this.model.copy(source, target);\n            }\n        }\n    }\n\n    protected canOpenWorkspaceFileAndFolder: boolean = isOSX || !environment.electron.is();\n\n    protected readonly openWorkspace = () => this.doOpenWorkspace();\n    protected doOpenWorkspace(): void {\n        this.commandService.executeCommand(WorkspaceCommands.OPEN_WORKSPACE.id);\n    }\n\n    protected readonly openFolder = () => this.doOpenFolder();\n    protected doOpenFolder(): void {\n        this.commandService.executeCommand(WorkspaceCommands.OPEN_FOLDER.id);\n    }\n\n    protected readonly addFolder = () => this.doAddFolder();\n    protected doAddFolder(): void {\n        this.commandService.executeCommand(WorkspaceCommands.ADD_FOLDER.id);\n    }\n\n    protected readonly keyUpHandler = (e: React.KeyboardEvent) => {\n        if (Key.ENTER.keyCode === e.keyCode) {\n            (e.target as HTMLElement).click();\n        }\n    };\n\n    /**\n     * When a multi-root workspace is opened, a user can remove all the folders from it.\n     * Instead of displaying an empty navigator tree, this will show a button to add more folders.\n     */\n    protected renderEmptyMultiRootWorkspace(): React.ReactNode {\n        return <div className='theia-navigator-container'>\n            <div className='center'>{nls.localizeByDefault('You have not yet added a folder to the workspace.\\n{0}', '')}</div>\n            <div className='open-workspace-button-container'>\n                <button className='theia-button open-workspace-button' title={nls.localizeByDefault('Add Folder to Workspace')}\n                    onClick={this.addFolder}\n                    onKeyUp={this.keyUpHandler}>\n                    {nls.localizeByDefault('Open Folder')}\n                </button>\n            </div>\n        </div>;\n    }\n\n    protected isEmptyMultiRootWorkspace(model: TreeModel): boolean {\n        return WorkspaceNode.is(model.root) && model.root.children.length === 0;\n    }\n\n    protected override tapNode(node?: TreeNode): void {\n        if (node && this.corePreferences['workbench.list.openMode'] === 'singleClick') {\n            this.model.previewNode(node);\n        }\n        super.tapNode(node);\n    }\n\n    protected override onAfterShow(msg: Message): void {\n        super.onAfterShow(msg);\n        this.contextKeyService.explorerViewletVisible.set(true);\n    }\n\n    protected override onAfterHide(msg: Message): void {\n        super.onAfterHide(msg);\n        this.contextKeyService.explorerViewletVisible.set(false);\n    }\n\n    protected updateSelectionContextKeys(): void {\n        this.contextKeyService.explorerResourceIsFolder.set(DirNode.is(this.model.selectedNodes[0]));\n        // As `FileStatNode` only created if `FileService.resolve` was successful, we can safely assume that\n        // a valid `FileSystemProvider` is available for the selected node. So we skip an additional check\n        // for provider availability here and check the node type.\n        this.contextKeyService.isFileSystemResource.set(FileStatNodeData.is(this.model.selectedNodes[0]));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { CommonCommands } from '@theia/core/lib/browser';\nimport { Command } from '@theia/core/lib/common';\n\nexport namespace OpenEditorsCommands {\n    export const CLOSE_ALL_TABS_FROM_TOOLBAR = Command.toDefaultLocalizedCommand({\n        id: 'navigator.close.all.editors.toolbar',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Close All Editors',\n        iconClass: 'codicon codicon-close-all'\n    });\n\n    export const SAVE_ALL_TABS_FROM_TOOLBAR = Command.toDefaultLocalizedCommand({\n        id: 'navigator.save.all.editors.toolbar',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Save All',\n        iconClass: 'codicon codicon-save-all'\n    });\n\n    export const CLOSE_ALL_EDITORS_IN_GROUP_FROM_ICON = Command.toDefaultLocalizedCommand({\n        id: 'navigator.close.all.in.area.icon',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Close Group',\n        iconClass: 'codicon codicon-close-all'\n    });\n\n    export const SAVE_ALL_IN_GROUP_FROM_ICON = Command.toDefaultLocalizedCommand({\n        id: 'navigator.save.all.in.area.icon',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Save All in Group',\n        iconClass: 'codicon codicon-save-all'\n    });\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, named } from '@theia/core/shared/inversify';\nimport { TreeDecorator, AbstractTreeDecoratorService } from '@theia/core/lib/browser/tree/tree-decorator';\nimport { ContributionProvider } from '@theia/core/lib/common';\n\nexport const OpenEditorsTreeDecorator = Symbol('OpenEditorsTreeDecorator');\n\n@injectable()\nexport class OpenEditorsTreeDecoratorService extends AbstractTreeDecoratorService {\n    constructor(@inject(ContributionProvider) @named(OpenEditorsTreeDecorator) protected readonly contributions: ContributionProvider<TreeDecorator>) {\n        super(contributions.getContributions());\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MenuPath } from '@theia/core/lib/common';\n\nexport const OPEN_EDITORS_CONTEXT_MENU: MenuPath = ['open-editors-context-menu'];\nexport namespace OpenEditorsContextMenu {\n    export const NAVIGATION = [...OPEN_EDITORS_CONTEXT_MENU, '1_navigation'];\n    export const CLIPBOARD = [...OPEN_EDITORS_CONTEXT_MENU, '2_clipboard'];\n    export const SAVE = [...OPEN_EDITORS_CONTEXT_MENU, '3_save'];\n    export const COMPARE = [...OPEN_EDITORS_CONTEXT_MENU, '4_compare'];\n    export const MODIFICATION = [...OPEN_EDITORS_CONTEXT_MENU, '5_modification'];\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { FileNode, FileStatNode, FileTreeModel } from '@theia/filesystem/lib/browser';\nimport {\n    ApplicationShell,\n    CompositeTreeNode,\n    open,\n    NavigatableWidget,\n    OpenerService,\n    SelectableTreeNode,\n    TreeNode,\n    Widget,\n    ExpandableTreeNode,\n    TabBar\n} from '@theia/core/lib/browser';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport debounce = require('@theia/core/shared/lodash.debounce');\nimport { DisposableCollection, nls } from '@theia/core/lib/common';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\n\nexport interface OpenEditorNode extends FileStatNode {\n    widget: Widget;\n};\n\nexport namespace OpenEditorNode {\n    export function is(node: unknown): node is OpenEditorNode {\n        return FileStatNode.is(node) && 'widget' in node;\n    }\n}\n\n@injectable()\nexport class OpenEditorsModel extends FileTreeModel {\n    static GROUP_NODE_ID_PREFIX = 'group-node';\n    static AREA_NODE_ID_PREFIX = 'area-node';\n\n    @inject(ApplicationShell) protected readonly applicationShell: ApplicationShell;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n    @inject(OpenerService) protected readonly openerService: OpenerService;\n\n    protected toDisposeOnPreviewWidgetReplaced = new DisposableCollection();\n    // Returns the collection of editors belonging to a tabbar group in the main area\n    protected _editorWidgetsByGroup = new Map<number, { widgets: NavigatableWidget[], tabbar: TabBar<Widget> }>();\n\n    // Returns the collection of editors belonging to an area grouping (main, left, right bottom)\n    protected _editorWidgetsByArea = new Map<ApplicationShell.Area, NavigatableWidget[]>();\n\n    // Last collection of editors before a layout modification, used to detect changes in widget ordering\n    protected _lastEditorWidgetsByArea = new Map<ApplicationShell.Area, NavigatableWidget[]>();\n\n    protected cachedFileStats = new Map<string, FileStat>();\n\n    get editorWidgets(): NavigatableWidget[] {\n        const editorWidgets: NavigatableWidget[] = [];\n        this._editorWidgetsByArea.forEach(widgets => editorWidgets.push(...widgets));\n        return editorWidgets;\n    }\n\n    getTabBarForGroup(id: number): TabBar<Widget> | undefined {\n        return this._editorWidgetsByGroup.get(id)?.tabbar;\n    }\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.setupHandlers();\n        this.initializeRoot();\n    }\n\n    protected setupHandlers(): void {\n        this.toDispose.push(this.applicationShell.onDidChangeCurrentWidget(({ newValue }) => {\n            const nodeToSelect = this.tree.getNode(newValue?.id);\n            if (nodeToSelect && SelectableTreeNode.is(nodeToSelect)) {\n                this.selectNode(nodeToSelect);\n            }\n        }));\n        this.toDispose.push(this.applicationShell.onDidAddWidget(async () => {\n            await this.updateOpenWidgets();\n            const existingWidgetIds = new Set(this.editorWidgets.map(widget => widget.id));\n            this.cachedFileStats.forEach((_fileStat, id) => {\n                if (!existingWidgetIds.has(id)) {\n                    this.cachedFileStats.delete(id);\n                }\n            });\n        }));\n        this.toDispose.push(this.applicationShell.onDidRemoveWidget(() => this.updateOpenWidgets()));\n        // Check for tabs rearranged in main and bottom\n        this.applicationShell.mainPanel.layoutModified.connect(() => this.doUpdateOpenWidgets('main'));\n        this.applicationShell.bottomPanel.layoutModified.connect(() => this.doUpdateOpenWidgets('bottom'));\n    }\n\n    protected async initializeRoot(): Promise<void> {\n        await this.updateOpenWidgets();\n        this.fireChanged();\n    }\n\n    protected updateOpenWidgets = debounce(this.doUpdateOpenWidgets, 250);\n\n    protected async doUpdateOpenWidgets(layoutModifiedArea?: ApplicationShell.Area): Promise<void> {\n        this._lastEditorWidgetsByArea = this._editorWidgetsByArea;\n        this._editorWidgetsByArea = new Map<ApplicationShell.Area, NavigatableWidget[]>();\n        let doRebuild = true;\n        const areas: ApplicationShell.Area[] = ['main', 'bottom', 'left', 'right', 'top', 'secondaryWindow'];\n        areas.forEach(area => {\n            const editorWidgetsForArea = this.applicationShell.getWidgets(area).filter((widget): widget is NavigatableWidget => NavigatableWidget.is(widget));\n            if (editorWidgetsForArea.length) {\n                this._editorWidgetsByArea.set(area, editorWidgetsForArea);\n            }\n        });\n        if (this._lastEditorWidgetsByArea.size === 0) {\n            this._lastEditorWidgetsByArea = this._editorWidgetsByArea;\n        }\n        // `layoutModified` can be triggered when tabs are clicked, even if they are not rearranged.\n        // This will check for those instances and prevent a rebuild if it is unnecessary. Rebuilding\n        // the tree if there is no change can cause the tree's selection to flicker.\n        if (layoutModifiedArea) {\n            doRebuild = this.shouldRebuildTreeOnLayoutModified(layoutModifiedArea);\n        }\n        if (doRebuild) {\n            this.root = await this.buildRootFromOpenedWidgets(this._editorWidgetsByArea);\n        }\n    }\n\n    protected shouldRebuildTreeOnLayoutModified(area: ApplicationShell.Area): boolean {\n        const currentOrdering = this._editorWidgetsByArea.get(area);\n        const previousOrdering = this._lastEditorWidgetsByArea.get(area);\n        if (currentOrdering?.length === 1) {\n            return true;\n        }\n        if (currentOrdering?.length !== previousOrdering?.length) {\n            return true;\n        }\n        if (!!currentOrdering && !!previousOrdering) {\n            return !currentOrdering.every((widget, index) => widget === previousOrdering[index]);\n        }\n        return true;\n    }\n\n    protected tryCreateWidgetGroupMap(): Map<Widget, CompositeTreeNode> {\n        const mainTabBars = this.applicationShell.mainAreaTabBars;\n        this._editorWidgetsByGroup = new Map();\n        const widgetGroupMap = new Map<Widget, CompositeTreeNode>();\n        if (mainTabBars.length > 1) {\n            mainTabBars.forEach((tabbar, index) => {\n                const groupNumber = index + 1;\n                const newCaption = nls.localizeByDefault('Group {0}', groupNumber);\n                const groupNode = {\n                    parent: undefined,\n                    id: `${OpenEditorsModel.GROUP_NODE_ID_PREFIX}:${groupNumber}`,\n                    name: newCaption,\n                    children: []\n                };\n                const widgets: NavigatableWidget[] = [];\n                tabbar.titles.map(title => {\n                    const { owner } = title;\n                    widgetGroupMap.set(owner, groupNode);\n                    if (NavigatableWidget.is(owner)) {\n                        widgets.push(owner);\n                    }\n                });\n                this._editorWidgetsByGroup.set(groupNumber, { widgets, tabbar });\n            });\n        }\n        return widgetGroupMap;\n    }\n\n    protected async buildRootFromOpenedWidgets(widgetsByArea: Map<ApplicationShell.Area, NavigatableWidget[]>): Promise<CompositeTreeNode> {\n        const rootNode: CompositeTreeNode = {\n            id: 'open-editors:root',\n            parent: undefined,\n            visible: false,\n            children: [],\n        };\n\n        const mainAreaWidgetGroups = this.tryCreateWidgetGroupMap();\n\n        for (const [area, widgetsInArea] of widgetsByArea.entries()) {\n            const areaNode: CompositeTreeNode & ExpandableTreeNode = {\n                id: `${OpenEditorsModel.AREA_NODE_ID_PREFIX}:${area}`,\n                parent: rootNode,\n                name: ApplicationShell.areaLabels[area],\n                expanded: true,\n                children: []\n            };\n            for (const widget of widgetsInArea) {\n                const uri = widget.getResourceUri();\n                if (uri) {\n                    let fileStat: FileStat;\n                    try {\n                        fileStat = await this.fileService.resolve(uri);\n                        this.cachedFileStats.set(widget.id, fileStat);\n                    } catch {\n                        const cachedStat = this.cachedFileStats.get(widget.id);\n                        if (cachedStat) {\n                            fileStat = cachedStat;\n                        } else {\n                            continue;\n                        }\n                    }\n\n                    const openEditorNode: OpenEditorNode = {\n                        id: widget.id,\n                        fileStat,\n                        uri,\n                        selected: false,\n                        parent: undefined,\n                        name: widget.title.label,\n                        icon: widget.title.iconClass,\n                        widget\n                    };\n                    // only show groupings for main area widgets if more than one tabbar\n                    if ((area === 'main') && (mainAreaWidgetGroups.size > 1)) {\n                        const groupNode = mainAreaWidgetGroups.get(widget);\n                        if (groupNode) {\n                            CompositeTreeNode.addChild(groupNode, openEditorNode);\n                            CompositeTreeNode.addChild(areaNode, groupNode);\n                        }\n                    } else {\n                        CompositeTreeNode.addChild(areaNode, openEditorNode);\n                    }\n                }\n            }\n            // If widgets are only in the main area and in a single tabbar, then don't show area node\n            if (widgetsByArea.size === 1 && widgetsByArea.has('main') && area === 'main') {\n                areaNode.children.forEach(child => CompositeTreeNode.addChild(rootNode, child));\n            } else {\n                CompositeTreeNode.addChild(rootNode, areaNode);\n            }\n\n        }\n        return rootNode;\n    }\n\n    protected override doOpenNode(node: TreeNode): void {\n        if (node.visible === false) {\n            return;\n        } else if (FileNode.is(node)) {\n            open(this.openerService, node.uri);\n        } else {\n            super.doOpenNode(node);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { injectable, interfaces, Container, postConstruct, inject } from '@theia/core/shared/inversify';\nimport {\n    ApplicationShell,\n    codicon,\n    ContextMenuRenderer,\n    defaultTreeProps,\n    NavigatableWidget,\n    NodeProps,\n    Saveable,\n    TabBar,\n    TreeDecoration,\n    TreeDecoratorService,\n    TreeModel,\n    TreeNode,\n    TreeProps,\n    TreeWidget,\n    TREE_NODE_CONTENT_CLASS,\n    Widget,\n} from '@theia/core/lib/browser';\nimport { OpenEditorNode, OpenEditorsModel } from './navigator-open-editors-tree-model';\nimport { createFileTreeContainer, FileTreeModel, FileTreeWidget } from '@theia/filesystem/lib/browser';\nimport { OpenEditorsTreeDecoratorService } from './navigator-open-editors-decorator-service';\nimport { OPEN_EDITORS_CONTEXT_MENU } from './navigator-open-editors-menus';\nimport { CommandService } from '@theia/core/lib/common';\nimport { OpenEditorsCommands } from './navigator-open-editors-commands';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { AbstractNavigatorTreeWidget } from '../abstract-navigator-tree-widget';\n\nexport const OPEN_EDITORS_PROPS: TreeProps = {\n    ...defaultTreeProps,\n    virtualized: false,\n    contextMenuPath: OPEN_EDITORS_CONTEXT_MENU,\n    leftPadding: 22\n};\n\nexport interface OpenEditorsNodeRow extends TreeWidget.NodeRow {\n    node: OpenEditorNode;\n}\n@injectable()\nexport class OpenEditorsWidget extends AbstractNavigatorTreeWidget {\n    static ID = 'theia-open-editors-widget';\n    static LABEL = nls.localizeByDefault('Open Editors');\n\n    @inject(ApplicationShell) protected readonly applicationShell: ApplicationShell;\n    @inject(CommandService) protected readonly commandService: CommandService;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n\n    static createContainer(parent: interfaces.Container): Container {\n        const child = createFileTreeContainer(parent);\n\n        child.unbind(FileTreeModel);\n        child.bind(OpenEditorsModel).toSelf();\n        child.rebind(TreeModel).toService(OpenEditorsModel);\n\n        child.unbind(FileTreeWidget);\n        child.bind(OpenEditorsWidget).toSelf();\n\n        child.rebind(TreeProps).toConstantValue(OPEN_EDITORS_PROPS);\n\n        child.bind(OpenEditorsTreeDecoratorService).toSelf().inSingletonScope();\n        child.rebind(TreeDecoratorService).toService(OpenEditorsTreeDecoratorService);\n        return child;\n    }\n\n    static createWidget(parent: interfaces.Container): OpenEditorsWidget {\n        return OpenEditorsWidget.createContainer(parent).get(OpenEditorsWidget);\n    }\n\n    constructor(\n        @inject(TreeProps) props: TreeProps,\n        @inject(OpenEditorsModel) override readonly model: OpenEditorsModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer\n    ) {\n        super(props, model, contextMenuRenderer);\n    }\n\n    @postConstruct()\n    override init(): void {\n        super.init();\n        this.id = OpenEditorsWidget.ID;\n        this.title.label = OpenEditorsWidget.LABEL;\n        this.addClass(OpenEditorsWidget.ID);\n        this.update();\n    }\n\n    get editorWidgets(): NavigatableWidget[] {\n        return this.model.editorWidgets;\n    }\n\n    // eslint-disable-next-line no-null/no-null\n    protected activeTreeNodePrefixElement: string | undefined | null;\n\n    protected override renderNode(node: OpenEditorNode, props: NodeProps): React.ReactNode {\n        if (!TreeNode.isVisible(node)) {\n            return undefined;\n        }\n        const attributes = this.createNodeAttributes(node, props);\n        const isEditorNode = !(node.id.startsWith(OpenEditorsModel.GROUP_NODE_ID_PREFIX) || node.id.startsWith(OpenEditorsModel.AREA_NODE_ID_PREFIX));\n        const content = <div className={`${TREE_NODE_CONTENT_CLASS}`}>\n            {this.renderExpansionToggle(node, props)}\n            {isEditorNode && this.renderPrefixIcon(node)}\n            {this.decorateIcon(node, this.renderIcon(node, props))}\n            <div className='noWrapInfo theia-TreeNodeSegmentGrow'>\n                {this.renderCaptionAffixes(node, props, 'captionPrefixes')}\n                {this.renderCaption(node, props)}\n                {this.renderCaptionAffixes(node, props, 'captionSuffixes')}\n            </div>\n            {this.renderTailDecorations(node, props)}\n            {(this.isGroupNode(node) || this.isAreaNode(node)) && this.renderInteractables(node, props)}\n        </div>;\n        return React.createElement('div', attributes, content);\n    }\n\n    protected override getDecorationData<K extends keyof TreeDecoration.Data>(node: TreeNode, key: K): Required<Pick<TreeDecoration.Data, K>>[K][] {\n        const contributed = super.getDecorationData(node, key);\n        if (key === 'captionSuffixes' && OpenEditorNode.is(node)) {\n            (contributed as Array<Array<TreeDecoration.CaptionAffix>>).push(this.getWorkspaceDecoration(node));\n        }\n        return contributed;\n    }\n\n    protected getWorkspaceDecoration(node: OpenEditorNode): TreeDecoration.CaptionAffix[] {\n        const color = this.getDecorationData(node, 'fontData').find(data => data.color)?.color;\n        return [{\n            fontData: { color },\n            data: this.labelProvider.getDetails(node.fileStat),\n        }];\n    }\n\n    protected isGroupNode(node: OpenEditorNode): boolean {\n        return node.id.startsWith(OpenEditorsModel.GROUP_NODE_ID_PREFIX);\n    }\n\n    protected isAreaNode(node: OpenEditorNode): boolean {\n        return node.id.startsWith(OpenEditorsModel.AREA_NODE_ID_PREFIX);\n    }\n\n    protected override doRenderNodeRow({ node, depth }: OpenEditorsNodeRow): React.ReactNode {\n        let groupClass = '';\n        if (this.isGroupNode(node)) {\n            groupClass = 'group-node';\n        } else if (this.isAreaNode(node)) {\n            groupClass = 'area-node';\n        }\n        return <div className={`open-editors-node-row ${this.getPrefixIconClass(node)}${groupClass}`}>\n            {this.renderNode(node, { depth })}\n        </div>;\n    }\n\n    protected renderInteractables(node: OpenEditorNode, props: NodeProps): React.ReactNode {\n        return (<div className='open-editors-inline-actions-container'>\n            <div className='open-editors-inline-action'>\n                <a className='codicon codicon-save-all'\n                    title={OpenEditorsCommands.SAVE_ALL_IN_GROUP_FROM_ICON.label}\n                    onClick={this.handleGroupActionIconClicked}\n                    data-id={node.id}\n                    id={OpenEditorsCommands.SAVE_ALL_IN_GROUP_FROM_ICON.id}\n                />\n            </div>\n            <div className='open-editors-inline-action' >\n                <a className='codicon codicon-close-all'\n                    title={OpenEditorsCommands.CLOSE_ALL_EDITORS_IN_GROUP_FROM_ICON.label}\n                    onClick={this.handleGroupActionIconClicked}\n                    data-id={node.id}\n                    id={OpenEditorsCommands.CLOSE_ALL_EDITORS_IN_GROUP_FROM_ICON.id}\n                />\n            </div>\n        </div>\n        );\n    }\n\n    protected handleGroupActionIconClicked = async (e: React.MouseEvent<HTMLAnchorElement>) => this.doHandleGroupActionIconClicked(e);\n    protected async doHandleGroupActionIconClicked(e: React.MouseEvent<HTMLAnchorElement>): Promise<void> {\n        e.stopPropagation();\n        const groupName = e.currentTarget.getAttribute('data-id');\n        const command = e.currentTarget.id;\n        if (groupName && command) {\n            const groupFromTarget: string | number | undefined = groupName.split(':').pop();\n            const areaOrTabBar = this.sanitizeInputFromClickHandler(groupFromTarget);\n            if (areaOrTabBar) {\n                return this.commandService.executeCommand(command, areaOrTabBar);\n            }\n        }\n    }\n\n    protected sanitizeInputFromClickHandler(groupFromTarget?: string): ApplicationShell.Area | TabBar<Widget> | undefined {\n        let areaOrTabBar: ApplicationShell.Area | TabBar<Widget> | undefined;\n        if (groupFromTarget) {\n            if (ApplicationShell.isValidArea(groupFromTarget)) {\n                areaOrTabBar = groupFromTarget;\n            } else {\n                const groupAsNum = parseInt(groupFromTarget);\n                if (!isNaN(groupAsNum)) {\n                    areaOrTabBar = this.model.getTabBarForGroup(groupAsNum);\n                }\n            }\n        }\n        return areaOrTabBar;\n    }\n\n    protected renderPrefixIcon(node: OpenEditorNode): React.ReactNode {\n        return (\n            <div className='open-editors-prefix-icon-container'>\n                <div data-id={node.id}\n                    className={`open-editors-prefix-icon dirty ${codicon('circle-filled', true)}`}\n                />\n                <div data-id={node.id}\n                    onClick={this.closeEditor}\n                    className={`open-editors-prefix-icon close ${codicon('close', true)}`}\n                />\n            </div>);\n    }\n\n    protected getPrefixIconClass(node: OpenEditorNode): string {\n        const saveable = Saveable.get(node.widget);\n        if (saveable) {\n            return saveable.dirty ? 'dirty' : '';\n        }\n        return '';\n    }\n\n    protected closeEditor = async (e: React.MouseEvent<HTMLDivElement>) => this.doCloseEditor(e);\n    protected async doCloseEditor(e: React.MouseEvent<HTMLDivElement>): Promise<void> {\n        const widgetId = e.currentTarget.getAttribute('data-id');\n        if (widgetId) {\n            await this.applicationShell.closeWidget(widgetId);\n        }\n    }\n\n    protected override tapNode(node?: TreeNode): void {\n        if (OpenEditorNode.is(node)) {\n            this.applicationShell.activateWidget(node.widget.id);\n        }\n        super.tapNode(node);\n    }\n\n    protected override handleContextMenuEvent(node: OpenEditorNode | undefined, event: React.MouseEvent<HTMLElement>): void {\n        super.handleContextMenuEvent(node, event);\n        if (node) {\n            // Since the CommonCommands used in the context menu act on the shell's activeWidget, this is necessary to ensure\n            // that the EditorWidget is activated, not the Navigator itself\n            this.applicationShell.activateWidget(node.widget.id);\n        }\n    }\n\n    protected override getPaddingLeft(node: TreeNode): number {\n        if (node.id.startsWith(OpenEditorsModel.AREA_NODE_ID_PREFIX)) {\n            return 0;\n        }\n        return this.props.leftPadding;\n    }\n\n    // The state of this widget is derived from external factors. No need to store or restore it.\n    override storeState(): object { return {}; }\n    override restoreState(): void { }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { CancellationToken, URI } from '@theia/core/lib/common';\nimport { injectable } from '@theia/core/shared/inversify';\nimport { Disposable } from '@theia/core/shared/vscode-languageserver-protocol';\n\nexport interface CanonicalUriProvider extends Disposable {\n    provideCanonicalUri(uri: URI, targetScheme: string, token: CancellationToken): Promise<URI | undefined>;\n}\n\n@injectable()\nexport class CanonicalUriService {\n    private providers = new Map<string, CanonicalUriProvider>();\n\n    registerCanonicalUriProvider(scheme: string, provider: CanonicalUriProvider): Disposable {\n        if (this.providers.has(scheme)) {\n            throw new Error(`Canonical URI provider for scheme: '${scheme}' already exists`);\n        }\n\n        this.providers.set(scheme, provider);\n        return Disposable.create(() => { this.removeCanonicalUriProvider(scheme); });\n    }\n\n    private removeCanonicalUriProvider(scheme: string): void {\n        const provider = this.providers.get(scheme);\n        if (!provider) {\n            throw new Error(`No Canonical URI provider for scheme: '${scheme}' exists`);\n        }\n\n        this.providers.delete(scheme);\n        provider.dispose();\n    }\n\n    async provideCanonicalUri(uri: URI, targetScheme: string, token: CancellationToken = CancellationToken.None): Promise<URI | undefined> {\n        const provider = this.providers.get(uri.scheme);\n        if (!provider) {\n            console.warn(`No Canonical URI provider for scheme: '${uri.scheme}' exists`);\n            return undefined;\n        }\n\n        return provider.provideCanonicalUri(uri, targetScheme, token);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { DiffUris } from '@theia/core/lib/browser/diff-uris';\nimport { open, OpenerService, OpenerOptions } from '@theia/core/lib/browser';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\n\n@injectable()\nexport class DiffService {\n\n    @inject(FileService) protected readonly fileService: FileService;\n    @inject(OpenerService) protected readonly openerService: OpenerService;\n    @inject(MessageService) protected readonly messageService: MessageService;\n\n    public async openDiffEditor(left: URI, right: URI, label?: string, options?: OpenerOptions): Promise<void> {\n        if (left.scheme === 'file' && right.scheme === 'file') {\n            const [resolvedLeft, resolvedRight] = await this.fileService.resolveAll([{ resource: left }, { resource: right }]);\n            if (resolvedLeft.success && resolvedRight.success) {\n                const leftStat = resolvedLeft.stat;\n                const rightStat = resolvedRight.stat;\n                if (leftStat && rightStat) {\n                    if (!leftStat.isDirectory && !rightStat.isDirectory) {\n                        const uri = DiffUris.encode(left, right, label);\n                        await open(this.openerService, uri, options);\n                    } else {\n                        const details = (() => {\n                            if (leftStat.isDirectory && rightStat.isDirectory) {\n                                return 'Both resource were a directory.';\n                            } else {\n                                if (leftStat.isDirectory) {\n                                    return `'${left.path.base}' was a directory.`;\n                                } else {\n                                    return `'${right.path.base}' was a directory.`;\n                                }\n                            }\n                        });\n                        this.messageService.warn(`Directories cannot be compared. ${details()}`);\n                    }\n                }\n            }\n        } else {\n            const uri = DiffUris.encode(left, right, label);\n            await open(this.openerService, uri, options);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './workspace-commands';\nexport * from './workspace-service';\nexport * from './canonical-uri-service';\nexport * from './workspace-frontend-contribution';\nexport * from './workspace-frontend-module';\nexport * from './workspace-preferences';\nexport * from './workspace-trust-service';\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, optional, named } from '@theia/core/shared/inversify';\nimport { QuickPickItem, LabelProvider, QuickInputService, QuickInputButton, QuickPickSeparator } from '@theia/core/lib/browser';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { WorkspaceOpenHandlerContribution, WorkspaceService } from './workspace-service';\nimport URI from '@theia/core/lib/common/uri';\nimport { ContributionProvider, nls, Path } from '@theia/core/lib/common';\nimport { UntitledWorkspaceService } from '../common/untitled-workspace-service';\n\ninterface RecentlyOpenedPick extends QuickPickItem {\n    resource?: URI\n}\n\n@injectable()\nexport class QuickOpenWorkspace {\n    protected opened: boolean;\n\n    @inject(QuickInputService) @optional() protected readonly quickInputService: QuickInputService;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n    @inject(EnvVariablesServer) protected readonly envServer: EnvVariablesServer;\n    @inject(UntitledWorkspaceService) protected untitledWorkspaceService: UntitledWorkspaceService;\n\n    @inject(ContributionProvider) @named(WorkspaceOpenHandlerContribution)\n    protected readonly workspaceOpenHandlers: ContributionProvider<WorkspaceOpenHandlerContribution>;\n\n    protected readonly removeRecentWorkspaceButton: QuickInputButton = {\n        iconClass: 'codicon-remove-close',\n        tooltip: nls.localizeByDefault('Remove from Recently Opened')\n    };\n\n    async open(workspaces: string[]): Promise<void> {\n        const homeDirUri = await this.envServer.getHomeDirUri();\n        const home = new URI(homeDirUri).path.fsPath();\n        const items: (RecentlyOpenedPick | QuickPickSeparator)[] = [{\n            type: 'separator',\n            label: nls.localizeByDefault('folders & workspaces')\n        }];\n\n        for (const workspace of workspaces) {\n            const uri = new URI(workspace);\n            const label = await this.workspaceOpenHandlers.getContributions()\n                .find(handler => handler.getWorkspaceLabel && handler.canHandle(uri))?.getWorkspaceLabel?.(uri) ?? uri.path.base;\n            if (!label || this.untitledWorkspaceService.isUntitledWorkspace(uri)) {\n                continue; // skip temporary workspace files & empty workspace names\n            }\n            items.push({\n                label: label,\n                description: Path.tildify(uri.path.fsPath(), home),\n                buttons: [this.removeRecentWorkspaceButton],\n                resource: uri,\n                execute: () => {\n                    const current = this.workspaceService.workspace;\n                    if ((current && current.resource.toString() !== workspace) || !current) {\n                        this.workspaceService.open(uri);\n                    }\n                }\n            });\n        }\n\n        this.quickInputService?.showQuickPick(items, {\n            placeholder: nls.localize(\n                'theia/workspace/openRecentPlaceholder',\n                'Type the name of the workspace you want to open'),\n            onDidTriggerItemButton: async context => {\n                const resource = (context.item as RecentlyOpenedPick).resource;\n                if (resource) {\n                    await this.workspaceService.removeRecentWorkspace(resource.toString());\n                    context.removeItem();\n                }\n            }\n        });\n    }\n\n    select(): void {\n        this.opened = this.workspaceService.opened;\n        this.workspaceService.recentWorkspaces().then(workspaceRoots => {\n            if (workspaceRoots) {\n                this.open(workspaceRoots);\n            }\n        });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { nls } from '@theia/core';\nimport { inject } from '@theia/core/shared/inversify';\nimport { AbstractDialog, Dialog, DialogProps, Message } from '@theia/core/lib/browser';\n\nexport class UntitledWorkspaceExitDialog extends AbstractDialog<UntitledWorkspaceExitDialog.Options> {\n    protected readonly dontSaveButton: HTMLButtonElement;\n    protected _value: UntitledWorkspaceExitDialog.Options = 'Cancel';\n\n    get value(): UntitledWorkspaceExitDialog.Options {\n        return this._value;\n    }\n\n    constructor(\n        @inject(DialogProps) props: DialogProps\n    ) {\n        super(props);\n        const messageNode = document.createElement('div');\n        messageNode.textContent = nls.localizeByDefault('Save your workspace if you plan to open it again.');\n        this.contentNode.appendChild(messageNode);\n        this.dontSaveButton = this.createButton(nls.localizeByDefault(UntitledWorkspaceExitDialog.Values[\"Don't Save\"]));\n        this.dontSaveButton.classList.add('secondary');\n        this.controlPanel.appendChild(this.dontSaveButton);\n        this.appendCloseButton(Dialog.CANCEL);\n        this.appendAcceptButton(nls.localizeByDefault(UntitledWorkspaceExitDialog.Values.Save));\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.addAction(this.dontSaveButton, () => this.dontSave(), 'click');\n    }\n\n    protected override addAcceptAction<K extends keyof HTMLElementEventMap>(element: HTMLElement, ...additionalEventTypes: K[]): void {\n        this.addAction(element, () => this.doSave(), 'click');\n    }\n\n    protected dontSave(): void {\n        this._value = UntitledWorkspaceExitDialog.Values[\"Don't Save\"];\n        this.accept();\n    }\n\n    protected doSave(): void {\n        this._value = UntitledWorkspaceExitDialog.Values.Save;\n        this.accept();\n    }\n}\n\nexport namespace UntitledWorkspaceExitDialog {\n    export const enum Values {\n        \"Don't Save\" = \"Don't Save\",\n        Cancel = 'Cancel',\n        Save = 'Save',\n    };\n    export type Options = keyof typeof Values;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { FilepathBreadcrumb } from '@theia/filesystem/lib/browser/breadcrumbs/filepath-breadcrumb';\nimport { FilepathBreadcrumbClassNameFactory, FilepathBreadcrumbsContribution } from '@theia/filesystem/lib/browser/breadcrumbs/filepath-breadcrumbs-contribution';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { WorkspaceService } from './workspace-service';\nimport URI from '@theia/core/lib/common/uri';\n\n@injectable()\nexport class WorkspaceBreadcrumbsContribution extends FilepathBreadcrumbsContribution {\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    override getContainerClassCreator(fileURI: URI): FilepathBreadcrumbClassNameFactory {\n        const workspaceRoot = this.workspaceService.getWorkspaceRootUri(fileURI);\n        return (location, index) => {\n            if (location.isEqual(fileURI)) {\n                return 'file';\n            } else if (workspaceRoot?.isEqual(location)) {\n                return 'root_folder';\n            }\n            return 'folder';\n        };\n    }\n\n    override getIconClassCreator(fileURI: URI): FilepathBreadcrumbClassNameFactory {\n        const workspaceRoot = this.workspaceService.getWorkspaceRootUri(fileURI);\n        return (location, index) => {\n            if (location.isEqual(fileURI) || workspaceRoot?.isEqual(location)) {\n                return this.labelProvider.getIcon(location) + ' file-icon';\n            }\n            return '';\n        };\n    }\n\n    protected override filterBreadcrumbs(uri: URI, breadcrumb: FilepathBreadcrumb): boolean {\n        const workspaceRootUri = this.workspaceService.getWorkspaceRootUri(uri);\n        const firstCrumbToHide = this.workspaceService.isMultiRootWorkspaceOpened ? workspaceRootUri?.parent : workspaceRootUri;\n        return super.filterBreadcrumbs(uri, breadcrumb) && (!firstCrumbToHide || !breadcrumb.uri.isEqualOrParent(firstCrumbToHide));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { SelectionService } from '@theia/core/lib/common/selection-service';\nimport { Command, CommandContribution, CommandRegistry } from '@theia/core/lib/common/command';\nimport { MenuContribution, MenuModelRegistry } from '@theia/core/lib/common/menu';\nimport { CommonMenus } from '@theia/core/lib/browser/common-frontend-contribution';\nimport { FileDialogService } from '@theia/filesystem/lib/browser';\nimport { SingleTextInputDialog, ConfirmDialog, Dialog } from '@theia/core/lib/browser/dialogs';\nimport { OpenerService, OpenHandler, open, FrontendApplication, LabelProvider, CommonCommands } from '@theia/core/lib/browser';\nimport { UriCommandHandler, UriAwareCommandHandler } from '@theia/core/lib/common/uri-command-handler';\nimport { WorkspaceService } from './workspace-service';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { WorkspacePreferences } from './workspace-preferences';\nimport { WorkspaceDeleteHandler } from './workspace-delete-handler';\nimport { WorkspaceDuplicateHandler } from './workspace-duplicate-handler';\nimport { FileSystemUtils } from '@theia/filesystem/lib/common';\nimport { WorkspaceCompareHandler } from './workspace-compare-handler';\nimport { FileDownloadCommands } from '@theia/filesystem/lib/browser/download/file-download-command-contribution';\nimport { FileSystemCommands } from '@theia/filesystem/lib/browser/filesystem-frontend-contribution';\nimport { WorkspaceInputDialog } from './workspace-input-dialog';\nimport { Emitter, EOL, Event, OS } from '@theia/core/lib/common';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { ClipboardService } from '@theia/core/lib/browser/clipboard-service';\n\nconst validFilename: (arg: string) => boolean = require('valid-filename');\n\nexport namespace WorkspaceCommands {\n\n    const WORKSPACE_CATEGORY = 'Workspaces';\n    const FILE_CATEGORY = CommonCommands.FILE_CATEGORY;\n\n    // On Linux and Windows, both files and folders cannot be opened at the same time in electron.\n    // `OPEN_FILE` and `OPEN_FOLDER` must be available only on Linux and Windows in electron.\n    // `OPEN` must *not* be available on Windows and Linux in electron.\n    // VS Code does the same. See: https://github.com/eclipse-theia/theia/pull/3202#issuecomment-430585357\n    export const OPEN: Command & { dialogLabel: string } = {\n        ...Command.toDefaultLocalizedCommand({\n            id: 'workspace:open',\n            category: CommonCommands.FILE_CATEGORY,\n            label: 'Open...'\n        }),\n        dialogLabel: nls.localizeByDefault('Open')\n    };\n    // No `label`. Otherwise, it shows up in the `Command Palette`.\n    export const OPEN_FILE: Command & { dialogLabel: string } = {\n        id: 'workspace:openFile',\n        originalCategory: FILE_CATEGORY,\n        category: nls.localizeByDefault(CommonCommands.FILE_CATEGORY),\n        dialogLabel: nls.localizeByDefault('Open File')\n    };\n    export const OPEN_FOLDER: Command & { dialogLabel: string } = {\n        id: 'workspace:openFolder',\n        dialogLabel: nls.localizeByDefault('Open Folder') // No `label`. Otherwise, it shows up in the `Command Palette`.\n    };\n    export const OPEN_WORKSPACE: Command & { dialogLabel: string } = {\n        ...Command.toDefaultLocalizedCommand({\n            id: 'workspace:openWorkspace',\n            category: CommonCommands.FILE_CATEGORY,\n            label: 'Open Workspace from File...',\n        }),\n        dialogLabel: nls.localizeByDefault('Open Workspace from File')\n    };\n    export const OPEN_RECENT_WORKSPACE = Command.toLocalizedCommand({\n        id: 'workspace:openRecent',\n        category: FILE_CATEGORY,\n        label: 'Open Recent Workspace...'\n    }, 'theia/workspace/openRecentWorkspace', CommonCommands.FILE_CATEGORY_KEY);\n    export const CLOSE = Command.toDefaultLocalizedCommand({\n        id: 'workspace:close',\n        category: WORKSPACE_CATEGORY,\n        label: 'Close Workspace'\n    });\n    export const NEW_FILE = Command.toDefaultLocalizedCommand({\n        id: 'file.newFile',\n        category: FILE_CATEGORY,\n        label: 'New File...'\n    });\n    export const NEW_FOLDER = Command.toDefaultLocalizedCommand({\n        id: 'file.newFolder',\n        category: FILE_CATEGORY,\n        label: 'New Folder...'\n    });\n    /** @deprecated Use the `OpenWithService` instead */\n    export const FILE_OPEN_WITH = (opener: OpenHandler): Command => ({\n        id: `file.openWith.${opener.id}`\n    });\n    export const FILE_RENAME = Command.toDefaultLocalizedCommand({\n        id: 'file.rename',\n        category: FILE_CATEGORY,\n        label: 'Rename'\n    });\n    export const FILE_DELETE = Command.toDefaultLocalizedCommand({\n        id: 'file.delete',\n        category: FILE_CATEGORY,\n        label: 'Delete'\n    });\n    export const FILE_DUPLICATE = Command.toLocalizedCommand({\n        id: 'file.duplicate',\n        category: FILE_CATEGORY,\n        label: 'Duplicate'\n    }, 'theia/workspace/duplicate', CommonCommands.FILE_CATEGORY_KEY);\n    export const FILE_COMPARE = Command.toLocalizedCommand({\n        id: 'file.compare',\n        category: FILE_CATEGORY,\n        label: 'Compare with Each Other'\n    }, 'theia/workspace/compareWithEachOther', CommonCommands.FILE_CATEGORY_KEY);\n    export const ADD_FOLDER = Command.toDefaultLocalizedCommand({\n        id: 'workspace:addFolder',\n        category: WORKSPACE_CATEGORY,\n        label: 'Add Folder to Workspace...'\n    });\n    export const REMOVE_FOLDER = Command.toDefaultLocalizedCommand({\n        id: 'workspace:removeFolder',\n        category: WORKSPACE_CATEGORY,\n        label: 'Remove Folder from Workspace'\n    });\n    export const SAVE_WORKSPACE_AS = Command.toDefaultLocalizedCommand({\n        id: 'workspace:saveAs',\n        category: WORKSPACE_CATEGORY,\n        label: 'Save Workspace As...'\n    });\n    export const OPEN_WORKSPACE_FILE = Command.toDefaultLocalizedCommand({\n        id: 'workspace:openConfigFile',\n        category: WORKSPACE_CATEGORY,\n        label: 'Open Workspace Configuration File'\n    });\n    /** @deprecated @since 1.24.0 Use `CommonCommands.SAVE_AS` instead */\n    export const SAVE_AS = CommonCommands.SAVE_AS;\n    export const COPY_RELATIVE_FILE_PATH = Command.toDefaultLocalizedCommand({\n        id: 'navigator.copyRelativeFilePath',\n        label: 'Copy Relative Path'\n    });\n}\n\n@injectable()\nexport class FileMenuContribution implements MenuContribution {\n\n    registerMenus(registry: MenuModelRegistry): void {\n        registry.registerMenuAction(CommonMenus.FILE_NEW_TEXT, {\n            commandId: WorkspaceCommands.NEW_FOLDER.id,\n            order: 'b'\n        });\n        const downloadUploadMenu = [...CommonMenus.FILE, '4_downloadupload'];\n        registry.registerMenuAction(downloadUploadMenu, {\n            commandId: FileSystemCommands.UPLOAD.id,\n            order: 'a'\n        });\n        registry.registerMenuAction(downloadUploadMenu, {\n            commandId: FileDownloadCommands.DOWNLOAD.id,\n            order: 'b'\n        });\n    }\n\n}\n\n@injectable()\nexport class EditMenuContribution implements MenuContribution {\n\n    registerMenus(registry: MenuModelRegistry): void {\n        registry.registerMenuAction(CommonMenus.EDIT_CLIPBOARD, {\n            commandId: FileDownloadCommands.COPY_DOWNLOAD_LINK.id,\n            order: '9999'\n        });\n    }\n\n}\n\nexport interface DidCreateNewResourceEvent {\n    uri: URI\n    parent: URI\n}\n\n@injectable()\nexport class WorkspaceCommandContribution implements CommandContribution {\n\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n    @inject(FileService) protected readonly fileService: FileService;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n    @inject(SelectionService) protected readonly selectionService: SelectionService;\n    @inject(OpenerService) protected readonly openerService: OpenerService;\n    @inject(FrontendApplication) protected readonly app: FrontendApplication;\n    @inject(MessageService) protected readonly messageService: MessageService;\n    @inject(WorkspacePreferences) protected readonly preferences: WorkspacePreferences;\n    @inject(FileDialogService) protected readonly fileDialogService: FileDialogService;\n    @inject(WorkspaceDeleteHandler) protected readonly deleteHandler: WorkspaceDeleteHandler;\n    @inject(WorkspaceDuplicateHandler) protected readonly duplicateHandler: WorkspaceDuplicateHandler;\n    @inject(WorkspaceCompareHandler) protected readonly compareHandler: WorkspaceCompareHandler;\n    @inject(ClipboardService) protected readonly clipboardService: ClipboardService;\n\n    private readonly onDidCreateNewFileEmitter = new Emitter<DidCreateNewResourceEvent>();\n    private readonly onDidCreateNewFolderEmitter = new Emitter<DidCreateNewResourceEvent>();\n\n    get onDidCreateNewFile(): Event<DidCreateNewResourceEvent> {\n        return this.onDidCreateNewFileEmitter.event;\n    }\n\n    get onDidCreateNewFolder(): Event<DidCreateNewResourceEvent> {\n        return this.onDidCreateNewFolderEmitter.event;\n    }\n\n    protected fireCreateNewFile(uri: DidCreateNewResourceEvent): void {\n        this.onDidCreateNewFileEmitter.fire(uri);\n    }\n\n    protected fireCreateNewFolder(uri: DidCreateNewResourceEvent): void {\n        this.onDidCreateNewFolderEmitter.fire(uri);\n    }\n\n    registerCommands(registry: CommandRegistry): void {\n        registry.registerCommand(WorkspaceCommands.NEW_FILE, this.newWorkspaceRootUriAwareCommandHandler({\n            execute: uri => this.getDirectory(uri).then(parent => {\n                if (parent) {\n                    const parentUri = parent.resource;\n                    const { fileName, fileExtension } = this.getDefaultFileConfig();\n                    const targetUri = parentUri.resolve(fileName + fileExtension);\n                    const vacantChildUri = FileSystemUtils.generateUniqueResourceURI(parent, targetUri, false);\n\n                    const dialog = new WorkspaceInputDialog({\n                        title: nls.localizeByDefault('New File...'),\n                        maxWidth: 400,\n                        parentUri: parentUri,\n                        initialValue: vacantChildUri.path.base,\n                        placeholder: nls.localize('theia/workspace/newFilePlaceholder', 'File Name'),\n                        validate: name => this.validateFileName(name, parent, true)\n                    }, this.labelProvider);\n\n                    dialog.open().then(async name => {\n                        if (name) {\n                            const fileUri = parentUri.resolve(name);\n                            await this.fileService.create(fileUri);\n                            this.fireCreateNewFile({ parent: parentUri, uri: fileUri });\n                            open(this.openerService, fileUri);\n                        }\n                    });\n                }\n            })\n        }));\n        registry.registerCommand(WorkspaceCommands.NEW_FOLDER, this.newWorkspaceRootUriAwareCommandHandler({\n            execute: uri => this.getDirectory(uri).then(parent => {\n                if (parent) {\n                    const parentUri = parent.resource;\n                    const targetUri = parentUri.resolve('Untitled');\n                    const vacantChildUri = FileSystemUtils.generateUniqueResourceURI(parent, targetUri, true);\n                    const dialog = new WorkspaceInputDialog({\n                        title: nls.localizeByDefault('New Folder...'),\n                        maxWidth: 400,\n                        parentUri: parentUri,\n                        initialValue: vacantChildUri.path.base,\n                        placeholder: nls.localize('theia/workspace/newFolderPlaceholder', 'Folder Name'),\n                        validate: name => this.validateFileName(name, parent, true)\n                    }, this.labelProvider);\n                    dialog.open().then(async name => {\n                        if (name) {\n                            const folderUri = parentUri.resolve(name);\n                            await this.fileService.createFolder(folderUri);\n                            this.fireCreateNewFile({ parent: parentUri, uri: folderUri });\n                        }\n                    });\n                }\n            })\n        }));\n        registry.registerCommand(WorkspaceCommands.FILE_RENAME, this.newMultiUriAwareCommandHandler({\n            isEnabled: uris => uris.some(uri => !this.isWorkspaceRoot(uri)) && uris.length === 1,\n            isVisible: uris => uris.some(uri => !this.isWorkspaceRoot(uri)) && uris.length === 1,\n            execute: async uris => {\n                const uri = uris[0]; /* Since there is only one item in the array. */\n                const parent = await this.getParent(uri);\n                if (parent) {\n                    const oldName = uri.path.base;\n                    const dialog = new SingleTextInputDialog({\n                        title: nls.localizeByDefault('Rename'),\n                        maxWidth: 400,\n                        initialValue: oldName,\n                        initialSelectionRange: {\n                            start: 0,\n                            end: uri.path.name.length\n                        },\n                        validate: async (newName, mode) => {\n                            if (oldName === newName && mode === 'preview') {\n                                return false;\n                            }\n                            return this.validateFileRename(oldName, newName, parent);\n                        }\n                    });\n                    const fileName = await dialog.open();\n                    if (fileName) {\n                        const oldUri = uri;\n                        const newUri = uri.parent.resolve(fileName);\n                        return this.fileService.move(oldUri, newUri);\n                    }\n                }\n            }\n        }));\n        registry.registerCommand(WorkspaceCommands.FILE_DUPLICATE, this.newMultiUriAwareCommandHandler(this.duplicateHandler));\n        registry.registerCommand(WorkspaceCommands.FILE_DELETE, this.newMultiUriAwareCommandHandler(this.deleteHandler));\n        registry.registerCommand(WorkspaceCommands.FILE_COMPARE, this.newMultiUriAwareCommandHandler(this.compareHandler));\n        registry.registerCommand(WorkspaceCommands.COPY_RELATIVE_FILE_PATH, UriAwareCommandHandler.MultiSelect(this.selectionService, {\n            isEnabled: uris => !!uris.length,\n            isVisible: uris => !!uris.length,\n            execute: async uris => {\n                const lineDelimiter = EOL;\n                const text = uris.map((uri: URI) => {\n                    const workspaceRoot = this.workspaceService.getWorkspaceRootUri(uri);\n                    if (workspaceRoot) {\n                        return workspaceRoot.relative(uri)?.fsPath();\n                    } else {\n                        return uri.path.fsPath();\n                    }\n                }).join(lineDelimiter);\n                await this.clipboardService.writeText(text);\n            }\n        }));\n        registry.registerCommand(WorkspaceCommands.ADD_FOLDER, {\n            isEnabled: () => this.workspaceService.opened,\n            isVisible: () => this.workspaceService.opened,\n            execute: async () => {\n                const selection = await this.fileDialogService.showOpenDialog({\n                    title: WorkspaceCommands.ADD_FOLDER.label!,\n                    canSelectFiles: false,\n                    canSelectFolders: true,\n                    canSelectMany: true,\n                });\n                if (!selection) {\n                    return;\n                }\n                const uris = Array.isArray(selection) ? selection : [selection];\n                const workspaceSavedBeforeAdding = this.workspaceService.saved;\n                await this.addFolderToWorkspace(...uris);\n                if (!workspaceSavedBeforeAdding) {\n                    this.saveWorkspaceWithPrompt(registry);\n                }\n            }\n        });\n        registry.registerCommand(WorkspaceCommands.REMOVE_FOLDER, this.newMultiUriAwareCommandHandler({\n            execute: uris => this.removeFolderFromWorkspace(uris),\n            isEnabled: () => this.workspaceService.isMultiRootWorkspaceOpened,\n            isVisible: uris => this.areWorkspaceRoots(uris) && this.workspaceService.saved\n        }));\n    }\n\n    protected newUriAwareCommandHandler(handler: UriCommandHandler<URI>): UriAwareCommandHandler<URI> {\n        return UriAwareCommandHandler.MonoSelect(this.selectionService, handler);\n    }\n\n    protected newMultiUriAwareCommandHandler(handler: UriCommandHandler<URI[]>): UriAwareCommandHandler<URI[]> {\n        return UriAwareCommandHandler.MultiSelect(this.selectionService, handler);\n    }\n\n    protected newWorkspaceRootUriAwareCommandHandler(handler: UriCommandHandler<URI>): WorkspaceRootUriAwareCommandHandler {\n        return new WorkspaceRootUriAwareCommandHandler(this.workspaceService, this.selectionService, handler);\n    }\n\n    protected async validateFileRename(oldName: string, newName: string, parent: FileStat): Promise<string> {\n        if (OS.backend.isWindows && parent.resource.resolve(newName).isEqual(parent.resource.resolve(oldName), false)) {\n            return '';\n        }\n        return this.validateFileName(newName, parent, false);\n    }\n\n    /**\n     * Returns an error message if the file name is invalid. Otherwise, an empty string.\n     *\n     * @param name the simple file name of the file to validate.\n     * @param parent the parent directory's file stat.\n     * @param allowNested allow file or folder creation using recursive path\n     */\n    protected async validateFileName(name: string, parent: FileStat, allowNested: boolean = false): Promise<string> {\n        if (!name) {\n            return '';\n        }\n        // do not allow recursive rename\n        if (!allowNested && !validFilename(name)) {\n            return nls.localizeByDefault('The name **{0}** is not valid as a file or folder name. Please choose a different name.');\n        }\n        if (name.startsWith('/')) {\n            return nls.localizeByDefault('A file or folder name cannot start with a slash.');\n        } else if (name.startsWith(' ') || name.endsWith(' ')) {\n            return nls.localizeByDefault('Leading or trailing whitespace detected in file or folder name.');\n        }\n        // check and validate each sub-paths\n        if (name.split(/[\\\\/]/).some(file => !file || !validFilename(file) || /^\\s+$/.test(file))) {\n            return nls.localizeByDefault('\\'{0}\\' is not a valid file name', this.trimFileName(name));\n        }\n        const childUri = parent.resource.resolve(name);\n        const exists = await this.fileService.exists(childUri);\n        if (exists) {\n            return nls.localizeByDefault('A file or folder **{0}** already exists at this location. Please choose a different name.', this.trimFileName(name));\n        }\n        return '';\n    }\n\n    protected trimFileName(name: string): string {\n        if (name && name.length > 30) {\n            return `${name.substring(0, 30)}...`;\n        }\n        return name;\n    }\n\n    protected async getDirectory(candidate: URI): Promise<FileStat | undefined> {\n        let stat: FileStat | undefined;\n        try {\n            stat = await this.fileService.resolve(candidate);\n        } catch { }\n        if (stat && stat.isDirectory) {\n            return stat;\n        }\n        return this.getParent(candidate);\n    }\n\n    protected async getParent(candidate: URI): Promise<FileStat | undefined> {\n        try {\n            return await this.fileService.resolve(candidate.parent);\n        } catch {\n            return undefined;\n        }\n    }\n\n    protected async addFolderToWorkspace(...uris: URI[]): Promise<void> {\n        if (uris.length) {\n            const foldersToAdd = [];\n            try {\n                for (const uri of uris) {\n                    const stat = await this.fileService.resolve(uri);\n                    if (stat.isDirectory) {\n                        foldersToAdd.push(uri);\n                    }\n                }\n                await this.workspaceService.addRoot(foldersToAdd);\n            } catch { }\n        }\n    }\n\n    protected areWorkspaceRoots(uris: URI[]): boolean {\n        return this.workspaceService.areWorkspaceRoots(uris);\n    }\n\n    protected isWorkspaceRoot(uri: URI): boolean {\n        const rootUris = new Set(this.workspaceService.tryGetRoots().map(root => root.resource.toString()));\n        return rootUris.has(uri.toString());\n    }\n\n    protected getDefaultFileConfig(): { fileName: string, fileExtension: string } {\n        return {\n            fileName: 'Untitled',\n            fileExtension: '.txt'\n        };\n    }\n\n    /**\n     * Removes the list of folders from the workspace upon confirmation from the user.\n     * @param uris the list of folder uris to remove.\n     */\n    protected async removeFolderFromWorkspace(uris: URI[]): Promise<void> {\n        const roots = new Set(this.workspaceService.tryGetRoots().map(root => root.resource.toString()));\n        const toRemove = uris.filter(uri => roots.has(uri.toString()));\n        if (toRemove.length > 0) {\n            const messageContainer = document.createElement('div');\n            if (toRemove.length > 1) {\n                messageContainer.textContent = nls.localize('theia/workspace/removeFolders',\n                    'Are you sure you want to remove the following folders from the workspace?');\n            } else {\n                messageContainer.textContent = nls.localize('theia/workspace/removeFolder',\n                    'Are you sure you want to remove the following folder from the workspace?');\n            }\n            messageContainer.title = nls.localize('theia/workspace/noErasure', 'Note: Nothing will be erased from disk');\n            const list = document.createElement('div');\n            list.classList.add('theia-dialog-node');\n            toRemove.forEach(uri => {\n                const listItem = document.createElement('div');\n                listItem.classList.add('theia-dialog-node-content');\n                const folderIcon = document.createElement('span');\n                folderIcon.classList.add('codicon', 'codicon-root-folder', 'theia-dialog-icon');\n                listItem.appendChild(folderIcon);\n                listItem.title = this.labelProvider.getLongName(uri);\n                const listContent = document.createElement('span');\n                listContent.classList.add('theia-dialog-node-segment');\n                listContent.appendChild(document.createTextNode(this.labelProvider.getName(uri)));\n                listItem.appendChild(listContent);\n                list.appendChild(listItem);\n            });\n            messageContainer.appendChild(list);\n            const dialog = new ConfirmDialog({\n                title: nls.localizeByDefault('Remove Folder from Workspace'),\n                msg: messageContainer\n            });\n            if (await dialog.open()) {\n                await this.workspaceService.removeRoots(toRemove);\n            }\n        }\n    }\n\n    async saveWorkspaceWithPrompt(registry: CommandRegistry): Promise<void> {\n        const saveCommand = registry.getCommand(WorkspaceCommands.SAVE_WORKSPACE_AS.id);\n        if (saveCommand && await new ConfirmDialog({\n            title: nls.localize('theia/workspace/workspaceFolderAddedTitle', 'Folder added to Workspace'),\n            msg: nls.localize('theia/workspace/workspaceFolderAdded',\n                'A workspace with multiple roots was created. Do you want to save your workspace configuration as a file?'),\n            ok: Dialog.YES,\n            cancel: Dialog.NO\n        }).open()) {\n            return registry.executeCommand(saveCommand.id);\n        }\n    }\n}\n\nexport class WorkspaceRootUriAwareCommandHandler extends UriAwareCommandHandler<URI> {\n\n    constructor(\n        protected readonly workspaceService: WorkspaceService,\n        selectionService: SelectionService,\n        handler: UriCommandHandler<URI>\n    ) {\n        super(selectionService, handler);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    public override isEnabled(...args: any[]): boolean {\n        return super.isEnabled(...args) && !!this.workspaceService.tryGetRoots().length;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    public override isVisible(...args: any[]): boolean {\n        return super.isVisible(...args) && !!this.workspaceService.tryGetRoots().length;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected override getUri(...args: any[]): URI | undefined {\n        const uri = super.getUri(...args);\n        // Return the `uri` immediately if the resource exists in any of the workspace roots.\n        if (uri && this.workspaceService.getWorkspaceRootUri(uri)) {\n            return uri;\n        }\n        // Return the first root if available.\n        if (!!this.workspaceService.tryGetRoots().length) {\n            return this.workspaceService.tryGetRoots()[0].resource;\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { UriCommandHandler } from '@theia/core/lib/common/uri-command-handler';\nimport { DiffService } from './diff-service';\n\n@injectable()\nexport class WorkspaceCompareHandler implements UriCommandHandler<URI[]> {\n\n    @inject(DiffService) protected readonly diffService: DiffService;\n\n    /**\n     * Determine if the command is visible.\n     *\n     * @param uris URIs of selected resources.\n     * @returns `true` if the command is visible.\n     */\n    isVisible(uris: URI[]): boolean {\n        return uris.length === 2;\n    }\n\n    /**\n     * Determine if the command is enabled.\n     *\n     * @param uris URIs of selected resources.\n     * @returns `true` if the command is enabled.\n     */\n    isEnabled(uris: URI[]): boolean {\n        return uris.length === 2;\n    }\n\n    /**\n     * Execute the command.\n     *\n     * @param uris URIs of selected resources.\n     */\n    async execute(uris: URI[]): Promise<void> {\n        const [left, right] = uris;\n        await this.diffService.openDiffEditor(left, right);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { ConfirmDialog, ApplicationShell, SaveableWidget, NavigatableWidget } from '@theia/core/lib/browser';\nimport { UriCommandHandler } from '@theia/core/lib/common/uri-command-handler';\nimport { WorkspaceService } from './workspace-service';\nimport { WorkspaceUtils } from './workspace-utils';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { FileSystemPreferences } from '@theia/filesystem/lib/browser/filesystem-preferences';\nimport { FileDeleteOptions, FileSystemProviderCapabilities } from '@theia/filesystem/lib/common/files';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class WorkspaceDeleteHandler implements UriCommandHandler<URI[]> {\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(WorkspaceUtils)\n    protected readonly workspaceUtils: WorkspaceUtils;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(FileSystemPreferences)\n    protected readonly fsPreferences: FileSystemPreferences;\n\n    /**\n     * Determine if the command is visible.\n     *\n     * @param uris URIs of selected resources.\n     * @returns `true` if the command is visible.\n     */\n    isVisible(uris: URI[]): boolean {\n        return !!uris.length && !this.workspaceUtils.containsRootDirectory(uris);\n    }\n\n    /**\n     * Determine if the command is enabled.\n     *\n     * @param uris URIs of selected resources.\n     * @returns `true` if the command is enabled.\n     */\n    isEnabled(uris: URI[]): boolean {\n        return !!uris.length && !this.workspaceUtils.containsRootDirectory(uris);\n    }\n\n    /**\n     * Execute the command.\n     *\n     * @param uris URIs of selected resources.\n     */\n    async execute(uris: URI[]): Promise<void> {\n        const distinctUris = URI.getDistinctParents(uris);\n        const resolved: FileDeleteOptions = {\n            recursive: true,\n            useTrash: this.fsPreferences['files.enableTrash'] && distinctUris[0] && this.fileService.hasCapability(distinctUris[0], FileSystemProviderCapabilities.Trash)\n        };\n        if (await this.confirm(distinctUris, resolved)) {\n            await Promise.all(distinctUris.map(uri => this.delete(uri, resolved)));\n        }\n    }\n\n    /**\n     * Display dialog to confirm deletion.\n     *\n     * @param uris URIs of selected resources.\n     */\n    protected confirm(uris: URI[], options: FileDeleteOptions): Promise<boolean | undefined> {\n        let title = uris.length === 1 ? nls.localizeByDefault('File') : nls.localizeByDefault('Files');\n        if (options.useTrash) {\n            title = nls.localize('theia/workspace/trashTitle', 'Move {0} to Trash', title);\n        } else {\n            title = nls.localizeByDefault('Delete {0}', title);\n        }\n        return new ConfirmDialog({\n            title,\n            msg: this.getConfirmMessage(uris)\n        }).open();\n    }\n\n    /**\n     * Get the dialog confirmation message for deletion.\n     *\n     * @param uris URIs of selected resources.\n     */\n    protected getConfirmMessage(uris: URI[]): string | HTMLElement {\n        const dirty = this.getDirty(uris);\n        if (dirty.length) {\n            if (dirty.length === 1) {\n                return nls.localize('theia/workspace/confirmMessage.dirtySingle', 'Do you really want to delete {0} with unsaved changes?', dirty[0].path.base);\n            }\n            return nls.localize('theia/workspace/confirmMessage.dirtyMultiple', 'Do you really want to delete {0} files with unsaved changes?', dirty.length);\n        }\n        if (uris.length === 1) {\n            return nls.localize('theia/workspace/confirmMessage.uriSingle', 'Do you really want to delete {0}?', uris[0].path.base);\n        }\n        if (uris.length > 10) {\n            return nls.localize('theia/workspace/confirmMessage.uriMultiple', 'Do you really want to delete all the {0} selected files?', uris.length);\n        }\n        const messageContainer = document.createElement('div');\n        messageContainer.textContent = nls.localize('theia/workspace/confirmMessage.delete', 'Do you really want to delete the following files?');\n        const list = document.createElement('ul');\n        list.style.listStyleType = 'none';\n        for (const uri of uris) {\n            const listItem = document.createElement('li');\n            listItem.textContent = uri.path.base;\n            list.appendChild(listItem);\n        }\n        messageContainer.appendChild(list);\n        return messageContainer;\n    }\n\n    /**\n     * Get which URI are presently dirty.\n     *\n     * @param uris URIs of selected resources.\n     * @returns An array of dirty URI.\n     */\n    protected getDirty(uris: URI[]): URI[] {\n        const dirty = new Map<string, URI>();\n        const widgets = NavigatableWidget.getAffected(SaveableWidget.getDirty(this.shell.widgets), uris);\n        for (const [resourceUri] of widgets) {\n            dirty.set(resourceUri.toString(), resourceUri);\n        }\n        return [...dirty.values()];\n    }\n\n    /**\n     * Perform deletion of a given URI.\n     *\n     * @param uri URI of selected resource.\n     * @param options deletion options.\n     */\n    protected async delete(uri: URI, options: FileDeleteOptions): Promise<void> {\n        try {\n            await Promise.all([\n                this.closeWithoutSaving(uri),\n                options.useTrash ? this.moveFileToTrash(uri, options) : this.deleteFilePermanently(uri, options)\n            ]);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    protected async deleteFilePermanently(uri: URI, options: FileDeleteOptions): Promise<void> {\n        this.fileService.delete(uri, { ...options, useTrash: false });\n    }\n\n    protected async moveFileToTrash(uri: URI, options: FileDeleteOptions): Promise<void> {\n        try {\n            await this.fileService.delete(uri, { ...options, useTrash: true });\n        } catch (error) {\n            console.error('Error deleting with trash:', error);\n            if (await this.confirmDeletePermanently(uri)) {\n                return this.deleteFilePermanently(uri, options);\n            }\n        }\n    }\n\n    /**\n     * Display dialog to confirm the permanent deletion of a file.\n     *\n     * @param uri URI of selected resource.\n     */\n    protected async confirmDeletePermanently(uri: URI): Promise<boolean> {\n        const title = nls.localize('theia/workspace/confirmDeletePermanently.title', 'Error deleting file');\n\n        const msg = document.createElement('div');\n\n        const question = document.createElement('p');\n        question.textContent = nls.localize('theia/workspace/confirmDeletePermanently.description',\n            'Failed to delete \"{0}\" using the Trash. Do you want to permanently delete instead?',\n            uri.path.base);\n        msg.append(question);\n\n        const info = document.createElement('p');\n        info.textContent = nls.localize('theia/workspace/confirmDeletePermanently.solution', 'You can disable the use of Trash in the preferences.');\n        msg.append(info);\n\n        const response = await new ConfirmDialog({ title, msg }).open();\n        return response || false;\n    }\n\n    /**\n     * Close widget without saving changes.\n     *\n     * @param uri URI of a selected resource.\n     */\n    protected async closeWithoutSaving(uri: URI): Promise<void> {\n        const toClose = [...NavigatableWidget.getAffected(this.shell.widgets, uri)].map(([, widget]) => widget);\n        await this.shell.closeMany(toClose, { save: false });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { WorkspaceUtils } from './workspace-utils';\nimport { WorkspaceService } from './workspace-service';\nimport { UriCommandHandler } from '@theia/core/lib/common/uri-command-handler';\nimport { FileSystemUtils } from '@theia/filesystem/lib/common/filesystem-utils';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\n\n@injectable()\nexport class WorkspaceDuplicateHandler implements UriCommandHandler<URI[]> {\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(WorkspaceUtils)\n    protected readonly workspaceUtils: WorkspaceUtils;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    /**\n     * Determine if the command is visible.\n     *\n     * @param uris URIs of selected resources.\n     * @returns `true` if the command is visible.\n     */\n    isVisible(uris: URI[]): boolean {\n        return !!uris.length && !this.workspaceUtils.containsRootDirectory(uris);\n    }\n\n    /**\n     * Determine if the command is enabled.\n     *\n     * @param uris URIs of selected resources.\n     * @returns `true` if the command is enabled.\n     */\n    isEnabled(uris: URI[]): boolean {\n        return !!uris.length && !this.workspaceUtils.containsRootDirectory(uris);\n    }\n\n    /**\n     * Execute the command.\n     *\n     * @param uris URIs of selected resources.\n     */\n    async execute(uris: URI[]): Promise<void> {\n        await Promise.all(uris.map(async uri => {\n            try {\n                const parent = await this.fileService.resolve(uri.parent);\n                const targetFileStat = await this.fileService.resolve(uri);\n                const target = FileSystemUtils.generateUniqueResourceURI(parent, uri, targetFileStat.isDirectory, 'copy');\n                await this.fileService.copy(uri, target);\n            } catch (e) {\n                console.error(e);\n            }\n        }));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { CommandContribution, CommandRegistry, MenuContribution, MenuModelRegistry, MessageService, isWindows, MaybeArray } from '@theia/core/lib/common';\nimport { isOSX, environment } from '@theia/core';\nimport {\n    open, OpenerService, CommonMenus, KeybindingRegistry, KeybindingContribution,\n    FrontendApplicationContribution, SHELL_TABBAR_CONTEXT_COPY, OnWillStopAction, Navigatable, SaveableSource, Widget\n} from '@theia/core/lib/browser';\nimport { FileDialogService, OpenFileDialogProps, FileDialogTreeFilters } from '@theia/filesystem/lib/browser';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { WorkspaceService } from './workspace-service';\nimport { WorkspaceFileService, THEIA_EXT, VSCODE_EXT } from '../common';\nimport { WorkspaceCommands } from './workspace-commands';\nimport { QuickOpenWorkspace } from './quick-open-workspace';\nimport URI from '@theia/core/lib/common/uri';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { EncodingRegistry } from '@theia/core/lib/browser/encoding-registry';\nimport { UTF8 } from '@theia/core/lib/common/encodings';\nimport { DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { PreferenceConfigurations } from '@theia/core/lib/browser/preferences/preference-configurations';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\nimport { UntitledWorkspaceExitDialog } from './untitled-workspace-exit-dialog';\nimport { FilesystemSaveableService } from '@theia/filesystem/lib/browser/filesystem-saveable-service';\nimport { StopReason } from '@theia/core/lib/common/frontend-application-state';\n\nexport enum WorkspaceStates {\n    /**\n     * The state is `empty` when no workspace is opened.\n     */\n    empty = 'empty',\n    /**\n     * The state is `workspace` when a workspace is opened.\n     */\n    workspace = 'workspace',\n    /**\n     * The state is `folder` when a folder is opened. (1 folder)\n     */\n    folder = 'folder',\n};\nexport type WorkspaceState = keyof typeof WorkspaceStates;\nexport type WorkbenchState = keyof typeof WorkspaceStates;\n\n/** Create the workspace section after open {@link CommonMenus.FILE_OPEN}. */\nexport const FILE_WORKSPACE = [...CommonMenus.FILE, '2_workspace'];\n\n@injectable()\nexport class WorkspaceFrontendContribution implements CommandContribution, KeybindingContribution, MenuContribution, FrontendApplicationContribution {\n\n    @inject(MessageService) protected readonly messageService: MessageService;\n    @inject(FileService) protected readonly fileService: FileService;\n    @inject(OpenerService) protected readonly openerService: OpenerService;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n    @inject(QuickOpenWorkspace) protected readonly quickOpenWorkspace: QuickOpenWorkspace;\n    @inject(FileDialogService) protected readonly fileDialogService: FileDialogService;\n    @inject(ContextKeyService) protected readonly contextKeyService: ContextKeyService;\n    @inject(EncodingRegistry) protected readonly encodingRegistry: EncodingRegistry;\n    @inject(PreferenceConfigurations) protected readonly preferenceConfigurations: PreferenceConfigurations;\n    @inject(FilesystemSaveableService) protected readonly saveService: FilesystemSaveableService;\n    @inject(WorkspaceFileService) protected readonly workspaceFileService: WorkspaceFileService;\n\n    configure(): void {\n        const workspaceExtensions = this.workspaceFileService.getWorkspaceFileExtensions();\n        for (const extension of workspaceExtensions) {\n            this.encodingRegistry.registerOverride({ encoding: UTF8, extension });\n        }\n\n        this.updateEncodingOverrides();\n\n        const workspaceFolderCountKey = this.contextKeyService.createKey<number>('workspaceFolderCount', 0);\n        const updateWorkspaceFolderCountKey = () => workspaceFolderCountKey.set(this.workspaceService.tryGetRoots().length);\n        updateWorkspaceFolderCountKey();\n\n        const workspaceStateKey = this.contextKeyService.createKey<WorkspaceState>('workspaceState', 'empty');\n        const updateWorkspaceStateKey = () => workspaceStateKey.set(this.updateWorkspaceStateKey());\n        updateWorkspaceStateKey();\n\n        const workbenchStateKey = this.contextKeyService.createKey<WorkbenchState>('workbenchState', 'empty');\n        const updateWorkbenchStateKey = () => workbenchStateKey.set(this.updateWorkbenchStateKey());\n        updateWorkbenchStateKey();\n\n        this.updateStyles();\n        this.workspaceService.onWorkspaceChanged(() => {\n            this.updateEncodingOverrides();\n            updateWorkspaceFolderCountKey();\n            updateWorkspaceStateKey();\n            updateWorkbenchStateKey();\n            this.updateStyles();\n        });\n    }\n\n    protected readonly toDisposeOnUpdateEncodingOverrides = new DisposableCollection();\n    protected updateEncodingOverrides(): void {\n        this.toDisposeOnUpdateEncodingOverrides.dispose();\n        for (const root of this.workspaceService.tryGetRoots()) {\n            for (const configPath of this.preferenceConfigurations.getPaths()) {\n                const parent = root.resource.resolve(configPath);\n                this.toDisposeOnUpdateEncodingOverrides.push(this.encodingRegistry.registerOverride({ encoding: UTF8, parent }));\n            }\n        }\n    }\n\n    protected updateStyles(): void {\n        document.body.classList.remove('theia-no-open-workspace');\n        // Display the 'no workspace opened' theme color when no folders are opened (single-root).\n        if (!this.workspaceService.isMultiRootWorkspaceOpened &&\n            !this.workspaceService.tryGetRoots().length) {\n            document.body.classList.add('theia-no-open-workspace');\n        }\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        // Not visible/enabled on Windows/Linux in electron.\n        commands.registerCommand(WorkspaceCommands.OPEN, {\n            isEnabled: () => isOSX || !this.isElectron(),\n            isVisible: () => isOSX || !this.isElectron(),\n            execute: () => this.doOpen()\n        });\n        // Visible/enabled only on Windows/Linux in electron.\n        commands.registerCommand(WorkspaceCommands.OPEN_FILE, {\n            isEnabled: () => true,\n            execute: () => this.doOpenFile()\n        });\n        // Visible/enabled only on Windows/Linux in electron.\n        commands.registerCommand(WorkspaceCommands.OPEN_FOLDER, {\n            isEnabled: () => true,\n            execute: () => this.doOpenFolder()\n        });\n        commands.registerCommand(WorkspaceCommands.OPEN_WORKSPACE, {\n            isEnabled: () => true,\n            execute: () => this.doOpenWorkspace()\n        });\n        commands.registerCommand(WorkspaceCommands.CLOSE, {\n            isEnabled: () => this.workspaceService.opened,\n            execute: () => this.closeWorkspace()\n        });\n        commands.registerCommand(WorkspaceCommands.OPEN_RECENT_WORKSPACE, {\n            execute: () => this.quickOpenWorkspace.select()\n        });\n        commands.registerCommand(WorkspaceCommands.SAVE_WORKSPACE_AS, {\n            isVisible: () => this.workspaceService.opened,\n            isEnabled: () => this.workspaceService.opened,\n            execute: () => this.saveWorkspaceAs()\n        });\n        commands.registerCommand(WorkspaceCommands.OPEN_WORKSPACE_FILE, {\n            isEnabled: () => this.workspaceService.saved,\n            execute: () => {\n                if (this.workspaceService.saved && this.workspaceService.workspace) {\n                    open(this.openerService, this.workspaceService.workspace.resource);\n                }\n            }\n\n        });\n    }\n\n    registerMenus(menus: MenuModelRegistry): void {\n        if (isOSX || !this.isElectron()) {\n            menus.registerMenuAction(CommonMenus.FILE_OPEN, {\n                commandId: WorkspaceCommands.OPEN.id,\n                order: 'a00'\n            });\n        }\n        if (!isOSX && this.isElectron()) {\n            menus.registerMenuAction(CommonMenus.FILE_OPEN, {\n                commandId: WorkspaceCommands.OPEN_FILE.id,\n                label: `${WorkspaceCommands.OPEN_FILE.dialogLabel}...`,\n                order: 'a01'\n            });\n            menus.registerMenuAction(CommonMenus.FILE_OPEN, {\n                commandId: WorkspaceCommands.OPEN_FOLDER.id,\n                label: `${WorkspaceCommands.OPEN_FOLDER.dialogLabel}...`,\n                order: 'a02'\n            });\n        }\n        menus.registerMenuAction(CommonMenus.FILE_OPEN, {\n            commandId: WorkspaceCommands.OPEN_WORKSPACE.id,\n            order: 'a10'\n        });\n        menus.registerMenuAction(CommonMenus.FILE_OPEN, {\n            commandId: WorkspaceCommands.OPEN_RECENT_WORKSPACE.id,\n            order: 'a20'\n        });\n\n        menus.registerMenuAction(FILE_WORKSPACE, {\n            commandId: WorkspaceCommands.ADD_FOLDER.id,\n            order: 'a10'\n        });\n        menus.registerMenuAction(FILE_WORKSPACE, {\n            commandId: WorkspaceCommands.SAVE_WORKSPACE_AS.id,\n            order: 'a20'\n        });\n\n        menus.registerMenuAction(CommonMenus.FILE_CLOSE, {\n            commandId: WorkspaceCommands.CLOSE.id\n        });\n\n        menus.registerMenuAction(CommonMenus.FILE_SAVE, {\n            commandId: WorkspaceCommands.SAVE_AS.id,\n        });\n\n        menus.registerMenuAction(SHELL_TABBAR_CONTEXT_COPY, {\n            commandId: WorkspaceCommands.COPY_RELATIVE_FILE_PATH.id,\n            label: WorkspaceCommands.COPY_RELATIVE_FILE_PATH.label,\n        });\n    }\n\n    registerKeybindings(keybindings: KeybindingRegistry): void {\n        keybindings.registerKeybinding({\n            command: isOSX || !this.isElectron() ? WorkspaceCommands.OPEN.id : WorkspaceCommands.OPEN_FILE.id,\n            keybinding: this.isElectron() ? 'ctrlcmd+o' : 'ctrlcmd+alt+o',\n        });\n        if (!isOSX && this.isElectron()) {\n            keybindings.registerKeybinding({\n                command: WorkspaceCommands.OPEN_FOLDER.id,\n                keybinding: 'ctrl+k ctrl+o',\n            });\n        }\n        keybindings.registerKeybinding({\n            command: WorkspaceCommands.OPEN_WORKSPACE.id,\n            keybinding: 'ctrlcmd+alt+w',\n        });\n        keybindings.registerKeybinding({\n            command: WorkspaceCommands.OPEN_RECENT_WORKSPACE.id,\n            keybinding: 'ctrlcmd+alt+r',\n        });\n        keybindings.registerKeybinding({\n            command: WorkspaceCommands.SAVE_AS.id,\n            keybinding: 'ctrlcmd+shift+s',\n        });\n        keybindings.registerKeybinding({\n            command: WorkspaceCommands.COPY_RELATIVE_FILE_PATH.id,\n            keybinding: isWindows ? 'ctrl+k ctrl+shift+c' : 'ctrlcmd+shift+alt+c',\n            when: '!editorFocus'\n        });\n    }\n\n    /**\n     * This is the generic `Open` method. Opens files and directories too. Resolves to the opened URI.\n     * Except when you are on either Windows or Linux `AND` running in electron. If so, it opens a file.\n     */\n    protected async doOpen(): Promise<URI[] | undefined> {\n        if (!isOSX && this.isElectron()) {\n            return this.doOpenFile();\n        }\n        const [rootStat] = await this.workspaceService.roots;\n        let selectedUris = await this.fileDialogService.showOpenDialog({\n            title: WorkspaceCommands.OPEN.dialogLabel,\n            canSelectFolders: true,\n            canSelectFiles: true,\n            canSelectMany: true\n        }, rootStat);\n        if (selectedUris) {\n            if (!Array.isArray(selectedUris)) {\n                selectedUris = [selectedUris];\n            }\n            const folders: URI[] = [];\n            //  Only open files then open all folders in a new workspace, as done with Electron see doOpenFolder.\n            for (const uri of selectedUris) {\n                const destination = await this.fileService.resolve(uri);\n                if (destination.isDirectory) {\n                    if (this.getCurrentWorkspaceUri()?.toString() !== uri.toString()) {\n                        folders.push(uri);\n                    }\n                } else {\n                    await open(this.openerService, uri);\n                }\n            }\n            if (folders.length > 0) {\n                const openableURI = await this.getOpenableWorkspaceUri(folders);\n                if (openableURI && (!this.workspaceService.workspace || !openableURI.isEqual(this.workspaceService.workspace.resource))) {\n                    this.workspaceService.open(openableURI);\n                }\n            }\n\n            return selectedUris;\n        }\n        return undefined;\n    }\n\n    /**\n     * Opens a set of files after prompting the `Open File` dialog. Resolves to `undefined`, if\n     *  - the workspace root is not set,\n     *  - the file to open does not exist, or\n     *  - it was not a file, but a directory.\n     *\n     * Otherwise, resolves to the set of URIs of the files.\n     */\n    protected async doOpenFile(): Promise<URI[] | undefined> {\n        const props: OpenFileDialogProps = {\n            title: WorkspaceCommands.OPEN_FILE.dialogLabel,\n            canSelectFolders: false,\n            canSelectFiles: true,\n            canSelectMany: true\n        };\n        const [rootStat] = await this.workspaceService.roots;\n        let selectedFilesUris: MaybeArray<URI> | undefined = await this.fileDialogService.showOpenDialog(props, rootStat);\n        if (selectedFilesUris) {\n            if (!Array.isArray(selectedFilesUris)) {\n                selectedFilesUris = [selectedFilesUris];\n            }\n\n            const result = [];\n            for (const uri of selectedFilesUris) {\n                const destination = await this.fileService.resolve(uri);\n                if (destination.isFile) {\n                    await open(this.openerService, uri);\n                    result.push(uri);\n                }\n            }\n            return result;\n        }\n        return undefined;\n    }\n\n    /**\n     * Opens one or more folders after prompting the `Open Folder` dialog. Resolves to `undefined`, if\n     *  - the user's selection is empty or contains only files.\n     *  - the new workspace is equal to the old workspace.\n     *\n     * Otherwise, resolves to the URI of the new workspace:\n     *  - a single folder if a single folder was selected.\n     *  - a new, untitled workspace file if multiple folders were selected.\n     */\n    protected async doOpenFolder(): Promise<URI | undefined> {\n        const props: OpenFileDialogProps = {\n            title: WorkspaceCommands.OPEN_FOLDER.dialogLabel,\n            canSelectFolders: true,\n            canSelectFiles: false,\n            canSelectMany: true,\n        };\n        const [rootStat] = await this.workspaceService.roots;\n        const targetFolders = await this.fileDialogService.showOpenDialog(props, rootStat);\n        if (targetFolders) {\n            const openableUri = await this.getOpenableWorkspaceUri(targetFolders);\n            if (openableUri) {\n                if (!this.workspaceService.workspace || !openableUri.isEqual(this.workspaceService.workspace.resource)) {\n                    this.workspaceService.open(openableUri);\n                    return openableUri;\n                }\n            };\n        }\n        return undefined;\n    }\n\n    protected async getOpenableWorkspaceUri(uris: MaybeArray<URI>): Promise<URI | undefined> {\n        if (Array.isArray(uris)) {\n            if (uris.length < 2) {\n                return uris[0];\n            } else {\n                const foldersToOpen = (await Promise.all(uris.map(uri => this.fileService.resolve(uri))))\n                    .filter(fileStat => !!fileStat?.isDirectory);\n                if (foldersToOpen.length === 1) {\n                    return foldersToOpen[0].resource;\n                } else {\n                    return this.createMultiRootWorkspace(foldersToOpen);\n                }\n            }\n        } else {\n            return uris;\n        }\n    }\n\n    protected async createMultiRootWorkspace(roots: FileStat[]): Promise<URI> {\n        const untitledWorkspace = await this.workspaceService.getUntitledWorkspace();\n        const folders = Array.from(new Set(roots.map(stat => stat.resource.path.toString())), path => ({ path }));\n        const workspaceStat = await this.fileService.createFile(\n            untitledWorkspace,\n            BinaryBuffer.fromString(JSON.stringify({ folders }, null, 4)), // eslint-disable-line no-null/no-null\n            { overwrite: true }\n        );\n        return workspaceStat.resource;\n    }\n\n    /**\n     * Opens a workspace after raising the `Open Workspace` dialog. Resolves to the URI of the recently opened workspace,\n     * if it was successful. Otherwise, resolves to `undefined`.\n     */\n    protected async doOpenWorkspace(): Promise<URI | undefined> {\n        const props = {\n            title: WorkspaceCommands.OPEN_WORKSPACE.dialogLabel,\n            canSelectFiles: true,\n            canSelectFolders: false,\n            filters: this.getWorkspaceDialogFileFilters()\n        };\n        const [rootStat] = await this.workspaceService.roots;\n        const workspaceFileUri = await this.fileDialogService.showOpenDialog(props, rootStat);\n        if (workspaceFileUri &&\n            this.getCurrentWorkspaceUri()?.toString() !== workspaceFileUri.toString()) {\n            if (await this.fileService.exists(workspaceFileUri)) {\n                this.workspaceService.open(workspaceFileUri);\n                return workspaceFileUri;\n            }\n        }\n        return undefined;\n    }\n\n    protected async closeWorkspace(): Promise<void> {\n        await this.workspaceService.close();\n    }\n\n    /**\n     * @returns whether the file was successfully saved.\n     */\n    protected async saveWorkspaceAs(): Promise<boolean> {\n        let exist: boolean = false;\n        let overwrite: boolean = false;\n        let selected: URI | undefined;\n        do {\n            selected = await this.fileDialogService.showSaveDialog({\n                title: WorkspaceCommands.SAVE_WORKSPACE_AS.label!,\n                filters: this.getWorkspaceDialogFileFilters()\n            });\n            if (selected) {\n                const displayName = selected.displayName;\n                const extensions = this.workspaceFileService.getWorkspaceFileExtensions(true);\n                if (!extensions.some(ext => displayName.endsWith(ext))) {\n                    const defaultExtension = extensions[this.workspaceFileService.defaultFileTypeIndex];\n                    selected = selected.parent.resolve(`${displayName}${defaultExtension}`);\n                }\n                exist = await this.fileService.exists(selected);\n                if (exist) {\n                    overwrite = await this.saveService.confirmOverwrite(selected);\n                }\n            }\n        } while (selected && exist && !overwrite);\n\n        if (selected) {\n            try {\n                await this.workspaceService.save(selected);\n                return true;\n            } catch {\n                this.messageService.error(nls.localizeByDefault(\"Unable to save workspace '{0}'\", selected.path.fsPath()));\n            }\n        }\n        return false;\n    }\n\n    canBeSavedAs(widget: Widget | undefined): widget is Widget & SaveableSource & Navigatable {\n        return this.saveService.canSaveAs(widget);\n    }\n\n    async saveAs(widget: Widget & SaveableSource & Navigatable): Promise<void> {\n        await this.saveService.saveAs(widget);\n    }\n\n    protected updateWorkspaceStateKey(): WorkspaceState {\n        return this.doUpdateState();\n    }\n\n    protected updateWorkbenchStateKey(): WorkbenchState {\n        return this.doUpdateState();\n    }\n\n    protected doUpdateState(): WorkspaceState | WorkbenchState {\n        if (this.workspaceService.opened) {\n            return this.workspaceService.isMultiRootWorkspaceOpened ? 'workspace' : 'folder';\n        }\n        return 'empty';\n    }\n\n    protected getWorkspaceDialogFileFilters(): FileDialogTreeFilters {\n        const filters: FileDialogTreeFilters = {};\n        for (const fileType of this.workspaceFileService.getWorkspaceFileTypes()) {\n            filters[`${nls.localizeByDefault('{0} workspace', fileType.name)} (*.${fileType.extension})`] = [fileType.extension];\n        }\n        return filters;\n    }\n\n    private isElectron(): boolean {\n        return environment.electron.is();\n    }\n\n    /**\n     * Get the current workspace URI.\n     *\n     * @returns the current workspace URI.\n     */\n    private getCurrentWorkspaceUri(): URI | undefined {\n        return this.workspaceService.workspace?.resource;\n    }\n\n    onWillStop(): OnWillStopAction<boolean> | undefined {\n        const { workspace } = this.workspaceService;\n        if (workspace && this.workspaceService.isUntitledWorkspace(workspace.resource)) {\n            return {\n                prepare: async reason => reason === StopReason.Reload && this.workspaceService.isSafeToReload(workspace.resource),\n                action: async alreadyConfirmedSafe => {\n                    if (alreadyConfirmedSafe) {\n                        return true;\n                    }\n                    const shouldSaveFile = await new UntitledWorkspaceExitDialog({\n                        title: nls.localizeByDefault('Do you want to save your workspace configuration as a file?')\n                    }).open();\n                    if (shouldSaveFile === \"Don't Save\") {\n                        return true;\n                    } else if (shouldSaveFile === 'Save') {\n                        return this.saveWorkspaceAs();\n                    }\n                    return false; // If cancel, prevent exit.\n\n                },\n                reason: 'Untitled workspace.',\n                // Since deleting the workspace would hobble any future functionality, run this late.\n                priority: 100,\n            };\n        }\n    }\n}\n\nexport namespace WorkspaceFrontendContribution {\n\n    /**\n     * File filter for all Theia and VS Code workspace file types.\n     *\n     * @deprecated Since 1.39.0 Use `WorkspaceFrontendContribution#getWorkspaceDialogFileFilters` instead.\n     */\n    export const DEFAULT_FILE_FILTER: FileDialogTreeFilters = {\n        'Theia Workspace (*.theia-workspace)': [THEIA_EXT],\n        'VS Code Workspace (*.code-workspace)': [VSCODE_EXT]\n    };\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ContainerModule, interfaces } from '@theia/core/shared/inversify';\nimport { CommandContribution, MenuContribution, bindContributionProvider } from '@theia/core/lib/common';\nimport { WebSocketConnectionProvider, FrontendApplicationContribution, KeybindingContribution } from '@theia/core/lib/browser';\nimport {\n    OpenFileDialogFactory,\n    SaveFileDialogFactory,\n    OpenFileDialogProps,\n    SaveFileDialogProps,\n    createOpenFileDialogContainer,\n    createSaveFileDialogContainer,\n    OpenFileDialog,\n    SaveFileDialog,\n} from '@theia/filesystem/lib/browser';\nimport { StorageService } from '@theia/core/lib/browser/storage-service';\nimport { LabelProviderContribution } from '@theia/core/lib/browser/label-provider';\nimport { VariableContribution } from '@theia/variable-resolver/lib/browser';\nimport { WorkspaceServer, workspacePath, UntitledWorkspaceService, WorkspaceFileService } from '../common';\nimport { WorkspaceFrontendContribution } from './workspace-frontend-contribution';\nimport { WorkspaceOpenHandlerContribution, WorkspaceService } from './workspace-service';\nimport { WorkspaceCommandContribution, FileMenuContribution, EditMenuContribution } from './workspace-commands';\nimport { WorkspaceVariableContribution } from './workspace-variable-contribution';\nimport { WorkspaceStorageService } from './workspace-storage-service';\nimport { WorkspaceUriLabelProviderContribution } from './workspace-uri-contribution';\nimport { bindWorkspacePreferences } from './workspace-preferences';\nimport { QuickOpenWorkspace } from './quick-open-workspace';\nimport { WorkspaceDeleteHandler } from './workspace-delete-handler';\nimport { WorkspaceDuplicateHandler } from './workspace-duplicate-handler';\nimport { WorkspaceUtils } from './workspace-utils';\nimport { WorkspaceCompareHandler } from './workspace-compare-handler';\nimport { DiffService } from './diff-service';\nimport { JsonSchemaContribution } from '@theia/core/lib/browser/json-schema-store';\nimport { WorkspaceSchemaUpdater } from './workspace-schema-updater';\nimport { WorkspaceBreadcrumbsContribution } from './workspace-breadcrumbs-contribution';\nimport { FilepathBreadcrumbsContribution } from '@theia/filesystem/lib/browser/breadcrumbs/filepath-breadcrumbs-contribution';\nimport { WorkspaceTrustService } from './workspace-trust-service';\nimport { bindWorkspaceTrustPreferences } from './workspace-trust-preferences';\nimport { UserWorkingDirectoryProvider } from '@theia/core/lib/browser/user-working-directory-provider';\nimport { WorkspaceUserWorkingDirectoryProvider } from './workspace-user-working-directory-provider';\nimport { WindowTitleUpdater } from '@theia/core/lib/browser/window/window-title-updater';\nimport { WorkspaceWindowTitleUpdater } from './workspace-window-title-updater';\nimport { CanonicalUriService } from './canonical-uri-service';\n\nexport default new ContainerModule((bind: interfaces.Bind, unbind: interfaces.Unbind, isBound: interfaces.IsBound, rebind: interfaces.Rebind) => {\n    bindWorkspacePreferences(bind);\n    bindWorkspaceTrustPreferences(bind);\n    bindContributionProvider(bind, WorkspaceOpenHandlerContribution);\n\n    bind(WorkspaceService).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(WorkspaceService);\n\n    bind(CanonicalUriService).toSelf().inSingletonScope();\n    bind(WorkspaceServer).toDynamicValue(ctx => {\n        const provider = ctx.container.get(WebSocketConnectionProvider);\n        return provider.createProxy<WorkspaceServer>(workspacePath);\n    }).inSingletonScope();\n\n    bind(WorkspaceFrontendContribution).toSelf().inSingletonScope();\n    for (const identifier of [FrontendApplicationContribution, CommandContribution, KeybindingContribution, MenuContribution]) {\n        bind(identifier).toService(WorkspaceFrontendContribution);\n    }\n\n    bind(OpenFileDialogFactory).toFactory(ctx =>\n        (props: OpenFileDialogProps) =>\n            createOpenFileDialogContainer(ctx.container, props).get(OpenFileDialog)\n    );\n\n    bind(SaveFileDialogFactory).toFactory(ctx =>\n        (props: SaveFileDialogProps) =>\n            createSaveFileDialogContainer(ctx.container, props).get(SaveFileDialog)\n    );\n\n    bind(WorkspaceCommandContribution).toSelf().inSingletonScope();\n    bind(CommandContribution).toService(WorkspaceCommandContribution);\n    bind(FileMenuContribution).toSelf().inSingletonScope();\n    bind(MenuContribution).toService(FileMenuContribution);\n    bind(EditMenuContribution).toSelf().inSingletonScope();\n    bind(MenuContribution).toService(EditMenuContribution);\n    bind(WorkspaceDeleteHandler).toSelf().inSingletonScope();\n    bind(WorkspaceDuplicateHandler).toSelf().inSingletonScope();\n    bind(WorkspaceCompareHandler).toSelf().inSingletonScope();\n    bind(DiffService).toSelf().inSingletonScope();\n\n    bind(WorkspaceStorageService).toSelf().inSingletonScope();\n    rebind(StorageService).toService(WorkspaceStorageService);\n\n    bind(LabelProviderContribution).to(WorkspaceUriLabelProviderContribution).inSingletonScope();\n    bind(WorkspaceVariableContribution).toSelf().inSingletonScope();\n    bind(VariableContribution).toService(WorkspaceVariableContribution);\n\n    bind(QuickOpenWorkspace).toSelf().inSingletonScope();\n\n    bind(WorkspaceUtils).toSelf().inSingletonScope();\n    bind(WorkspaceFileService).toSelf().inSingletonScope();\n    bind(UntitledWorkspaceService).toSelf().inSingletonScope();\n\n    bind(WorkspaceSchemaUpdater).toSelf().inSingletonScope();\n    bind(JsonSchemaContribution).toService(WorkspaceSchemaUpdater);\n    rebind(FilepathBreadcrumbsContribution).to(WorkspaceBreadcrumbsContribution).inSingletonScope();\n\n    bind(WorkspaceTrustService).toSelf().inSingletonScope();\n    rebind(UserWorkingDirectoryProvider).to(WorkspaceUserWorkingDirectoryProvider).inSingletonScope();\n\n    rebind(WindowTitleUpdater).to(WorkspaceWindowTitleUpdater).inSingletonScope();\n});\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { SingleTextInputDialog, SingleTextInputDialogProps, LabelProvider, codiconArray } from '@theia/core/lib/browser';\n\n@injectable()\nexport class WorkspaceInputDialogProps extends SingleTextInputDialogProps {\n    /**\n     * The parent `URI` for the selection present in the explorer.\n     * Used to display the path in which the file/folder is created at.\n     */\n    parentUri: URI;\n}\n\nexport class WorkspaceInputDialog extends SingleTextInputDialog {\n\n    constructor(\n        @inject(WorkspaceInputDialogProps) protected override readonly props: WorkspaceInputDialogProps,\n        @inject(LabelProvider) protected readonly labelProvider: LabelProvider,\n    ) {\n        super(props);\n        this.appendParentPath();\n    }\n\n    /**\n     * Append the human-readable parent `path` to the dialog.\n     * When possible, display the relative path, else display the full path (ex: workspace root).\n     */\n    protected appendParentPath(): void {\n        // Compute the label for the parent URI.\n        const label = this.labelProvider.getLongName(this.props.parentUri);\n        const element = document.createElement('div');\n        // Create the `folder` icon.\n        const icon = document.createElement('i');\n        icon.classList.add(...codiconArray('folder'));\n        icon.style.marginRight = '0.5em';\n        icon.style.verticalAlign = 'middle';\n        element.style.verticalAlign = 'middle';\n        element.style.paddingBottom = '1em';\n        element.title = this.props.parentUri.path.fsPath();\n        element.appendChild(icon);\n        element.appendChild(document.createTextNode(label));\n        // Add the path and icon div before the `inputField`.\n        this.contentNode.insertBefore(element, this.inputField);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport {\n    createPreferenceProxy,\n    PreferenceProxy,\n    PreferenceService,\n    PreferenceSchema,\n    PreferenceContribution\n} from '@theia/core/lib/browser/preferences';\nimport { nls } from '@theia/core/lib/common/nls';\n\nexport const workspacePreferenceSchema: PreferenceSchema = {\n    type: 'object',\n    properties: {\n        'workspace.preserveWindow': {\n            description: nls.localize('theia/workspace/preserveWindow', 'Enable opening workspaces in current window.'),\n            type: 'boolean',\n            default: false\n        },\n    }\n};\n\nexport interface WorkspaceConfiguration {\n    'workspace.preserveWindow': boolean,\n}\n\nexport const WorkspacePreferenceContribution = Symbol('WorkspacePreferenceContribution');\nexport const WorkspacePreferences = Symbol('WorkspacePreferences');\nexport type WorkspacePreferences = PreferenceProxy<WorkspaceConfiguration>;\n\nexport function createWorkspacePreferences(preferences: PreferenceService, schema: PreferenceSchema = workspacePreferenceSchema): WorkspacePreferences {\n    return createPreferenceProxy(preferences, schema);\n}\n\nexport function bindWorkspacePreferences(bind: interfaces.Bind): void {\n    bind(WorkspacePreferences).toDynamicValue(ctx => {\n        const preferences = ctx.container.get<PreferenceService>(PreferenceService);\n        const contribution = ctx.container.get<PreferenceContribution>(WorkspacePreferenceContribution);\n        return createWorkspacePreferences(preferences, contribution.schema);\n    }).inSingletonScope();\n    bind(WorkspacePreferenceContribution).toConstantValue({ schema: workspacePreferenceSchema });\n    bind(PreferenceContribution).toService(WorkspacePreferenceContribution);\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { JsonSchemaContribution, JsonSchemaDataStore, JsonSchemaRegisterContext } from '@theia/core/lib/browser/json-schema-store';\nimport { isArray, isObject } from '@theia/core/lib/common';\nimport { IJSONSchema } from '@theia/core/lib/common/json-schema';\nimport URI from '@theia/core/lib/common/uri';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { WorkspaceFileService } from '../common';\n\nexport interface SchemaUpdateMessage {\n    key: string,\n    schema?: IJSONSchema,\n    deferred: Deferred<boolean>;\n}\n\nexport namespace AddKeyMessage {\n    export const is = (message: SchemaUpdateMessage | undefined): message is Required<SchemaUpdateMessage> => !!message && message.schema !== undefined;\n}\n\n@injectable()\nexport class WorkspaceSchemaUpdater implements JsonSchemaContribution {\n\n    protected readonly uri = new URI(workspaceSchemaId);\n    protected readonly editQueue: SchemaUpdateMessage[] = [];\n    protected safeToHandleQueue = new Deferred();\n\n    @inject(JsonSchemaDataStore) protected readonly jsonSchemaData: JsonSchemaDataStore;\n    @inject(WorkspaceFileService) protected readonly workspaceFileService: WorkspaceFileService;\n\n    @postConstruct()\n    protected init(): void {\n        this.jsonSchemaData.setSchema(this.uri, workspaceSchema);\n        this.safeToHandleQueue.resolve();\n    }\n\n    registerSchemas(context: JsonSchemaRegisterContext): void {\n        context.registerSchema({\n            fileMatch: this.workspaceFileService.getWorkspaceFileExtensions(true),\n            url: this.uri.toString()\n        });\n    }\n\n    protected async retrieveCurrent(): Promise<WorkspaceSchema> {\n        const current = this.jsonSchemaData.getSchema(this.uri);\n\n        const content = JSON.parse(current || '');\n\n        if (!WorkspaceSchema.is(content)) {\n            throw new Error('Failed to retrieve current workspace schema.');\n        }\n\n        return content;\n    }\n\n    async updateSchema(message: Omit<SchemaUpdateMessage, 'deferred'>): Promise<boolean> {\n        const doHandle = this.editQueue.length === 0;\n        const deferred = new Deferred<boolean>();\n        this.editQueue.push({ ...message, deferred });\n        if (doHandle) {\n            this.handleQueue();\n        }\n        return deferred.promise;\n    }\n\n    protected async handleQueue(): Promise<void> {\n        await this.safeToHandleQueue.promise;\n        this.safeToHandleQueue = new Deferred();\n        const cache = await this.retrieveCurrent();\n        while (this.editQueue.length) {\n            const nextMessage = this.editQueue.shift();\n            if (AddKeyMessage.is(nextMessage)) {\n                this.addKey(nextMessage, cache);\n            } else if (nextMessage) {\n                this.removeKey(nextMessage, cache);\n            }\n        }\n        this.jsonSchemaData.setSchema(this.uri, cache);\n        this.safeToHandleQueue.resolve();\n    }\n\n    protected addKey({ key, schema, deferred }: Required<SchemaUpdateMessage>, cache: WorkspaceSchema): void {\n        if (key in cache.properties) {\n            return deferred.resolve(false);\n        }\n\n        cache.properties[key] = schema;\n        deferred.resolve(true);\n    }\n\n    protected removeKey({ key, deferred }: SchemaUpdateMessage, cache: WorkspaceSchema): void {\n        const canDelete = !cache.required.includes(key);\n        if (!canDelete) {\n            return deferred.resolve(false);\n        }\n\n        const keyPresent = delete cache.properties[key];\n        deferred.resolve(keyPresent);\n    }\n}\n\nexport type WorkspaceSchema = Required<Pick<IJSONSchema, 'properties' | 'required'>>;\n\nexport namespace WorkspaceSchema {\n    export function is(candidate: unknown): candidate is WorkspaceSchema {\n        return isObject<WorkspaceSchema>(candidate)\n            && typeof candidate.properties === 'object'\n            && isArray(candidate.required);\n    }\n}\n\nexport const workspaceSchemaId = 'vscode://schemas/workspace';\nexport const workspaceSchema: IJSONSchema = {\n    $id: workspaceSchemaId,\n    type: 'object',\n    title: 'Workspace File',\n    required: ['folders'],\n    default: { folders: [{ path: '' }], settings: {} },\n    properties: {\n        folders: {\n            description: 'Root folders in the workspace',\n            type: 'array',\n            items: {\n                type: 'object',\n                properties: {\n                    path: {\n                        type: 'string',\n                    }\n                },\n                required: ['path']\n            }\n        }\n    },\n    allowComments: true,\n    allowTrailingCommas: true,\n};\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct, named } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { WorkspaceServer, UntitledWorkspaceService, WorkspaceFileService } from '../common';\nimport { WindowService } from '@theia/core/lib/browser/window/window-service';\nimport { DEFAULT_WINDOW_HASH } from '@theia/core/lib/common/window';\nimport {\n    FrontendApplicationContribution, PreferenceServiceImpl, PreferenceScope, PreferenceSchemaProvider, LabelProvider\n} from '@theia/core/lib/browser';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { ILogger, Disposable, DisposableCollection, Emitter, Event, MaybePromise, MessageService, nls, ContributionProvider } from '@theia/core';\nimport { WorkspacePreferences } from './workspace-preferences';\nimport * as jsoncparser from 'jsonc-parser';\nimport * as Ajv from '@theia/core/shared/ajv';\nimport { FileStat, BaseStat } from '@theia/filesystem/lib/common/files';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { WindowTitleService } from '@theia/core/lib/browser/window/window-title-service';\nimport { FileSystemPreferences } from '@theia/filesystem/lib/browser';\nimport { workspaceSchema, WorkspaceSchemaUpdater } from './workspace-schema-updater';\nimport { IJSONSchema } from '@theia/core/lib/common/json-schema';\nimport { StopReason } from '@theia/core/lib/common/frontend-application-state';\n\nexport const WorkspaceOpenHandlerContribution = Symbol('WorkspaceOpenHandlerContribution');\n\nexport interface WorkspaceOpenHandlerContribution {\n    canHandle(uri: URI): MaybePromise<boolean>;\n    openWorkspace(uri: URI, options?: WorkspaceInput): MaybePromise<void>;\n    getWorkspaceLabel?(uri: URI): MaybePromise<string | undefined>;\n}\n\n/**\n * The workspace service.\n */\n@injectable()\nexport class WorkspaceService implements FrontendApplicationContribution, WorkspaceOpenHandlerContribution {\n\n    protected _workspace: FileStat | undefined;\n\n    protected _roots: FileStat[] = [];\n    protected deferredRoots = new Deferred<FileStat[]>();\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(WorkspaceServer)\n    protected readonly server: WorkspaceServer;\n\n    @inject(WindowService)\n    protected readonly windowService: WindowService;\n\n    @inject(ILogger)\n    protected logger: ILogger;\n\n    @inject(WorkspacePreferences)\n    protected preferences: WorkspacePreferences;\n\n    @inject(PreferenceServiceImpl)\n    protected readonly preferenceImpl: PreferenceServiceImpl;\n\n    @inject(PreferenceSchemaProvider)\n    protected readonly schemaProvider: PreferenceSchemaProvider;\n\n    @inject(EnvVariablesServer)\n    protected readonly envVariableServer: EnvVariablesServer;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(FileSystemPreferences)\n    protected readonly fsPreferences: FileSystemPreferences;\n\n    @inject(WorkspaceSchemaUpdater)\n    protected readonly schemaUpdater: WorkspaceSchemaUpdater;\n\n    @inject(UntitledWorkspaceService)\n    protected readonly untitledWorkspaceService: UntitledWorkspaceService;\n\n    @inject(WorkspaceFileService)\n    protected readonly workspaceFileService: WorkspaceFileService;\n\n    @inject(WindowTitleService)\n    protected readonly windowTitleService: WindowTitleService;\n\n    @inject(ContributionProvider) @named(WorkspaceOpenHandlerContribution)\n    protected readonly openHandlerContribution: ContributionProvider<WorkspaceOpenHandlerContribution>;\n\n    protected _ready = new Deferred<void>();\n    get ready(): Promise<void> {\n        return this._ready.promise;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        const wsUriString = await this.getDefaultWorkspaceUri();\n        const wsStat = await this.toFileStat(wsUriString);\n        await this.setWorkspace(wsStat);\n\n        this.fileService.onDidFilesChange(event => {\n            if (this._workspace && this._workspace.isFile && event.contains(this._workspace.resource)) {\n                this.updateWorkspace();\n            }\n        });\n        this.fsPreferences.onPreferenceChanged(event => {\n            if (event.preferenceName === 'files.watcherExclude') {\n                this.refreshRootWatchers();\n            }\n        });\n        this._ready.resolve();\n    }\n\n    /**\n     * Resolves to the default workspace URI as string.\n     *\n     * The default implementation tries to extract the default workspace location\n     * from the `window.location.hash`, then falls-back to the most recently\n     * used workspace root from the server.\n     *\n     * It is not ensured that the resolved workspace URI is valid, it can point\n     * to a non-existing location.\n     */\n    protected getDefaultWorkspaceUri(): MaybePromise<string | undefined> {\n        return this.doGetDefaultWorkspaceUri();\n    }\n\n    protected async doGetDefaultWorkspaceUri(): Promise<string | undefined> {\n\n        // If an empty window is explicitly requested do not restore a previous workspace.\n        // Note: `window.location.hash` includes leading \"#\" if non-empty.\n        if (window.location.hash === `#${DEFAULT_WINDOW_HASH}`) {\n            window.location.hash = '';\n            return undefined;\n        }\n\n        // Prefer the workspace path specified as the URL fragment, if present.\n        if (window.location.hash.length > 1) {\n            // Remove the leading # and decode the URI.\n            const wpPath = decodeURI(window.location.hash.substring(1));\n            const workspaceUri = new URI().withPath(wpPath).withScheme('file');\n            let workspaceStat: FileStat | undefined;\n            try {\n                workspaceStat = await this.fileService.resolve(workspaceUri);\n            } catch { }\n            if (workspaceStat && !workspaceStat.isDirectory && !this.isWorkspaceFile(workspaceStat)) {\n                this.messageService.error(`Not a valid workspace file: ${workspaceUri}`);\n                return undefined;\n            }\n            return workspaceUri.toString();\n        } else {\n            // Else, ask the server for its suggested workspace (usually the one\n            // specified on the CLI, or the most recent).\n            return this.server.getMostRecentlyUsedWorkspace();\n        }\n    }\n\n    /**\n     * Set the URL fragment to the given workspace path.\n     */\n    protected setURLFragment(workspacePath: string): void {\n        window.location.hash = encodeURI(workspacePath);\n    }\n\n    get roots(): Promise<FileStat[]> {\n        return this.deferredRoots.promise;\n    }\n    tryGetRoots(): FileStat[] {\n        return this._roots;\n    }\n    get workspace(): FileStat | undefined {\n        return this._workspace;\n    }\n\n    protected readonly onWorkspaceChangeEmitter = new Emitter<FileStat[]>();\n    get onWorkspaceChanged(): Event<FileStat[]> {\n        return this.onWorkspaceChangeEmitter.event;\n    }\n\n    protected readonly onWorkspaceLocationChangedEmitter = new Emitter<FileStat | undefined>();\n    get onWorkspaceLocationChanged(): Event<FileStat | undefined> {\n        return this.onWorkspaceLocationChangedEmitter.event;\n    }\n\n    protected readonly toDisposeOnWorkspace = new DisposableCollection();\n    protected async setWorkspace(workspaceStat: FileStat | undefined): Promise<void> {\n        if (this._workspace && workspaceStat &&\n            this._workspace.resource === workspaceStat.resource &&\n            this._workspace.mtime === workspaceStat.mtime &&\n            this._workspace.etag === workspaceStat.etag &&\n            this._workspace.size === workspaceStat.size) {\n            return;\n        }\n        this.toDisposeOnWorkspace.dispose();\n        this._workspace = workspaceStat;\n        if (this._workspace) {\n            const uri = this._workspace.resource;\n            if (this._workspace.isFile) {\n                this.toDisposeOnWorkspace.push(this.fileService.watch(uri));\n                this.onWorkspaceLocationChangedEmitter.fire(this._workspace);\n            }\n            this.setURLFragment(uri.path.toString());\n        } else {\n            this.setURLFragment('');\n        }\n        this.updateTitle();\n        await this.server.setMostRecentlyUsedWorkspace(this._workspace ? this._workspace.resource.toString() : '');\n        await this.updateWorkspace();\n    }\n\n    protected async updateWorkspace(): Promise<void> {\n        await this.updateRoots();\n        this.watchRoots();\n    }\n\n    protected async updateRoots(): Promise<void> {\n        const newRoots = await this.computeRoots();\n        let rootsChanged = false;\n        if (newRoots.length !== this._roots.length || newRoots.length === 0) {\n            rootsChanged = true;\n        } else {\n            for (const newRoot of newRoots) {\n                if (!this._roots.some(r => r.resource.toString() === newRoot.resource.toString())) {\n                    rootsChanged = true;\n                    break;\n                }\n            }\n        }\n        if (rootsChanged) {\n            this._roots = newRoots;\n            this.deferredRoots.resolve(this._roots); // in order to resolve first\n            this.deferredRoots = new Deferred<FileStat[]>();\n            this.deferredRoots.resolve(this._roots);\n            this.onWorkspaceChangeEmitter.fire(this._roots);\n        }\n    }\n\n    protected async computeRoots(): Promise<FileStat[]> {\n        const roots: FileStat[] = [];\n        if (this._workspace) {\n            if (this._workspace.isDirectory) {\n                return [this._workspace];\n            }\n\n            const workspaceData = await this.getWorkspaceDataFromFile();\n            if (workspaceData) {\n                for (const { path } of workspaceData.folders) {\n                    const valid = await this.toValidRoot(path);\n                    if (valid) {\n                        roots.push(valid);\n                    } else {\n                        roots.push(FileStat.dir(path));\n                    }\n                }\n            }\n        }\n        return roots;\n    }\n\n    protected async getWorkspaceDataFromFile(): Promise<WorkspaceData | undefined> {\n        if (this._workspace && await this.fileService.exists(this._workspace.resource)) {\n            if (this._workspace.isDirectory) {\n                return {\n                    folders: [{ path: this._workspace.resource.toString() }]\n                };\n            } else if (this.isWorkspaceFile(this._workspace)) {\n                const stat = await this.fileService.read(this._workspace.resource);\n                const strippedContent = jsoncparser.stripComments(stat.value);\n                const data = jsoncparser.parse(strippedContent);\n                if (data && WorkspaceData.is(data)) {\n                    return WorkspaceData.transformToAbsolute(data, stat);\n                }\n                this.logger.error(`Unable to retrieve workspace data from the file: '${this.labelProvider.getLongName(this._workspace)}'. Please check if the file is corrupted.`);\n            } else {\n                this.logger.warn(`Not a valid workspace file: ${this.labelProvider.getLongName(this._workspace)}`);\n            }\n        }\n    }\n\n    protected updateTitle(): void {\n        let rootName: string | undefined;\n        let rootPath: string | undefined;\n        if (this._workspace) {\n            const displayName = this._workspace.name;\n            const fullName = this._workspace.resource.path.toString();\n            if (this.isWorkspaceFile(this._workspace)) {\n                if (this.isUntitledWorkspace(this._workspace.resource)) {\n                    const untitled = nls.localizeByDefault('Untitled (Workspace)');\n                    rootName = untitled;\n                    rootPath = untitled;\n                } else {\n                    rootName = displayName.slice(0, displayName.lastIndexOf('.'));\n                    rootPath = fullName.slice(0, fullName.lastIndexOf('.'));\n                }\n            } else {\n                rootName = displayName;\n                rootPath = fullName;\n            }\n        }\n        this.windowTitleService.update({\n            rootName,\n            rootPath\n        });\n    }\n\n    /**\n     * on unload, we set our workspace root as the last recently used on the backend.\n     */\n    onStop(): void {\n        this.server.setMostRecentlyUsedWorkspace(this._workspace ? this._workspace.resource.toString() : '');\n    }\n\n    async recentWorkspaces(): Promise<string[]> {\n        return this.server.getRecentWorkspaces();\n    }\n\n    async removeRecentWorkspace(uri: string): Promise<void> {\n        return this.server.removeRecentWorkspace(uri);\n    }\n\n    /**\n     * Returns `true` if theia has an opened workspace or folder\n     * @returns {boolean}\n     */\n    get opened(): boolean {\n        return !!this._workspace;\n    }\n\n    /**\n     * Returns `true` if a multiple-root workspace is currently open.\n     * @returns {boolean}\n     */\n    get isMultiRootWorkspaceOpened(): boolean {\n        return !!this.workspace && !this.workspace.isDirectory;\n    }\n\n    /**\n     * Opens directory, or recreates a workspace from the file that `uri` points to.\n     */\n    open(uri: URI, options?: WorkspaceInput): void {\n        this.doOpen(uri, options);\n    }\n\n    protected async doOpen(uri: URI, options?: WorkspaceInput): Promise<void> {\n        for (const handler of [...this.openHandlerContribution.getContributions(), this]) {\n            if (await handler.canHandle(uri)) {\n                handler.openWorkspace(uri, options);\n                return;\n            }\n        }\n        throw new Error(`Could not find a handler to open the workspace with uri ${uri.toString()}.`);\n    }\n\n    async canHandle(uri: URI): Promise<boolean> {\n        return uri.scheme === 'file';\n    }\n\n    async openWorkspace(uri: URI, options?: WorkspaceInput): Promise<void> {\n        const stat = await this.toFileStat(uri);\n        if (stat) {\n            if (!stat.isDirectory && !this.isWorkspaceFile(stat)) {\n                const message = `Not a valid workspace: ${uri.path.toString()}`;\n                this.messageService.error(message);\n                throw new Error(message);\n            }\n            // The same window has to be preserved too (instead of opening a new one), if the workspace root is not yet available and we are setting it for the first time.\n            // Option passed as parameter has the highest priority (for api developers), then the preference, then the default.\n            await this.roots;\n            const { preserveWindow } = {\n                preserveWindow: this.preferences['workspace.preserveWindow'] || !this.opened,\n                ...options\n            };\n            await this.server.setMostRecentlyUsedWorkspace(uri.toString());\n            if (preserveWindow) {\n                this._workspace = stat;\n            }\n            this.openWindow(stat, Object.assign(options ?? {}, { preserveWindow }));\n            return;\n        }\n        throw new Error('Invalid workspace root URI. Expected an existing directory or workspace file.');\n    }\n\n    /**\n     * Adds root folder(s) to the workspace\n     * @param uris URI or URIs of the root folder(s) to add\n     */\n    async addRoot(uris: URI[] | URI): Promise<void> {\n        const toAdd = Array.isArray(uris) ? uris : [uris];\n        await this.spliceRoots(this._roots.length, 0, ...toAdd);\n    }\n\n    /**\n     * Removes root folder(s) from workspace.\n     */\n    async removeRoots(uris: URI[]): Promise<void> {\n        if (!this.opened) {\n            throw new Error('Folder cannot be removed as there is no active folder in the current workspace.');\n        }\n        if (this._workspace) {\n            const workspaceData = await this.getWorkspaceDataFromFile();\n            this._workspace = await this.writeWorkspaceFile(this._workspace,\n                WorkspaceData.buildWorkspaceData(\n                    this._roots.filter(root => uris.findIndex(u => u.toString() === root.resource.toString()) < 0),\n                    workspaceData\n                )\n            );\n            await this.updateWorkspace();\n        }\n    }\n\n    async spliceRoots(start: number, deleteCount?: number, ...rootsToAdd: URI[]): Promise<URI[]> {\n        if (!this._workspace || this._workspace.isDirectory) {\n            const untitledWorkspace = await this.getUntitledWorkspace();\n            await this.save(untitledWorkspace);\n            if (!this._workspace) {\n                throw new Error('Could not create new untitled workspace');\n            }\n        }\n        const dedup = new Set<string>();\n        const roots = this._roots.map(root => (dedup.add(root.resource.toString()), root.resource.toString()));\n        const toAdd: string[] = [];\n        for (const root of rootsToAdd) {\n            const uri = root.toString();\n            if (!dedup.has(uri)) {\n                dedup.add(uri);\n                toAdd.push(uri);\n            }\n        }\n        const toRemove = roots.splice(start, deleteCount || 0, ...toAdd);\n        if (!toRemove.length && !toAdd.length) {\n            return [];\n        }\n\n        const currentData = await this.getWorkspaceDataFromFile();\n        const newData = WorkspaceData.buildWorkspaceData(roots, currentData);\n        await this.writeWorkspaceFile(this._workspace, newData);\n        await this.updateWorkspace();\n        return toRemove.map(root => new URI(root));\n    }\n\n    async getUntitledWorkspace(): Promise<URI> {\n        const configDirURI = new URI(await this.envVariableServer.getConfigDirUri());\n        return this.untitledWorkspaceService.getUntitledWorkspaceUri(\n            configDirURI,\n            uri => this.fileService.exists(uri).then(exists => !exists),\n            () => this.messageService.warn(nls.localize(\n                'theia/workspace/untitled-cleanup',\n                'There appear to be many untitled workspace files. Please check {0} and remove any unused files.',\n                configDirURI.resolve('workspaces').path.fsPath())\n            ),\n        );\n    }\n\n    protected async writeWorkspaceFile(workspaceFile: FileStat | undefined, workspaceData: WorkspaceData): Promise<FileStat | undefined> {\n        if (workspaceFile) {\n            const data = JSON.stringify(WorkspaceData.transformToRelative(workspaceData, workspaceFile));\n            const edits = jsoncparser.format(data, undefined, { tabSize: 2, insertSpaces: true, eol: '' });\n            const result = jsoncparser.applyEdits(data, edits);\n            await this.fileService.write(workspaceFile.resource, result);\n            return this.fileService.resolve(workspaceFile.resource);\n        }\n    }\n\n    /**\n     * Clears current workspace root.\n     */\n    async close(): Promise<void> {\n        if (await this.windowService.isSafeToShutDown(StopReason.Reload)) {\n            this.windowService.setSafeToShutDown();\n            this._workspace = undefined;\n            this._roots.length = 0;\n\n            await this.server.setMostRecentlyUsedWorkspace('');\n            this.reloadWindow();\n        }\n    }\n\n    /**\n     * returns a FileStat if the argument URI points to an existing directory. Otherwise, `undefined`.\n     */\n    protected async toValidRoot(uri: URI | string | undefined): Promise<FileStat | undefined> {\n        const fileStat = await this.toFileStat(uri);\n        if (fileStat && fileStat.isDirectory) {\n            return fileStat;\n        }\n        return undefined;\n    }\n\n    /**\n     * returns a FileStat if the argument URI points to a file or directory. Otherwise, `undefined`.\n     */\n    protected async toFileStat(uri: URI | string | undefined): Promise<FileStat | undefined> {\n        if (!uri) {\n            return undefined;\n        }\n        let uriStr = uri.toString();\n        try {\n            if (uriStr.endsWith('/')) {\n                uriStr = uriStr.slice(0, -1);\n            }\n            const normalizedUri = new URI(uriStr).normalizePath();\n            return await this.fileService.resolve(normalizedUri);\n        } catch (error) {\n            return undefined;\n        }\n    }\n\n    protected openWindow(uri: FileStat, options?: WorkspaceInput): void {\n        const workspacePath = uri.resource.path.toString();\n\n        if (this.shouldPreserveWindow(options)) {\n            this.reloadWindow(options);\n        } else {\n            try {\n                this.openNewWindow(workspacePath, options);\n            } catch (error) {\n                // Fall back to reloading the current window in case the browser has blocked the new window\n                this._workspace = uri;\n                this.logger.error(error.toString()).then(() => this.reloadWindow());\n            }\n        }\n    }\n\n    protected reloadWindow(options?: WorkspaceInput): void {\n        // Set the new workspace path as the URL fragment.\n        if (this._workspace !== undefined) {\n            this.setURLFragment(this._workspace.resource.path.toString());\n        } else {\n            this.setURLFragment('');\n        }\n\n        this.windowService.reload();\n    }\n\n    protected openNewWindow(workspacePath: string, options?: WorkspaceInput): void {\n        const url = new URL(window.location.href);\n        url.hash = encodeURI(workspacePath);\n        this.windowService.openNewWindow(url.toString());\n    }\n\n    protected shouldPreserveWindow(options?: WorkspaceInput): boolean {\n        return options !== undefined && !!options.preserveWindow;\n    }\n\n    /**\n     * Return true if one of the paths in paths array is present in the workspace\n     * NOTE: You should always explicitly use `/` as the separator between the path segments.\n     */\n    async containsSome(paths: string[]): Promise<boolean> {\n        await this.roots;\n        if (this.opened) {\n            for (const root of this._roots) {\n                const uri = root.resource;\n                for (const path of paths) {\n                    const fileUri = uri.resolve(path);\n                    const exists = await this.fileService.exists(fileUri);\n                    if (exists) {\n                        return exists;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n\n    /**\n     * `true` if the current workspace is configured using a configuration file.\n     *\n     * `false` if there is no workspace or the workspace is simply a folder.\n     */\n    get saved(): boolean {\n        return !!this._workspace && !this._workspace.isDirectory;\n    }\n\n    /**\n     * Save workspace data into a file\n     * @param uri URI or FileStat of the workspace file\n     */\n    async save(uri: URI | FileStat): Promise<void> {\n        const resource = uri instanceof URI ? uri : uri.resource;\n        if (!await this.fileService.exists(resource)) {\n            await this.fileService.create(resource);\n        }\n        const workspaceData: WorkspaceData = { folders: [], settings: {} };\n        if (!this.saved) {\n            for (const p of Object.keys(this.schemaProvider.getCombinedSchema().properties)) {\n                if (this.schemaProvider.isValidInScope(p, PreferenceScope.Folder)) {\n                    continue;\n                }\n                const preferences = this.preferenceImpl.inspect(p);\n                if (preferences && preferences.workspaceValue) {\n                    workspaceData.settings![p] = preferences.workspaceValue;\n                }\n            }\n        }\n        let stat = await this.toFileStat(resource);\n        Object.assign(workspaceData, await this.getWorkspaceDataFromFile());\n        stat = await this.writeWorkspaceFile(stat, WorkspaceData.buildWorkspaceData(this._roots, workspaceData));\n        await this.server.setMostRecentlyUsedWorkspace(resource.toString());\n        // If saving a workspace based on an untitled workspace, delete the old file.\n        const toDelete = this.isUntitledWorkspace(this.workspace?.resource) && this.workspace!.resource;\n        await this.setWorkspace(stat);\n        if (toDelete && stat && !toDelete.isEqual(stat.resource)) {\n            await this.fileService.delete(toDelete).catch(() => { });\n        }\n        this.onWorkspaceLocationChangedEmitter.fire(stat);\n    }\n\n    protected readonly rootWatchers = new Map<string, Disposable>();\n\n    protected async watchRoots(): Promise<void> {\n        const rootUris = new Set(this._roots.map(r => r.resource.toString()));\n        for (const [uri, watcher] of this.rootWatchers.entries()) {\n            if (!rootUris.has(uri)) {\n                watcher.dispose();\n            }\n        }\n        for (const root of this._roots) {\n            this.watchRoot(root);\n        }\n    }\n\n    protected async refreshRootWatchers(): Promise<void> {\n        for (const watcher of this.rootWatchers.values()) {\n            watcher.dispose();\n        }\n        await this.watchRoots();\n    }\n\n    protected async watchRoot(root: FileStat): Promise<void> {\n        const uriStr = root.resource.toString();\n        if (this.rootWatchers.has(uriStr)) {\n            return;\n        }\n        const excludes = this.getExcludes(uriStr);\n        const watcher = this.fileService.watch(new URI(uriStr), {\n            recursive: true,\n            excludes\n        });\n        this.rootWatchers.set(uriStr, new DisposableCollection(\n            watcher,\n            Disposable.create(() => this.rootWatchers.delete(uriStr))\n        ));\n    }\n\n    protected getExcludes(uri: string): string[] {\n        const patterns = this.fsPreferences.get('files.watcherExclude', undefined, uri);\n        return Object.keys(patterns).filter(pattern => patterns[pattern]);\n    }\n\n    /**\n     * Returns the workspace root uri that the given file belongs to.\n     * In case that the file is found in more than one workspace roots, returns the root that is closest to the file.\n     * If the file is not from the current workspace, returns `undefined`.\n     * @param uri URI of the file\n     */\n    getWorkspaceRootUri(uri: URI | undefined): URI | undefined {\n        if (!uri) {\n            const root = this.tryGetRoots()[0];\n            if (root) {\n                return root.resource;\n            }\n            return undefined;\n        }\n        const rootUris: URI[] = [];\n        for (const root of this.tryGetRoots()) {\n            const rootUri = root.resource;\n            if (rootUri && rootUri.scheme === uri.scheme && rootUri.isEqualOrParent(uri)) {\n                rootUris.push(rootUri);\n            }\n        }\n        return rootUris.sort((r1, r2) => r2.toString().length - r1.toString().length)[0];\n    }\n\n    /**\n     * Returns the relative path of the given file to the workspace root.\n     * @param uri URI of the file\n     * @see getWorkspaceRootUri(uri)\n     */\n    async getWorkspaceRelativePath(uri: URI): Promise<string> {\n        const wsUri = this.getWorkspaceRootUri(uri);\n        if (wsUri) {\n            const wsRelative = wsUri.relative(uri);\n            if (wsRelative) {\n                return wsRelative.toString();\n            }\n        }\n        return uri.path.fsPath();\n    }\n\n    areWorkspaceRoots(uris: URI[]): boolean {\n        if (!uris.length) {\n            return false;\n        }\n        const rootUris = new Set(this.tryGetRoots().map(root => root.resource.toString()));\n        return uris.every(uri => rootUris.has(uri.toString()));\n    }\n\n    /**\n     * Check if the file should be considered as a workspace file.\n     *\n     * Example: We should not try to read the contents of an .exe file.\n     */\n    protected isWorkspaceFile(candidate: FileStat | URI): boolean {\n        return this.workspaceFileService.isWorkspaceFile(candidate);\n    }\n\n    isUntitledWorkspace(candidate?: URI): boolean {\n        return this.untitledWorkspaceService.isUntitledWorkspace(candidate);\n    }\n\n    async isSafeToReload(withURI?: URI): Promise<boolean> {\n        return !withURI || !this.untitledWorkspaceService.isUntitledWorkspace(withURI) || new URI(await this.getDefaultWorkspaceUri()).isEqual(withURI);\n    }\n\n    /**\n     *\n     * @param key the property key under which to store the schema (e.g. tasks, launch)\n     * @param schema the schema for the property. If none is supplied, the update is treated as a deletion.\n     */\n    async updateSchema(key: string, schema?: IJSONSchema): Promise<boolean> {\n        return this.schemaUpdater.updateSchema({ key, schema });\n    }\n}\n\nexport interface WorkspaceInput {\n\n    /**\n     * Tests whether the same window should be used or a new one has to be opened after setting the workspace root. By default it is `false`.\n     */\n    preserveWindow?: boolean;\n\n}\n\nexport interface WorkspaceData {\n    folders: Array<{ path: string, name?: string }>;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: string]: { [id: string]: any };\n}\n\nexport namespace WorkspaceData {\n    const validateSchema = new Ajv().compile(workspaceSchema);\n\n    export function is(data: unknown): data is WorkspaceData {\n        return !!validateSchema(data);\n    }\n\n    export function buildWorkspaceData(folders: string[] | FileStat[], additionalFields?: Partial<WorkspaceData>): WorkspaceData {\n        const roots = new Set<string>();\n        if (folders.length > 0) {\n            if (typeof folders[0] !== 'string') {\n                (<FileStat[]>folders).forEach(folder => roots.add(folder.resource.toString()));\n            } else {\n                (<string[]>folders).forEach(folder => roots.add(folder));\n            }\n        }\n        const data: WorkspaceData = {\n            folders: Array.from(roots, folder => ({ path: folder }))\n        };\n        if (additionalFields) {\n            delete additionalFields.folders;\n            Object.assign(data, additionalFields);\n        }\n        return data;\n    }\n\n    export function transformToRelative(data: WorkspaceData, workspaceFile?: FileStat): WorkspaceData {\n        const folderUris: string[] = [];\n        const workspaceFileUri = new URI(workspaceFile ? workspaceFile.resource.toString() : '').withScheme('file');\n        for (const { path } of data.folders) {\n            const folderUri = new URI(path).withScheme('file');\n            const rel = workspaceFileUri.parent.relative(folderUri);\n            if (rel) {\n                folderUris.push(rel.toString());\n            } else {\n                folderUris.push(folderUri.toString());\n            }\n        }\n        return buildWorkspaceData(folderUris, data);\n    }\n\n    export function transformToAbsolute(data: WorkspaceData, workspaceFile?: BaseStat): WorkspaceData {\n        if (workspaceFile) {\n            const folders: string[] = [];\n            for (const folder of data.folders) {\n                const path = folder.path;\n                if (path.startsWith('file:///')) {\n                    folders.push(path);\n                } else {\n                    const absolutePath = workspaceFile.resource.withScheme('file').parent.resolveToAbsolute(path)?.toString();\n                    if (absolutePath) {\n                        folders.push(absolutePath.toString());\n                    }\n                }\n\n            }\n            return Object.assign(data, buildWorkspaceData(folders, data));\n        }\n        return data;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { LocalStorageService, StorageService } from '@theia/core/lib/browser/storage-service';\nimport { WorkspaceService } from './workspace-service';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\n\n/*\n * Prefixes any stored data with the current workspace path.\n */\n@injectable()\nexport class WorkspaceStorageService implements StorageService {\n\n    private prefix: string;\n    private initialized: Promise<void>;\n\n    @inject(LocalStorageService) protected storageService: StorageService;\n    @inject(WorkspaceService) protected workspaceService: WorkspaceService;\n\n    @postConstruct()\n    protected init(): void {\n        this.initialized = this.workspaceService.roots.then(() => {\n            this.updatePrefix();\n            this.workspaceService.onWorkspaceLocationChanged(() => this.updatePrefix());\n        });\n    }\n\n    async setData<T>(key: string, data: T): Promise<void> {\n        if (!this.prefix) {\n            await this.initialized;\n        }\n        const fullKey = this.prefixWorkspaceURI(key);\n        return this.storageService.setData(fullKey, data);\n    }\n\n    async getData<T>(key: string, defaultValue?: T): Promise<T | undefined> {\n        await this.initialized;\n        const fullKey = this.prefixWorkspaceURI(key);\n        return this.storageService.getData(fullKey, defaultValue);\n    }\n\n    protected prefixWorkspaceURI(originalKey: string): string {\n        return `${this.prefix}:${originalKey}`;\n    }\n\n    protected getPrefix(workspaceStat: FileStat | undefined): string {\n        return workspaceStat ? workspaceStat.resource.toString() : '_global_';\n    }\n\n    private updatePrefix(): void {\n        this.prefix = this.getPrefix(this.workspaceService.workspace);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 EclipseSource and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    createPreferenceProxy, PreferenceContribution, PreferenceProxy, PreferenceSchema, PreferenceScope, PreferenceService\n} from '@theia/core/lib/browser/preferences';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { interfaces } from '@theia/core/shared/inversify';\n\nexport const WORKSPACE_TRUST_ENABLED = 'security.workspace.trust.enabled';\nexport const WORKSPACE_TRUST_STARTUP_PROMPT = 'security.workspace.trust.startupPrompt';\nexport const WORKSPACE_TRUST_EMPTY_WINDOW = 'security.workspace.trust.emptyWindow';\n\nexport enum WorkspaceTrustPrompt {\n    ALWAYS = 'always',\n    ONCE = 'once',\n    NEVER = 'never'\n}\n\nexport const workspaceTrustPreferenceSchema: PreferenceSchema = {\n    type: 'object',\n    scope: PreferenceScope.User,\n    properties: {\n        [WORKSPACE_TRUST_ENABLED]: {\n            description: nls.localize('theia/workspace/trustEnabled', 'Controls whether or not workspace trust is enabled. If disabled, all workspaces are trusted.'),\n            type: 'boolean',\n            defaultValue: true\n        },\n        [WORKSPACE_TRUST_STARTUP_PROMPT]: {\n            description: nls.localizeByDefault('Controls when the startup prompt to trust a workspace is shown.'),\n            enum: Object.values(WorkspaceTrustPrompt),\n            defaultValue: WorkspaceTrustPrompt.ALWAYS\n        },\n        [WORKSPACE_TRUST_EMPTY_WINDOW]: {\n            description: nls.localize('theia/workspace/trustEmptyWindow', 'Controls whether or not the empty workspace is trusted by default.'),\n            type: 'boolean',\n            defaultValue: true\n        }\n    }\n};\n\nexport interface WorkspaceTrustConfiguration {\n    [WORKSPACE_TRUST_ENABLED]: boolean,\n    [WORKSPACE_TRUST_STARTUP_PROMPT]: WorkspaceTrustPrompt;\n    [WORKSPACE_TRUST_EMPTY_WINDOW]: boolean;\n}\n\nexport const WorkspaceTrustPreferenceContribution = Symbol('WorkspaceTrustPreferenceContribution');\nexport const WorkspaceTrustPreferences = Symbol('WorkspaceTrustPreferences');\nexport type WorkspaceTrustPreferences = PreferenceProxy<WorkspaceTrustConfiguration>;\n\nexport function createWorkspaceTrustPreferences(preferences: PreferenceService, schema: PreferenceSchema = workspaceTrustPreferenceSchema): WorkspaceTrustPreferences {\n    return createPreferenceProxy(preferences, schema);\n}\n\nexport function bindWorkspaceTrustPreferences(bind: interfaces.Bind): void {\n    bind(WorkspaceTrustPreferences).toDynamicValue(ctx => {\n        const preferences = ctx.container.get<PreferenceService>(PreferenceService);\n        const contribution = ctx.container.get<PreferenceContribution>(WorkspaceTrustPreferenceContribution);\n        return createWorkspaceTrustPreferences(preferences, contribution.schema);\n    }).inSingletonScope();\n    bind(WorkspaceTrustPreferenceContribution).toConstantValue({ schema: workspaceTrustPreferenceSchema });\n    bind(PreferenceContribution).toService(WorkspaceTrustPreferenceContribution);\n}\n","// *****************************************************************************\n// Copyright (C) 2021 EclipseSource and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ConfirmDialog, Dialog, PreferenceChange, StorageService } from '@theia/core/lib/browser';\nimport { PreferenceScope, PreferenceService } from '@theia/core/lib/browser/preferences/preference-service';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { WindowService } from '@theia/core/lib/browser/window/window-service';\nimport {\n    WorkspaceTrustPreferences, WORKSPACE_TRUST_EMPTY_WINDOW, WORKSPACE_TRUST_ENABLED, WORKSPACE_TRUST_STARTUP_PROMPT, WorkspaceTrustPrompt\n} from './workspace-trust-preferences';\nimport { FrontendApplicationConfigProvider } from '@theia/core/lib/browser/frontend-application-config-provider';\nimport { WorkspaceService } from './workspace-service';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\n\nconst STORAGE_TRUSTED = 'trusted';\n\n@injectable()\nexport class WorkspaceTrustService {\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(PreferenceService)\n    protected readonly preferences: PreferenceService;\n\n    @inject(StorageService)\n    protected readonly storage: StorageService;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(WorkspaceTrustPreferences)\n    protected readonly workspaceTrustPref: WorkspaceTrustPreferences;\n\n    @inject(WindowService)\n    protected readonly windowService: WindowService;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    protected workspaceTrust = new Deferred<boolean>();\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        await this.workspaceService.ready;\n        await this.resolveWorkspaceTrust();\n        this.preferences.onPreferenceChanged(change => this.handlePreferenceChange(change));\n    }\n\n    getWorkspaceTrust(): Promise<boolean> {\n        return this.workspaceTrust.promise;\n    }\n\n    protected async resolveWorkspaceTrust(givenTrust?: boolean): Promise<void> {\n        if (!this.isWorkspaceTrustResolved()) {\n            const trust = givenTrust ?? await this.calculateWorkspaceTrust();\n            if (trust !== undefined) {\n                await this.storeWorkspaceTrust(trust);\n                this.contextKeyService.setContext('isWorkspaceTrusted', trust);\n                this.workspaceTrust.resolve(trust);\n            }\n        }\n    }\n\n    protected isWorkspaceTrustResolved(): boolean {\n        return this.workspaceTrust.state !== 'unresolved';\n    }\n\n    protected async calculateWorkspaceTrust(): Promise<boolean | undefined> {\n        if (!this.workspaceTrustPref[WORKSPACE_TRUST_ENABLED]) {\n            // in VS Code if workspace trust is disabled, we implicitly trust the workspace\n            return true;\n        }\n\n        if (this.workspaceTrustPref[WORKSPACE_TRUST_EMPTY_WINDOW] && !this.workspaceService.workspace) {\n            return true;\n        }\n\n        if (this.workspaceTrustPref[WORKSPACE_TRUST_STARTUP_PROMPT] === WorkspaceTrustPrompt.NEVER) {\n            return false;\n        }\n\n        return this.loadWorkspaceTrust();\n    }\n\n    protected async loadWorkspaceTrust(): Promise<boolean | undefined> {\n        if (this.workspaceTrustPref[WORKSPACE_TRUST_STARTUP_PROMPT] === WorkspaceTrustPrompt.ONCE) {\n            return this.storage.getData<boolean>(STORAGE_TRUSTED);\n        }\n    }\n\n    protected async storeWorkspaceTrust(trust: boolean): Promise<void> {\n        if (this.workspaceTrustPref[WORKSPACE_TRUST_STARTUP_PROMPT] === WorkspaceTrustPrompt.ONCE) {\n            return this.storage.setData(STORAGE_TRUSTED, trust);\n        }\n    }\n\n    protected async handlePreferenceChange(change: PreferenceChange): Promise<void> {\n        if (change.scope === PreferenceScope.User) {\n            if (change.preferenceName === WORKSPACE_TRUST_STARTUP_PROMPT && change.newValue !== WorkspaceTrustPrompt.ONCE) {\n                this.storage.setData(STORAGE_TRUSTED, undefined);\n            }\n\n            if (change.preferenceName === WORKSPACE_TRUST_ENABLED && this.isWorkspaceTrustResolved() && await this.confirmRestart()) {\n                this.windowService.setSafeToShutDown();\n                this.windowService.reload();\n            }\n\n            if (change.preferenceName === WORKSPACE_TRUST_ENABLED || change.preferenceName === WORKSPACE_TRUST_EMPTY_WINDOW) {\n                this.resolveWorkspaceTrust();\n            }\n        }\n    }\n\n    protected async confirmRestart(): Promise<boolean> {\n        const shouldRestart = await new ConfirmDialog({\n            title: nls.localizeByDefault('A setting has changed that requires a restart to take effect.'),\n            msg: nls.localizeByDefault('Press the restart button to restart {0} and enable the setting.', FrontendApplicationConfigProvider.get().applicationName),\n            ok: nls.localizeByDefault('Restart'),\n            cancel: Dialog.CANCEL,\n        }).open();\n        return shouldRestart === true;\n    }\n\n    async requestWorkspaceTrust(): Promise<boolean | undefined> {\n        if (!this.isWorkspaceTrustResolved()) {\n            const isTrusted = await this.messageService.info(nls.localize('theia/workspace/trustRequest',\n                'An extension requests workspace trust but the corresponding API is not yet fully supported. Do you want to trust this workspace?'),\n                Dialog.YES, Dialog.NO);\n            const trusted = isTrusted === Dialog.YES;\n            this.resolveWorkspaceTrust(trusted);\n        }\n        return this.workspaceTrust.promise;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DefaultUriLabelProviderContribution, URIIconReference } from '@theia/core/lib/browser/label-provider';\nimport URI from '@theia/core/lib/common/uri';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\nimport { WorkspaceService } from './workspace-service';\nimport { WorkspaceVariableContribution } from './workspace-variable-contribution';\n\n@injectable()\nexport class WorkspaceUriLabelProviderContribution extends DefaultUriLabelProviderContribution {\n\n    @inject(WorkspaceVariableContribution) protected readonly workspaceVariable: WorkspaceVariableContribution;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n\n    @postConstruct()\n    override init(): void {\n        // no-op, backward compatibility\n    }\n\n    override canHandle(element: object): number {\n        if ((element instanceof URI && element.scheme === 'file' || URIIconReference.is(element) || FileStat.is(element))) {\n            return 10;\n        }\n        return 0;\n    }\n\n    override getIcon(element: URI | URIIconReference | FileStat): string {\n        return super.getIcon(this.asURIIconReference(element));\n    }\n\n    override getName(element: URI | URIIconReference | FileStat): string | undefined {\n        return super.getName(this.asURIIconReference(element));\n    }\n\n    /**\n     * trims the workspace root from a file uri, if it is a child.\n     */\n    override getLongName(element: URI | URIIconReference | FileStat): string | undefined {\n        const uri = this.getUri(element);\n        if (uri) {\n            const formatting = this.findFormatting(uri);\n            if (formatting) {\n                return this.formatUri(uri, formatting);\n            }\n        }\n        const relativePath = uri && this.workspaceVariable.getWorkspaceRelativePath(uri);\n        return relativePath || super.getLongName(this.asURIIconReference(element));\n    }\n\n    override getDetails(element: URI | URIIconReference | FileStat): string | undefined {\n        const uri = this.getUri(element);\n        if (!uri) {\n            return this.getLongName(element);\n        }\n        // Parent in order to omit the name - that's what comes out of `getName`, and `getDetails` should supplement, not duplicate.\n        const relativePath = uri && this.workspaceVariable.getWorkspaceRelativePath(uri.parent);\n        if (relativePath !== undefined) {\n            const prefix = this.workspaceService.tryGetRoots().length > 1 ? this.getName(this.workspaceVariable.getWorkspaceRootUri(uri)!) : '';\n            const separator = prefix && relativePath ? '  ' : '';\n            return prefix + separator + relativePath;\n        }\n        return this.getLongName(uri.parent);\n    }\n\n    protected asURIIconReference(element: URI | URIIconReference | FileStat): URI | URIIconReference {\n        if (FileStat.is(element)) {\n            return URIIconReference.create(element.isDirectory ? 'folder' : 'file', element.resource);\n        }\n        const uri = this.getUri(element);\n        if (uri && this.workspaceVariable.getWorkspaceRootUri(uri)?.isEqual(uri)) {\n            return URIIconReference.create('folder', uri);\n        }\n        return element;\n    }\n\n    protected override getUri(element: URI | URIIconReference | FileStat): URI | undefined {\n        if (FileStat.is(element)) {\n            return element.resource;\n        }\n        return super.getUri(element);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { UserWorkingDirectoryProvider } from '@theia/core/lib/browser/user-working-directory-provider';\nimport URI from '@theia/core/lib/common/uri';\nimport { WorkspaceService } from './workspace-service';\nimport { MaybePromise } from '@theia/core';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\n\n@injectable()\nexport class WorkspaceUserWorkingDirectoryProvider extends UserWorkingDirectoryProvider {\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n    @inject(FileService) protected readonly fileService: FileService;\n\n    override async getUserWorkingDir(): Promise<URI> {\n        return await this.getFromSelection()\n            ?? await this.getFromLastOpenResource()\n            ?? await this.getFromWorkspace()\n            ?? this.getFromUserHome();\n    }\n\n    protected getFromWorkspace(): MaybePromise<URI | undefined> {\n        return this.workspaceService.tryGetRoots()[0]?.resource;\n    }\n\n    protected override async ensureIsDirectory(uri?: URI): Promise<URI | undefined> {\n        if (uri) {\n            const asFile = uri.withScheme('file');\n            const stat = await this.fileService.resolve(asFile)\n                .catch(() => this.fileService.resolve(asFile.parent))\n                .catch(() => undefined);\n            return stat?.isDirectory ? stat.resource : stat?.resource.parent;\n        }\n    }\n}\n","\n// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n// TODO get rid of util files, replace with methods in a responsible class\n\nimport URI from '@theia/core/lib/common/uri';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { WorkspaceService } from './workspace-service';\n\n/**\n * Collection of workspace utility functions\n * @class\n */\n@injectable()\nexport class WorkspaceUtils {\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    /**\n     * Determine if root directory exists\n     * for a given array of URIs\n     * @param uris\n     */\n    containsRootDirectory(uris: URI[]): boolean {\n        // obtain all roots URIs for a given workspace\n        const rootUris = this.workspaceService.tryGetRoots().map(root => root.resource);\n        // return true if at least a single URI is a root directory\n        return rootUris.some(rootUri => uris.some(uri => uri.isEqualOrParent(rootUri)));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Path } from '@theia/core/lib/common/path';\nimport { ApplicationShell, NavigatableWidget, WidgetManager } from '@theia/core/lib/browser';\nimport { VariableContribution, VariableRegistry, Variable } from '@theia/variable-resolver/lib/browser';\nimport { WorkspaceService } from './workspace-service';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\n\n@injectable()\nexport class WorkspaceVariableContribution implements VariableContribution {\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n    @inject(FileService)\n    protected readonly fileService: FileService;\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    protected currentWidget: NavigatableWidget | undefined;\n\n    @postConstruct()\n    protected init(): void {\n        this.shell.onDidChangeCurrentWidget(() => this.updateCurrentWidget());\n        this.widgetManager.onDidCreateWidget(({ widget }) => {\n            if (NavigatableWidget.is(widget)) {\n                widget.onDidChangeVisibility(() => {\n                    if (widget.isVisible) {\n                        this.addRecentlyVisible(widget);\n                    } else {\n                        this.removeRecentlyVisible(widget);\n                    }\n                    this.updateCurrentWidget();\n                });\n                widget.onDidDispose(() => {\n                    this.removeRecentlyVisible(widget);\n                    this.updateCurrentWidget();\n                });\n            }\n        });\n        for (const widget of this.shell.widgets) {\n            if (NavigatableWidget.is(widget) && widget.isVisible) {\n                this.addRecentlyVisible(widget);\n            }\n        }\n        this.updateCurrentWidget();\n    }\n\n    protected readonly recentlyVisibleIds: string[] = [];\n    protected get recentlyVisible(): NavigatableWidget | undefined {\n        const id = this.recentlyVisibleIds[0];\n        const widget = id && this.shell.getWidgetById(id) || undefined;\n        if (NavigatableWidget.is(widget)) {\n            return widget;\n        }\n        return undefined;\n    }\n    protected addRecentlyVisible(widget: NavigatableWidget): void {\n        this.removeRecentlyVisible(widget);\n        this.recentlyVisibleIds.unshift(widget.id);\n    }\n    protected removeRecentlyVisible(widget: NavigatableWidget): void {\n        const index = this.recentlyVisibleIds.indexOf(widget.id);\n        if (index !== -1) {\n            this.recentlyVisibleIds.splice(index, 1);\n        }\n    }\n\n    protected updateCurrentWidget(): void {\n        const { currentWidget } = this.shell;\n        if (NavigatableWidget.is(currentWidget)) {\n            this.currentWidget = currentWidget;\n        } else if (!this.currentWidget || !this.currentWidget.isVisible) {\n            this.currentWidget = this.recentlyVisible;\n        }\n    }\n\n    registerVariables(variables: VariableRegistry): void {\n        this.registerWorkspaceRootVariables(variables);\n\n        variables.registerVariable({\n            name: 'file',\n            description: 'The path of the currently opened file',\n            resolve: () => {\n                const uri = this.getResourceUri();\n                return uri && this.fileService.fsPath(uri);\n            }\n        });\n        variables.registerVariable({\n            name: 'fileBasename',\n            description: 'The basename of the currently opened file',\n            resolve: () => {\n                const uri = this.getResourceUri();\n                return uri && uri.path.base;\n            }\n        });\n        variables.registerVariable({\n            name: 'fileBasenameNoExtension',\n            description: \"The currently opened file's name without extension\",\n            resolve: () => {\n                const uri = this.getResourceUri();\n                return uri && uri.path.name;\n            }\n        });\n        variables.registerVariable({\n            name: 'fileDirname',\n            description: \"The name of the currently opened file's directory\",\n            resolve: () => {\n                const uri = this.getResourceUri();\n                return uri && uri.path.dir.toString();\n            }\n        });\n        variables.registerVariable({\n            name: 'fileExtname',\n            description: 'The extension of the currently opened file',\n            resolve: () => {\n                const uri = this.getResourceUri();\n                return uri && uri.path.ext;\n            }\n        });\n    }\n\n    protected registerWorkspaceRootVariables(variables: VariableRegistry): void {\n        const scoped = (variable: Variable): Variable => ({\n            name: variable.name,\n            description: variable.description,\n            resolve: (context, workspaceRootName) => {\n                const workspaceRoot = workspaceRootName && this.workspaceService.tryGetRoots().find(r => r.resource.path.name === workspaceRootName);\n                return variable.resolve(workspaceRoot ? workspaceRoot.resource : context);\n            }\n        });\n        variables.registerVariable(scoped({\n            name: 'workspaceRoot',\n            description: 'The path of the workspace root folder',\n            resolve: (context?: URI) => {\n                const uri = this.getWorkspaceRootUri(context);\n                return uri && this.fileService.fsPath(uri);\n            }\n        }));\n        variables.registerVariable(scoped({\n            name: 'workspaceFolder',\n            description: 'The path of the workspace root folder',\n            resolve: (context?: URI) => {\n                const uri = this.getWorkspaceRootUri(context);\n                return uri && this.fileService.fsPath(uri);\n            }\n        }));\n        variables.registerVariable(scoped({\n            name: 'workspaceRootFolderName',\n            description: 'The name of the workspace root folder',\n            resolve: (context?: URI) => {\n                const uri = this.getWorkspaceRootUri(context);\n                return uri && uri.displayName;\n            }\n        }));\n        variables.registerVariable(scoped({\n            name: 'workspaceFolderBasename',\n            description: 'The name of the workspace root folder',\n            resolve: (context?: URI) => {\n                const uri = this.getWorkspaceRootUri(context);\n                return uri && uri.displayName;\n            }\n        }));\n        variables.registerVariable(scoped({\n            name: 'cwd',\n            description: \"The task runner's current working directory on startup\",\n            resolve: (context?: URI) => {\n                const uri = this.getWorkspaceRootUri(context);\n                return (uri && this.fileService.fsPath(uri)) || '';\n            }\n        }));\n        variables.registerVariable(scoped({\n            name: 'relativeFile',\n            description: \"The currently opened file's path relative to the workspace root\",\n            resolve: (context?: URI) => {\n                const uri = this.getResourceUri();\n                return uri && this.getWorkspaceRelativePath(uri, context);\n            }\n        }));\n        variables.registerVariable(scoped({\n            name: 'relativeFileDirname',\n            description: \"The current opened file's dirname relative to ${workspaceFolder}\",\n            resolve: (context?: URI) => {\n                const uri = this.getResourceUri();\n                const relativePath = uri && this.getWorkspaceRelativePath(uri, context);\n                return relativePath && new Path(relativePath).dir.toString();\n            }\n        }));\n    }\n\n    getWorkspaceRootUri(uri: URI | undefined = this.getResourceUri()): URI | undefined {\n        return this.workspaceService.getWorkspaceRootUri(uri);\n    }\n\n    getResourceUri(): URI | undefined {\n        return this.currentWidget && this.currentWidget.getResourceUri();\n    }\n\n    getWorkspaceRelativePath(uri: URI, context?: URI): string | undefined {\n        const workspaceRootUri = this.getWorkspaceRootUri(context || uri);\n        const path = workspaceRootUri && workspaceRootUri.path.relative(uri.path);\n        return path && path.toString();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { WindowTitleUpdater } from '@theia/core/lib/browser/window/window-title-updater';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { Widget } from '@theia/core/lib/browser/widgets/widget';\nimport { WorkspaceService } from './workspace-service';\nimport { Navigatable } from '@theia/core/lib/browser/navigatable';\n\n@injectable()\nexport class WorkspaceWindowTitleUpdater extends WindowTitleUpdater {\n\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n\n    protected override updateTitleWidget(widget?: Widget): void {\n        super.updateTitleWidget(widget);\n        let folderName: string | undefined;\n        let folderPath: string | undefined;\n        if (Navigatable.is(widget)) {\n            const folder = this.workspaceService.getWorkspaceRootUri(widget.getResourceUri());\n            if (folder) {\n                folderName = this.labelProvider.getName(folder);\n                folderPath = folder.path.toString();\n            }\n        }\n        this.windowTitleService.update({\n            folderName,\n            folderPath\n        });\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './workspace-protocol';\nexport * from './workspace-file-service';\nexport * from './untitled-workspace-service';\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { MaybePromise } from '@theia/core';\nimport { WorkspaceFileService } from './workspace-file-service';\n\n@injectable()\nexport class UntitledWorkspaceService {\n\n    @inject(WorkspaceFileService)\n    protected readonly workspaceFileService: WorkspaceFileService;\n\n    isUntitledWorkspace(candidate?: URI): boolean {\n        return !!candidate && this.workspaceFileService.isWorkspaceFile(candidate) && candidate.path.base.startsWith('Untitled');\n    }\n\n    async getUntitledWorkspaceUri(configDirUri: URI, isAcceptable: (candidate: URI) => MaybePromise<boolean>, warnOnHits?: () => unknown): Promise<URI> {\n        const parentDir = configDirUri.resolve('workspaces');\n        const workspaceExtensions = this.workspaceFileService.getWorkspaceFileExtensions();\n        const defaultFileExtension = workspaceExtensions[this.workspaceFileService.defaultFileTypeIndex];\n        let uri;\n        let attempts = 0;\n        do {\n            attempts++;\n            uri = parentDir.resolve(`Untitled-${Math.round(Math.random() * 1000)}.${defaultFileExtension}`);\n            if (attempts === 10) {\n                warnOnHits?.();\n            }\n            if (attempts === 50) {\n                throw new Error('Workspace Service: too many attempts to find unused filename.');\n            }\n        } while (!(await isAcceptable(uri)));\n        return uri;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { URI } from '@theia/core';\nimport { injectable } from '@theia/core/shared/inversify';\nimport { FileStat } from '@theia/filesystem/lib/common/files';\n\nexport interface WorkspaceFileType {\n    extension: string\n    name: string\n}\n\n/**\n * @deprecated Since 1.39.0. Use `WorkspaceFileService#getWorkspaceFileTypes` instead.\n */\nexport const THEIA_EXT = 'theia-workspace';\n/**\n * @deprecated Since 1.39.0. Use `WorkspaceFileService#getWorkspaceFileTypes` instead.\n */\nexport const VSCODE_EXT = 'code-workspace';\n\n@injectable()\nexport class WorkspaceFileService {\n\n    protected _defaultFileTypeIndex = 0;\n\n    get defaultFileTypeIndex(): number {\n        return this._defaultFileTypeIndex;\n    }\n\n    /**\n     * Check if the file should be considered as a workspace file.\n     *\n     * Example: We should not try to read the contents of an .exe file.\n     */\n    isWorkspaceFile(candidate: FileStat | URI): boolean {\n        const uri = FileStat.is(candidate) ? candidate.resource : candidate;\n        const extensions = this.getWorkspaceFileExtensions(true);\n        return extensions.includes(uri.path.ext);\n    }\n\n    getWorkspaceFileTypes(): WorkspaceFileType[] {\n        return [\n            {\n                name: 'Theia',\n                extension: THEIA_EXT\n            },\n            {\n                name: 'Visual Studio Code',\n                extension: VSCODE_EXT\n            }\n        ];\n    }\n\n    getWorkspaceFileExtensions(dot?: boolean): string[] {\n        return this.getWorkspaceFileTypes().map(type => dot ? `.${type.extension}` : type.extension);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport const workspacePath = '/services/workspace';\n\n/**\n * The JSON-RPC workspace interface.\n */\nexport const WorkspaceServer = Symbol('WorkspaceServer');\nexport interface WorkspaceServer {\n\n    /**\n     * Returns with a promise that resolves to the most recently used workspace folder URI as a string.\n     * Resolves to `undefined` if the workspace folder is not yet set.\n     */\n    getMostRecentlyUsedWorkspace(): Promise<string | undefined>;\n\n    /**\n     * Sets the desired string representation of the URI as the most recently used workspace folder.\n     */\n    setMostRecentlyUsedWorkspace(uri: string): Promise<void>;\n\n    /**\n     * Removes a workspace from the list of recently opened workspaces.\n     *\n     * @param uri the workspace uri.\n     */\n    removeRecentWorkspace(uri: string): Promise<void>;\n\n    /**\n     * Returns list of recently opened workspaces as an array.\n     */\n    getRecentWorkspaces(): Promise<string[]>\n}\n","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!./history.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.theia-scm-history .history-container {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: 100%;\n}\n\n.theia-scm-history .listContainer {\n  flex: 1;\n  position: relative;\n}\n\n.theia-scm-history .commitList {\n  height: 100%;\n}\n\n.theia-scm-history .history-container .noWrapInfo {\n  width: 100%;\n}\n\n.theia-scm-history .commitList .commitListElement {\n  margin: 3px 0;\n}\n\n.theia-scm-history .commitListElement.first .containerHead {\n  border: none;\n}\n\n.theia-scm-history .commitListElement .containerHead {\n  width: calc(100% - 5px);\n  height: 50px;\n  display: flex;\n  align-items: center;\n  border-top: 1px solid var(--theia-contrastBorder);\n}\n\n.theia-scm-history .commitListElement .containerHead:hover {\n  background-color: var(--theia-list-hoverBackground);\n  color: var(--theia-list-hoverForeground);\n  cursor: pointer;\n}\n\n.theia-scm-history:focus-within\n  .commitListElement\n  .containerHead.theia-mod-selected {\n  background: var(--theia-list-focusBackground);\n  color: var(--theia-list-focusForeground);\n}\n\n.theia-scm-history:not(:focus-within)\n  .commitListElement\n  .containerHead.theia-mod-selected {\n  background: var(--theia-list-inactiveFocusBackground);\n}\n\n.theia-scm-history .commitListElement .containerHead .headContent {\n  display: flex;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0 8px 0 2px;\n}\n\n.theia-scm-history\n  .commitListElement\n  .containerHead\n  .headContent\n  .image-container {\n  margin-right: 5px;\n}\n\n.theia-scm-history\n  .commitListElement\n  .containerHead\n  .headContent\n  .image-container\n  img {\n  width: 27px;\n}\n\n.theia-scm-history\n  .commitListElement\n  .containerHead\n  .headContent\n  .headLabelContainer {\n  min-width: calc(100% - 93px);\n}\n\n.theia-scm-history\n  .commitListElement\n  .containerHead\n  .headContent\n  .headLabelContainer.singleFileMode {\n  width: 100%;\n}\n\n.theia-scm-history\n  .commitListElement\n  .containerHead\n  .headContent\n  .expansionToggle {\n  display: flex;\n  align-items: center;\n}\n\n.theia-scm-history\n  .commitListElement\n  .containerHead\n  .headContent\n  .detailButton {\n  display: flex;\n  align-items: center;\n  visibility: hidden;\n  margin: 0 5px;\n}\n\n.theia-scm-history\n  .commitListElement\n  .containerHead:hover\n  .headContent\n  .detailButton {\n  visibility: visible;\n}\n\n.theia-scm-history\n  .commitListElement\n  .containerHead\n  .headContent\n  .expansionToggle\n  > .toggle {\n  display: flex;\n  background: var(--theia-list-focusBackground);\n  padding: 5px;\n  border-radius: 7px;\n  margin-left: 5px;\n  align-items: center;\n  justify-content: flex-end;\n  min-width: 30px;\n  color: var(--theia-theia-list-focusForeground);\n}\n\n.theia-scm-history .commitTime {\n  color: var(--theia-descriptionForeground);\n  font-size: smaller;\n}\n\n.theia-scm-history .large-spinner {\n  font-size: 48px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../node_modules/@theia/scm-extra/src/browser/style/history.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,OAAO;EACP,kBAAkB;AACpB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,uBAAuB;EACvB,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,iDAAiD;AACnD;;AAEA;EACE,mDAAmD;EACnD,wCAAwC;EACxC,eAAe;AACjB;;AAEA;;;EAGE,6CAA6C;EAC7C,wCAAwC;AAC1C;;AAEA;;;EAGE,qDAAqD;AACvD;;AAEA;EACE,aAAa;EACb,WAAW;EACX,sBAAsB;EACtB,oBAAoB;AACtB;;AAEA;;;;;EAKE,iBAAiB;AACnB;;AAEA;;;;;;EAME,WAAW;AACb;;AAEA;;;;;EAKE,4BAA4B;AAC9B;;AAEA;;;;;EAKE,WAAW;AACb;;AAEA;;;;;EAKE,aAAa;EACb,mBAAmB;AACrB;;AAEA;;;;;EAKE,aAAa;EACb,mBAAmB;EACnB,kBAAkB;EAClB,aAAa;AACf;;AAEA;;;;;EAKE,mBAAmB;AACrB;;AAEA;;;;;;EAME,aAAa;EACb,6CAA6C;EAC7C,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;EACnB,yBAAyB;EACzB,eAAe;EACf,8CAA8C;AAChD;;AAEA;EACE,yCAAyC;EACzC,kBAAkB;AACpB;;AAEA;EACE,eAAe;AACjB\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2018 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.theia-scm-history .history-container {\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n  height: 100%;\\n}\\n\\n.theia-scm-history .listContainer {\\n  flex: 1;\\n  position: relative;\\n}\\n\\n.theia-scm-history .commitList {\\n  height: 100%;\\n}\\n\\n.theia-scm-history .history-container .noWrapInfo {\\n  width: 100%;\\n}\\n\\n.theia-scm-history .commitList .commitListElement {\\n  margin: 3px 0;\\n}\\n\\n.theia-scm-history .commitListElement.first .containerHead {\\n  border: none;\\n}\\n\\n.theia-scm-history .commitListElement .containerHead {\\n  width: calc(100% - 5px);\\n  height: 50px;\\n  display: flex;\\n  align-items: center;\\n  border-top: 1px solid var(--theia-contrastBorder);\\n}\\n\\n.theia-scm-history .commitListElement .containerHead:hover {\\n  background-color: var(--theia-list-hoverBackground);\\n  color: var(--theia-list-hoverForeground);\\n  cursor: pointer;\\n}\\n\\n.theia-scm-history:focus-within\\n  .commitListElement\\n  .containerHead.theia-mod-selected {\\n  background: var(--theia-list-focusBackground);\\n  color: var(--theia-list-focusForeground);\\n}\\n\\n.theia-scm-history:not(:focus-within)\\n  .commitListElement\\n  .containerHead.theia-mod-selected {\\n  background: var(--theia-list-inactiveFocusBackground);\\n}\\n\\n.theia-scm-history .commitListElement .containerHead .headContent {\\n  display: flex;\\n  width: 100%;\\n  box-sizing: border-box;\\n  padding: 0 8px 0 2px;\\n}\\n\\n.theia-scm-history\\n  .commitListElement\\n  .containerHead\\n  .headContent\\n  .image-container {\\n  margin-right: 5px;\\n}\\n\\n.theia-scm-history\\n  .commitListElement\\n  .containerHead\\n  .headContent\\n  .image-container\\n  img {\\n  width: 27px;\\n}\\n\\n.theia-scm-history\\n  .commitListElement\\n  .containerHead\\n  .headContent\\n  .headLabelContainer {\\n  min-width: calc(100% - 93px);\\n}\\n\\n.theia-scm-history\\n  .commitListElement\\n  .containerHead\\n  .headContent\\n  .headLabelContainer.singleFileMode {\\n  width: 100%;\\n}\\n\\n.theia-scm-history\\n  .commitListElement\\n  .containerHead\\n  .headContent\\n  .expansionToggle {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.theia-scm-history\\n  .commitListElement\\n  .containerHead\\n  .headContent\\n  .detailButton {\\n  display: flex;\\n  align-items: center;\\n  visibility: hidden;\\n  margin: 0 5px;\\n}\\n\\n.theia-scm-history\\n  .commitListElement\\n  .containerHead:hover\\n  .headContent\\n  .detailButton {\\n  visibility: visible;\\n}\\n\\n.theia-scm-history\\n  .commitListElement\\n  .containerHead\\n  .headContent\\n  .expansionToggle\\n  > .toggle {\\n  display: flex;\\n  background: var(--theia-list-focusBackground);\\n  padding: 5px;\\n  border-radius: 7px;\\n  margin-left: 5px;\\n  align-items: center;\\n  justify-content: flex-end;\\n  min-width: 30px;\\n  color: var(--theia-theia-list-focusForeground);\\n}\\n\\n.theia-scm-history .commitTime {\\n  color: var(--theia-descriptionForeground);\\n  font-size: smaller;\\n}\\n\\n.theia-scm-history .large-spinner {\\n  font-size: 48px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":[],"ignoreList":[],"sourceRoot":""}