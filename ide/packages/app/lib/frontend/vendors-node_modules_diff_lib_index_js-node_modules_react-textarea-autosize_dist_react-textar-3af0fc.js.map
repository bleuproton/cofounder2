{"version":3,"file":"vendors-node_modules_diff_lib_index_js-node_modules_react-textarea-autosize_dist_react-textar-3af0fc.js","mappings":";;;;;;;;;;;;;AAAA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA,0BAA0B;AAC1B;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACRA;AACO,SAASA,mBAAT,CAA6BC,OAA7B,EAAsC;AAC3C,MAAIC,GAAG,GAAG,EAAV;AAAA,MACIC,MADJ;AAAA,MAEIC,SAFJ;;AAGA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,OAAO,CAACK,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvCF,IAAAA,MAAM,GAAGF,OAAO,CAACI,CAAD,CAAhB;;AACA,QAAIF,MAAM,CAACI,KAAX,EAAkB;AAChBH,MAAAA,SAAS,GAAG,CAAZ;AACD,KAFD,MAEO,IAAID,MAAM,CAACK,OAAX,EAAoB;AACzBJ,MAAAA,SAAS,GAAG,CAAC,CAAb;AACD,KAFM,MAEA;AACLA,MAAAA,SAAS,GAAG,CAAZ;AACD;;AAEDF,IAAAA,GAAG,CAACO,IAAJ,CAAS,CAACL,SAAD,EAAYD,MAAM,CAACO,KAAnB,CAAT;AACD;;AACD,SAAOR,GAAP;AACD;;;;;;;;;;;;;;;;;;;;AClBM,SAASS,mBAAT,CAA6BV,OAA7B,EAAsC;AAC3C,MAAIC,GAAG,GAAG,EAAV;;AACA,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,OAAO,CAACK,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,QAAIF,MAAM,GAAGF,OAAO,CAACI,CAAD,CAApB;;AACA,QAAIF,MAAM,CAACI,KAAX,EAAkB;AAChBL,MAAAA,GAAG,CAACO,IAAJ,CAAS,OAAT;AACD,KAFD,MAEO,IAAIN,MAAM,CAACK,OAAX,EAAoB;AACzBN,MAAAA,GAAG,CAACO,IAAJ,CAAS,OAAT;AACD;;AAEDP,IAAAA,GAAG,CAACO,IAAJ,CAASG,UAAU,CAACT,MAAM,CAACO,KAAR,CAAnB;;AAEA,QAAIP,MAAM,CAACI,KAAX,EAAkB;AAChBL,MAAAA,GAAG,CAACO,IAAJ,CAAS,QAAT;AACD,KAFD,MAEO,IAAIN,MAAM,CAACK,OAAX,EAAoB;AACzBN,MAAAA,GAAG,CAACO,IAAJ,CAAS,QAAT;AACD;AACF;;AACD,SAAOP,GAAG,CAACW,IAAJ,CAAS,EAAT,CAAP;AACD;;AAED,SAASD,UAAT,CAAoBE,CAApB,EAAuB;AACrB,MAAIC,CAAC,GAAGD,CAAR;AACAC,EAAAA,CAAC,GAAGA,CAAC,CAACC,OAAF,CAAU,IAAV,EAAgB,OAAhB,CAAJ;AACAD,EAAAA,CAAC,GAAGA,CAAC,CAACC,OAAF,CAAU,IAAV,EAAgB,MAAhB,CAAJ;AACAD,EAAAA,CAAC,GAAGA,CAAC,CAACC,OAAF,CAAU,IAAV,EAAgB,MAAhB,CAAJ;AACAD,EAAAA,CAAC,GAAGA,CAAC,CAACC,OAAF,CAAU,IAAV,EAAgB,QAAhB,CAAJ;AAEA,SAAOD,CAAP;AACD;;;;;;;;;;;;;;;;;;;;;AC7BD;AAAA;AAAA;AAAA;AAAA;;;;;AAEO,IAAME,SAAS,GAAG;AAAIC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,CAAJ,EAAlB;;;;;;AACPD,SAAS,CAACE,QAAV,GAAqB,UAAST,KAAT,EAAgB;AACnC,SAAOA,KAAK,CAACU,KAAN,EAAP;AACD,CAFD;;AAGAH,SAAS,CAACJ,IAAV,GAAiBI,SAAS,CAACI,WAAV,GAAwB,UAASX,KAAT,EAAgB;AACvD,SAAOA,KAAP;AACD,CAFD;;AAIO,SAASY,UAAT,CAAoBC,MAApB,EAA4BC,MAA5B,EAAoCC,QAApC,EAA8C;AAAE,SAAOR,SAAS,CAACS,IAAV,CAAeH,MAAf,EAAuBC,MAAvB,EAA+BC,QAA/B,CAAP;AAAkD;;;;;;;;;;;;;;;;;;;;ACV1F,SAASP,IAAT,GAAgB,CAAE;;AAEjCA,IAAI,CAACS,SAAL,GAAiB;AAAA;;AAAA;AACfD,EAAAA,IADe,gBACVE,SADU,EACCC,SADD,EAC0B;AAAA;AAAA;;AAAA;AAAA;AAAdC,IAAAA,OAAc,uEAAJ,EAAI;AACvC,QAAIL,QAAQ,GAAGK,OAAO,CAACL,QAAvB;;AACA,QAAI,OAAOK,OAAP,KAAmB,UAAvB,EAAmC;AACjCL,MAAAA,QAAQ,GAAGK,OAAX;AACAA,MAAAA,OAAO,GAAG,EAAV;AACD;;AACD,SAAKA,OAAL,GAAeA,OAAf;AAEA,QAAIC,IAAI,GAAG,IAAX;;AAEA,aAASC,IAAT,CAActB,KAAd,EAAqB;AACnB,UAAIe,QAAJ,EAAc;AACZQ,QAAAA,UAAU,CAAC,YAAW;AAAER,UAAAA,QAAQ,CAACS,SAAD,EAAYxB,KAAZ,CAAR;AAA6B,SAA3C,EAA6C,CAA7C,CAAV;AACA,eAAO,IAAP;AACD,OAHD,MAGO;AACL,eAAOA,KAAP;AACD;AACF,KAjBsC,CAmBvC;;;AACAkB,IAAAA,SAAS,GAAG,KAAKO,SAAL,CAAeP,SAAf,CAAZ;AACAC,IAAAA,SAAS,GAAG,KAAKM,SAAL,CAAeN,SAAf,CAAZ;AAEAD,IAAAA,SAAS,GAAG,KAAKP,WAAL,CAAiB,KAAKF,QAAL,CAAcS,SAAd,CAAjB,CAAZ;AACAC,IAAAA,SAAS,GAAG,KAAKR,WAAL,CAAiB,KAAKF,QAAL,CAAcU,SAAd,CAAjB,CAAZ;AAEA,QAAIO,MAAM,GAAGP,SAAS,CAACvB,MAAvB;AAAA,QAA+B+B,MAAM,GAAGT,SAAS,CAACtB,MAAlD;AACA,QAAIgC,UAAU,GAAG,CAAjB;AACA,QAAIC,aAAa,GAAGH,MAAM,GAAGC,MAA7B;;AACA,QAAGP,OAAO,CAACS,aAAX,EAA0B;AACxBA,MAAAA,aAAa,GAAGC,IAAI,CAACC,GAAL,CAASF,aAAT,EAAwBT,OAAO,CAACS,aAAhC,CAAhB;AACD;;AACD,QAAMG,gBAAgB;AAAA;AAAA;AAAA;AAAGZ,IAAAA,OAAO,CAACa,OAAX,+DAAsBC,QAA5C;AACA,QAAMC,mBAAmB,GAAGC,IAAI,CAACC,GAAL,KAAaL,gBAAzC;AAEA,QAAIM,QAAQ,GAAG,CAAC;AAAEC,MAAAA,MAAM,EAAE,CAAC,CAAX;AAAcC,MAAAA,aAAa,EAAEhB;AAA7B,KAAD,CAAf,CAnCuC,CAqCvC;;AACA,QAAIiB,MAAM,GAAG,KAAKC,aAAL,CAAmBJ,QAAQ,CAAC,CAAD,CAA3B,EAAgCnB,SAAhC,EAA2CD,SAA3C,EAAsD,CAAtD,CAAb;;AACA,QAAIoB,QAAQ,CAAC,CAAD,CAAR,CAAYC,MAAZ,GAAqB,CAArB,IAA0BZ,MAA1B,IAAoCc,MAAM,GAAG,CAAT,IAAcf,MAAtD,EAA8D;AAC5D;AACA,aAAOJ,IAAI,CAAC,CAAC;AAACtB,QAAAA,KAAK,EAAE,KAAKG,IAAL,CAAUgB,SAAV,CAAR;AAA8BwB,QAAAA,KAAK,EAAExB,SAAS,CAACvB;AAA/C,OAAD,CAAD,CAAX;AACD,KA1CsC,CA4CvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,QAAIgD,qBAAqB,GAAG,CAACV,QAA7B;AAAA,QAAuCW,qBAAqB,GAAGX,QAA/D,CA7DuC,CA+DvC;;AACA,aAASY,cAAT,GAA0B;AACxB,WACE,IAAIC,YAAY,GAAGjB,IAAI,CAACkB,GAAL,CAASJ,qBAAT,EAAgC,CAAChB,UAAjC,CADrB,EAEEmB,YAAY,IAAIjB,IAAI,CAACC,GAAL,CAASc,qBAAT,EAAgCjB,UAAhC,CAFlB,EAGEmB,YAAY,IAAI,CAHlB,EAIE;AACA,YAAIE,QAAQ;AAAA;AAAA;AAAZ;AAAA;AACA,YAAIC,UAAU,GAAGZ,QAAQ,CAACS,YAAY,GAAG,CAAhB,CAAzB;AAAA,YACII,OAAO,GAAGb,QAAQ,CAACS,YAAY,GAAG,CAAhB,CADtB;;AAEA,YAAIG,UAAJ,EAAgB;AACd;AACAZ,UAAAA,QAAQ,CAACS,YAAY,GAAG,CAAhB,CAAR,GAA6BvB,SAA7B;AACD;;AAED,YAAI4B,MAAM,GAAG,KAAb;;AACA,YAAID,OAAJ,EAAa;AACX;AACA,cAAME,aAAa,GAAGF,OAAO,CAACZ,MAAR,GAAiBQ,YAAvC;AACAK,UAAAA,MAAM,GAAGD,OAAO,IAAI,KAAKE,aAAhB,IAAiCA,aAAa,GAAG3B,MAA1D;AACD;;AAED,YAAI4B,SAAS,GAAGJ,UAAU,IAAIA,UAAU,CAACX,MAAX,GAAoB,CAApB,GAAwBZ,MAAtD;;AACA,YAAI,CAACyB,MAAD,IAAW,CAACE,SAAhB,EAA2B;AACzB;AACAhB,UAAAA,QAAQ,CAACS,YAAD,CAAR,GAAyBvB,SAAzB;AACA;AACD,SArBD,CAuBA;AACA;AACA;AACA;AACA;;;AACA,YAAI,CAAC8B,SAAD,IAAeF,MAAM,IAAIF,UAAU,CAACX,MAAX,GAAoB,CAApB,GAAwBY,OAAO,CAACZ,MAA7D,EAAsE;AACpEU,UAAAA,QAAQ,GAAG5B,IAAI,CAACkC,SAAL,CAAeJ,OAAf,EAAwB,IAAxB,EAA8B3B,SAA9B,EAAyC,CAAzC,CAAX;AACD,SAFD,MAEO;AACLyB,UAAAA,QAAQ,GAAG5B,IAAI,CAACkC,SAAL,CAAeL,UAAf,EAA2B1B,SAA3B,EAAsC,IAAtC,EAA4C,CAA5C,CAAX;AACD;;AAEDiB,QAAAA,MAAM,GAAGpB,IAAI,CAACqB,aAAL,CAAmBO,QAAnB,EAA6B9B,SAA7B,EAAwCD,SAAxC,EAAmD6B,YAAnD,CAAT;;AAEA,YAAIE,QAAQ,CAACV,MAAT,GAAkB,CAAlB,IAAuBZ,MAAvB,IAAiCc,MAAM,GAAG,CAAT,IAAcf,MAAnD,EAA2D;AACzD;AACA,iBAAOJ,IAAI,CAACkC,WAAW,CAACnC,IAAD,EAAO4B,QAAQ,CAACT,aAAhB,EAA+BrB,SAA/B,EAA0CD,SAA1C,EAAqDG,IAAI,CAACoC,eAA1D,CAAZ,CAAX;AACD,SAHD,MAGO;AACLnB,UAAAA,QAAQ,CAACS,YAAD,CAAR,GAAyBE,QAAzB;;AACA,cAAIA,QAAQ,CAACV,MAAT,GAAkB,CAAlB,IAAuBZ,MAA3B,EAAmC;AACjCkB,YAAAA,qBAAqB,GAAGf,IAAI,CAACC,GAAL,CAASc,qBAAT,EAAgCE,YAAY,GAAG,CAA/C,CAAxB;AACD;;AACD,cAAIN,MAAM,GAAG,CAAT,IAAcf,MAAlB,EAA0B;AACxBkB,YAAAA,qBAAqB,GAAGd,IAAI,CAACkB,GAAL,CAASJ,qBAAT,EAAgCG,YAAY,GAAG,CAA/C,CAAxB;AACD;AACF;AACF;;AAEDnB,MAAAA,UAAU;AACX,KAxHsC,CA0HvC;AACA;AACA;AACA;;;AACA,QAAIb,QAAJ,EAAc;AACX,gBAAS2C,IAAT,GAAgB;AACfnC,QAAAA,UAAU,CAAC,YAAW;AACpB,cAAIK,UAAU,GAAGC,aAAb,IAA8BO,IAAI,CAACC,GAAL,KAAaF,mBAA/C,EAAoE;AAClE,mBAAOpB,QAAQ,EAAf;AACD;;AAED,cAAI,CAAC+B,cAAc,EAAnB,EAAuB;AACrBY,YAAAA,IAAI;AACL;AACF,SARS,EAQP,CARO,CAAV;AASD,OAVA,GAAD;AAWD,KAZD,MAYO;AACL,aAAO9B,UAAU,IAAIC,aAAd,IAA+BO,IAAI,CAACC,GAAL,MAAcF,mBAApD,EAAyE;AACvE,YAAI3C,GAAG,GAAGsD,cAAc,EAAxB;;AACA,YAAItD,GAAJ,EAAS;AACP,iBAAOA,GAAP;AACD;AACF;AACF;AACF,GAnJc;;AAAA;;AAAA;AAqJf+D,EAAAA,SArJe,qBAqJLI,IArJK,EAqJC9D,KArJD,EAqJQC,OArJR,EAqJiB8D,SArJjB,EAqJ4B;AACzC,QAAIC,IAAI,GAAGF,IAAI,CAACnB,aAAhB;;AACA,QAAIqB,IAAI,IAAIA,IAAI,CAAChE,KAAL,KAAeA,KAAvB,IAAgCgE,IAAI,CAAC/D,OAAL,KAAiBA,OAArD,EAA8D;AAC5D,aAAO;AACLyC,QAAAA,MAAM,EAAEoB,IAAI,CAACpB,MAAL,GAAcqB,SADjB;AAELpB,QAAAA,aAAa,EAAE;AAACG,UAAAA,KAAK,EAAEkB,IAAI,CAAClB,KAAL,GAAa,CAArB;AAAwB9C,UAAAA,KAAK,EAAEA,KAA/B;AAAsCC,UAAAA,OAAO,EAAEA,OAA/C;AAAwDgE,UAAAA,iBAAiB,EAAED,IAAI,CAACC;AAAhF;AAFV,OAAP;AAID,KALD,MAKO;AACL,aAAO;AACLvB,QAAAA,MAAM,EAAEoB,IAAI,CAACpB,MAAL,GAAcqB,SADjB;AAELpB,QAAAA,aAAa,EAAE;AAACG,UAAAA,KAAK,EAAE,CAAR;AAAW9C,UAAAA,KAAK,EAAEA,KAAlB;AAAyBC,UAAAA,OAAO,EAAEA,OAAlC;AAA2CgE,UAAAA,iBAAiB,EAAED;AAA9D;AAFV,OAAP;AAID;AACF,GAlKc;;AAAA;;AAAA;AAmKfnB,EAAAA,aAnKe,yBAmKDO,QAnKC,EAmKS9B,SAnKT,EAmKoBD,SAnKpB,EAmK+B6B,YAnK/B,EAmK6C;AAC1D,QAAIrB,MAAM,GAAGP,SAAS,CAACvB,MAAvB;AAAA,QACI+B,MAAM,GAAGT,SAAS,CAACtB,MADvB;AAAA,QAEI2C,MAAM,GAAGU,QAAQ,CAACV,MAFtB;AAAA,QAGIE,MAAM,GAAGF,MAAM,GAAGQ,YAHtB;AAAA,QAKIgB,WAAW,GAAG,CALlB;;AAMA,WAAOtB,MAAM,GAAG,CAAT,GAAaf,MAAb,IAAuBa,MAAM,GAAG,CAAT,GAAaZ,MAApC,IAA8C,KAAKqC,MAAL,CAAY7C,SAAS,CAACsB,MAAM,GAAG,CAAV,CAArB,EAAmCvB,SAAS,CAACqB,MAAM,GAAG,CAAV,CAA5C,CAArD,EAAgH;AAC9GE,MAAAA,MAAM;AACNF,MAAAA,MAAM;AACNwB,MAAAA,WAAW;AACZ;;AAED,QAAIA,WAAJ,EAAiB;AACfd,MAAAA,QAAQ,CAACT,aAAT,GAAyB;AAACG,QAAAA,KAAK,EAAEoB,WAAR;AAAqBD,QAAAA,iBAAiB,EAAEb,QAAQ,CAACT;AAAjD,OAAzB;AACD;;AAEDS,IAAAA,QAAQ,CAACV,MAAT,GAAkBA,MAAlB;AACA,WAAOE,MAAP;AACD,GAtLc;;AAAA;;AAAA;AAwLfuB,EAAAA,MAxLe,kBAwLRC,IAxLQ,EAwLFC,KAxLE,EAwLK;AAClB,QAAI,KAAK9C,OAAL,CAAa+C,UAAjB,EAA6B;AAC3B,aAAO,KAAK/C,OAAL,CAAa+C,UAAb,CAAwBF,IAAxB,EAA8BC,KAA9B,CAAP;AACD,KAFD,MAEO;AACL,aAAOD,IAAI,KAAKC,KAAT,IACD,KAAK9C,OAAL,CAAagD,UAAb,IAA2BH,IAAI,CAACI,WAAL,OAAuBH,KAAK,CAACG,WAAN,EADxD;AAED;AACF,GA/Lc;;AAAA;;AAAA;AAgMf1D,EAAAA,WAhMe,uBAgMH2D,KAhMG,EAgMI;AACjB,QAAI9E,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2E,KAAK,CAAC1E,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,UAAI2E,KAAK,CAAC3E,CAAD,CAAT,EAAc;AACZH,QAAAA,GAAG,CAACO,IAAJ,CAASuE,KAAK,CAAC3E,CAAD,CAAd;AACD;AACF;;AACD,WAAOH,GAAP;AACD,GAxMc;;AAAA;;AAAA;AAyMfiC,EAAAA,SAzMe,qBAyMLzB,KAzMK,EAyME;AACf,WAAOA,KAAP;AACD,GA3Mc;;AAAA;;AAAA;AA4MfS,EAAAA,QA5Me,oBA4MNT,KA5MM,EA4MC;AACd,WAAOA,KAAK,CAACuE,KAAN,CAAY,EAAZ,CAAP;AACD,GA9Mc;;AAAA;;AAAA;AA+MfpE,EAAAA,IA/Me,gBA+MVqE,KA/MU,EA+MH;AACV,WAAOA,KAAK,CAACrE,IAAN,CAAW,EAAX,CAAP;AACD;AAjNc,CAAjB;;AAoNA,SAASqD,WAAT,CAAqBxC,IAArB,EAA2BwB,aAA3B,EAA0CrB,SAA1C,EAAqDD,SAArD,EAAgEuC,eAAhE,EAAiF;AAC/E;AACA;AACA,MAAMgB,UAAU,GAAG,EAAnB;AACA,MAAIC,aAAJ;;AACA,SAAOlC,aAAP,EAAsB;AACpBiC,IAAAA,UAAU,CAAC1E,IAAX,CAAgByC,aAAhB;AACAkC,IAAAA,aAAa,GAAGlC,aAAa,CAACsB,iBAA9B;AACA,WAAOtB,aAAa,CAACsB,iBAArB;AACAtB,IAAAA,aAAa,GAAGkC,aAAhB;AACD;;AACDD,EAAAA,UAAU,CAACE,OAAX;AAEA,MAAIC,YAAY,GAAG,CAAnB;AAAA,MACIC,YAAY,GAAGJ,UAAU,CAAC7E,MAD9B;AAAA,MAEI6C,MAAM,GAAG,CAFb;AAAA,MAGIF,MAAM,GAAG,CAHb;;AAKA,SAAOqC,YAAY,GAAGC,YAAtB,EAAoCD,YAAY,EAAhD,EAAoD;AAClD,QAAIE,SAAS,GAAGL,UAAU,CAACG,YAAD,CAA1B;;AACA,QAAI,CAACE,SAAS,CAAChF,OAAf,EAAwB;AACtB,UAAI,CAACgF,SAAS,CAACjF,KAAX,IAAoB4D,eAAxB,EAAyC;AACvC,YAAIzD,KAAK,GAAGmB,SAAS,CAACT,KAAV,CAAgB+B,MAAhB,EAAwBA,MAAM,GAAGqC,SAAS,CAACnC,KAA3C,CAAZ;AACA3C,QAAAA,KAAK,GAAGA,KAAK,CAAC+E,GAAN,CAAU,UAAS/E,KAAT,EAAgBL,CAAhB,EAAmB;AACnC,cAAIqF,QAAQ,GAAG9D,SAAS,CAACqB,MAAM,GAAG5C,CAAV,CAAxB;AACA,iBAAOqF,QAAQ,CAACpF,MAAT,GAAkBI,KAAK,CAACJ,MAAxB,GAAiCoF,QAAjC,GAA4ChF,KAAnD;AACD,SAHO,CAAR;AAKA8E,QAAAA,SAAS,CAAC9E,KAAV,GAAkBgB,IAAI,CAACb,IAAL,CAAUH,KAAV,CAAlB;AACD,OARD,MAQO;AACL8E,QAAAA,SAAS,CAAC9E,KAAV,GAAkBgB,IAAI,CAACb,IAAL,CAAUgB,SAAS,CAACT,KAAV,CAAgB+B,MAAhB,EAAwBA,MAAM,GAAGqC,SAAS,CAACnC,KAA3C,CAAV,CAAlB;AACD;;AACDF,MAAAA,MAAM,IAAIqC,SAAS,CAACnC,KAApB,CAZsB,CActB;;AACA,UAAI,CAACmC,SAAS,CAACjF,KAAf,EAAsB;AACpB0C,QAAAA,MAAM,IAAIuC,SAAS,CAACnC,KAApB;AACD;AACF,KAlBD,MAkBO;AACLmC,MAAAA,SAAS,CAAC9E,KAAV,GAAkBgB,IAAI,CAACb,IAAL,CAAUe,SAAS,CAACR,KAAV,CAAgB6B,MAAhB,EAAwBA,MAAM,GAAGuC,SAAS,CAACnC,KAA3C,CAAV,CAAlB;AACAJ,MAAAA,MAAM,IAAIuC,SAAS,CAACnC,KAApB,CAFK,CAIL;AACA;AACA;;AACA,UAAIiC,YAAY,IAAIH,UAAU,CAACG,YAAY,GAAG,CAAhB,CAAV,CAA6B/E,KAAjD,EAAwD;AACtD,YAAIoF,GAAG,GAAGR,UAAU,CAACG,YAAY,GAAG,CAAhB,CAApB;AACAH,QAAAA,UAAU,CAACG,YAAY,GAAG,CAAhB,CAAV,GAA+BH,UAAU,CAACG,YAAD,CAAzC;AACAH,QAAAA,UAAU,CAACG,YAAD,CAAV,GAA2BK,GAA3B;AACD;AACF;AACF,GAnD8E,CAqD/E;AACA;AACA;;;AACA,MAAIC,cAAc,GAAGT,UAAU,CAACI,YAAY,GAAG,CAAhB,CAA/B;;AACA,MAAIA,YAAY,GAAG,CAAf,IACG,OAAOK,cAAc,CAAClF,KAAtB,KAAgC,QADnC,KAEIkF,cAAc,CAACrF,KAAf,IAAwBqF,cAAc,CAACpF,OAF3C,KAGGkB,IAAI,CAACgD,MAAL,CAAY,EAAZ,EAAgBkB,cAAc,CAAClF,KAA/B,CAHP,EAG8C;AAC5CyE,IAAAA,UAAU,CAACI,YAAY,GAAG,CAAhB,CAAV,CAA6B7E,KAA7B,IAAsCkF,cAAc,CAAClF,KAArD;AACAyE,IAAAA,UAAU,CAACU,GAAX;AACD;;AAED,SAAOV,UAAP;AACD;;;;;;;;;;;;;;;;;;;;;ACxRD;AAAA;AAAA;AAAA;AAAA;;;;;AAEO,IAAMW,aAAa,GAAG;AAAI5E;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,CAAJ,EAAtB;;;;;;AACA,SAAS6E,SAAT,CAAmBC,MAAnB,EAA2BC,MAA3B,EAAmCnE,OAAnC,EAA4C;AAAE,SAAOgE,aAAa,CAACpE,IAAd,CAAmBsE,MAAnB,EAA2BC,MAA3B,EAAmCnE,OAAnC,CAAP;AAAqD;;;;;;;;;;;;;;;;;;;;;ACH1G;AAAA;AAAA;AAAA;AAAA;;;;;AAEO,IAAMoE,OAAO,GAAG;AAAIhF;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,CAAJ,EAAhB;;;;;;AACPgF,OAAO,CAAC/E,QAAR,GAAmB,UAAST,KAAT,EAAgB;AACjC,SAAOA,KAAK,CAACuE,KAAN,CAAY,eAAZ,CAAP;AACD,CAFD;;AAIO,SAASkB,OAAT,CAAiBH,MAAjB,EAAyBC,MAAzB,EAAiCxE,QAAjC,EAA2C;AAAE,SAAOyE,OAAO,CAACxE,IAAR,CAAasE,MAAb,EAAqBC,MAArB,EAA6BxE,QAA7B,CAAP;AAAgD;;;;;;;;;;;;;;;;;;;;;;ACPpG;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;;;;;;AAEA,IAAM2E,uBAAuB,GAAGC,MAAM,CAAC1E,SAAP,CAAiB2E,QAAjD;AAGO,IAAMC,QAAQ,GAAG;AAAIrF;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,CAAJ,EAAjB,C,CACP;AACA;;;;;;AACAqF,QAAQ,CAACpC,eAAT,GAA2B,IAA3B;AAEAoC,QAAQ,CAACpF,QAAT;AAAoBqF;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,CAASrF,QAA7B;;AACAoF,QAAQ,CAACpE,SAAT,GAAqB,UAASzB,KAAT,EAAgB;AAAA;AAAA;AAAA;AAC+E,OAAKoB,OADpF;AAAA,MAC5B2E,oBAD4B,iBAC5BA,oBAD4B;AAAA,4CACNC,iBADM;AAAA,MACNA,iBADM,sCACc,UAACC,CAAD,EAAIC,CAAJ;AAAA;AAAA;AAAA;AAAA;AAAU,aAAOA,CAAP,KAAa,WAAb,GAA2BH,oBAA3B,GAAkDG;AAA5D;AAAA,GADd;AAGnC,SAAO,OAAOlG,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCmG,IAAI,CAACC,SAAL,CAAeC,YAAY,CAACrG,KAAD,EAAQ,IAAR,EAAc,IAAd,EAAoBgG,iBAApB,CAA3B,EAAmEA,iBAAnE,EAAsF,IAAtF,CAA3C;AACD,CAJD;;AAKAH,QAAQ,CAAC7B,MAAT,GAAkB,UAASC,IAAT,EAAeC,KAAf,EAAsB;AACtC,SAAO1D;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,MAAKS,SAAL,CAAe+C,MAAf,CAAsBsC,IAAtB,CAA2BT,QAA3B,EAAqC5B,IAAI,CAAC3D,OAAL,CAAa,YAAb,EAA2B,IAA3B,CAArC,EAAuE4D,KAAK,CAAC5D,OAAN,CAAc,YAAd,EAA4B,IAA5B,CAAvE;AAAP;AACD,CAFD;;AAIO,SAASiG,QAAT,CAAkBC,MAAlB,EAA0BC,MAA1B,EAAkCrF,OAAlC,EAA2C;AAAE,SAAOyE,QAAQ,CAAC7E,IAAT,CAAcwF,MAAd,EAAsBC,MAAtB,EAA8BrF,OAA9B,CAAP;AAAgD,C,CAEpG;AACA;;;AACO,SAASiF,YAAT,CAAsBK,GAAtB,EAA2BC,KAA3B,EAAkCC,gBAAlC,EAAoDC,QAApD,EAA8DC,GAA9D,EAAmE;AACxEH,EAAAA,KAAK,GAAGA,KAAK,IAAI,EAAjB;AACAC,EAAAA,gBAAgB,GAAGA,gBAAgB,IAAI,EAAvC;;AAEA,MAAIC,QAAJ,EAAc;AACZH,IAAAA,GAAG,GAAGG,QAAQ,CAACC,GAAD,EAAMJ,GAAN,CAAd;AACD;;AAED,MAAI/G,CAAJ;;AAEA,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGgH,KAAK,CAAC/G,MAAtB,EAA8BD,CAAC,IAAI,CAAnC,EAAsC;AACpC,QAAIgH,KAAK,CAAChH,CAAD,CAAL,KAAa+G,GAAjB,EAAsB;AACpB,aAAOE,gBAAgB,CAACjH,CAAD,CAAvB;AACD;AACF;;AAED,MAAIoH,gBAAJ;;AAEA,MAAI,qBAAqBrB,uBAAuB,CAACY,IAAxB,CAA6BI,GAA7B,CAAzB,EAA4D;AAC1DC,IAAAA,KAAK,CAAC5G,IAAN,CAAW2G,GAAX;AACAK,IAAAA,gBAAgB,GAAG,IAAIC,KAAJ,CAAUN,GAAG,CAAC9G,MAAd,CAAnB;AACAgH,IAAAA,gBAAgB,CAAC7G,IAAjB,CAAsBgH,gBAAtB;;AACA,SAAKpH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG+G,GAAG,CAAC9G,MAApB,EAA4BD,CAAC,IAAI,CAAjC,EAAoC;AAClCoH,MAAAA,gBAAgB,CAACpH,CAAD,CAAhB,GAAsB0G,YAAY,CAACK,GAAG,CAAC/G,CAAD,CAAJ,EAASgH,KAAT,EAAgBC,gBAAhB,EAAkCC,QAAlC,EAA4CC,GAA5C,CAAlC;AACD;;AACDH,IAAAA,KAAK,CAACxB,GAAN;AACAyB,IAAAA,gBAAgB,CAACzB,GAAjB;AACA,WAAO4B,gBAAP;AACD;;AAED,MAAIL,GAAG,IAAIA,GAAG,CAACO,MAAf,EAAuB;AACrBP,IAAAA,GAAG,GAAGA,GAAG,CAACO,MAAJ,EAAN;AACD;;AAED;AAAI;AAAA;AAAA;AAAOP,EAAAA,GAAP,MAAe,QAAf,IAA2BA,GAAG,KAAK,IAAvC,EAA6C;AAC3CC,IAAAA,KAAK,CAAC5G,IAAN,CAAW2G,GAAX;AACAK,IAAAA,gBAAgB,GAAG,EAAnB;AACAH,IAAAA,gBAAgB,CAAC7G,IAAjB,CAAsBgH,gBAAtB;;AACA,QAAIG,UAAU,GAAG,EAAjB;AAAA,QACIJ,IADJ;;AAEA,SAAKA,IAAL,IAAYJ,GAAZ,EAAiB;AACf;AACA,UAAIA,GAAG,CAACS,cAAJ,CAAmBL,IAAnB,CAAJ,EAA6B;AAC3BI,QAAAA,UAAU,CAACnH,IAAX,CAAgB+G,IAAhB;AACD;AACF;;AACDI,IAAAA,UAAU,CAACE,IAAX;;AACA,SAAKzH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGuH,UAAU,CAACtH,MAA3B,EAAmCD,CAAC,IAAI,CAAxC,EAA2C;AACzCmH,MAAAA,IAAG,GAAGI,UAAU,CAACvH,CAAD,CAAhB;AACAoH,MAAAA,gBAAgB,CAACD,IAAD,CAAhB,GAAwBT,YAAY,CAACK,GAAG,CAACI,IAAD,CAAJ,EAAWH,KAAX,EAAkBC,gBAAlB,EAAoCC,QAApC,EAA8CC,IAA9C,CAApC;AACD;;AACDH,IAAAA,KAAK,CAACxB,GAAN;AACAyB,IAAAA,gBAAgB,CAACzB,GAAjB;AACD,GAnBD,MAmBO;AACL4B,IAAAA,gBAAgB,GAAGL,GAAnB;AACD;;AACD,SAAOK,gBAAP;AACD;;;;;;;;;;;;;;;;;;;;;;AClFD;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;;;;AAEO,IAAMjB,QAAQ,GAAG;AAAItF;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,CAAJ,EAAjB;;;;;;AACPsF,QAAQ,CAACrF,QAAT,GAAoB,UAAST,KAAT,EAAgB;AAClC,MAAG,KAAKoB,OAAL,CAAaiG,eAAhB,EAAiC;AAC/B;AACArH,IAAAA,KAAK,GAAGA,KAAK,CAACM,OAAN,CAAc,OAAd,EAAuB,IAAvB,CAAR;AACD;;AAED,MAAIgH,QAAQ,GAAG,EAAf;AAAA,MACIC,gBAAgB,GAAGvH,KAAK,CAACuE,KAAN,CAAY,WAAZ,CADvB,CANkC,CASlC;;AACA,MAAI,CAACgD,gBAAgB,CAACA,gBAAgB,CAAC3H,MAAjB,GAA0B,CAA3B,CAArB,EAAoD;AAClD2H,IAAAA,gBAAgB,CAACpC,GAAjB;AACD,GAZiC,CAclC;;;AACA,OAAK,IAAIxF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4H,gBAAgB,CAAC3H,MAArC,EAA6CD,CAAC,EAA9C,EAAkD;AAChD,QAAI6H,IAAI,GAAGD,gBAAgB,CAAC5H,CAAD,CAA3B;;AAEA,QAAIA,CAAC,GAAG,CAAJ,IAAS,CAAC,KAAKyB,OAAL,CAAaqG,cAA3B,EAA2C;AACzCH,MAAAA,QAAQ,CAACA,QAAQ,CAAC1H,MAAT,GAAkB,CAAnB,CAAR,IAAiC4H,IAAjC;AACD,KAFD,MAEO;AACL,UAAI,KAAKpG,OAAL,CAAasG,gBAAjB,EAAmC;AACjCF,QAAAA,IAAI,GAAGA,IAAI,CAACG,IAAL,EAAP;AACD;;AACDL,MAAAA,QAAQ,CAACvH,IAAT,CAAcyH,IAAd;AACD;AACF;;AAED,SAAOF,QAAP;AACD,CA7BD;;AA+BO,SAASM,SAAT,CAAmBtC,MAAnB,EAA2BC,MAA3B,EAAmCxE,QAAnC,EAA6C;AAAE,SAAO+E,QAAQ,CAAC9E,IAAT,CAAcsE,MAAd,EAAsBC,MAAtB,EAA8BxE,QAA9B,CAAP;AAAiD;;AAChG,SAAS8G,gBAAT,CAA0BvC,MAA1B,EAAkCC,MAAlC,EAA0CxE,QAA1C,EAAoD;AACzD,MAAIK,OAAO;AAAG;AAAA;AAAA;;AAAA0G;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,GAAgB/G,QAAhB,EAA0B;AAAC2G,IAAAA,gBAAgB,EAAE;AAAnB,GAA1B,CAAd;AACA,SAAO5B,QAAQ,CAAC9E,IAAT,CAAcsE,MAAd,EAAsBC,MAAtB,EAA8BnE,OAA9B,CAAP;AACD;;;;;;;;;;;;;;;;;;;;;ACvCD;AAAA;AAAA;AAAA;AAAA;;;;;AAGO,IAAM2G,YAAY,GAAG;AAAIvH;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,CAAJ,EAArB;;;;;;AACPuH,YAAY,CAACtH,QAAb,GAAwB,UAAST,KAAT,EAAgB;AACtC,SAAOA,KAAK,CAACuE,KAAN,CAAY,uBAAZ,CAAP;AACD,CAFD;;AAIO,SAASyD,aAAT,CAAuB1C,MAAvB,EAA+BC,MAA/B,EAAuCxE,QAAvC,EAAiD;AAAE,SAAOgH,YAAY,CAAC/G,IAAb,CAAkBsE,MAAlB,EAA0BC,MAA1B,EAAkCxE,QAAlC,CAAP;AAAqD;;;;;;;;;;;;;;;;;;;;;;ACR/G;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMkH,iBAAiB,GAAG,+DAA1B;AAEA,IAAMC,YAAY,GAAG,IAArB;AAEO,IAAMC,QAAQ,GAAG;AAAI3H;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,CAAJ,EAAjB;;;;;;AACP2H,QAAQ,CAACnE,MAAT,GAAkB,UAASC,IAAT,EAAeC,KAAf,EAAsB;AACtC,MAAI,KAAK9C,OAAL,CAAagD,UAAjB,EAA6B;AAC3BH,IAAAA,IAAI,GAAGA,IAAI,CAACI,WAAL,EAAP;AACAH,IAAAA,KAAK,GAAGA,KAAK,CAACG,WAAN,EAAR;AACD;;AACD,SAAOJ,IAAI,KAAKC,KAAT,IAAmB,KAAK9C,OAAL,CAAasG,gBAAb,IAAiC,CAACQ,YAAY,CAACE,IAAb,CAAkBnE,IAAlB,CAAlC,IAA6D,CAACiE,YAAY,CAACE,IAAb,CAAkBlE,KAAlB,CAAxF;AACD,CAND;;AAOAiE,QAAQ,CAAC1H,QAAT,GAAoB,UAAST,KAAT,EAAgB;AAClC;AACA,MAAIqI,MAAM,GAAGrI,KAAK,CAACuE,KAAN,CAAY,iCAAZ,CAAb,CAFkC,CAIlC;;AACA,OAAK,IAAI5E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0I,MAAM,CAACzI,MAAP,GAAgB,CAApC,EAAuCD,CAAC,EAAxC,EAA4C;AAC1C;AACA,QAAI,CAAC0I,MAAM,CAAC1I,CAAC,GAAG,CAAL,CAAP,IAAkB0I,MAAM,CAAC1I,CAAC,GAAG,CAAL,CAAxB,IACKsI,iBAAiB,CAACG,IAAlB,CAAuBC,MAAM,CAAC1I,CAAD,CAA7B,CADL,IAEKsI,iBAAiB,CAACG,IAAlB,CAAuBC,MAAM,CAAC1I,CAAC,GAAG,CAAL,CAA7B,CAFT,EAEgD;AAC9C0I,MAAAA,MAAM,CAAC1I,CAAD,CAAN,IAAa0I,MAAM,CAAC1I,CAAC,GAAG,CAAL,CAAnB;AACA0I,MAAAA,MAAM,CAACC,MAAP,CAAc3I,CAAC,GAAG,CAAlB,EAAqB,CAArB;AACAA,MAAAA,CAAC;AACF;AACF;;AAED,SAAO0I,MAAP;AACD,CAjBD;;AAmBO,SAASE,SAAT,CAAmBjD,MAAnB,EAA2BC,MAA3B,EAAmCnE,OAAnC,EAA4C;AACjDA,EAAAA,OAAO;AAAG;AAAA;AAAA;;AAAA0G;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,GAAgB1G,OAAhB,EAAyB;AAACsG,IAAAA,gBAAgB,EAAE;AAAnB,GAAzB,CAAV;AACA,SAAOS,QAAQ,CAACnH,IAAT,CAAcsE,MAAd,EAAsBC,MAAtB,EAA8BnE,OAA9B,CAAP;AACD;;AAEM,SAASoH,kBAAT,CAA4BlD,MAA5B,EAAoCC,MAApC,EAA4CnE,OAA5C,EAAqD;AAC1D,SAAO+G,QAAQ,CAACnH,IAAT,CAAcsE,MAAd,EAAsBC,MAAtB,EAA8BnE,OAA9B,CAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CD;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AAEA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AAEA;AAAA;AAAA;AAAA;AAAA;;AAEA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AAEA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;;;;AAEO,SAASqH,UAAT,CAAoBC,MAApB,EAA4BC,OAA5B,EAAmD;AAAA;AAAA;AAAA;AAAdvH,EAAAA,OAAc,uEAAJ,EAAI;;AACxD,MAAI,OAAOuH,OAAP,KAAmB,QAAvB,EAAiC;AAC/BA,IAAAA,OAAO;AAAG;AAAA;AAAA;;AAAAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,KAAWD,OAAX,CAAV;AACD;;AAED,MAAI3B,KAAK,CAAC6B,OAAN,CAAcF,OAAd,CAAJ,EAA4B;AAC1B,QAAIA,OAAO,CAAC/I,MAAR,GAAiB,CAArB,EAAwB;AACtB,YAAM,IAAIkJ,KAAJ,CAAU,4CAAV,CAAN;AACD;;AAEDH,IAAAA,OAAO,GAAGA,OAAO,CAAC,CAAD,CAAjB;AACD,GAXuD,CAaxD;;;AACA,MAAII,KAAK,GAAGL,MAAM,CAACnE,KAAP,CAAa,qBAAb,CAAZ;AAAA,MACIyE,UAAU,GAAGN,MAAM,CAACO,KAAP,CAAa,sBAAb,KAAwC,EADzD;AAAA,MAEIC,KAAK,GAAGP,OAAO,CAACO,KAFpB;AAAA,MAIIC,WAAW,GAAG/H,OAAO,CAAC+H,WAAR,IAAwB,UAACC,UAAD,EAAa5B,IAAb,EAAmB9H,SAAnB,EAA8B2J,YAA9B;AAAA;AAAA;AAAA;AAAA;AAA+C7B,MAAAA,IAAI,KAAK6B;AAAxD;AAAA,GAJ1C;AAAA,MAKIC,UAAU,GAAG,CALjB;AAAA,MAMIC,UAAU,GAAGnI,OAAO,CAACmI,UAAR,IAAsB,CANvC;AAAA,MAOIC,OAAO,GAAG,CAPd;AAAA,MAQIC,MAAM,GAAG,CARb;AAAA,MAUIC,WAVJ;AAAA,MAWIC,QAXJ;AAaA;;;;;AAGA,WAASC,QAAT,CAAkBC,IAAlB,EAAwBC,KAAxB,EAA+B;AAC7B,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACd,KAAL,CAAWnJ,MAA/B,EAAuCmK,CAAC,EAAxC,EAA4C;AAC1C,UAAIvC,IAAI,GAAGqC,IAAI,CAACd,KAAL,CAAWgB,CAAX,CAAX;AAAA,UACIrK,SAAS,GAAI8H,IAAI,CAAC5H,MAAL,GAAc,CAAd,GAAkB4H,IAAI,CAAC,CAAD,CAAtB,GAA4B,GAD7C;AAAA,UAEIwC,OAAO,GAAIxC,IAAI,CAAC5H,MAAL,GAAc,CAAd,GAAkB4H,IAAI,CAACyC,MAAL,CAAY,CAAZ,CAAlB,GAAmCzC,IAFlD;;AAIA,UAAI9H,SAAS,KAAK,GAAd,IAAqBA,SAAS,KAAK,GAAvC,EAA4C;AAC1C;AACA,YAAI,CAACyJ,WAAW,CAACW,KAAK,GAAG,CAAT,EAAYf,KAAK,CAACe,KAAD,CAAjB,EAA0BpK,SAA1B,EAAqCsK,OAArC,CAAhB,EAA+D;AAC7DV,UAAAA,UAAU;;AAEV,cAAIA,UAAU,GAAGC,UAAjB,EAA6B;AAC3B,mBAAO,KAAP;AACD;AACF;;AACDO,QAAAA,KAAK;AACN;AACF;;AAED,WAAO,IAAP;AACD,GAlDuD,CAoDxD;;;AACA,OAAK,IAAInK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuJ,KAAK,CAACtJ,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,QAAIkK,IAAI,GAAGX,KAAK,CAACvJ,CAAD,CAAhB;AAAA,QACIuK,OAAO,GAAGnB,KAAK,CAACnJ,MAAN,GAAeiK,IAAI,CAACM,QADlC;AAAA,QAEIC,WAAW,GAAG,CAFlB;AAAA,QAGIN,KAAK,GAAGL,MAAM,GAAGI,IAAI,CAACQ,QAAd,GAAyB,CAHrC;AAKA,QAAIC,QAAQ;AAAG;AAAA;AAAA;;AAAAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,OAAiBT,KAAjB,EAAwBN,OAAxB,EAAiCU,OAAjC,CAAf;;AAEA,WAAOE,WAAW,KAAK5I,SAAvB,EAAkC4I,WAAW,GAAGE,QAAQ,EAAxD,EAA4D;AAC1D,UAAIV,QAAQ,CAACC,IAAD,EAAOC,KAAK,GAAGM,WAAf,CAAZ,EAAyC;AACvCP,QAAAA,IAAI,CAACJ,MAAL,GAAcA,MAAM,IAAIW,WAAxB;AACA;AACD;AACF;;AAED,QAAIA,WAAW,KAAK5I,SAApB,EAA+B;AAC7B,aAAO,KAAP;AACD,KAjBoC,CAmBrC;AACA;;;AACAgI,IAAAA,OAAO,GAAGK,IAAI,CAACJ,MAAL,GAAcI,IAAI,CAACQ,QAAnB,GAA8BR,IAAI,CAACM,QAA7C;AACD,GA3EuD,CA6ExD;;;AACA,MAAIK,UAAU,GAAG,CAAjB;;AACA,OAAK,IAAI7K,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGuJ,KAAK,CAACtJ,MAA1B,EAAkCD,EAAC,EAAnC,EAAuC;AACrC,QAAIkK,KAAI,GAAGX,KAAK,CAACvJ,EAAD,CAAhB;AAAA,QACImK,MAAK,GAAGD,KAAI,CAACQ,QAAL,GAAgBR,KAAI,CAACJ,MAArB,GAA8Be,UAA9B,GAA2C,CADvD;;AAEAA,IAAAA,UAAU,IAAIX,KAAI,CAACY,QAAL,GAAgBZ,KAAI,CAACM,QAAnC;;AAEA,SAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAI,CAACd,KAAL,CAAWnJ,MAA/B,EAAuCmK,CAAC,EAAxC,EAA4C;AAC1C,UAAIvC,IAAI,GAAGqC,KAAI,CAACd,KAAL,CAAWgB,CAAX,CAAX;AAAA,UACIrK,SAAS,GAAI8H,IAAI,CAAC5H,MAAL,GAAc,CAAd,GAAkB4H,IAAI,CAAC,CAAD,CAAtB,GAA4B,GAD7C;AAAA,UAEIwC,OAAO,GAAIxC,IAAI,CAAC5H,MAAL,GAAc,CAAd,GAAkB4H,IAAI,CAACyC,MAAL,CAAY,CAAZ,CAAlB,GAAmCzC,IAFlD;AAAA,UAGIkD,SAAS,GAAGb,KAAI,CAACc,cAAL,IAAuBd,KAAI,CAACc,cAAL,CAAoBZ,CAApB,CAAvB,IAAiD,IAHjE;;AAKA,UAAIrK,SAAS,KAAK,GAAlB,EAAuB;AACrBoK,QAAAA,MAAK;AACN,OAFD,MAEO,IAAIpK,SAAS,KAAK,GAAlB,EAAuB;AAC5BqJ,QAAAA,KAAK,CAACT,MAAN,CAAawB,MAAb,EAAoB,CAApB;AACAd,QAAAA,UAAU,CAACV,MAAX,CAAkBwB,MAAlB,EAAyB,CAAzB;AACF;AACC,OAJM,MAIA,IAAIpK,SAAS,KAAK,GAAlB,EAAuB;AAC5BqJ,QAAAA,KAAK,CAACT,MAAN,CAAawB,MAAb,EAAoB,CAApB,EAAuBE,OAAvB;AACAhB,QAAAA,UAAU,CAACV,MAAX,CAAkBwB,MAAlB,EAAyB,CAAzB,EAA4BY,SAA5B;AACAZ,QAAAA,MAAK;AACN,OAJM,MAIA,IAAIpK,SAAS,KAAK,IAAlB,EAAwB;AAC7B,YAAIkL,iBAAiB,GAAGf,KAAI,CAACd,KAAL,CAAWgB,CAAC,GAAG,CAAf,IAAoBF,KAAI,CAACd,KAAL,CAAWgB,CAAC,GAAG,CAAf,EAAkB,CAAlB,CAApB,GAA2C,IAAnE;;AACA,YAAIa,iBAAiB,KAAK,GAA1B,EAA+B;AAC7BlB,UAAAA,WAAW,GAAG,IAAd;AACD,SAFD,MAEO,IAAIkB,iBAAiB,KAAK,GAA1B,EAA+B;AACpCjB,UAAAA,QAAQ,GAAG,IAAX;AACD;AACF;AACF;AACF,GA7GuD,CA+GxD;;;AACA,MAAID,WAAJ,EAAiB;AACf,WAAO,CAACX,KAAK,CAACA,KAAK,CAACnJ,MAAN,GAAe,CAAhB,CAAb,EAAiC;AAC/BmJ,MAAAA,KAAK,CAAC5D,GAAN;AACA6D,MAAAA,UAAU,CAAC7D,GAAX;AACD;AACF,GALD,MAKO,IAAIwE,QAAJ,EAAc;AACnBZ,IAAAA,KAAK,CAAChJ,IAAN,CAAW,EAAX;AACAiJ,IAAAA,UAAU,CAACjJ,IAAX,CAAgB,IAAhB;AACD;;AACD,OAAK,IAAI8K,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG9B,KAAK,CAACnJ,MAAN,GAAe,CAArC,EAAwCiL,EAAE,EAA1C,EAA8C;AAC5C9B,IAAAA,KAAK,CAAC8B,EAAD,CAAL,GAAY9B,KAAK,CAAC8B,EAAD,CAAL,GAAY7B,UAAU,CAAC6B,EAAD,CAAlC;AACD;;AACD,SAAO9B,KAAK,CAAC5I,IAAN,CAAW,EAAX,CAAP;AACD,C,CAED;;;AACO,SAAS2K,YAAT,CAAsBnC,OAAtB,EAA+BvH,OAA/B,EAAwC;AAC7C,MAAI,OAAOuH,OAAP,KAAmB,QAAvB,EAAiC;AAC/BA,IAAAA,OAAO;AAAG;AAAA;AAAA;;AAAAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,KAAWD,OAAX,CAAV;AACD;;AAED,MAAIoC,YAAY,GAAG,CAAnB;;AACA,WAASC,YAAT,GAAwB;AACtB,QAAIC,KAAK,GAAGtC,OAAO,CAACoC,YAAY,EAAb,CAAnB;;AACA,QAAI,CAACE,KAAL,EAAY;AACV,aAAO7J,OAAO,CAAC8J,QAAR,EAAP;AACD;;AAED9J,IAAAA,OAAO,CAAC+J,QAAR,CAAiBF,KAAjB,EAAwB,UAASG,GAAT,EAAcC,IAAd,EAAoB;AAC1C,UAAID,GAAJ,EAAS;AACP,eAAOhK,OAAO,CAAC8J,QAAR,CAAiBE,GAAjB,CAAP;AACD;;AAED,UAAIE,cAAc,GAAG7C,UAAU,CAAC4C,IAAD,EAAOJ,KAAP,EAAc7J,OAAd,CAA/B;AACAA,MAAAA,OAAO,CAACmK,OAAR,CAAgBN,KAAhB,EAAuBK,cAAvB,EAAuC,UAASF,GAAT,EAAc;AACnD,YAAIA,GAAJ,EAAS;AACP,iBAAOhK,OAAO,CAAC8J,QAAR,CAAiBE,GAAjB,CAAP;AACD;;AAEDJ,QAAAA,YAAY;AACb,OAND;AAOD,KAbD;AAcD;;AACDA,EAAAA,YAAY;AACb;;;;;;;;;;;;;;;;;;;;;;;AC/JD;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;AAEO,SAASQ,eAAT,CAAyBC,WAAzB,EAAsCC,WAAtC,EAAmDpG,MAAnD,EAA2DC,MAA3D,EAAmEoG,SAAnE,EAA8EC,SAA9E,EAAyFxK,OAAzF,EAAkG;AACvG,MAAI,CAACA,OAAL,EAAc;AACZA,IAAAA,OAAO,GAAG,EAAV;AACD;;AACD,MAAI,OAAOA,OAAO,CAACyK,OAAf,KAA2B,WAA/B,EAA4C;AAC1CzK,IAAAA,OAAO,CAACyK,OAAR,GAAkB,CAAlB;AACD;;AAED,MAAM7K,IAAI;AAAG;AAAA;AAAA;;AAAA4G;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,GAAUtC,MAAV,EAAkBC,MAAlB,EAA0BnE,OAA1B,CAAb;;AACA,MAAG,CAACJ,IAAJ,EAAU;AACR;AACD;;AAEDA,EAAAA,IAAI,CAACjB,IAAL,CAAU;AAACC,IAAAA,KAAK,EAAE,EAAR;AAAY+I,IAAAA,KAAK,EAAE;AAAnB,GAAV,EAbuG,CAapE;;AAEnC,WAAS+C,YAAT,CAAsB/C,KAAtB,EAA6B;AAC3B,WAAOA,KAAK,CAAChE,GAAN,CAAU,UAASgH,KAAT,EAAgB;AAAE,aAAO,MAAMA,KAAb;AAAqB,KAAjD,CAAP;AACD;;AAED,MAAI7C,KAAK,GAAG,EAAZ;AACA,MAAI8C,aAAa,GAAG,CAApB;AAAA,MAAuBC,aAAa,GAAG,CAAvC;AAAA,MAA0CC,QAAQ,GAAG,EAArD;AAAA,MACIC,OAAO,GAAG,CADd;AAAA,MACiBC,OAAO,GAAG,CAD3B;;AApBuG;AAAA;AAAA;AAsB9FzM,EAAAA,CAtB8F;AAuBrG,QAAM0M,OAAO,GAAGrL,IAAI,CAACrB,CAAD,CAApB;AAAA,QACMoJ,KAAK,GAAGsD,OAAO,CAACtD,KAAR,IAAiBsD,OAAO,CAACrM,KAAR,CAAcM,OAAd,CAAsB,KAAtB,EAA6B,EAA7B,EAAiCiE,KAAjC,CAAuC,IAAvC,CAD/B;AAEA8H,IAAAA,OAAO,CAACtD,KAAR,GAAgBA,KAAhB;;AAEA,QAAIsD,OAAO,CAACxM,KAAR,IAAiBwM,OAAO,CAACvM,OAA7B,EAAsC;AAAA;AAAA;;AAAA;AACpC;AACA,UAAI,CAACkM,aAAL,EAAoB;AAClB,YAAMM,IAAI,GAAGtL,IAAI,CAACrB,CAAC,GAAG,CAAL,CAAjB;AACAqM,QAAAA,aAAa,GAAGG,OAAhB;AACAF,QAAAA,aAAa,GAAGG,OAAhB;;AAEA,YAAIE,IAAJ,EAAU;AACRJ,UAAAA,QAAQ,GAAG9K,OAAO,CAACyK,OAAR,GAAkB,CAAlB,GAAsBC,YAAY,CAACQ,IAAI,CAACvD,KAAL,CAAWrI,KAAX,CAAiB,CAACU,OAAO,CAACyK,OAA1B,CAAD,CAAlC,GAAyE,EAApF;AACAG,UAAAA,aAAa,IAAIE,QAAQ,CAACtM,MAA1B;AACAqM,UAAAA,aAAa,IAAIC,QAAQ,CAACtM,MAA1B;AACD;AACF,OAZmC,CAcpC;;;AACA;;AAAA;;AAAA;AAAA;AAAA;AAAAsM,MAAAA,QAAQ,EAACnM,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkBgJ,MAAAA,KAAK,CAAChE,GAAN,CAAU,UAASgH,KAAT,EAAgB;AAC1C,eAAO,CAACM,OAAO,CAACxM,KAAR,GAAgB,GAAhB,GAAsB,GAAvB,IAA8BkM,KAArC;AACD,OAFiB,CAAlB,GAfoC,CAmBpC;;;AACA,UAAIM,OAAO,CAACxM,KAAZ,EAAmB;AACjBuM,QAAAA,OAAO,IAAIrD,KAAK,CAACnJ,MAAjB;AACD,OAFD,MAEO;AACLuM,QAAAA,OAAO,IAAIpD,KAAK,CAACnJ,MAAjB;AACD;AACF,KAzBD,MAyBO;AACL;AACA,UAAIoM,aAAJ,EAAmB;AACjB;AACA,YAAIjD,KAAK,CAACnJ,MAAN,IAAgBwB,OAAO,CAACyK,OAAR,GAAkB,CAAlC,IAAuClM,CAAC,GAAGqB,IAAI,CAACpB,MAAL,GAAc,CAA7D,EAAgE;AAAA;AAAA;;AAAA;AAC9D;;AACA;;AAAA;;AAAA;AAAA;AAAA;AAAAsM,UAAAA,QAAQ,EAACnM,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkB+L,UAAAA,YAAY,CAAC/C,KAAD,CAA9B;AACD,SAHD,MAGO;AAAA;AAAA;;AAAA;AACL;AACA,cAAIwD,WAAW,GAAGzK,IAAI,CAACC,GAAL,CAASgH,KAAK,CAACnJ,MAAf,EAAuBwB,OAAO,CAACyK,OAA/B,CAAlB;;AACA;;AAAA;;AAAA;AAAA;AAAA;AAAAK,UAAAA,QAAQ,EAACnM,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkB+L,UAAAA,YAAY,CAAC/C,KAAK,CAACrI,KAAN,CAAY,CAAZ,EAAe6L,WAAf,CAAD,CAA9B;;AAEA,cAAI1C,IAAI,GAAG;AACTQ,YAAAA,QAAQ,EAAE2B,aADD;AAET7B,YAAAA,QAAQ,EAAGgC,OAAO,GAAGH,aAAV,GAA0BO,WAF5B;AAGTC,YAAAA,QAAQ,EAAEP,aAHD;AAITxB,YAAAA,QAAQ,EAAG2B,OAAO,GAAGH,aAAV,GAA0BM,WAJ5B;AAKTxD,YAAAA,KAAK,EAAEmD;AALE,WAAX;;AAOA,cAAIvM,CAAC,IAAIqB,IAAI,CAACpB,MAAL,GAAc,CAAnB,IAAwBmJ,KAAK,CAACnJ,MAAN,IAAgBwB,OAAO,CAACyK,OAApD,EAA6D;AAC3D;AACA,gBAAIY,aAAa,GAAK,KAAD,CAAQrE,IAAR,CAAa9C,MAAb,CAArB;AACA,gBAAIoH,aAAa,GAAK,KAAD,CAAQtE,IAAR,CAAa7C,MAAb,CAArB;AACA,gBAAIoH,cAAc,GAAG5D,KAAK,CAACnJ,MAAN,IAAgB,CAAhB,IAAqBsM,QAAQ,CAACtM,MAAT,GAAkBiK,IAAI,CAACM,QAAjE;;AACA,gBAAI,CAACsC,aAAD,IAAkBE,cAAlB,IAAoCrH,MAAM,CAAC1F,MAAP,GAAgB,CAAxD,EAA2D;AACzD;AACA;AACAsM,cAAAA,QAAQ,CAAC5D,MAAT,CAAgBuB,IAAI,CAACM,QAArB,EAA+B,CAA/B,EAAkC,8BAAlC;AACD;;AACD,gBAAK,CAACsC,aAAD,IAAkB,CAACE,cAApB,IAAuC,CAACD,aAA5C,EAA2D;AACzDR,cAAAA,QAAQ,CAACnM,IAAT,CAAc,8BAAd;AACD;AACF;;AACDmJ,UAAAA,KAAK,CAACnJ,IAAN,CAAW8J,IAAX;AAEAmC,UAAAA,aAAa,GAAG,CAAhB;AACAC,UAAAA,aAAa,GAAG,CAAhB;AACAC,UAAAA,QAAQ,GAAG,EAAX;AACD;AACF;;AACDC,MAAAA,OAAO,IAAIpD,KAAK,CAACnJ,MAAjB;AACAwM,MAAAA,OAAO,IAAIrD,KAAK,CAACnJ,MAAjB;AACD;AA9FoG;;AAsBvG,OAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqB,IAAI,CAACpB,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAAA;AAAA;AAAA;AAA7BA,IAAAA,CAA6B;AAyErC;;AAED,SAAO;AACL8L,IAAAA,WAAW,EAAEA,WADR;AACqBC,IAAAA,WAAW,EAAEA,WADlC;AAELC,IAAAA,SAAS,EAAEA,SAFN;AAEiBC,IAAAA,SAAS,EAAEA,SAF5B;AAGL1C,IAAAA,KAAK,EAAEA;AAHF,GAAP;AAKD;;AAEM,SAAS0D,WAAT,CAAqB5L,IAArB,EAA2B;AAChC,MAAIgG,KAAK,CAAC6B,OAAN,CAAc7H,IAAd,CAAJ,EAAyB;AACvB,WAAOA,IAAI,CAAC+D,GAAL,CAAS6H,WAAT,EAAsBzM,IAAtB,CAA2B,IAA3B,CAAP;AACD;;AAED,MAAMX,GAAG,GAAG,EAAZ;;AACA,MAAIwB,IAAI,CAACyK,WAAL,IAAoBzK,IAAI,CAAC0K,WAA7B,EAA0C;AACxClM,IAAAA,GAAG,CAACO,IAAJ,CAAS,YAAYiB,IAAI,CAACyK,WAA1B;AACD;;AACDjM,EAAAA,GAAG,CAACO,IAAJ,CAAS,qEAAT;AACAP,EAAAA,GAAG,CAACO,IAAJ,CAAS,SAASiB,IAAI,CAACyK,WAAd,IAA6B,OAAOzK,IAAI,CAAC2K,SAAZ,KAA0B,WAA1B,GAAwC,EAAxC,GAA6C,OAAO3K,IAAI,CAAC2K,SAAtF,CAAT;AACAnM,EAAAA,GAAG,CAACO,IAAJ,CAAS,SAASiB,IAAI,CAAC0K,WAAd,IAA6B,OAAO1K,IAAI,CAAC4K,SAAZ,KAA0B,WAA1B,GAAwC,EAAxC,GAA6C,OAAO5K,IAAI,CAAC4K,SAAtF,CAAT;;AAEA,OAAK,IAAIjM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqB,IAAI,CAACkI,KAAL,CAAWtJ,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAC1C,QAAMkK,IAAI,GAAG7I,IAAI,CAACkI,KAAL,CAAWvJ,CAAX,CAAb,CAD0C,CAE1C;AACA;AACA;;AACA,QAAIkK,IAAI,CAACM,QAAL,KAAkB,CAAtB,EAAyB;AACvBN,MAAAA,IAAI,CAACQ,QAAL,IAAiB,CAAjB;AACD;;AACD,QAAIR,IAAI,CAACY,QAAL,KAAkB,CAAtB,EAAyB;AACvBZ,MAAAA,IAAI,CAAC2C,QAAL,IAAiB,CAAjB;AACD;;AACDhN,IAAAA,GAAG,CAACO,IAAJ,CACE,SAAS8J,IAAI,CAACQ,QAAd,GAAyB,GAAzB,GAA+BR,IAAI,CAACM,QAApC,GACE,IADF,GACSN,IAAI,CAAC2C,QADd,GACyB,GADzB,GAC+B3C,IAAI,CAACY,QADpC,GAEE,KAHJ;AAKAjL,IAAAA,GAAG,CAACO,IAAJ,CAAS8M,KAAT,CAAerN,GAAf,EAAoBqK,IAAI,CAACd,KAAzB;AACD;;AAED,SAAOvJ,GAAG,CAACW,IAAJ,CAAS,IAAT,IAAiB,IAAxB;AACD;;AAEM,SAAS2M,mBAAT,CAA6BrB,WAA7B,EAA0CC,WAA1C,EAAuDpG,MAAvD,EAA+DC,MAA/D,EAAuEoG,SAAvE,EAAkFC,SAAlF,EAA6FxK,OAA7F,EAAsG;AAC3G,SAAOwL,WAAW,CAACpB,eAAe,CAACC,WAAD,EAAcC,WAAd,EAA2BpG,MAA3B,EAAmCC,MAAnC,EAA2CoG,SAA3C,EAAsDC,SAAtD,EAAiExK,OAAjE,CAAhB,CAAlB;AACD;;AAEM,SAAS2L,WAAT,CAAqBC,QAArB,EAA+B1H,MAA/B,EAAuCC,MAAvC,EAA+CoG,SAA/C,EAA0DC,SAA1D,EAAqExK,OAArE,EAA8E;AACnF,SAAO0L,mBAAmB,CAACE,QAAD,EAAWA,QAAX,EAAqB1H,MAArB,EAA6BC,MAA7B,EAAqCoG,SAArC,EAAgDC,SAAhD,EAA2DxK,OAA3D,CAA1B;AACD;;;;;;;;;;;;;;;;;;;;;ACnJD;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AAEA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;AAEO,SAAS6L,aAAT,CAAuBpD,IAAvB,EAA6B;AAAA;AAAA;AAAA;AACLqD,EAAAA,mBAAmB,CAACrD,IAAI,CAACd,KAAN,CADd;AAAA,MAC3BoB,QAD2B,wBAC3BA,QAD2B;AAAA,MACjBM,QADiB,wBACjBA,QADiB;;AAGlC,MAAIN,QAAQ,KAAK3I,SAAjB,EAA4B;AAC1BqI,IAAAA,IAAI,CAACM,QAAL,GAAgBA,QAAhB;AACD,GAFD,MAEO;AACL,WAAON,IAAI,CAACM,QAAZ;AACD;;AAED,MAAIM,QAAQ,KAAKjJ,SAAjB,EAA4B;AAC1BqI,IAAAA,IAAI,CAACY,QAAL,GAAgBA,QAAhB;AACD,GAFD,MAEO;AACL,WAAOZ,IAAI,CAACY,QAAZ;AACD;AACF;;AAEM,SAAS0C,KAAT,CAAeC,IAAf,EAAqBC,MAArB,EAA6BC,IAA7B,EAAmC;AACxCF,EAAAA,IAAI,GAAGG,SAAS,CAACH,IAAD,EAAOE,IAAP,CAAhB;AACAD,EAAAA,MAAM,GAAGE,SAAS,CAACF,MAAD,EAASC,IAAT,CAAlB;AAEA,MAAI9N,GAAG,GAAG,EAAV,CAJwC,CAMxC;AACA;AACA;;AACA,MAAI4N,IAAI,CAACnC,KAAL,IAAcoC,MAAM,CAACpC,KAAzB,EAAgC;AAC9BzL,IAAAA,GAAG,CAACyL,KAAJ,GAAYmC,IAAI,CAACnC,KAAL,IAAcoC,MAAM,CAACpC,KAAjC;AACD;;AAED,MAAImC,IAAI,CAAC1B,WAAL,IAAoB2B,MAAM,CAAC3B,WAA/B,EAA4C;AAC1C,QAAI,CAAC8B,eAAe,CAACJ,IAAD,CAApB,EAA4B;AAC1B;AACA5N,MAAAA,GAAG,CAACiM,WAAJ,GAAkB4B,MAAM,CAAC5B,WAAP,IAAsB2B,IAAI,CAAC3B,WAA7C;AACAjM,MAAAA,GAAG,CAACkM,WAAJ,GAAkB2B,MAAM,CAAC3B,WAAP,IAAsB0B,IAAI,CAAC1B,WAA7C;AACAlM,MAAAA,GAAG,CAACmM,SAAJ,GAAgB0B,MAAM,CAAC1B,SAAP,IAAoByB,IAAI,CAACzB,SAAzC;AACAnM,MAAAA,GAAG,CAACoM,SAAJ,GAAgByB,MAAM,CAACzB,SAAP,IAAoBwB,IAAI,CAACxB,SAAzC;AACD,KAND,MAMO,IAAI,CAAC4B,eAAe,CAACH,MAAD,CAApB,EAA8B;AACnC;AACA7N,MAAAA,GAAG,CAACiM,WAAJ,GAAkB2B,IAAI,CAAC3B,WAAvB;AACAjM,MAAAA,GAAG,CAACkM,WAAJ,GAAkB0B,IAAI,CAAC1B,WAAvB;AACAlM,MAAAA,GAAG,CAACmM,SAAJ,GAAgByB,IAAI,CAACzB,SAArB;AACAnM,MAAAA,GAAG,CAACoM,SAAJ,GAAgBwB,IAAI,CAACxB,SAArB;AACD,KANM,MAMA;AACL;AACApM,MAAAA,GAAG,CAACiM,WAAJ,GAAkBgC,WAAW,CAACjO,GAAD,EAAM4N,IAAI,CAAC3B,WAAX,EAAwB4B,MAAM,CAAC5B,WAA/B,CAA7B;AACAjM,MAAAA,GAAG,CAACkM,WAAJ,GAAkB+B,WAAW,CAACjO,GAAD,EAAM4N,IAAI,CAAC1B,WAAX,EAAwB2B,MAAM,CAAC3B,WAA/B,CAA7B;AACAlM,MAAAA,GAAG,CAACmM,SAAJ,GAAgB8B,WAAW,CAACjO,GAAD,EAAM4N,IAAI,CAACzB,SAAX,EAAsB0B,MAAM,CAAC1B,SAA7B,CAA3B;AACAnM,MAAAA,GAAG,CAACoM,SAAJ,GAAgB6B,WAAW,CAACjO,GAAD,EAAM4N,IAAI,CAACxB,SAAX,EAAsByB,MAAM,CAACzB,SAA7B,CAA3B;AACD;AACF;;AAEDpM,EAAAA,GAAG,CAAC0J,KAAJ,GAAY,EAAZ;AAEA,MAAIwE,SAAS,GAAG,CAAhB;AAAA,MACIC,WAAW,GAAG,CADlB;AAAA,MAEIC,UAAU,GAAG,CAFjB;AAAA,MAGIC,YAAY,GAAG,CAHnB;;AAKA,SAAOH,SAAS,GAAGN,IAAI,CAAClE,KAAL,CAAWtJ,MAAvB,IAAiC+N,WAAW,GAAGN,MAAM,CAACnE,KAAP,CAAatJ,MAAnE,EAA2E;AACzE,QAAIkO,WAAW,GAAGV,IAAI,CAAClE,KAAL,CAAWwE,SAAX,KAAyB;AAACrD,MAAAA,QAAQ,EAAEnI;AAAX,KAA3C;AAAA,QACI6L,aAAa,GAAGV,MAAM,CAACnE,KAAP,CAAayE,WAAb,KAA6B;AAACtD,MAAAA,QAAQ,EAAEnI;AAAX,KADjD;;AAGA,QAAI8L,UAAU,CAACF,WAAD,EAAcC,aAAd,CAAd,EAA4C;AAC1C;AACAvO,MAAAA,GAAG,CAAC0J,KAAJ,CAAUnJ,IAAV,CAAekO,SAAS,CAACH,WAAD,EAAcF,UAAd,CAAxB;AACAF,MAAAA,SAAS;AACTG,MAAAA,YAAY,IAAIC,WAAW,CAACrD,QAAZ,GAAuBqD,WAAW,CAAC3D,QAAnD;AACD,KALD,MAKO,IAAI6D,UAAU,CAACD,aAAD,EAAgBD,WAAhB,CAAd,EAA4C;AACjD;AACAtO,MAAAA,GAAG,CAAC0J,KAAJ,CAAUnJ,IAAV,CAAekO,SAAS,CAACF,aAAD,EAAgBF,YAAhB,CAAxB;AACAF,MAAAA,WAAW;AACXC,MAAAA,UAAU,IAAIG,aAAa,CAACtD,QAAd,GAAyBsD,aAAa,CAAC5D,QAArD;AACD,KALM,MAKA;AACL;AACA,UAAI+D,UAAU,GAAG;AACf7D,QAAAA,QAAQ,EAAEvI,IAAI,CAACC,GAAL,CAAS+L,WAAW,CAACzD,QAArB,EAA+B0D,aAAa,CAAC1D,QAA7C,CADK;AAEfF,QAAAA,QAAQ,EAAE,CAFK;AAGfqC,QAAAA,QAAQ,EAAE1K,IAAI,CAACC,GAAL,CAAS+L,WAAW,CAACtB,QAAZ,GAAuBoB,UAAhC,EAA4CG,aAAa,CAAC1D,QAAd,GAAyBwD,YAArE,CAHK;AAIfpD,QAAAA,QAAQ,EAAE,CAJK;AAKf1B,QAAAA,KAAK,EAAE;AALQ,OAAjB;AAOAoF,MAAAA,UAAU,CAACD,UAAD,EAAaJ,WAAW,CAACzD,QAAzB,EAAmCyD,WAAW,CAAC/E,KAA/C,EAAsDgF,aAAa,CAAC1D,QAApE,EAA8E0D,aAAa,CAAChF,KAA5F,CAAV;AACA4E,MAAAA,WAAW;AACXD,MAAAA,SAAS;AAETlO,MAAAA,GAAG,CAAC0J,KAAJ,CAAUnJ,IAAV,CAAemO,UAAf;AACD;AACF;;AAED,SAAO1O,GAAP;AACD;;AAED,SAAS+N,SAAT,CAAmBa,KAAnB,EAA0Bd,IAA1B,EAAgC;AAC9B,MAAI,OAAOc,KAAP,KAAiB,QAArB,EAA+B;AAC7B,QAAK,MAAD,CAAShG,IAAT,CAAcgG,KAAd,KAA0B,UAAD,CAAahG,IAAb,CAAkBgG,KAAlB,CAA7B,EAAwD;AACtD,aAAO;AAAA;AAAA;AAAA;;AAAAxF;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,SAAWwF,KAAX,EAAkB,CAAlB;AAAP;AACD;;AAED,QAAI,CAACd,IAAL,EAAW;AACT,YAAM,IAAIxE,KAAJ,CAAU,kDAAV,CAAN;AACD;;AACD,WAAO;AAAA;AAAA;AAAA;;AAAA0C;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,OAAgBhK,SAAhB,EAA2BA,SAA3B,EAAsC8L,IAAtC,EAA4Cc,KAA5C;AAAP;AACD;;AAED,SAAOA,KAAP;AACD;;AAED,SAASZ,eAAT,CAAyBa,KAAzB,EAAgC;AAC9B,SAAOA,KAAK,CAAC3C,WAAN,IAAqB2C,KAAK,CAAC3C,WAAN,KAAsB2C,KAAK,CAAC5C,WAAxD;AACD;;AAED,SAASgC,WAAT,CAAqBxC,KAArB,EAA4BmC,IAA5B,EAAkCC,MAAlC,EAA0C;AACxC,MAAID,IAAI,KAAKC,MAAb,EAAqB;AACnB,WAAOD,IAAP;AACD,GAFD,MAEO;AACLnC,IAAAA,KAAK,CAACqD,QAAN,GAAiB,IAAjB;AACA,WAAO;AAAClB,MAAAA,IAAI,EAAJA,IAAD;AAAOC,MAAAA,MAAM,EAANA;AAAP,KAAP;AACD;AACF;;AAED,SAASW,UAAT,CAAoB5F,IAApB,EAA0BmG,KAA1B,EAAiC;AAC/B,SAAOnG,IAAI,CAACiC,QAAL,GAAgBkE,KAAK,CAAClE,QAAtB,IACDjC,IAAI,CAACiC,QAAL,GAAgBjC,IAAI,CAAC+B,QAAtB,GAAkCoE,KAAK,CAAClE,QAD7C;AAED;;AAED,SAAS4D,SAAT,CAAmBpE,IAAnB,EAAyBJ,MAAzB,EAAiC;AAC/B,SAAO;AACLY,IAAAA,QAAQ,EAAER,IAAI,CAACQ,QADV;AACoBF,IAAAA,QAAQ,EAAEN,IAAI,CAACM,QADnC;AAELqC,IAAAA,QAAQ,EAAE3C,IAAI,CAAC2C,QAAL,GAAgB/C,MAFrB;AAE6BgB,IAAAA,QAAQ,EAAEZ,IAAI,CAACY,QAF5C;AAGL1B,IAAAA,KAAK,EAAEc,IAAI,CAACd;AAHP,GAAP;AAKD;;AAED,SAASoF,UAAT,CAAoBtE,IAApB,EAA0B+D,UAA1B,EAAsCY,SAAtC,EAAiDC,WAAjD,EAA8DC,UAA9D,EAA0E;AACxE;AACA;AACA,MAAItB,IAAI,GAAG;AAAC3D,IAAAA,MAAM,EAAEmE,UAAT;AAAqB7E,IAAAA,KAAK,EAAEyF,SAA5B;AAAuCvD,IAAAA,KAAK,EAAE;AAA9C,GAAX;AAAA,MACI0D,KAAK,GAAG;AAAClF,IAAAA,MAAM,EAAEgF,WAAT;AAAsB1F,IAAAA,KAAK,EAAE2F,UAA7B;AAAyCzD,IAAAA,KAAK,EAAE;AAAhD,GADZ,CAHwE,CAMxE;;AACA2D,EAAAA,aAAa,CAAC/E,IAAD,EAAOuD,IAAP,EAAauB,KAAb,CAAb;AACAC,EAAAA,aAAa,CAAC/E,IAAD,EAAO8E,KAAP,EAAcvB,IAAd,CAAb,CARwE,CAUxE;;AACA,SAAOA,IAAI,CAACnC,KAAL,GAAamC,IAAI,CAACrE,KAAL,CAAWnJ,MAAxB,IAAkC+O,KAAK,CAAC1D,KAAN,GAAc0D,KAAK,CAAC5F,KAAN,CAAYnJ,MAAnE,EAA2E;AACzE,QAAIkO,WAAW,GAAGV,IAAI,CAACrE,KAAL,CAAWqE,IAAI,CAACnC,KAAhB,CAAlB;AAAA,QACI4D,YAAY,GAAGF,KAAK,CAAC5F,KAAN,CAAY4F,KAAK,CAAC1D,KAAlB,CADnB;;AAGA,QAAI,CAAC6C,WAAW,CAAC,CAAD,CAAX,KAAmB,GAAnB,IAA0BA,WAAW,CAAC,CAAD,CAAX,KAAmB,GAA9C,MACIe,YAAY,CAAC,CAAD,CAAZ,KAAoB,GAApB,IAA2BA,YAAY,CAAC,CAAD,CAAZ,KAAoB,GADnD,CAAJ,EAC6D;AAC3D;AACAC,MAAAA,YAAY,CAACjF,IAAD,EAAOuD,IAAP,EAAauB,KAAb,CAAZ;AACD,KAJD,MAIO,IAAIb,WAAW,CAAC,CAAD,CAAX,KAAmB,GAAnB,IAA0Be,YAAY,CAAC,CAAD,CAAZ,KAAoB,GAAlD,EAAuD;AAAA;AAAA;;AAAA;AAC5D;;AACA;;AAAA;;AAAA;AAAA;AAAA;AAAAhF,MAAAA,IAAI,CAACd,KAAL,EAAWhJ,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoBgP,MAAAA,aAAa,CAAC3B,IAAD,CAAjC;AACD,KAHM,MAGA,IAAIyB,YAAY,CAAC,CAAD,CAAZ,KAAoB,GAApB,IAA2Bf,WAAW,CAAC,CAAD,CAAX,KAAmB,GAAlD,EAAuD;AAAA;AAAA;;AAAA;AAC5D;;AACA;;AAAA;;AAAA;AAAA;AAAA;AAAAjE,MAAAA,IAAI,CAACd,KAAL,EAAWhJ,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoBgP,MAAAA,aAAa,CAACJ,KAAD,CAAjC;AACD,KAHM,MAGA,IAAIb,WAAW,CAAC,CAAD,CAAX,KAAmB,GAAnB,IAA0Be,YAAY,CAAC,CAAD,CAAZ,KAAoB,GAAlD,EAAuD;AAC5D;AACAG,MAAAA,OAAO,CAACnF,IAAD,EAAOuD,IAAP,EAAauB,KAAb,CAAP;AACD,KAHM,MAGA,IAAIE,YAAY,CAAC,CAAD,CAAZ,KAAoB,GAApB,IAA2Bf,WAAW,CAAC,CAAD,CAAX,KAAmB,GAAlD,EAAuD;AAC5D;AACAkB,MAAAA,OAAO,CAACnF,IAAD,EAAO8E,KAAP,EAAcvB,IAAd,EAAoB,IAApB,CAAP;AACD,KAHM,MAGA,IAAIU,WAAW,KAAKe,YAApB,EAAkC;AACvC;AACAhF,MAAAA,IAAI,CAACd,KAAL,CAAWhJ,IAAX,CAAgB+N,WAAhB;AACAV,MAAAA,IAAI,CAACnC,KAAL;AACA0D,MAAAA,KAAK,CAAC1D,KAAN;AACD,KALM,MAKA;AACL;AACAqD,MAAAA,QAAQ,CAACzE,IAAD,EAAOkF,aAAa,CAAC3B,IAAD,CAApB,EAA4B2B,aAAa,CAACJ,KAAD,CAAzC,CAAR;AACD;AACF,GAxCuE,CA0CxE;;;AACAM,EAAAA,cAAc,CAACpF,IAAD,EAAOuD,IAAP,CAAd;AACA6B,EAAAA,cAAc,CAACpF,IAAD,EAAO8E,KAAP,CAAd;AAEA1B,EAAAA,aAAa,CAACpD,IAAD,CAAb;AACD;;AAED,SAASiF,YAAT,CAAsBjF,IAAtB,EAA4BuD,IAA5B,EAAkCuB,KAAlC,EAAyC;AACvC,MAAIO,SAAS,GAAGH,aAAa,CAAC3B,IAAD,CAA7B;AAAA,MACI+B,YAAY,GAAGJ,aAAa,CAACJ,KAAD,CADhC;;AAGA,MAAIS,UAAU,CAACF,SAAD,CAAV,IAAyBE,UAAU,CAACD,YAAD,CAAvC,EAAuD;AACrD;AACA;AAAI;AAAA;AAAA;;AAAAE;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,KAAgBH,SAAhB,EAA2BC,YAA3B,KACGG,kBAAkB,CAACX,KAAD,EAAQO,SAAR,EAAmBA,SAAS,CAACtP,MAAV,GAAmBuP,YAAY,CAACvP,MAAnD,CADzB,EACqF;AAAA;AAAA;;AAAA;;AACnF;;AAAA;;AAAA;AAAA;AAAA;AAAAiK,MAAAA,IAAI,CAACd,KAAL,EAAWhJ,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoBmP,MAAAA,SAApB;;AACA;AACD,KAJD,MAIO;AAAI;AAAA;AAAA;;AAAAG;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,KAAgBF,YAAhB,EAA8BD,SAA9B,KACJI,kBAAkB,CAAClC,IAAD,EAAO+B,YAAP,EAAqBA,YAAY,CAACvP,MAAb,GAAsBsP,SAAS,CAACtP,MAArD,CADlB,EACgF;AAAA;AAAA;;AAAA;;AACrF;;AAAA;;AAAA;AAAA;AAAA;AAAAiK,MAAAA,IAAI,CAACd,KAAL,EAAWhJ,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoBoP,MAAAA,YAApB;;AACA;AACD;AACF,GAXD,MAWO;AAAI;AAAA;AAAA;;AAAAI;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAA;AAAA,GAAWL,SAAX,EAAsBC,YAAtB,CAAJ,EAAyC;AAAA;AAAA;;AAAA;;AAC9C;;AAAA;;AAAA;AAAA;AAAA;AAAAtF,IAAAA,IAAI,CAACd,KAAL,EAAWhJ,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoBmP,IAAAA,SAApB;;AACA;AACD;;AAEDZ,EAAAA,QAAQ,CAACzE,IAAD,EAAOqF,SAAP,EAAkBC,YAAlB,CAAR;AACD;;AAED,SAASH,OAAT,CAAiBnF,IAAjB,EAAuBuD,IAAvB,EAA6BuB,KAA7B,EAAoCa,IAApC,EAA0C;AACxC,MAAIN,SAAS,GAAGH,aAAa,CAAC3B,IAAD,CAA7B;AAAA,MACI+B,YAAY,GAAGM,cAAc,CAACd,KAAD,EAAQO,SAAR,CADjC;;AAEA,MAAIC,YAAY,CAACO,MAAjB,EAAyB;AAAA;AAAA;;AAAA;;AACvB;;AAAA;;AAAA;AAAA;AAAA;AAAA7F,IAAAA,IAAI,CAACd,KAAL,EAAWhJ,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoBoP,IAAAA,YAAY,CAACO,MAAjC;AACD,GAFD,MAEO;AACLpB,IAAAA,QAAQ,CAACzE,IAAD,EAAO2F,IAAI,GAAGL,YAAH,GAAkBD,SAA7B,EAAwCM,IAAI,GAAGN,SAAH,GAAeC,YAA3D,CAAR;AACD;AACF;;AAED,SAASb,QAAT,CAAkBzE,IAAlB,EAAwBuD,IAAxB,EAA8BuB,KAA9B,EAAqC;AACnC9E,EAAAA,IAAI,CAACyE,QAAL,GAAgB,IAAhB;AACAzE,EAAAA,IAAI,CAACd,KAAL,CAAWhJ,IAAX,CAAgB;AACduO,IAAAA,QAAQ,EAAE,IADI;AAEdlB,IAAAA,IAAI,EAAEA,IAFQ;AAGdC,IAAAA,MAAM,EAAEsB;AAHM,GAAhB;AAKD;;AAED,SAASC,aAAT,CAAuB/E,IAAvB,EAA6B8F,MAA7B,EAAqChB,KAArC,EAA4C;AAC1C,SAAOgB,MAAM,CAAClG,MAAP,GAAgBkF,KAAK,CAAClF,MAAtB,IAAgCkG,MAAM,CAAC1E,KAAP,GAAe0E,MAAM,CAAC5G,KAAP,CAAanJ,MAAnE,EAA2E;AACzE,QAAI4H,IAAI,GAAGmI,MAAM,CAAC5G,KAAP,CAAa4G,MAAM,CAAC1E,KAAP,EAAb,CAAX;AACApB,IAAAA,IAAI,CAACd,KAAL,CAAWhJ,IAAX,CAAgByH,IAAhB;AACAmI,IAAAA,MAAM,CAAClG,MAAP;AACD;AACF;;AACD,SAASwF,cAAT,CAAwBpF,IAAxB,EAA8B8F,MAA9B,EAAsC;AACpC,SAAOA,MAAM,CAAC1E,KAAP,GAAe0E,MAAM,CAAC5G,KAAP,CAAanJ,MAAnC,EAA2C;AACzC,QAAI4H,IAAI,GAAGmI,MAAM,CAAC5G,KAAP,CAAa4G,MAAM,CAAC1E,KAAP,EAAb,CAAX;AACApB,IAAAA,IAAI,CAACd,KAAL,CAAWhJ,IAAX,CAAgByH,IAAhB;AACD;AACF;;AAED,SAASuH,aAAT,CAAuBa,KAAvB,EAA8B;AAC5B,MAAIpQ,GAAG,GAAG,EAAV;AAAA,MACIE,SAAS,GAAGkQ,KAAK,CAAC7G,KAAN,CAAY6G,KAAK,CAAC3E,KAAlB,EAAyB,CAAzB,CADhB;;AAEA,SAAO2E,KAAK,CAAC3E,KAAN,GAAc2E,KAAK,CAAC7G,KAAN,CAAYnJ,MAAjC,EAAyC;AACvC,QAAI4H,IAAI,GAAGoI,KAAK,CAAC7G,KAAN,CAAY6G,KAAK,CAAC3E,KAAlB,CAAX,CADuC,CAGvC;;AACA,QAAIvL,SAAS,KAAK,GAAd,IAAqB8H,IAAI,CAAC,CAAD,CAAJ,KAAY,GAArC,EAA0C;AACxC9H,MAAAA,SAAS,GAAG,GAAZ;AACD;;AAED,QAAIA,SAAS,KAAK8H,IAAI,CAAC,CAAD,CAAtB,EAA2B;AACzBhI,MAAAA,GAAG,CAACO,IAAJ,CAASyH,IAAT;AACAoI,MAAAA,KAAK,CAAC3E,KAAN;AACD,KAHD,MAGO;AACL;AACD;AACF;;AAED,SAAOzL,GAAP;AACD;;AACD,SAASiQ,cAAT,CAAwBG,KAAxB,EAA+BC,YAA/B,EAA6C;AAC3C,MAAItQ,OAAO,GAAG,EAAd;AAAA,MACImQ,MAAM,GAAG,EADb;AAAA,MAEII,UAAU,GAAG,CAFjB;AAAA,MAGIC,cAAc,GAAG,KAHrB;AAAA,MAIIC,UAAU,GAAG,KAJjB;;AAKA,SAAOF,UAAU,GAAGD,YAAY,CAACjQ,MAA1B,IACEgQ,KAAK,CAAC3E,KAAN,GAAc2E,KAAK,CAAC7G,KAAN,CAAYnJ,MADnC,EAC2C;AACzC,QAAIH,MAAM,GAAGmQ,KAAK,CAAC7G,KAAN,CAAY6G,KAAK,CAAC3E,KAAlB,CAAb;AAAA,QACIhC,KAAK,GAAG4G,YAAY,CAACC,UAAD,CADxB,CADyC,CAIzC;;AACA,QAAI7G,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB;AACpB;AACD;;AAED8G,IAAAA,cAAc,GAAGA,cAAc,IAAItQ,MAAM,CAAC,CAAD,CAAN,KAAc,GAAjD;AAEAiQ,IAAAA,MAAM,CAAC3P,IAAP,CAAYkJ,KAAZ;AACA6G,IAAAA,UAAU,GAZ+B,CAczC;AACA;;AACA,QAAIrQ,MAAM,CAAC,CAAD,CAAN,KAAc,GAAlB,EAAuB;AACrBuQ,MAAAA,UAAU,GAAG,IAAb;;AAEA,aAAOvQ,MAAM,CAAC,CAAD,CAAN,KAAc,GAArB,EAA0B;AACxBF,QAAAA,OAAO,CAACQ,IAAR,CAAaN,MAAb;AACAA,QAAAA,MAAM,GAAGmQ,KAAK,CAAC7G,KAAN,CAAY,EAAE6G,KAAK,CAAC3E,KAApB,CAAT;AACD;AACF;;AAED,QAAIhC,KAAK,CAACgB,MAAN,CAAa,CAAb,MAAoBxK,MAAM,CAACwK,MAAP,CAAc,CAAd,CAAxB,EAA0C;AACxC1K,MAAAA,OAAO,CAACQ,IAAR,CAAaN,MAAb;AACAmQ,MAAAA,KAAK,CAAC3E,KAAN;AACD,KAHD,MAGO;AACL+E,MAAAA,UAAU,GAAG,IAAb;AACD;AACF;;AAED,MAAI,CAACH,YAAY,CAACC,UAAD,CAAZ,IAA4B,EAA7B,EAAiC,CAAjC,MAAwC,GAAxC,IACGC,cADP,EACuB;AACrBC,IAAAA,UAAU,GAAG,IAAb;AACD;;AAED,MAAIA,UAAJ,EAAgB;AACd,WAAOzQ,OAAP;AACD;;AAED,SAAOuQ,UAAU,GAAGD,YAAY,CAACjQ,MAAjC,EAAyC;AACvC8P,IAAAA,MAAM,CAAC3P,IAAP,CAAY8P,YAAY,CAACC,UAAU,EAAX,CAAxB;AACD;;AAED,SAAO;AACLJ,IAAAA,MAAM,EAANA,MADK;AAELnQ,IAAAA,OAAO,EAAPA;AAFK,GAAP;AAID;;AAED,SAAS6P,UAAT,CAAoB7P,OAApB,EAA6B;AAC3B,SAAOA,OAAO,CAAC0Q,MAAR,CAAe,UAAS3D,IAAT,EAAe7M,MAAf,EAAuB;AAC3C,WAAO6M,IAAI,IAAI7M,MAAM,CAAC,CAAD,CAAN,KAAc,GAA7B;AACD,GAFM,EAEJ,IAFI,CAAP;AAGD;;AACD,SAAS6P,kBAAT,CAA4BM,KAA5B,EAAmCM,aAAnC,EAAkDC,KAAlD,EAAyD;AACvD,OAAK,IAAIxQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwQ,KAApB,EAA2BxQ,CAAC,EAA5B,EAAgC;AAC9B,QAAIyQ,aAAa,GAAGF,aAAa,CAACA,aAAa,CAACtQ,MAAd,GAAuBuQ,KAAvB,GAA+BxQ,CAAhC,CAAb,CAAgDsK,MAAhD,CAAuD,CAAvD,CAApB;;AACA,QAAI2F,KAAK,CAAC7G,KAAN,CAAY6G,KAAK,CAAC3E,KAAN,GAActL,CAA1B,MAAiC,MAAMyQ,aAA3C,EAA0D;AACxD,aAAO,KAAP;AACD;AACF;;AAEDR,EAAAA,KAAK,CAAC3E,KAAN,IAAekF,KAAf;AACA,SAAO,IAAP;AACD;;AAED,SAASjD,mBAAT,CAA6BnE,KAA7B,EAAoC;AAClC,MAAIoB,QAAQ,GAAG,CAAf;AACA,MAAIM,QAAQ,GAAG,CAAf;AAEA1B,EAAAA,KAAK,CAACsH,OAAN,CAAc,UAAS7I,IAAT,EAAe;AAC3B,QAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5B,UAAI8I,OAAO,GAAGpD,mBAAmB,CAAC1F,IAAI,CAAC4F,IAAN,CAAjC;AACA,UAAImD,UAAU,GAAGrD,mBAAmB,CAAC1F,IAAI,CAAC6F,MAAN,CAApC;;AAEA,UAAIlD,QAAQ,KAAK3I,SAAjB,EAA4B;AAC1B,YAAI8O,OAAO,CAACnG,QAAR,KAAqBoG,UAAU,CAACpG,QAApC,EAA8C;AAC5CA,UAAAA,QAAQ,IAAImG,OAAO,CAACnG,QAApB;AACD,SAFD,MAEO;AACLA,UAAAA,QAAQ,GAAG3I,SAAX;AACD;AACF;;AAED,UAAIiJ,QAAQ,KAAKjJ,SAAjB,EAA4B;AAC1B,YAAI8O,OAAO,CAAC7F,QAAR,KAAqB8F,UAAU,CAAC9F,QAApC,EAA8C;AAC5CA,UAAAA,QAAQ,IAAI6F,OAAO,CAAC7F,QAApB;AACD,SAFD,MAEO;AACLA,UAAAA,QAAQ,GAAGjJ,SAAX;AACD;AACF;AACF,KAnBD,MAmBO;AACL,UAAIiJ,QAAQ,KAAKjJ,SAAb,KAA2BgG,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAZ,IAAmBA,IAAI,CAAC,CAAD,CAAJ,KAAY,GAA1D,CAAJ,EAAoE;AAClEiD,QAAAA,QAAQ;AACT;;AACD,UAAIN,QAAQ,KAAK3I,SAAb,KAA2BgG,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAZ,IAAmBA,IAAI,CAAC,CAAD,CAAJ,KAAY,GAA1D,CAAJ,EAAoE;AAClE2C,QAAAA,QAAQ;AACT;AACF;AACF,GA5BD;AA8BA,SAAO;AAACA,IAAAA,QAAQ,EAARA,QAAD;AAAWM,IAAAA,QAAQ,EAARA;AAAX,GAAP;AACD;;;;;;;;;;;;;;;;;;;;ACvXM,SAAS7B,UAAT,CAAoBD,OAApB,EAA2C;AAAA;AAAA;AAAA;AAAdvH,EAAAA,OAAc,uEAAJ,EAAI;AAChD,MAAIoP,OAAO,GAAG7H,OAAO,CAACpE,KAAR,CAAc,qBAAd,CAAd;AAAA,MACIyE,UAAU,GAAGL,OAAO,CAACM,KAAR,CAAc,sBAAd,KAAyC,EAD1D;AAAA,MAEIwH,IAAI,GAAG,EAFX;AAAA,MAGI9Q,CAAC,GAAG,CAHR;;AAKA,WAAS+Q,UAAT,GAAsB;AACpB,QAAIzF,KAAK,GAAG,EAAZ;AACAwF,IAAAA,IAAI,CAAC1Q,IAAL,CAAUkL,KAAV,EAFoB,CAIpB;;AACA,WAAOtL,CAAC,GAAG6Q,OAAO,CAAC5Q,MAAnB,EAA2B;AACzB,UAAI4H,IAAI,GAAGgJ,OAAO,CAAC7Q,CAAD,CAAlB,CADyB,CAGzB;;AACA,UAAK,uBAAD,CAA0ByI,IAA1B,CAA+BZ,IAA/B,CAAJ,EAA0C;AACxC;AACD,OANwB,CAQzB;;;AACA,UAAImJ,MAAM,GAAI,0CAAD,CAA6CjN,IAA7C,CAAkD8D,IAAlD,CAAb;;AACA,UAAImJ,MAAJ,EAAY;AACV1F,QAAAA,KAAK,CAACA,KAAN,GAAc0F,MAAM,CAAC,CAAD,CAApB;AACD;;AAEDhR,MAAAA,CAAC;AACF,KApBmB,CAsBpB;AACA;;;AACAiR,IAAAA,eAAe,CAAC3F,KAAD,CAAf;AACA2F,IAAAA,eAAe,CAAC3F,KAAD,CAAf,CAzBoB,CA2BpB;;AACAA,IAAAA,KAAK,CAAC/B,KAAN,GAAc,EAAd;;AAEA,WAAOvJ,CAAC,GAAG6Q,OAAO,CAAC5Q,MAAnB,EAA2B;AACzB,UAAI4H,KAAI,GAAGgJ,OAAO,CAAC7Q,CAAD,CAAlB;;AAEA,UAAK,gCAAD,CAAmCyI,IAAnC,CAAwCZ,KAAxC,CAAJ,EAAmD;AACjD;AACD,OAFD,MAEO,IAAK,KAAD,CAAQY,IAAR,CAAaZ,KAAb,CAAJ,EAAwB;AAC7ByD,QAAAA,KAAK,CAAC/B,KAAN,CAAYnJ,IAAZ,CAAiB8Q,SAAS,EAA1B;AACD,OAFM,MAEA,IAAIrJ,KAAI,IAAIpG,OAAO,CAAC0P,MAApB,EAA4B;AACjC;AACA,cAAM,IAAIhI,KAAJ,CAAU,mBAAmBnJ,CAAC,GAAG,CAAvB,IAA4B,GAA5B,GAAkCwG,IAAI,CAACC,SAAL,CAAeoB,KAAf,CAA5C,CAAN;AACD,OAHM,MAGA;AACL7H,QAAAA,CAAC;AACF;AACF;AACF,GAlD+C,CAoDhD;AACA;;;AACA,WAASiR,eAAT,CAAyB3F,KAAzB,EAAgC;AAC9B,QAAM8F,UAAU,GAAI,uBAAD,CAA0BrN,IAA1B,CAA+B8M,OAAO,CAAC7Q,CAAD,CAAtC,CAAnB;;AACA,QAAIoR,UAAJ,EAAgB;AACd,UAAIC,SAAS,GAAGD,UAAU,CAAC,CAAD,CAAV,KAAkB,KAAlB,GAA0B,KAA1B,GAAkC,KAAlD;AACA,UAAM1F,IAAI,GAAG0F,UAAU,CAAC,CAAD,CAAV,CAAcxM,KAAd,CAAoB,IAApB,EAA0B,CAA1B,CAAb;AACA,UAAIyI,QAAQ,GAAG3B,IAAI,CAAC,CAAD,CAAJ,CAAQ/K,OAAR,CAAgB,OAAhB,EAAyB,IAAzB,CAAf;;AACA,UAAK,QAAD,CAAW8H,IAAX,CAAgB4E,QAAhB,CAAJ,EAA+B;AAC7BA,QAAAA,QAAQ,GAAGA,QAAQ,CAAC/C,MAAT,CAAgB,CAAhB,EAAmB+C,QAAQ,CAACpN,MAAT,GAAkB,CAArC,CAAX;AACD;;AACDqL,MAAAA,KAAK,CAAC+F,SAAS,GAAG,UAAb,CAAL,GAAgChE,QAAhC;AACA/B,MAAAA,KAAK,CAAC+F,SAAS,GAAG,QAAb,CAAL,GAA8B,CAAC3F,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAZ,EAAgB1D,IAAhB,EAA9B;AAEAhI,MAAAA,CAAC;AACF;AACF,GApE+C,CAsEhD;AACA;;;AACA,WAASkR,SAAT,GAAqB;AACnB,QAAII,gBAAgB,GAAGtR,CAAvB;AAAA,QACIuR,eAAe,GAAGV,OAAO,CAAC7Q,CAAC,EAAF,CAD7B;AAAA,QAEIwR,WAAW,GAAGD,eAAe,CAAC3M,KAAhB,CAAsB,4CAAtB,CAFlB;AAIA,QAAIsF,IAAI,GAAG;AACTQ,MAAAA,QAAQ,EAAE,CAAC8G,WAAW,CAAC,CAAD,CADb;AAEThH,MAAAA,QAAQ,EAAE,OAAOgH,WAAW,CAAC,CAAD,CAAlB,KAA0B,WAA1B,GAAwC,CAAxC,GAA4C,CAACA,WAAW,CAAC,CAAD,CAFzD;AAGT3E,MAAAA,QAAQ,EAAE,CAAC2E,WAAW,CAAC,CAAD,CAHb;AAIT1G,MAAAA,QAAQ,EAAE,OAAO0G,WAAW,CAAC,CAAD,CAAlB,KAA0B,WAA1B,GAAwC,CAAxC,GAA4C,CAACA,WAAW,CAAC,CAAD,CAJzD;AAKTpI,MAAAA,KAAK,EAAE,EALE;AAMT4B,MAAAA,cAAc,EAAE;AANP,KAAX,CALmB,CAcnB;AACA;AACA;;AACA,QAAId,IAAI,CAACM,QAAL,KAAkB,CAAtB,EAAyB;AACvBN,MAAAA,IAAI,CAACQ,QAAL,IAAiB,CAAjB;AACD;;AACD,QAAIR,IAAI,CAACY,QAAL,KAAkB,CAAtB,EAAyB;AACvBZ,MAAAA,IAAI,CAAC2C,QAAL,IAAiB,CAAjB;AACD;;AAED,QAAI4E,QAAQ,GAAG,CAAf;AAAA,QACIC,WAAW,GAAG,CADlB;;AAEA,WAAO1R,CAAC,GAAG6Q,OAAO,CAAC5Q,MAAnB,EAA2BD,CAAC,EAA5B,EAAgC;AAC9B;AACA;AACA,UAAI6Q,OAAO,CAAC7Q,CAAD,CAAP,CAAW2R,OAAX,CAAmB,MAAnB,MAA+B,CAA/B,IACM3R,CAAC,GAAG,CAAJ,GAAQ6Q,OAAO,CAAC5Q,MADtB,IAEK4Q,OAAO,CAAC7Q,CAAC,GAAG,CAAL,CAAP,CAAe2R,OAAf,CAAuB,MAAvB,MAAmC,CAFxC,IAGKd,OAAO,CAAC7Q,CAAC,GAAG,CAAL,CAAP,CAAe2R,OAAf,CAAuB,IAAvB,MAAiC,CAH1C,EAG6C;AACzC;AACH;;AACD,UAAI5R,SAAS,GAAI8Q,OAAO,CAAC7Q,CAAD,CAAP,CAAWC,MAAX,IAAqB,CAArB,IAA0BD,CAAC,IAAK6Q,OAAO,CAAC5Q,MAAR,GAAiB,CAAlD,GAAwD,GAAxD,GAA8D4Q,OAAO,CAAC7Q,CAAD,CAAP,CAAW,CAAX,CAA9E;;AAEA,UAAID,SAAS,KAAK,GAAd,IAAqBA,SAAS,KAAK,GAAnC,IAA0CA,SAAS,KAAK,GAAxD,IAA+DA,SAAS,KAAK,IAAjF,EAAuF;AACrFmK,QAAAA,IAAI,CAACd,KAAL,CAAWhJ,IAAX,CAAgByQ,OAAO,CAAC7Q,CAAD,CAAvB;AACAkK,QAAAA,IAAI,CAACc,cAAL,CAAoB5K,IAApB,CAAyBiJ,UAAU,CAACrJ,CAAD,CAAV,IAAiB,IAA1C;;AAEA,YAAID,SAAS,KAAK,GAAlB,EAAuB;AACrB0R,UAAAA,QAAQ;AACT,SAFD,MAEO,IAAI1R,SAAS,KAAK,GAAlB,EAAuB;AAC5B2R,UAAAA,WAAW;AACZ,SAFM,MAEA,IAAI3R,SAAS,KAAK,GAAlB,EAAuB;AAC5B0R,UAAAA,QAAQ;AACRC,UAAAA,WAAW;AACZ;AACF,OAZD,MAYO;AACL;AACD;AACF,KApDkB,CAsDnB;;;AACA,QAAI,CAACD,QAAD,IAAavH,IAAI,CAACY,QAAL,KAAkB,CAAnC,EAAsC;AACpCZ,MAAAA,IAAI,CAACY,QAAL,GAAgB,CAAhB;AACD;;AACD,QAAI,CAAC4G,WAAD,IAAgBxH,IAAI,CAACM,QAAL,KAAkB,CAAtC,EAAyC;AACvCN,MAAAA,IAAI,CAACM,QAAL,GAAgB,CAAhB;AACD,KA5DkB,CA8DnB;;;AACA,QAAI/I,OAAO,CAAC0P,MAAZ,EAAoB;AAClB,UAAIM,QAAQ,KAAKvH,IAAI,CAACY,QAAtB,EAAgC;AAC9B,cAAM,IAAI3B,KAAJ,CAAU,sDAAsDmI,gBAAgB,GAAG,CAAzE,CAAV,CAAN;AACD;;AACD,UAAII,WAAW,KAAKxH,IAAI,CAACM,QAAzB,EAAmC;AACjC,cAAM,IAAIrB,KAAJ,CAAU,wDAAwDmI,gBAAgB,GAAG,CAA3E,CAAV,CAAN;AACD;AACF;;AAED,WAAOpH,IAAP;AACD;;AAED,SAAOlK,CAAC,GAAG6Q,OAAO,CAAC5Q,MAAnB,EAA2B;AACzB8Q,IAAAA,UAAU;AACX;;AAED,SAAOD,IAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;ACxJM,SAASc,YAAT,CAAsB/F,eAAtB,EAAuC;AAC5C,MAAIxE,KAAK,CAAC6B,OAAN,CAAc2C,eAAd,CAAJ,EAAoC;AAClC,WAAOA,eAAe,CAACzG,GAAhB,CAAoBwM,YAApB,EAAkC5M,OAAlC,EAAP;AACD;;AAED;AAAA;AAAA;AAAA;AACK6G,IAAAA,eADL;AAEEC,MAAAA,WAAW,EAAED,eAAe,CAACE,WAF/B;AAGEC,MAAAA,SAAS,EAAEH,eAAe,CAACI,SAH7B;AAIEF,MAAAA,WAAW,EAAEF,eAAe,CAACC,WAJ/B;AAKEG,MAAAA,SAAS,EAAEJ,eAAe,CAACG,SAL7B;AAMEzC,MAAAA,KAAK,EAAEsC,eAAe,CAACtC,KAAhB,CAAsBnE,GAAtB,CAA0B,UAAA8E,IAAI,EAAI;AACvC,eAAO;AACLM,UAAAA,QAAQ,EAAEN,IAAI,CAACY,QADV;AAELJ,UAAAA,QAAQ,EAAER,IAAI,CAAC2C,QAFV;AAGL/B,UAAAA,QAAQ,EAAEZ,IAAI,CAACM,QAHV;AAILqC,UAAAA,QAAQ,EAAE3C,IAAI,CAACQ,QAJV;AAKLM,UAAAA,cAAc,EAAEd,IAAI,CAACc,cALhB;AAML5B,UAAAA,KAAK,EAAEc,IAAI,CAACd,KAAL,CAAWhE,GAAX,CAAe,UAAAyM,CAAC,EAAI;AACzB,gBAAIA,CAAC,CAACC,UAAF,CAAa,GAAb,CAAJ,EAAuB;AAAE;AAAA;AAAA;AAAA;AAAWD,gBAAAA,CAAC,CAAC9Q,KAAF,CAAQ,CAAR,CAAX;AAAA;AAA0B;;AACnD,gBAAI8Q,CAAC,CAACC,UAAF,CAAa,GAAb,CAAJ,EAAuB;AAAE;AAAA;AAAA;AAAA;AAAWD,gBAAAA,CAAC,CAAC9Q,KAAF,CAAQ,CAAR,CAAX;AAAA;AAA0B;;AACnD,mBAAO8Q,CAAP;AACD,WAJM;AANF,SAAP;AAYD,OAbM;AANT;AAAA;AAqBD;;;;;;;;;;;;;;;;;;;;;AC1BM,SAASjC,UAAT,CAAoBmC,CAApB,EAAuBC,CAAvB,EAA0B;AAC/B,MAAID,CAAC,CAAC9R,MAAF,KAAa+R,CAAC,CAAC/R,MAAnB,EAA2B;AACzB,WAAO,KAAP;AACD;;AAED,SAAOyP,eAAe,CAACqC,CAAD,EAAIC,CAAJ,CAAtB;AACD;;AAEM,SAAStC,eAAT,CAAyB/K,KAAzB,EAAgCsN,KAAhC,EAAuC;AAC5C,MAAIA,KAAK,CAAChS,MAAN,GAAe0E,KAAK,CAAC1E,MAAzB,EAAiC;AAC/B,WAAO,KAAP;AACD;;AAED,OAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiS,KAAK,CAAChS,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,QAAIiS,KAAK,CAACjS,CAAD,CAAL,KAAa2E,KAAK,CAAC3E,CAAD,CAAtB,EAA2B;AACzB,aAAO,KAAP;AACD;AACF;;AAED,SAAO,IAAP;AACD;;;;;;;;;;;;;;;;;;;;ACpBD;AACA;AACA;AACe;AAAA;AAAA;AAAA;AAAA,CAASiS,KAAT,EAAgBpI,OAAhB,EAAyBU,OAAzB,EAAkC;AAC/C,MAAI2H,WAAW,GAAG,IAAlB;AAAA,MACIC,iBAAiB,GAAG,KADxB;AAAA,MAEIC,gBAAgB,GAAG,KAFvB;AAAA,MAGI3H,WAAW,GAAG,CAHlB;AAKA,SAAO,SAASE,QAAT,GAAoB;AACzB,QAAIuH,WAAW,IAAI,CAACE,gBAApB,EAAsC;AACpC,UAAID,iBAAJ,EAAuB;AACrB1H,QAAAA,WAAW;AACZ,OAFD,MAEO;AACLyH,QAAAA,WAAW,GAAG,KAAd;AACD,OALmC,CAOpC;AACA;;;AACA,UAAID,KAAK,GAAGxH,WAAR,IAAuBF,OAA3B,EAAoC;AAClC,eAAOE,WAAP;AACD;;AAED2H,MAAAA,gBAAgB,GAAG,IAAnB;AACD;;AAED,QAAI,CAACD,iBAAL,EAAwB;AACtB,UAAI,CAACC,gBAAL,EAAuB;AACrBF,QAAAA,WAAW,GAAG,IAAd;AACD,OAHqB,CAKtB;AACA;;;AACA,UAAIrI,OAAO,IAAIoI,KAAK,GAAGxH,WAAvB,EAAoC;AAClC,eAAO,CAACA,WAAW,EAAnB;AACD;;AAED0H,MAAAA,iBAAiB,GAAG,IAApB;AACA,aAAOxH,QAAQ,EAAf;AACD,KA9BwB,CAgCzB;AACA;;AACD,GAlCD;AAmCD;;;;;;;;;;;;;;;;;;;;AC5CM,SAASxC,eAAT,CAAyB1G,OAAzB,EAAkC4Q,QAAlC,EAA4C;AACjD,MAAI,OAAO5Q,OAAP,KAAmB,UAAvB,EAAmC;AACjC4Q,IAAAA,QAAQ,CAACjR,QAAT,GAAoBK,OAApB;AACD,GAFD,MAEO,IAAIA,OAAJ,EAAa;AAClB,SAAK,IAAI6Q,IAAT,IAAiB7Q,OAAjB,EAA0B;AACxB;AACA,UAAIA,OAAO,CAAC+F,cAAR,CAAuB8K,IAAvB,CAAJ,EAAkC;AAChCD,QAAAA,QAAQ,CAACC,IAAD,CAAR,GAAiB7Q,OAAO,CAAC6Q,IAAD,CAAxB;AACD;AACF;AACF;;AACD,SAAOD,QAAP;AACD;;;;;;;;;;;;;;;;;;;;;ACZyD;AAC0C;AACrE;AACI;AACW;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,IAAI;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,sDAAS;AAChC,EAAE,kDAAqB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mGAA6B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yCAAY;AAC3B,YAAY,4DAAc;AAC1B,kBAAkB,yCAAY;AAC9B,6BAA6B,yCAAY;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,kDAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA,wBAAwB,gDAAmB,aAAa,8EAAQ,GAAG;AACnE;AACA;AACA,KAAK;AACL;AACA;AACA,2BAA2B,6CAAgB;;AAEf;;;;;;;;;;;;;;;;;ACjOF;;AAE1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mDAAY;AAChC,SAAS,wDAAiB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEqC;;;;;;;;;;;;;;;;;AC1BG;;AAExC,YAAY,kDAAe;;AAEC;;;;;;;;;;;;;;;;;;ACJF;AAC2C;;AAErE;AACA,YAAY,mDAAY;AACxB,EAAE,wEAAyB;AAC3B;AACA,GAAG;AACH;AACA;;AAEgC","sources":["webpack:///../../node_modules/@babel/runtime/helpers/esm/extends.js?","webpack:///../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js?","webpack:///../../node_modules/diff/src/convert/dmp.js?","webpack:///../../node_modules/diff/src/convert/xml.js?","webpack:///../../node_modules/diff/src/diff/array.js?","webpack:///../../node_modules/diff/src/diff/base.js?","webpack:///../../node_modules/diff/src/diff/character.js?","webpack:///../../node_modules/diff/src/diff/css.js?","webpack:///../../node_modules/diff/src/diff/json.js?","webpack:///../../node_modules/diff/src/diff/line.js?","webpack:///../../node_modules/diff/src/diff/sentence.js?","webpack:///../../node_modules/diff/src/diff/word.js?","webpack:///../../node_modules/diff/src/index.js?","webpack:///../../node_modules/diff/src/patch/apply.js?","webpack:///../../node_modules/diff/src/patch/create.js?","webpack:///../../node_modules/diff/src/patch/merge.js?","webpack:///../../node_modules/diff/src/patch/parse.js?","webpack:///../../node_modules/diff/src/patch/reverse.js?","webpack:///../../node_modules/diff/src/util/array.js?","webpack:///../../node_modules/diff/src/util/distance-iterator.js?","webpack:///../../node_modules/diff/src/util/params.js?","webpack:///../../node_modules/react-textarea-autosize/dist/react-textarea-autosize.browser.development.esm.js?","webpack:///../../node_modules/use-composed-ref/dist/use-composed-ref.esm.js?","webpack:///../../node_modules/use-isomorphic-layout-effect/dist/use-isomorphic-layout-effect.browser.esm.js?","webpack:///../../node_modules/use-latest/dist/use-latest.esm.js?"],"sourcesContent":["function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","// See: http://code.google.com/p/google-diff-match-patch/wiki/API\nexport function convertChangesToDMP(changes) {\n  let ret = [],\n      change,\n      operation;\n  for (let i = 0; i < changes.length; i++) {\n    change = changes[i];\n    if (change.added) {\n      operation = 1;\n    } else if (change.removed) {\n      operation = -1;\n    } else {\n      operation = 0;\n    }\n\n    ret.push([operation, change.value]);\n  }\n  return ret;\n}\n","export function convertChangesToXML(changes) {\n  let ret = [];\n  for (let i = 0; i < changes.length; i++) {\n    let change = changes[i];\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n\n    ret.push(escapeHTML(change.value));\n\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n  return ret.join('');\n}\n\nfunction escapeHTML(s) {\n  let n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n\n  return n;\n}\n","import Diff from './base';\n\nexport const arrayDiff = new Diff();\narrayDiff.tokenize = function(value) {\n  return value.slice();\n};\narrayDiff.join = arrayDiff.removeEmpty = function(value) {\n  return value;\n};\n\nexport function diffArrays(oldArr, newArr, callback) { return arrayDiff.diff(oldArr, newArr, callback); }\n","export default function Diff() {}\n\nDiff.prototype = {\n  diff(oldString, newString, options = {}) {\n    let callback = options.callback;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    this.options = options;\n\n    let self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function() { callback(undefined, value); }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    }\n\n    // Allow subclasses to massage the input prior to running\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n\n    let newLen = newString.length, oldLen = oldString.length;\n    let editLength = 1;\n    let maxEditLength = newLen + oldLen;\n    if(options.maxEditLength) {\n      maxEditLength = Math.min(maxEditLength, options.maxEditLength);\n    }\n    const maxExecutionTime = options.timeout ?? Infinity;\n    const abortAfterTimestamp = Date.now() + maxExecutionTime;\n\n    let bestPath = [{ oldPos: -1, lastComponent: undefined }];\n\n    // Seed editLength = 0, i.e. the content starts with the same values\n    let newPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n    if (bestPath[0].oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n      // Identity per the equality and tokenizer\n      return done([{value: this.join(newString), count: newString.length}]);\n    }\n\n    // Once we hit the right edge of the edit graph on some diagonal k, we can\n    // definitely reach the end of the edit graph in no more than k edits, so\n    // there's no point in considering any moves to diagonal k+1 any more (from\n    // which we're guaranteed to need at least k+1 more edits).\n    // Similarly, once we've reached the bottom of the edit graph, there's no\n    // point considering moves to lower diagonals.\n    // We record this fact by setting minDiagonalToConsider and\n    // maxDiagonalToConsider to some finite value once we've hit the edge of\n    // the edit graph.\n    // This optimization is not faithful to the original algorithm presented in\n    // Myers's paper, which instead pointlessly extends D-paths off the end of\n    // the edit graph - see page 7 of Myers's paper which notes this point\n    // explicitly and illustrates it with a diagram. This has major performance\n    // implications for some common scenarios. For instance, to compute a diff\n    // where the new text simply appends d characters on the end of the\n    // original text of length n, the true Myers algorithm will take O(n+d^2)\n    // time while this optimization needs only O(n+d) time.\n    let minDiagonalToConsider = -Infinity, maxDiagonalToConsider = Infinity;\n\n    // Main worker method. checks all permutations of a given edit length for acceptance.\n    function execEditLength() {\n      for (\n        let diagonalPath = Math.max(minDiagonalToConsider, -editLength);\n        diagonalPath <= Math.min(maxDiagonalToConsider, editLength);\n        diagonalPath += 2\n      ) {\n        let basePath;\n        let removePath = bestPath[diagonalPath - 1],\n            addPath = bestPath[diagonalPath + 1];\n        if (removePath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        let canAdd = false;\n        if (addPath) {\n          // what newPos will be after we do an insertion:\n          const addPathNewPos = addPath.oldPos - diagonalPath;\n          canAdd = addPath && 0 <= addPathNewPos && addPathNewPos < newLen;\n        }\n\n        let canRemove = removePath && removePath.oldPos + 1 < oldLen;\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        }\n\n        // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the old string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n        // TODO: Remove the `+ 1` here to make behavior match Myers algorithm\n        //       and prefer to order removals before insertions.\n        if (!canRemove || (canAdd && removePath.oldPos + 1 < addPath.oldPos)) {\n          basePath = self.addToPath(addPath, true, undefined, 0);\n        } else {\n          basePath = self.addToPath(removePath, undefined, true, 1);\n        }\n\n        newPos = self.extractCommon(basePath, newString, oldString, diagonalPath);\n\n        if (basePath.oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n          // If we have hit the end of both strings, then we are done\n          return done(buildValues(self, basePath.lastComponent, newString, oldString, self.useLongestToken));\n        } else {\n          bestPath[diagonalPath] = basePath;\n          if (basePath.oldPos + 1 >= oldLen) {\n            maxDiagonalToConsider = Math.min(maxDiagonalToConsider, diagonalPath - 1);\n          }\n          if (newPos + 1 >= newLen) {\n            minDiagonalToConsider = Math.max(minDiagonalToConsider, diagonalPath + 1);\n          }\n        }\n      }\n\n      editLength++;\n    }\n\n    // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced, or until the edit length exceeds options.maxEditLength (if given),\n    // in which case it will return undefined.\n    if (callback) {\n      (function exec() {\n        setTimeout(function() {\n          if (editLength > maxEditLength || Date.now() > abortAfterTimestamp) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      }());\n    } else {\n      while (editLength <= maxEditLength && Date.now() <= abortAfterTimestamp) {\n        let ret = execEditLength();\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n\n  addToPath(path, added, removed, oldPosInc) {\n    let last = path.lastComponent;\n    if (last && last.added === added && last.removed === removed) {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {count: last.count + 1, added: added, removed: removed, previousComponent: last.previousComponent }\n      };\n    } else {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {count: 1, added: added, removed: removed, previousComponent: last }\n      };\n    }\n  },\n  extractCommon(basePath, newString, oldString, diagonalPath) {\n    let newLen = newString.length,\n        oldLen = oldString.length,\n        oldPos = basePath.oldPos,\n        newPos = oldPos - diagonalPath,\n\n        commonCount = 0;\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.lastComponent = {count: commonCount, previousComponent: basePath.lastComponent};\n    }\n\n    basePath.oldPos = oldPos;\n    return newPos;\n  },\n\n  equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right\n        || (this.options.ignoreCase && left.toLowerCase() === right.toLowerCase());\n    }\n  },\n  removeEmpty(array) {\n    let ret = [];\n    for (let i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n    return ret;\n  },\n  castInput(value) {\n    return value;\n  },\n  tokenize(value) {\n    return value.split('');\n  },\n  join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, lastComponent, newString, oldString, useLongestToken) {\n  // First we convert our linked list of components in reverse order to an\n  // array in the right order:\n  const components = [];\n  let nextComponent;\n  while (lastComponent) {\n    components.push(lastComponent);\n    nextComponent = lastComponent.previousComponent;\n    delete lastComponent.previousComponent;\n    lastComponent = nextComponent;\n  }\n  components.reverse();\n\n  let componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    let component = components[componentPos];\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        let value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function(value, i) {\n          let oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n      newPos += component.count;\n\n      // Common case\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count;\n\n      // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n      if (componentPos && components[componentPos - 1].added) {\n        let tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  }\n\n  // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n  let finalComponent = components[componentLen - 1];\n  if (componentLen > 1\n      && typeof finalComponent.value === 'string'\n      && (finalComponent.added || finalComponent.removed)\n      && diff.equals('', finalComponent.value)) {\n    components[componentLen - 2].value += finalComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n","import Diff from './base';\n\nexport const characterDiff = new Diff();\nexport function diffChars(oldStr, newStr, options) { return characterDiff.diff(oldStr, newStr, options); }\n","import Diff from './base';\n\nexport const cssDiff = new Diff();\ncssDiff.tokenize = function(value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\n\nexport function diffCss(oldStr, newStr, callback) { return cssDiff.diff(oldStr, newStr, callback); }\n","import Diff from './base';\nimport {lineDiff} from './line';\n\nconst objectPrototypeToString = Object.prototype.toString;\n\n\nexport const jsonDiff = new Diff();\n// Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\njsonDiff.useLongestToken = true;\n\njsonDiff.tokenize = lineDiff.tokenize;\njsonDiff.castInput = function(value) {\n  const {undefinedReplacement, stringifyReplacer = (k, v) => typeof v === 'undefined' ? undefinedReplacement : v} = this.options;\n\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\njsonDiff.equals = function(left, right) {\n  return Diff.prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n};\n\nexport function diffJson(oldObj, newObj, options) { return jsonDiff.diff(oldObj, newObj, options); }\n\n// This function handles the presence of circular references by bailing out when encountering an\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\nexport function canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n\n  let i;\n\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n\n  let canonicalizedObj;\n\n  if ('[object Array]' === objectPrototypeToString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n\n  if (typeof obj === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n    let sortedKeys = [],\n        key;\n    for (key in obj) {\n      /* istanbul ignore else */\n      if (obj.hasOwnProperty(key)) {\n        sortedKeys.push(key);\n      }\n    }\n    sortedKeys.sort();\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      key = sortedKeys[i];\n      canonicalizedObj[key] = canonicalize(obj[key], stack, replacementStack, replacer, key);\n    }\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n  return canonicalizedObj;\n}\n","import Diff from './base';\nimport {generateOptions} from '../util/params';\n\nexport const lineDiff = new Diff();\nlineDiff.tokenize = function(value) {\n  if(this.options.stripTrailingCr) {\n    // remove one \\r before \\n to match GNU diff's --strip-trailing-cr behavior\n    value = value.replace(/\\r\\n/g, '\\n');\n  }\n\n  let retLines = [],\n      linesAndNewlines = value.split(/(\\n|\\r\\n)/);\n\n  // Ignore the final empty token that occurs if the string ends with a new line\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  }\n\n  // Merge the content and line separators into single tokens\n  for (let i = 0; i < linesAndNewlines.length; i++) {\n    let line = linesAndNewlines[i];\n\n    if (i % 2 && !this.options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      if (this.options.ignoreWhitespace) {\n        line = line.trim();\n      }\n      retLines.push(line);\n    }\n  }\n\n  return retLines;\n};\n\nexport function diffLines(oldStr, newStr, callback) { return lineDiff.diff(oldStr, newStr, callback); }\nexport function diffTrimmedLines(oldStr, newStr, callback) {\n  let options = generateOptions(callback, {ignoreWhitespace: true});\n  return lineDiff.diff(oldStr, newStr, options);\n}\n","import Diff from './base';\n\n\nexport const sentenceDiff = new Diff();\nsentenceDiff.tokenize = function(value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\n\nexport function diffSentences(oldStr, newStr, callback) { return sentenceDiff.diff(oldStr, newStr, callback); }\n","import Diff from './base';\nimport {generateOptions} from '../util/params';\n\n// Based on https://en.wikipedia.org/wiki/Latin_script_in_Unicode\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 008000FF\n//  - U+00D7   Multiplication sign\n//  - U+00F7   Division sign\n// Latin Extended-A, 0100017F\n// Latin Extended-B, 0180024F\n// IPA Extensions, 025002AF\n// Spacing Modifier Letters, 02B002FF\n//  - U+02C7   &#711;  Caron\n//  - U+02D8   &#728;  Breve\n//  - U+02D9   &#729;  Dot Above\n//  - U+02DA   &#730;  Ring Above\n//  - U+02DB   &#731;  Ogonek\n//  - U+02DC   &#732;  Small Tilde\n//  - U+02DD   &#733;  Double Acute Accent\n// Latin Extended Additional, 1E001EFF\nconst extendedWordChars = /^[a-zA-Z\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}]+$/u;\n\nconst reWhitespace = /\\S/;\n\nexport const wordDiff = new Diff();\nwordDiff.equals = function(left, right) {\n  if (this.options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n  return left === right || (this.options.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right));\n};\nwordDiff.tokenize = function(value) {\n  // All whitespace symbols except newline group into one token, each newline - in separate token\n  let tokens = value.split(/([^\\S\\r\\n]+|[()[\\]{}'\"\\r\\n]|\\b)/);\n\n  // Join the boundary splits that we do not consider to be boundaries. This is primarily the extended Latin character set.\n  for (let i = 0; i < tokens.length - 1; i++) {\n    // If we have an empty string in the next field and we have only word chars before and after, merge\n    if (!tokens[i + 1] && tokens[i + 2]\n          && extendedWordChars.test(tokens[i])\n          && extendedWordChars.test(tokens[i + 2])) {\n      tokens[i] += tokens[i + 2];\n      tokens.splice(i + 1, 2);\n      i--;\n    }\n  }\n\n  return tokens;\n};\n\nexport function diffWords(oldStr, newStr, options) {\n  options = generateOptions(options, {ignoreWhitespace: true});\n  return wordDiff.diff(oldStr, newStr, options);\n}\n\nexport function diffWordsWithSpace(oldStr, newStr, options) {\n  return wordDiff.diff(oldStr, newStr, options);\n}\n","/* See LICENSE file for terms of use */\n\n/*\n * Text diff implementation.\n *\n * This library supports the following APIs:\n * Diff.diffChars: Character by character diff\n * Diff.diffWords: Word (as defined by \\b regex) diff which ignores whitespace\n * Diff.diffLines: Line based diff\n *\n * Diff.diffCss: Diff targeted at CSS content\n *\n * These methods are based on the implementation proposed in\n * \"An O(ND) Difference Algorithm and its Variations\" (Myers, 1986).\n * http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927\n */\nimport Diff from './diff/base';\nimport {diffChars} from './diff/character';\nimport {diffWords, diffWordsWithSpace} from './diff/word';\nimport {diffLines, diffTrimmedLines} from './diff/line';\nimport {diffSentences} from './diff/sentence';\n\nimport {diffCss} from './diff/css';\nimport {diffJson, canonicalize} from './diff/json';\n\nimport {diffArrays} from './diff/array';\n\nimport {applyPatch, applyPatches} from './patch/apply';\nimport {parsePatch} from './patch/parse';\nimport {merge} from './patch/merge';\nimport {reversePatch} from './patch/reverse';\nimport {structuredPatch, createTwoFilesPatch, createPatch, formatPatch} from './patch/create';\n\nimport {convertChangesToDMP} from './convert/dmp';\nimport {convertChangesToXML} from './convert/xml';\n\nexport {\n  Diff,\n\n  diffChars,\n  diffWords,\n  diffWordsWithSpace,\n  diffLines,\n  diffTrimmedLines,\n  diffSentences,\n\n  diffCss,\n  diffJson,\n\n  diffArrays,\n\n  structuredPatch,\n  createTwoFilesPatch,\n  createPatch,\n  formatPatch,\n  applyPatch,\n  applyPatches,\n  parsePatch,\n  merge,\n  reversePatch,\n  convertChangesToDMP,\n  convertChangesToXML,\n  canonicalize\n};\n","import {parsePatch} from './parse';\nimport distanceIterator from '../util/distance-iterator';\n\nexport function applyPatch(source, uniDiff, options = {}) {\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  if (Array.isArray(uniDiff)) {\n    if (uniDiff.length > 1) {\n      throw new Error('applyPatch only works with a single input.');\n    }\n\n    uniDiff = uniDiff[0];\n  }\n\n  // Apply the diff to the input\n  let lines = source.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = source.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      hunks = uniDiff.hunks,\n\n      compareLine = options.compareLine || ((lineNumber, line, operation, patchContent) => line === patchContent),\n      errorCount = 0,\n      fuzzFactor = options.fuzzFactor || 0,\n      minLine = 0,\n      offset = 0,\n\n      removeEOFNL,\n      addEOFNL;\n\n  /**\n   * Checks if the hunk exactly fits on the provided location\n   */\n  function hunkFits(hunk, toPos) {\n    for (let j = 0; j < hunk.lines.length; j++) {\n      let line = hunk.lines[j],\n          operation = (line.length > 0 ? line[0] : ' '),\n          content = (line.length > 0 ? line.substr(1) : line);\n\n      if (operation === ' ' || operation === '-') {\n        // Context sanity check\n        if (!compareLine(toPos + 1, lines[toPos], operation, content)) {\n          errorCount++;\n\n          if (errorCount > fuzzFactor) {\n            return false;\n          }\n        }\n        toPos++;\n      }\n    }\n\n    return true;\n  }\n\n  // Search best fit offsets for each hunk based on the previous ones\n  for (let i = 0; i < hunks.length; i++) {\n    let hunk = hunks[i],\n        maxLine = lines.length - hunk.oldLines,\n        localOffset = 0,\n        toPos = offset + hunk.oldStart - 1;\n\n    let iterator = distanceIterator(toPos, minLine, maxLine);\n\n    for (; localOffset !== undefined; localOffset = iterator()) {\n      if (hunkFits(hunk, toPos + localOffset)) {\n        hunk.offset = offset += localOffset;\n        break;\n      }\n    }\n\n    if (localOffset === undefined) {\n      return false;\n    }\n\n    // Set lower text limit to end of the current hunk, so next ones don't try\n    // to fit over already patched text\n    minLine = hunk.offset + hunk.oldStart + hunk.oldLines;\n  }\n\n  // Apply patch hunks\n  let diffOffset = 0;\n  for (let i = 0; i < hunks.length; i++) {\n    let hunk = hunks[i],\n        toPos = hunk.oldStart + hunk.offset + diffOffset - 1;\n    diffOffset += hunk.newLines - hunk.oldLines;\n\n    for (let j = 0; j < hunk.lines.length; j++) {\n      let line = hunk.lines[j],\n          operation = (line.length > 0 ? line[0] : ' '),\n          content = (line.length > 0 ? line.substr(1) : line),\n          delimiter = hunk.linedelimiters && hunk.linedelimiters[j] || '\\n';\n\n      if (operation === ' ') {\n        toPos++;\n      } else if (operation === '-') {\n        lines.splice(toPos, 1);\n        delimiters.splice(toPos, 1);\n      /* istanbul ignore else */\n      } else if (operation === '+') {\n        lines.splice(toPos, 0, content);\n        delimiters.splice(toPos, 0, delimiter);\n        toPos++;\n      } else if (operation === '\\\\') {\n        let previousOperation = hunk.lines[j - 1] ? hunk.lines[j - 1][0] : null;\n        if (previousOperation === '+') {\n          removeEOFNL = true;\n        } else if (previousOperation === '-') {\n          addEOFNL = true;\n        }\n      }\n    }\n  }\n\n  // Handle EOFNL insertion/removal\n  if (removeEOFNL) {\n    while (!lines[lines.length - 1]) {\n      lines.pop();\n      delimiters.pop();\n    }\n  } else if (addEOFNL) {\n    lines.push('');\n    delimiters.push('\\n');\n  }\n  for (let _k = 0; _k < lines.length - 1; _k++) {\n    lines[_k] = lines[_k] + delimiters[_k];\n  }\n  return lines.join('');\n}\n\n// Wrapper that supports multiple file patches via callbacks.\nexport function applyPatches(uniDiff, options) {\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  let currentIndex = 0;\n  function processIndex() {\n    let index = uniDiff[currentIndex++];\n    if (!index) {\n      return options.complete();\n    }\n\n    options.loadFile(index, function(err, data) {\n      if (err) {\n        return options.complete(err);\n      }\n\n      let updatedContent = applyPatch(data, index, options);\n      options.patched(index, updatedContent, function(err) {\n        if (err) {\n          return options.complete(err);\n        }\n\n        processIndex();\n      });\n    });\n  }\n  processIndex();\n}\n","import {diffLines} from '../diff/line';\n\nexport function structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  if (!options) {\n    options = {};\n  }\n  if (typeof options.context === 'undefined') {\n    options.context = 4;\n  }\n\n  const diff = diffLines(oldStr, newStr, options);\n  if(!diff) {\n    return;\n  }\n\n  diff.push({value: '', lines: []}); // Append an empty value to make cleanup easier\n\n  function contextLines(lines) {\n    return lines.map(function(entry) { return ' ' + entry; });\n  }\n\n  let hunks = [];\n  let oldRangeStart = 0, newRangeStart = 0, curRange = [],\n      oldLine = 1, newLine = 1;\n  for (let i = 0; i < diff.length; i++) {\n    const current = diff[i],\n          lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n    current.lines = lines;\n\n    if (current.added || current.removed) {\n      // If we have previous context, start with that\n      if (!oldRangeStart) {\n        const prev = diff[i - 1];\n        oldRangeStart = oldLine;\n        newRangeStart = newLine;\n\n        if (prev) {\n          curRange = options.context > 0 ? contextLines(prev.lines.slice(-options.context)) : [];\n          oldRangeStart -= curRange.length;\n          newRangeStart -= curRange.length;\n        }\n      }\n\n      // Output our changes\n      curRange.push(... lines.map(function(entry) {\n        return (current.added ? '+' : '-') + entry;\n      }));\n\n      // Track the updated file position\n      if (current.added) {\n        newLine += lines.length;\n      } else {\n        oldLine += lines.length;\n      }\n    } else {\n      // Identical context lines. Track line changes\n      if (oldRangeStart) {\n        // Close out any changes that have been output (or join overlapping)\n        if (lines.length <= options.context * 2 && i < diff.length - 2) {\n          // Overlapping\n          curRange.push(... contextLines(lines));\n        } else {\n          // end the range and output\n          let contextSize = Math.min(lines.length, options.context);\n          curRange.push(... contextLines(lines.slice(0, contextSize)));\n\n          let hunk = {\n            oldStart: oldRangeStart,\n            oldLines: (oldLine - oldRangeStart + contextSize),\n            newStart: newRangeStart,\n            newLines: (newLine - newRangeStart + contextSize),\n            lines: curRange\n          };\n          if (i >= diff.length - 2 && lines.length <= options.context) {\n            // EOF is inside this hunk\n            let oldEOFNewline = ((/\\n$/).test(oldStr));\n            let newEOFNewline = ((/\\n$/).test(newStr));\n            let noNlBeforeAdds = lines.length == 0 && curRange.length > hunk.oldLines;\n            if (!oldEOFNewline && noNlBeforeAdds && oldStr.length > 0) {\n              // special case: old has no eol and no trailing context; no-nl can end up before adds\n              // however, if the old file is empty, do not output the no-nl line\n              curRange.splice(hunk.oldLines, 0, '\\\\ No newline at end of file');\n            }\n            if ((!oldEOFNewline && !noNlBeforeAdds) || !newEOFNewline) {\n              curRange.push('\\\\ No newline at end of file');\n            }\n          }\n          hunks.push(hunk);\n\n          oldRangeStart = 0;\n          newRangeStart = 0;\n          curRange = [];\n        }\n      }\n      oldLine += lines.length;\n      newLine += lines.length;\n    }\n  }\n\n  return {\n    oldFileName: oldFileName, newFileName: newFileName,\n    oldHeader: oldHeader, newHeader: newHeader,\n    hunks: hunks\n  };\n}\n\nexport function formatPatch(diff) {\n  if (Array.isArray(diff)) {\n    return diff.map(formatPatch).join('\\n');\n  }\n\n  const ret = [];\n  if (diff.oldFileName == diff.newFileName) {\n    ret.push('Index: ' + diff.oldFileName);\n  }\n  ret.push('===================================================================');\n  ret.push('--- ' + diff.oldFileName + (typeof diff.oldHeader === 'undefined' ? '' : '\\t' + diff.oldHeader));\n  ret.push('+++ ' + diff.newFileName + (typeof diff.newHeader === 'undefined' ? '' : '\\t' + diff.newHeader));\n\n  for (let i = 0; i < diff.hunks.length; i++) {\n    const hunk = diff.hunks[i];\n    // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n    if (hunk.oldLines === 0) {\n      hunk.oldStart -= 1;\n    }\n    if (hunk.newLines === 0) {\n      hunk.newStart -= 1;\n    }\n    ret.push(\n      '@@ -' + hunk.oldStart + ',' + hunk.oldLines\n      + ' +' + hunk.newStart + ',' + hunk.newLines\n      + ' @@'\n    );\n    ret.push.apply(ret, hunk.lines);\n  }\n\n  return ret.join('\\n') + '\\n';\n}\n\nexport function createTwoFilesPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return formatPatch(structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options));\n}\n\nexport function createPatch(fileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader, options);\n}\n","import {structuredPatch} from './create';\nimport {parsePatch} from './parse';\n\nimport {arrayEqual, arrayStartsWith} from '../util/array';\n\nexport function calcLineCount(hunk) {\n  const {oldLines, newLines} = calcOldNewLineCount(hunk.lines);\n\n  if (oldLines !== undefined) {\n    hunk.oldLines = oldLines;\n  } else {\n    delete hunk.oldLines;\n  }\n\n  if (newLines !== undefined) {\n    hunk.newLines = newLines;\n  } else {\n    delete hunk.newLines;\n  }\n}\n\nexport function merge(mine, theirs, base) {\n  mine = loadPatch(mine, base);\n  theirs = loadPatch(theirs, base);\n\n  let ret = {};\n\n  // For index we just let it pass through as it doesn't have any necessary meaning.\n  // Leaving sanity checks on this to the API consumer that may know more about the\n  // meaning in their own context.\n  if (mine.index || theirs.index) {\n    ret.index = mine.index || theirs.index;\n  }\n\n  if (mine.newFileName || theirs.newFileName) {\n    if (!fileNameChanged(mine)) {\n      // No header or no change in ours, use theirs (and ours if theirs does not exist)\n      ret.oldFileName = theirs.oldFileName || mine.oldFileName;\n      ret.newFileName = theirs.newFileName || mine.newFileName;\n      ret.oldHeader = theirs.oldHeader || mine.oldHeader;\n      ret.newHeader = theirs.newHeader || mine.newHeader;\n    } else if (!fileNameChanged(theirs)) {\n      // No header or no change in theirs, use ours\n      ret.oldFileName = mine.oldFileName;\n      ret.newFileName = mine.newFileName;\n      ret.oldHeader = mine.oldHeader;\n      ret.newHeader = mine.newHeader;\n    } else {\n      // Both changed... figure it out\n      ret.oldFileName = selectField(ret, mine.oldFileName, theirs.oldFileName);\n      ret.newFileName = selectField(ret, mine.newFileName, theirs.newFileName);\n      ret.oldHeader = selectField(ret, mine.oldHeader, theirs.oldHeader);\n      ret.newHeader = selectField(ret, mine.newHeader, theirs.newHeader);\n    }\n  }\n\n  ret.hunks = [];\n\n  let mineIndex = 0,\n      theirsIndex = 0,\n      mineOffset = 0,\n      theirsOffset = 0;\n\n  while (mineIndex < mine.hunks.length || theirsIndex < theirs.hunks.length) {\n    let mineCurrent = mine.hunks[mineIndex] || {oldStart: Infinity},\n        theirsCurrent = theirs.hunks[theirsIndex] || {oldStart: Infinity};\n\n    if (hunkBefore(mineCurrent, theirsCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(mineCurrent, mineOffset));\n      mineIndex++;\n      theirsOffset += mineCurrent.newLines - mineCurrent.oldLines;\n    } else if (hunkBefore(theirsCurrent, mineCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(theirsCurrent, theirsOffset));\n      theirsIndex++;\n      mineOffset += theirsCurrent.newLines - theirsCurrent.oldLines;\n    } else {\n      // Overlap, merge as best we can\n      let mergedHunk = {\n        oldStart: Math.min(mineCurrent.oldStart, theirsCurrent.oldStart),\n        oldLines: 0,\n        newStart: Math.min(mineCurrent.newStart + mineOffset, theirsCurrent.oldStart + theirsOffset),\n        newLines: 0,\n        lines: []\n      };\n      mergeLines(mergedHunk, mineCurrent.oldStart, mineCurrent.lines, theirsCurrent.oldStart, theirsCurrent.lines);\n      theirsIndex++;\n      mineIndex++;\n\n      ret.hunks.push(mergedHunk);\n    }\n  }\n\n  return ret;\n}\n\nfunction loadPatch(param, base) {\n  if (typeof param === 'string') {\n    if ((/^@@/m).test(param) || ((/^Index:/m).test(param))) {\n      return parsePatch(param)[0];\n    }\n\n    if (!base) {\n      throw new Error('Must provide a base reference or pass in a patch');\n    }\n    return structuredPatch(undefined, undefined, base, param);\n  }\n\n  return param;\n}\n\nfunction fileNameChanged(patch) {\n  return patch.newFileName && patch.newFileName !== patch.oldFileName;\n}\n\nfunction selectField(index, mine, theirs) {\n  if (mine === theirs) {\n    return mine;\n  } else {\n    index.conflict = true;\n    return {mine, theirs};\n  }\n}\n\nfunction hunkBefore(test, check) {\n  return test.oldStart < check.oldStart\n    && (test.oldStart + test.oldLines) < check.oldStart;\n}\n\nfunction cloneHunk(hunk, offset) {\n  return {\n    oldStart: hunk.oldStart, oldLines: hunk.oldLines,\n    newStart: hunk.newStart + offset, newLines: hunk.newLines,\n    lines: hunk.lines\n  };\n}\n\nfunction mergeLines(hunk, mineOffset, mineLines, theirOffset, theirLines) {\n  // This will generally result in a conflicted hunk, but there are cases where the context\n  // is the only overlap where we can successfully merge the content here.\n  let mine = {offset: mineOffset, lines: mineLines, index: 0},\n      their = {offset: theirOffset, lines: theirLines, index: 0};\n\n  // Handle any leading content\n  insertLeading(hunk, mine, their);\n  insertLeading(hunk, their, mine);\n\n  // Now in the overlap content. Scan through and select the best changes from each.\n  while (mine.index < mine.lines.length && their.index < their.lines.length) {\n    let mineCurrent = mine.lines[mine.index],\n        theirCurrent = their.lines[their.index];\n\n    if ((mineCurrent[0] === '-' || mineCurrent[0] === '+')\n        && (theirCurrent[0] === '-' || theirCurrent[0] === '+')) {\n      // Both modified ...\n      mutualChange(hunk, mine, their);\n    } else if (mineCurrent[0] === '+' && theirCurrent[0] === ' ') {\n      // Mine inserted\n      hunk.lines.push(... collectChange(mine));\n    } else if (theirCurrent[0] === '+' && mineCurrent[0] === ' ') {\n      // Theirs inserted\n      hunk.lines.push(... collectChange(their));\n    } else if (mineCurrent[0] === '-' && theirCurrent[0] === ' ') {\n      // Mine removed or edited\n      removal(hunk, mine, their);\n    } else if (theirCurrent[0] === '-' && mineCurrent[0] === ' ') {\n      // Their removed or edited\n      removal(hunk, their, mine, true);\n    } else if (mineCurrent === theirCurrent) {\n      // Context identity\n      hunk.lines.push(mineCurrent);\n      mine.index++;\n      their.index++;\n    } else {\n      // Context mismatch\n      conflict(hunk, collectChange(mine), collectChange(their));\n    }\n  }\n\n  // Now push anything that may be remaining\n  insertTrailing(hunk, mine);\n  insertTrailing(hunk, their);\n\n  calcLineCount(hunk);\n}\n\nfunction mutualChange(hunk, mine, their) {\n  let myChanges = collectChange(mine),\n      theirChanges = collectChange(their);\n\n  if (allRemoves(myChanges) && allRemoves(theirChanges)) {\n    // Special case for remove changes that are supersets of one another\n    if (arrayStartsWith(myChanges, theirChanges)\n        && skipRemoveSuperset(their, myChanges, myChanges.length - theirChanges.length)) {\n      hunk.lines.push(... myChanges);\n      return;\n    } else if (arrayStartsWith(theirChanges, myChanges)\n        && skipRemoveSuperset(mine, theirChanges, theirChanges.length - myChanges.length)) {\n      hunk.lines.push(... theirChanges);\n      return;\n    }\n  } else if (arrayEqual(myChanges, theirChanges)) {\n    hunk.lines.push(... myChanges);\n    return;\n  }\n\n  conflict(hunk, myChanges, theirChanges);\n}\n\nfunction removal(hunk, mine, their, swap) {\n  let myChanges = collectChange(mine),\n      theirChanges = collectContext(their, myChanges);\n  if (theirChanges.merged) {\n    hunk.lines.push(... theirChanges.merged);\n  } else {\n    conflict(hunk, swap ? theirChanges : myChanges, swap ? myChanges : theirChanges);\n  }\n}\n\nfunction conflict(hunk, mine, their) {\n  hunk.conflict = true;\n  hunk.lines.push({\n    conflict: true,\n    mine: mine,\n    theirs: their\n  });\n}\n\nfunction insertLeading(hunk, insert, their) {\n  while (insert.offset < their.offset && insert.index < insert.lines.length) {\n    let line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n    insert.offset++;\n  }\n}\nfunction insertTrailing(hunk, insert) {\n  while (insert.index < insert.lines.length) {\n    let line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n  }\n}\n\nfunction collectChange(state) {\n  let ret = [],\n      operation = state.lines[state.index][0];\n  while (state.index < state.lines.length) {\n    let line = state.lines[state.index];\n\n    // Group additions that are immediately after subtractions and treat them as one \"atomic\" modify change.\n    if (operation === '-' && line[0] === '+') {\n      operation = '+';\n    }\n\n    if (operation === line[0]) {\n      ret.push(line);\n      state.index++;\n    } else {\n      break;\n    }\n  }\n\n  return ret;\n}\nfunction collectContext(state, matchChanges) {\n  let changes = [],\n      merged = [],\n      matchIndex = 0,\n      contextChanges = false,\n      conflicted = false;\n  while (matchIndex < matchChanges.length\n        && state.index < state.lines.length) {\n    let change = state.lines[state.index],\n        match = matchChanges[matchIndex];\n\n    // Once we've hit our add, then we are done\n    if (match[0] === '+') {\n      break;\n    }\n\n    contextChanges = contextChanges || change[0] !== ' ';\n\n    merged.push(match);\n    matchIndex++;\n\n    // Consume any additions in the other block as a conflict to attempt\n    // to pull in the remaining context after this\n    if (change[0] === '+') {\n      conflicted = true;\n\n      while (change[0] === '+') {\n        changes.push(change);\n        change = state.lines[++state.index];\n      }\n    }\n\n    if (match.substr(1) === change.substr(1)) {\n      changes.push(change);\n      state.index++;\n    } else {\n      conflicted = true;\n    }\n  }\n\n  if ((matchChanges[matchIndex] || '')[0] === '+'\n      && contextChanges) {\n    conflicted = true;\n  }\n\n  if (conflicted) {\n    return changes;\n  }\n\n  while (matchIndex < matchChanges.length) {\n    merged.push(matchChanges[matchIndex++]);\n  }\n\n  return {\n    merged,\n    changes\n  };\n}\n\nfunction allRemoves(changes) {\n  return changes.reduce(function(prev, change) {\n    return prev && change[0] === '-';\n  }, true);\n}\nfunction skipRemoveSuperset(state, removeChanges, delta) {\n  for (let i = 0; i < delta; i++) {\n    let changeContent = removeChanges[removeChanges.length - delta + i].substr(1);\n    if (state.lines[state.index + i] !== ' ' + changeContent) {\n      return false;\n    }\n  }\n\n  state.index += delta;\n  return true;\n}\n\nfunction calcOldNewLineCount(lines) {\n  let oldLines = 0;\n  let newLines = 0;\n\n  lines.forEach(function(line) {\n    if (typeof line !== 'string') {\n      let myCount = calcOldNewLineCount(line.mine);\n      let theirCount = calcOldNewLineCount(line.theirs);\n\n      if (oldLines !== undefined) {\n        if (myCount.oldLines === theirCount.oldLines) {\n          oldLines += myCount.oldLines;\n        } else {\n          oldLines = undefined;\n        }\n      }\n\n      if (newLines !== undefined) {\n        if (myCount.newLines === theirCount.newLines) {\n          newLines += myCount.newLines;\n        } else {\n          newLines = undefined;\n        }\n      }\n    } else {\n      if (newLines !== undefined && (line[0] === '+' || line[0] === ' ')) {\n        newLines++;\n      }\n      if (oldLines !== undefined && (line[0] === '-' || line[0] === ' ')) {\n        oldLines++;\n      }\n    }\n  });\n\n  return {oldLines, newLines};\n}\n","export function parsePatch(uniDiff, options = {}) {\n  let diffstr = uniDiff.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = uniDiff.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      list = [],\n      i = 0;\n\n  function parseIndex() {\n    let index = {};\n    list.push(index);\n\n    // Parse diff metadata\n    while (i < diffstr.length) {\n      let line = diffstr[i];\n\n      // File header found, end parsing diff metadata\n      if ((/^(\\-\\-\\-|\\+\\+\\+|@@)\\s/).test(line)) {\n        break;\n      }\n\n      // Diff index\n      let header = (/^(?:Index:|diff(?: -r \\w+)+)\\s+(.+?)\\s*$/).exec(line);\n      if (header) {\n        index.index = header[1];\n      }\n\n      i++;\n    }\n\n    // Parse file headers if they are defined. Unified diff requires them, but\n    // there's no technical issues to have an isolated hunk without file header\n    parseFileHeader(index);\n    parseFileHeader(index);\n\n    // Parse hunks\n    index.hunks = [];\n\n    while (i < diffstr.length) {\n      let line = diffstr[i];\n\n      if ((/^(Index:|diff|\\-\\-\\-|\\+\\+\\+)\\s/).test(line)) {\n        break;\n      } else if ((/^@@/).test(line)) {\n        index.hunks.push(parseHunk());\n      } else if (line && options.strict) {\n        // Ignore unexpected content unless in strict mode\n        throw new Error('Unknown line ' + (i + 1) + ' ' + JSON.stringify(line));\n      } else {\n        i++;\n      }\n    }\n  }\n\n  // Parses the --- and +++ headers, if none are found, no lines\n  // are consumed.\n  function parseFileHeader(index) {\n    const fileHeader = (/^(---|\\+\\+\\+)\\s+(.*)$/).exec(diffstr[i]);\n    if (fileHeader) {\n      let keyPrefix = fileHeader[1] === '---' ? 'old' : 'new';\n      const data = fileHeader[2].split('\\t', 2);\n      let fileName = data[0].replace(/\\\\\\\\/g, '\\\\');\n      if ((/^\".*\"$/).test(fileName)) {\n        fileName = fileName.substr(1, fileName.length - 2);\n      }\n      index[keyPrefix + 'FileName'] = fileName;\n      index[keyPrefix + 'Header'] = (data[1] || '').trim();\n\n      i++;\n    }\n  }\n\n  // Parses a hunk\n  // This assumes that we are at the start of a hunk.\n  function parseHunk() {\n    let chunkHeaderIndex = i,\n        chunkHeaderLine = diffstr[i++],\n        chunkHeader = chunkHeaderLine.split(/@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@/);\n\n    let hunk = {\n      oldStart: +chunkHeader[1],\n      oldLines: typeof chunkHeader[2] === 'undefined' ? 1 : +chunkHeader[2],\n      newStart: +chunkHeader[3],\n      newLines: typeof chunkHeader[4] === 'undefined' ? 1 : +chunkHeader[4],\n      lines: [],\n      linedelimiters: []\n    };\n\n    // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n    if (hunk.oldLines === 0) {\n      hunk.oldStart += 1;\n    }\n    if (hunk.newLines === 0) {\n      hunk.newStart += 1;\n    }\n\n    let addCount = 0,\n        removeCount = 0;\n    for (; i < diffstr.length; i++) {\n      // Lines starting with '---' could be mistaken for the \"remove line\" operation\n      // But they could be the header for the next file. Therefore prune such cases out.\n      if (diffstr[i].indexOf('--- ') === 0\n            && (i + 2 < diffstr.length)\n            && diffstr[i + 1].indexOf('+++ ') === 0\n            && diffstr[i + 2].indexOf('@@') === 0) {\n          break;\n      }\n      let operation = (diffstr[i].length == 0 && i != (diffstr.length - 1)) ? ' ' : diffstr[i][0];\n\n      if (operation === '+' || operation === '-' || operation === ' ' || operation === '\\\\') {\n        hunk.lines.push(diffstr[i]);\n        hunk.linedelimiters.push(delimiters[i] || '\\n');\n\n        if (operation === '+') {\n          addCount++;\n        } else if (operation === '-') {\n          removeCount++;\n        } else if (operation === ' ') {\n          addCount++;\n          removeCount++;\n        }\n      } else {\n        break;\n      }\n    }\n\n    // Handle the empty block count case\n    if (!addCount && hunk.newLines === 1) {\n      hunk.newLines = 0;\n    }\n    if (!removeCount && hunk.oldLines === 1) {\n      hunk.oldLines = 0;\n    }\n\n    // Perform optional sanity checking\n    if (options.strict) {\n      if (addCount !== hunk.newLines) {\n        throw new Error('Added line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n      if (removeCount !== hunk.oldLines) {\n        throw new Error('Removed line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n    }\n\n    return hunk;\n  }\n\n  while (i < diffstr.length) {\n    parseIndex();\n  }\n\n  return list;\n}\n","export function reversePatch(structuredPatch) {\n  if (Array.isArray(structuredPatch)) {\n    return structuredPatch.map(reversePatch).reverse();\n  }\n\n  return {\n    ...structuredPatch,\n    oldFileName: structuredPatch.newFileName,\n    oldHeader: structuredPatch.newHeader,\n    newFileName: structuredPatch.oldFileName,\n    newHeader: structuredPatch.oldHeader,\n    hunks: structuredPatch.hunks.map(hunk => {\n      return {\n        oldLines: hunk.newLines,\n        oldStart: hunk.newStart,\n        newLines: hunk.oldLines,\n        newStart: hunk.oldStart,\n        linedelimiters: hunk.linedelimiters,\n        lines: hunk.lines.map(l => {\n          if (l.startsWith('-')) { return `+${l.slice(1)}`; }\n          if (l.startsWith('+')) { return `-${l.slice(1)}`; }\n          return l;\n        })\n      };\n    })\n  };\n}\n","export function arrayEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  return arrayStartsWith(a, b);\n}\n\nexport function arrayStartsWith(array, start) {\n  if (start.length > array.length) {\n    return false;\n  }\n\n  for (let i = 0; i < start.length; i++) {\n    if (start[i] !== array[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","// Iterator that traverses in the range of [min, max], stepping\n// by distance from a given start position. I.e. for [0, 4], with\n// start of 2, this will iterate 2, 3, 1, 4, 0.\nexport default function(start, minLine, maxLine) {\n  let wantForward = true,\n      backwardExhausted = false,\n      forwardExhausted = false,\n      localOffset = 1;\n\n  return function iterator() {\n    if (wantForward && !forwardExhausted) {\n      if (backwardExhausted) {\n        localOffset++;\n      } else {\n        wantForward = false;\n      }\n\n      // Check if trying to fit beyond text length, and if not, check it fits\n      // after offset location (or desired location on first iteration)\n      if (start + localOffset <= maxLine) {\n        return localOffset;\n      }\n\n      forwardExhausted = true;\n    }\n\n    if (!backwardExhausted) {\n      if (!forwardExhausted) {\n        wantForward = true;\n      }\n\n      // Check if trying to fit before text beginning, and if not, check it fits\n      // before offset location\n      if (minLine <= start - localOffset) {\n        return -localOffset++;\n      }\n\n      backwardExhausted = true;\n      return iterator();\n    }\n\n    // We tried to fit hunk before text beginning and beyond text length, then\n    // hunk can't fit on the text. Return undefined\n  };\n}\n","export function generateOptions(options, defaults) {\n  if (typeof options === 'function') {\n    defaults.callback = options;\n  } else if (options) {\n    for (let name in options) {\n      /* istanbul ignore else */\n      if (options.hasOwnProperty(name)) {\n        defaults[name] = options[name];\n      }\n    }\n  }\n  return defaults;\n}\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport * as React from 'react';\nimport useLatest from 'use-latest';\nimport useComposedRef from 'use-composed-ref';\n\nvar HIDDEN_TEXTAREA_STYLE = {\n  'min-height': '0',\n  'max-height': 'none',\n  height: '0',\n  visibility: 'hidden',\n  overflow: 'hidden',\n  position: 'absolute',\n  'z-index': '-1000',\n  top: '0',\n  right: '0',\n  display: 'block'\n};\nvar forceHiddenStyles = function forceHiddenStyles(node) {\n  Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function (key) {\n    node.style.setProperty(key, HIDDEN_TEXTAREA_STYLE[key], 'important');\n  });\n};\nvar forceHiddenStyles$1 = forceHiddenStyles;\n\nvar hiddenTextarea = null;\nvar getHeight = function getHeight(node, sizingData) {\n  var height = node.scrollHeight;\n  if (sizingData.sizingStyle.boxSizing === 'border-box') {\n    // border-box: add border, since height = content + padding + border\n    return height + sizingData.borderSize;\n  }\n\n  // remove padding, since height = content\n  return height - sizingData.paddingSize;\n};\nfunction calculateNodeHeight(sizingData, value, minRows, maxRows) {\n  if (minRows === void 0) {\n    minRows = 1;\n  }\n  if (maxRows === void 0) {\n    maxRows = Infinity;\n  }\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement('textarea');\n    hiddenTextarea.setAttribute('tabindex', '-1');\n    hiddenTextarea.setAttribute('aria-hidden', 'true');\n    forceHiddenStyles$1(hiddenTextarea);\n  }\n  if (hiddenTextarea.parentNode === null) {\n    document.body.appendChild(hiddenTextarea);\n  }\n  var paddingSize = sizingData.paddingSize,\n    borderSize = sizingData.borderSize,\n    sizingStyle = sizingData.sizingStyle;\n  var boxSizing = sizingStyle.boxSizing;\n  Object.keys(sizingStyle).forEach(function (_key) {\n    var key = _key;\n    hiddenTextarea.style[key] = sizingStyle[key];\n  });\n  forceHiddenStyles$1(hiddenTextarea);\n  hiddenTextarea.value = value;\n  var height = getHeight(hiddenTextarea, sizingData);\n  // Double set and calc due to Firefox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1795904\n  hiddenTextarea.value = value;\n  height = getHeight(hiddenTextarea, sizingData);\n\n  // measure height of a textarea with a single row\n  hiddenTextarea.value = 'x';\n  var rowHeight = hiddenTextarea.scrollHeight - paddingSize;\n  var minHeight = rowHeight * minRows;\n  if (boxSizing === 'border-box') {\n    minHeight = minHeight + paddingSize + borderSize;\n  }\n  height = Math.max(minHeight, height);\n  var maxHeight = rowHeight * maxRows;\n  if (boxSizing === 'border-box') {\n    maxHeight = maxHeight + paddingSize + borderSize;\n  }\n  height = Math.min(maxHeight, height);\n  return [height, rowHeight];\n}\n\nvar noop = function noop() {};\nvar pick = function pick(props, obj) {\n  return props.reduce(function (acc, prop) {\n    acc[prop] = obj[prop];\n    return acc;\n  }, {});\n};\n\nvar SIZING_STYLE = ['borderBottomWidth', 'borderLeftWidth', 'borderRightWidth', 'borderTopWidth', 'boxSizing', 'fontFamily', 'fontSize', 'fontStyle', 'fontWeight', 'letterSpacing', 'lineHeight', 'paddingBottom', 'paddingLeft', 'paddingRight', 'paddingTop',\n// non-standard\n'tabSize', 'textIndent',\n// non-standard\n'textRendering', 'textTransform', 'width', 'wordBreak', 'wordSpacing', 'scrollbarGutter'];\nvar isIE = !!document.documentElement.currentStyle ;\nvar getSizingData = function getSizingData(node) {\n  var style = window.getComputedStyle(node);\n  if (style === null) {\n    return null;\n  }\n  var sizingStyle = pick(SIZING_STYLE, style);\n  var boxSizing = sizingStyle.boxSizing;\n\n  // probably node is detached from DOM, can't read computed dimensions\n  if (boxSizing === '') {\n    return null;\n  }\n\n  // IE (Edge has already correct behaviour) returns content width as computed width\n  // so we need to add manually padding and border widths\n  if (isIE && boxSizing === 'border-box') {\n    sizingStyle.width = parseFloat(sizingStyle.width) + parseFloat(sizingStyle.borderRightWidth) + parseFloat(sizingStyle.borderLeftWidth) + parseFloat(sizingStyle.paddingRight) + parseFloat(sizingStyle.paddingLeft) + 'px';\n  }\n  var paddingSize = parseFloat(sizingStyle.paddingBottom) + parseFloat(sizingStyle.paddingTop);\n  var borderSize = parseFloat(sizingStyle.borderBottomWidth) + parseFloat(sizingStyle.borderTopWidth);\n  return {\n    sizingStyle: sizingStyle,\n    paddingSize: paddingSize,\n    borderSize: borderSize\n  };\n};\nvar getSizingData$1 = getSizingData;\n\nfunction useListener(target, type, listener) {\n  var latestListener = useLatest(listener);\n  React.useLayoutEffect(function () {\n    var handler = function handler(ev) {\n      return latestListener.current(ev);\n    };\n    // might happen if document.fonts is not defined, for instance\n    if (!target) {\n      return;\n    }\n    target.addEventListener(type, handler);\n    return function () {\n      return target.removeEventListener(type, handler);\n    };\n  }, []);\n}\nvar useFormResetListener = function useFormResetListener(libRef, listener) {\n  useListener(document.body, 'reset', function (ev) {\n    if (libRef.current.form === ev.target) {\n      listener(ev);\n    }\n  });\n};\nvar useWindowResizeListener = function useWindowResizeListener(listener) {\n  useListener(window, 'resize', listener);\n};\nvar useFontsLoadedListener = function useFontsLoadedListener(listener) {\n  useListener(document.fonts, 'loadingdone', listener);\n};\n\nvar _excluded = [\"cacheMeasurements\", \"maxRows\", \"minRows\", \"onChange\", \"onHeightChange\"];\nvar TextareaAutosize = function TextareaAutosize(_ref, userRef) {\n  var cacheMeasurements = _ref.cacheMeasurements,\n    maxRows = _ref.maxRows,\n    minRows = _ref.minRows,\n    _ref$onChange = _ref.onChange,\n    onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n    _ref$onHeightChange = _ref.onHeightChange,\n    onHeightChange = _ref$onHeightChange === void 0 ? noop : _ref$onHeightChange,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  if (props.style) {\n    if ('maxHeight' in props.style) {\n      throw new Error('Using `style.maxHeight` for <TextareaAutosize/> is not supported. Please use `maxRows`.');\n    }\n    if ('minHeight' in props.style) {\n      throw new Error('Using `style.minHeight` for <TextareaAutosize/> is not supported. Please use `minRows`.');\n    }\n  }\n  var isControlled = props.value !== undefined;\n  var libRef = React.useRef(null);\n  var ref = useComposedRef(libRef, userRef);\n  var heightRef = React.useRef(0);\n  var measurementsCacheRef = React.useRef();\n  var resizeTextarea = function resizeTextarea() {\n    var node = libRef.current;\n    var nodeSizingData = cacheMeasurements && measurementsCacheRef.current ? measurementsCacheRef.current : getSizingData$1(node);\n    if (!nodeSizingData) {\n      return;\n    }\n    measurementsCacheRef.current = nodeSizingData;\n    var _calculateNodeHeight = calculateNodeHeight(nodeSizingData, node.value || node.placeholder || 'x', minRows, maxRows),\n      height = _calculateNodeHeight[0],\n      rowHeight = _calculateNodeHeight[1];\n    if (heightRef.current !== height) {\n      heightRef.current = height;\n      node.style.setProperty('height', height + \"px\", 'important');\n      onHeightChange(height, {\n        rowHeight: rowHeight\n      });\n    }\n  };\n  var handleChange = function handleChange(event) {\n    if (!isControlled) {\n      resizeTextarea();\n    }\n    onChange(event);\n  };\n  {\n    React.useLayoutEffect(resizeTextarea);\n    useFormResetListener(libRef, function () {\n      if (!isControlled) {\n        var currentValue = libRef.current.value;\n        requestAnimationFrame(function () {\n          var node = libRef.current;\n          if (node && currentValue !== node.value) {\n            resizeTextarea();\n          }\n        });\n      }\n    });\n    useWindowResizeListener(resizeTextarea);\n    useFontsLoadedListener(resizeTextarea);\n    return /*#__PURE__*/React.createElement(\"textarea\", _extends({}, props, {\n      onChange: handleChange,\n      ref: ref\n    }));\n  }\n};\nvar index = /* #__PURE__ */React.forwardRef(TextareaAutosize);\n\nexport { index as default };\n","import React from 'react';\n\n// basically Exclude<React.ClassAttributes<T>[\"ref\"], string>\n\nvar updateRef = function updateRef(ref, value) {\n  if (typeof ref === 'function') {\n    ref(value);\n    return;\n  }\n  ref.current = value;\n};\nvar useComposedRef = function useComposedRef(libRef, userRef) {\n  var prevUserRef = React.useRef();\n  return React.useCallback(function (instance) {\n    libRef.current = instance;\n    if (prevUserRef.current) {\n      updateRef(prevUserRef.current, null);\n    }\n    prevUserRef.current = userRef;\n    if (!userRef) {\n      return;\n    }\n    updateRef(userRef, instance);\n  }, [userRef]);\n};\n\nexport { useComposedRef as default };\n","import { useLayoutEffect } from 'react';\n\nvar index = useLayoutEffect ;\n\nexport { index as default };\n","import React from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\n\nvar useLatest = function useLatest(value) {\n  var ref = React.useRef(value);\n  useIsomorphicLayoutEffect(function () {\n    ref.current = value;\n  });\n  return ref;\n};\n\nexport { useLatest as default };\n"],"names":["convertChangesToDMP","changes","ret","change","operation","i","length","added","removed","push","value","convertChangesToXML","escapeHTML","join","s","n","replace","arrayDiff","Diff","tokenize","slice","removeEmpty","diffArrays","oldArr","newArr","callback","diff","prototype","oldString","newString","options","self","done","setTimeout","undefined","castInput","newLen","oldLen","editLength","maxEditLength","Math","min","maxExecutionTime","timeout","Infinity","abortAfterTimestamp","Date","now","bestPath","oldPos","lastComponent","newPos","extractCommon","count","minDiagonalToConsider","maxDiagonalToConsider","execEditLength","diagonalPath","max","basePath","removePath","addPath","canAdd","addPathNewPos","canRemove","addToPath","buildValues","useLongestToken","exec","path","oldPosInc","last","previousComponent","commonCount","equals","left","right","comparator","ignoreCase","toLowerCase","array","split","chars","components","nextComponent","reverse","componentPos","componentLen","component","map","oldValue","tmp","finalComponent","pop","characterDiff","diffChars","oldStr","newStr","cssDiff","diffCss","objectPrototypeToString","Object","toString","jsonDiff","lineDiff","undefinedReplacement","stringifyReplacer","k","v","JSON","stringify","canonicalize","call","diffJson","oldObj","newObj","obj","stack","replacementStack","replacer","key","canonicalizedObj","Array","toJSON","sortedKeys","hasOwnProperty","sort","stripTrailingCr","retLines","linesAndNewlines","line","newlineIsToken","ignoreWhitespace","trim","diffLines","diffTrimmedLines","generateOptions","sentenceDiff","diffSentences","extendedWordChars","reWhitespace","wordDiff","test","tokens","splice","diffWords","diffWordsWithSpace","applyPatch","source","uniDiff","parsePatch","isArray","Error","lines","delimiters","match","hunks","compareLine","lineNumber","patchContent","errorCount","fuzzFactor","minLine","offset","removeEOFNL","addEOFNL","hunkFits","hunk","toPos","j","content","substr","maxLine","oldLines","localOffset","oldStart","iterator","distanceIterator","diffOffset","newLines","delimiter","linedelimiters","previousOperation","_k","applyPatches","currentIndex","processIndex","index","complete","loadFile","err","data","updatedContent","patched","structuredPatch","oldFileName","newFileName","oldHeader","newHeader","context","contextLines","entry","oldRangeStart","newRangeStart","curRange","oldLine","newLine","current","prev","contextSize","newStart","oldEOFNewline","newEOFNewline","noNlBeforeAdds","formatPatch","apply","createTwoFilesPatch","createPatch","fileName","calcLineCount","calcOldNewLineCount","merge","mine","theirs","base","loadPatch","fileNameChanged","selectField","mineIndex","theirsIndex","mineOffset","theirsOffset","mineCurrent","theirsCurrent","hunkBefore","cloneHunk","mergedHunk","mergeLines","param","patch","conflict","check","mineLines","theirOffset","theirLines","their","insertLeading","theirCurrent","mutualChange","collectChange","removal","insertTrailing","myChanges","theirChanges","allRemoves","arrayStartsWith","skipRemoveSuperset","arrayEqual","swap","collectContext","merged","insert","state","matchChanges","matchIndex","contextChanges","conflicted","reduce","removeChanges","delta","changeContent","forEach","myCount","theirCount","diffstr","list","parseIndex","header","parseFileHeader","parseHunk","strict","fileHeader","keyPrefix","chunkHeaderIndex","chunkHeaderLine","chunkHeader","addCount","removeCount","indexOf","reversePatch","l","startsWith","a","b","start","wantForward","backwardExhausted","forwardExhausted","defaults","name"],"ignoreList":[],"sourceRoot":""}